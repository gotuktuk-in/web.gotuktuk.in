{"version":3,"sources":["generated.js","scripts/app.js"],"names":["VideoHandler","factory","getVideo","item","MainService","$q","$resource","API","url","getVideosList","method","isArray","$inject","angular","module","config","$sceDelegateProvider","resourceUrlWhitelist","cfpLoadingBarProvider","parentSelector","latencyThreshold","acmeNavbar","NavbarController","moment","$rootScope","$state","$localStorage","$sessionStorage","vm","this","console","log","$current","parent","self","name","current","videoPlayer","home","videoPlayerCategory","relativeDate","creationDate","fromNow","directive","restrict","templateUrl","scope","controller","controllerAs","bindToController","f","exports","define","amd","g","window","global","videojs","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","_dereq_","topLevel","minDoc","document","doccy","min-document","2","3","4","getNative","nativeNow","Date","now","getTime","../internal/getNative","5","debounce","func","wait","options","cancel","timeoutId","clearTimeout","maxTimeoutId","lastCalled","trailingCall","undefined","complete","isCalled","id","result","apply","thisArg","args","delayed","remaining","stamp","setTimeout","maxDelayed","trailing","debounced","arguments","leading","maxWait","leadingCall","TypeError","FUNC_ERROR_TEXT","isObject","nativeMax","Math","max","../date/now","../lang/isObject","6","restParam","start","index","rest","Array","otherArgs","7","throttle","./debounce","8","arrayCopy","source","array","9","arrayEach","iteratee","10","baseCopy","props","object","key","11","createBaseFor","baseFor","./createBaseFor","12","baseForIn","keysIn","../object/keysIn","./baseFor","13","baseMerge","customizer","stackA","stackB","isSrcArr","isArrayLike","isTypedArray","keys","srcValue","isObjectLike","baseMergeDeep","value","isCommon","../lang/isArray","../lang/isTypedArray","../object/keys","./arrayEach","./baseMergeDeep","./isArrayLike","./isObjectLike","14","mergeFunc","isPlainObject","isArguments","toPlainObject","push","../lang/isArguments","../lang/isPlainObject","../lang/toPlainObject","./arrayCopy","15","baseProperty","toObject","./toObject","16","bindCallback","argCount","identity","collection","accumulator","other","../utility/identity","17","createAssigner","assigner","sources","guard","isIterateeCall","../function/restParam","./bindCallback","./isIterateeCall","18","fromRight","keysFunc","iterable","19","getLength","./baseProperty","20","isNative","../lang/isNative","21","isLength","./getLength","./isLength","22","isHostObject","Object","toString","23","isIndex","reIsUint","test","MAX_SAFE_INTEGER","24","type","./isIndex","25","26","27","shimKeys","propsLength","allowIndexes","isString","hasOwnProperty","objectProto","prototype","../lang/isString","28","support","unindexedChars","charAt","../support","29","propertyIsEnumerable","../internal/isArrayLike","../internal/isObjectLike","30","arrayTag","objToString","nativeIsArray","../internal/isLength","31","isFunction","funcTag","./isObject","32","reIsNative","fnToString","reIsHostCtor","Function","RegExp","replace","../internal/isHostObject","./isFunction","33","34","Ctor","objectTag","constructor","ownLast","subValue","../internal/baseForIn","./isArguments","35","stringTag","36","typedArrayTags","argsTag","boolTag","dateTag","errorTag","mapTag","numberTag","regexpTag","setTag","weakMapTag","arrayBufferTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","37","../internal/baseCopy","38","nativeKeys","enumPrototypes","../internal/shimKeys","39","proto","isProto","skipIndexes","skipErrorProps","enumErrorProps","errorProto","skipProto","nonEnumShadows","tag","stringProto","nonEnums","nonEnumProps","shadowProps","nonEnum","String","toLocaleString","valueOf","../internal/arrayEach","../internal/isIndex","../lang/isFunction","40","merge","../internal/baseMerge","../internal/createAssigner","41","arrayProto","splice","x","0","y","spliceObjects","42","43","Symbol","getOwnPropertySymbols","iterator","obj","sym","symVal","getOwnPropertyNames","syms","getOwnPropertyDescriptor","descriptor","enumerable","object-keys","44","bind","canBeObject","hasSymbols","propIsEnumerable","target","source1","objTarget","./hasSymbols","function-bind","45","defineProperties","implementation","getPolyfill","shim","./implementation","./polyfill","./shim","define-properties","46","foreach","toStr","fn","arePropertyDescriptorsSupported","defineProperty","_","supportsDescriptors","predicate","configurable","writable","map","predicates","concat","47","hasOwn","ctx","k","48","ERROR_MESSAGE","slice","funcType","that","bound","binder","boundLength","boundArgs","join","Empty","49","50","has","isArgs","isEnumerable","hasDontEnumBug","hasProtoEnumBug","dontEnums","equalsConstructorPrototype","ctor","excludedKeys","$console","$external","$frame","$frameElement","$frames","$innerHeight","$innerWidth","$outerHeight","$outerWidth","$pageXOffset","$pageYOffset","$parent","$scrollLeft","$scrollTop","$scrollX","$scrollY","$self","$webkitIndexedDB","$webkitStorageInfo","$window","hasAutomationEqualityBug","equalsConstructorPrototypeIfNotBuggy","keysShim","theKeys","j","skipConstructor","keysWorksWithArguments","originalKeys","51","str","callee","52","lacksProperEnumerationOrder","assign","letters","split","actual","assignHasPendingExceptions","preventExtensions","thrower","53","polyfill","54","SafeParseTuple","reviver","json","error","JSON","parse","err","55","clean","sa","56","forEachArray","isEmpty","initParams","uri","callback","params","xtend","createXHR","_createXHR","readystatechange","xhr","readyState","loadFunc","getBody","body","response","responseType","responseText","responseXML","isJson","errorFunc","evt","timeoutTimer","statusCode","failureResponse","aborted","status","useXDR","headers","rawRequest","getAllResponseHeaders","parseHeaders","once","cors","XDomainRequest","XMLHttpRequest","data","sync","stringify","onreadystatechange","onload","onerror","onprogress","ontimeout","open","username","password","withCredentials","timeout","abort","setRequestHeader","beforeSend","send","noop","toUpperCase","global/window","is-function","parse-headers","57","string","alert","confirm","prompt","58","called","59","forEach","list","context","forEachString","forEachObject","len","60","trim","left","right","61","arg","row","indexOf","toLowerCase","for-each","62","extend","63","_interopRequireDefault","__esModule","default","_classCallCheck","instance","Constructor","_inherits","subClass","superClass","create","setPrototypeOf","__proto__","_buttonJs","_buttonJs2","_componentJs","_componentJs2","BigPlayButton","_Button","player","buildCSSClass","handleClick","player_","play","controlText_","registerComponent","./button.js","./component.js","64","_interopRequireWildcard","newObj","_clickableComponentJs","_clickableComponentJs2","_component","_component2","_utilsEventsJs","_utilsFnJs","_utilsLogJs","_utilsLogJs2","_globalDocument","_objectAssign","_objectAssign2","Button","_ClickableComponent","createEl","attributes","className","warn","tabIndex","role","aria-live","el","createControlTextEl","addChild","child","handleKeyPress","event","which","./clickable-component.js","./component","./utils/events.js","./utils/fn.js","./utils/log.js","global/document","object.assign","65","_utilsDomJs","Dom","Events","Fn","_globalDocument2","ClickableComponent","_Component","emitTapEvents","on","handleFocus","handleBlur","controlTextEl_","appendChild","controlText","text","innerHTML","localize","enable","removeClass","el_","setAttribute","disable","addClass","preventDefault","off","./utils/dom.js","66","_button","_button2","CloseButton","trigger","bubbles","./button","67","_globalWindow","_globalWindow2","_utilsGuidJs","Guid","_utilsToTitleCaseJs","_utilsToTitleCaseJs2","_utilsMergeOptionsJs","_utilsMergeOptionsJs2","Component","ready","options_","id_","newGUID","name_","children_","childIndex_","childNameIndex_","initChildren","reportTouchActivity","enableTouchActivity","dispose","parentNode","removeChild","removeElData","tagName","properties","language","languages","primaryCode","primaryLang","contentEl","contentEl_","children","getChildById","getChild","component","componentName","componentClassName","componentClass","ComponentClass","getComponent","childNodes","refNode","insertBefore","childFound","compEl","_this","parentOptions","handleAdd","opts","playerOptions","newChild","workingChildren","Tech","filter","some","wchild","c","isTech","first","second","third","_this2","removeOnDispose","guid","cleanRemover","nodeName","one","_this3","_arguments","newFunc","hash","isReady_","readyQueue_","triggerReady","readyQueue","$","selector","$$","hasClass","classToCheck","hasElClass","classToAdd","addElClass","classToRemove","removeElClass","toggleClass","classToToggle","toggleElClass","show","hide","lockShowing","unlockShowing","width","num","skipListeners","dimension","height","dimensions","widthOrHeight","style","val","pxIndex","parseInt","currentDimension","computedWidthOrHeight","getComputedStyle","computedStyle","getPropertyValue","currentStyle","rule","parseFloat","currentDimensions","currentWidth","currentHeight","touchStart","firstTouch","tapMovementThreshold","touchTimeThreshold","couldBeTap","touches","xdiff","pageX","ydiff","pageY","touchDistance","sqrt","noTap","touchTime","reportUserActivity","report","touchHolding","clearInterval","setInterval","touchEnd","disposeFn","interval","intervalId","comp","components_","init","subObj","_name","./utils/guid.js","./utils/merge-options.js","./utils/to-title-case.js","68","_trackButtonJs","_trackButtonJs2","_audioTrackMenuItemJs","_audioTrackMenuItemJs2","AudioTrackButton","_TrackButton","tracks","audioTracks","createItems","items","track","selectable","../../component.js","../../utils/fn.js","../track-button.js","./audio-track-menu-item.js","69","_menuMenuItemJs","_menuMenuItemJs2","AudioTrackMenuItem","_MenuItem","label","selected","enabled","changeHandler","handleTracksChange","addEventListener","removeEventListener","../../menu/menu-item.js","70","_playToggleJs","_timeControlsCurrentTimeDisplayJs","_timeControlsDurationDisplayJs","_timeControlsTimeDividerJs","_timeControlsRemainingTimeDisplayJs","_liveDisplayJs","_progressControlProgressControlJs","_fullscreenToggleJs","_volumeControlVolumeControlJs","_volumeMenuButtonJs","_muteToggleJs","_textTrackControlsChaptersButtonJs","_textTrackControlsDescriptionsButtonJs","_textTrackControlsSubtitlesButtonJs","_textTrackControlsCaptionsButtonJs","_audioTrackControlsAudioTrackButtonJs","_playbackRateMenuPlaybackRateMenuButtonJs","_spacerControlsCustomControlSpacerJs","ControlBar","dir","../component.js","./audio-track-controls/audio-track-button.js","./fullscreen-toggle.js","./live-display.js","./mute-toggle.js","./play-toggle.js","./playback-rate-menu/playback-rate-menu-button.js","./progress-control/progress-control.js","./spacer-controls/custom-control-spacer.js","./text-track-controls/captions-button.js","./text-track-controls/chapters-button.js","./text-track-controls/descriptions-button.js","./text-track-controls/subtitles-button.js","./time-controls/current-time-display.js","./time-controls/duration-display.js","./time-controls/remaining-time-display.js","./time-controls/time-divider.js","./volume-control/volume-control.js","./volume-menu-button.js","71","FullscreenToggle","isFullscreen","exitFullscreen","requestFullscreen","../button.js","72","LiveDisplay","updateShowing","duration","Infinity","../component","../utils/dom.js","73","MuteToggle","update","tech_","muted","vol","volume","level","toMute","../button","74","PlayToggle","handlePlay","handlePause","paused","pause","75","_menuMenuButtonJs","_menuMenuButtonJs2","_menuMenuJs","_menuMenuJs2","_playbackRateMenuItemJs","_playbackRateMenuItemJs2","PlaybackRateMenuButton","_MenuButton","updateVisibility","updateLabel","labelEl_","createMenu","menu","rates","playbackRates","rate","updateARIAAttributes","playbackRate","currentRate","newRate","playbackRateSupported","../../menu/menu-button.js","../../menu/menu.js","../../utils/dom.js","./playback-rate-menu-item.js","76","PlaybackRateMenuItem","contentElType","77","LoadProgressBar","buffered","bufferedEnd","percentify","time","end","percent","part","78","_utilsFormatTimeJs","_utilsFormatTimeJs2","_lodashCompatFunctionThrottle","_lodashCompatFunctionThrottle2","MouseTimeDisplay","controlBar","progressControl","keepTooltipsInside","tooltip","handleMouseMove","newTime","calculateDistance","position","findElPosition","clampedPosition","clampPosition_","difference","tooltipWidth","tooltipWidthHalf","getPointerPosition","playerWidth","actualPosition","ceil","floor","../../utils/format-time.js","lodash-compat/function/throttle","79","PlayProgressBar","updateDataAttr","scrubbing","getCache","currentTime","80","_seekBarJs","_mouseTimeDisplayJs","ProgressControl","./mouse-time-display.js","./seek-bar.js","81","_sliderSliderJs","_sliderSliderJs2","_loadProgressBarJs","_playProgressBarJs","_tooltipProgressBarJs","SeekBar","_Slider","updateProgress","tooltipProgressBar","aria-label","updateAriaAttributes","bar","tooltipStyle","maxWidth","minWidth","getPercent","toFixed","handleMouseDown","videoWasPlaying","handleMouseUp","stepForward","stepBack","barName","playerEvent","../../slider/slider.js","./load-progress-bar.js","./play-progress-bar.js","./tooltip-progress-bar.js","82","TooltipProgressBar","querySelector","formattedTime","83","_spacerJs","_spacerJs2","CustomControlSpacer","_Spacer","./spacer.js","84","Spacer","85","_textTrackMenuItemJs","_textTrackMenuItemJs2","CaptionSettingsMenuItem","_TextTrackMenuItem","kind","mode","focus","./text-track-menu-item.js","86","_textTrackButtonJs","_textTrackButtonJs2","_captionSettingsMenuItemJs","_captionSettingsMenuItemJs2","CaptionsButton","_TextTrackButton","threshold","kind_","./caption-settings-menu-item.js","./text-track-button.js","87","_chaptersTrackMenuItemJs","_chaptersTrackMenuItemJs2","ChaptersButton","textTracks","chaptersTrack","title","unshift","insertElFirst","cues","remoteTextTrackEl","remoteTextTrackEls","getTrackElementByTrack_","cue","mi","../../utils/to-title-case.js","./chapters-track-menu-item.js","88","ChaptersTrackMenuItem","startTime","89","DescriptionsButton","disabled","90","OffTextTrackMenuItem","91","SubtitlesButton","92","_offTextTrackMenuItemJs","_offTextTrackMenuItemJs2","TextTrackButton","./off-text-track-menu-item.js","93","TextTrackMenuItem","onchange","Event","createEvent","initEvent","dispatchEvent","94","CurrentTimeDisplay","updateContent","localizedText","formattedTime_","95","DurationDisplay","duration_","96","RemainingTimeDisplay","remainingTime","97","TimeDivider","98","TrackButton","updateHandler","../menu/menu-button.js","../utils/fn.js","99","_volumeLevelJs","VolumeBar","checkMuted","./volume-level.js","100","_volumeBarJs","VolumeControl","./volume-bar.js","101","VolumeLevel","102","_popupPopupJs","_popupPopupJs2","_popupPopupButtonJs","_popupPopupButtonJs2","_muteToggleJs2","_volumeControlVolumeBarJs","_volumeControlVolumeBarJs2","VolumeMenuButton","_PopupButton","inline","vertical","volumeBar","volumeUpdate","orientationClass","createPopup","popup","vb","menuContent","attachVolumeBarEvents","ownerDocument","../popup/popup-button.js","../popup/popup.js","./volume-control/volume-bar.js","103","_modalDialog","_modalDialog2","_utilsDom","_utilsMergeOptions","_utilsMergeOptions2","ErrorDisplay","_ModalDialog","content","message","fillAlways","temporary","uncloseable","./modal-dialog","./utils/dom","./utils/merge-options","104","EventTarget","allowedEvents_","ael","fixEvent","105","_utilsLog","_utilsLog2","super_","extendFn","subClassMethods","methods","./utils/log","106","FullscreenApi","apiMap","specApi","browserApi","107","LoadingSpinner","108","MediaError","defaultMessages","errorTypes","errNum","109","_menuJs","_menuJs2","MenuButton","enabled_","handleSubmenuKeyPress","buttonPressed_","addItem","menuButtonClass","blur","unpressButton","pressButton","../clickable-component.js","../utils/to-title-case.js","./menu.js","110","MenuItem","attrs","_selected","111","Menu","focusedChild_","append","stopImmediatePropagation","stepChild","haveTitle","shift","../utils/events.js","112","_utilsFn","_closeButton","MODAL_CLASS_NAME","ESC","ModalDialog","opened_","hasBeenOpened_","hasBeenFilled_","closeable","descEl_","getAttribute","textContent","description","aria-describedby","aria-hidden","close","desc","fill","wasPlaying_","controls","opened","closeable_","_close","temp","fillWith","parentEl","nextSiblingEl","nextSibling","empty","insertContent","emptyEl","content_","./close-button","./utils/fn","113","_utilsBrowserJs","browser","_utilsTimeRangesJs","_utilsBufferJs","_utilsStylesheetJs","stylesheet","_fullscreenApiJs","_fullscreenApiJs2","_mediaErrorJs","_mediaErrorJs2","_safeJsonParseTuple","_safeJsonParseTuple2","_tracksTextTrackListConverterJs","_tracksTextTrackListConverterJs2","_tracksAudioTrackListJs","_tracksAudioTrackListJs2","_tracksVideoTrackListJs","_tracksVideoTrackListJs2","_techLoaderJs","_posterImageJs","_tracksTextTrackDisplayJs","_loadingSpinnerJs","_bigPlayButtonJs","_controlBarControlBarJs","_errorDisplayJs","_tracksTextTrackSettingsJs","_techTechJs","_techTechJs2","_techHtml5Js","Player","getTagSettings","techOrder","tagAttributes","getElAttributes","languagesToLower","languages_","cache_","poster_","poster","controls_","scrubbing_","playerOptionsCopy","plugins","isAudio","flexNotSupported_","IS_IOS","players","userActive","listenForUserActivity_","handleFullscreenChange_","handleStageClick_","styleEl_","removeAttribute","attr","playerId","VIDEOJS_NO_DYNAMIC_STYLE","createStyleElement","defaultsStyleEl","head","firstChild","fluid","aspectRatio","links","getElementsByTagName","linkEl","initNetworkState_","networkState","_dimension","privDimension","parsedVal","isNaN","updateStyleEl_","bool","fluid_","ratio","aspectRatio_","_width","width_","_height","height_","techEl","idClass","videoWidth","videoHeight","ratioParts","ratioMultiplier","setTextContent","loadTech_","techName","unloadTech_","getTech","disposeMediaElement","techName_","techOptions","nativeControlsForTouch","techId","videoTracks","videoTracks_","textTracks_","audioTracks_","autoplay","preload","loop","vtt.js","currentType_","src","techComponent","handleTechReady_","jsonToTextTracks","textTracksJson_","handleTechLoadStart_","handleTechWaiting_","handleTechCanPlay_","handleTechCanPlayThrough_","handleTechPlaying_","handleTechEnded_","handleTechSeeking_","handleTechSeeked_","handleTechPlay_","handleTechFirstPlay_","handleTechPause_","handleTechProgress_","handleTechDurationChange_","handleTechFullscreenChange_","handleTechError_","handleTechSuspend_","handleTechAbort_","handleTechEmptied_","handleTechStalled_","handleTechLoadedMetaData_","handleTechLoadedData_","handleTechTimeUpdate_","handleTechRateChange_","handleTechVolumeChange_","handleTechTextTrackChange_","handleTechPosterChange_","usingNativeControls","techGet_","addTechControlsListeners_","textTracksToJson","tech","safety","IWillNotUseThisInPlugins","errorText","removeTechControlsListeners_","handleTechClick_","handleTechTouchStart_","handleTechTouchMove_","handleTechTouchEnd_","handleTechTap_","techCall_","hasStarted","_hasStarted","hasStarted_","starttime","button","userWasActive","isScrubbing","seconds","createTimeRange","bufferedPercent","percentAsDecimal","min","_muted","supportsFullScreen","isFS","isFullscreen_","fsApi","fullscreenchange","documentFullscreenChange","fullscreenElement","enterFullWindow","exitFullWindow","isFullWindow","docOrigOverflow","documentElement","overflow","fullWindowOnEscKey","keyCode","canPlayType","can","isSupported","selectSource","techs","_ref","findFirstPassingTechSourcePair","outerArray","innerArray","tester","found","outerChoice","innerChoice","foundSourceAndTech","flip","b","finder","_ref2","canPlaySource","sourceOrder","currentTech","sourceList_","load","sourceTech","notSupportedMessage","reset","currentSrc","currentType","usingNativeControls_","error_","errorDisplay","ended","seeking","seekable","userActivity_","userActive_","stopPropagation","mouseInProgress","lastMoveX","lastMoveY","handleActivity","screenX","screenY","inactivityTimeout","isAudio_","remoteTextTracks","addTextTrack","addRemoteTextTrack","removeRemoteTextTrack","_ref3","_ref3$track","language_","toJSON","createModal","modal","baseOptions","tagOptions","dataSetup","_safeParseTuple","hasChildNodes","childName","navigator","html5","flash","defaultVolume","userLanguage","handleLoadedMetaData_","handleLoadedData_","handleUserActive_","handleUserInactive_","handleTimeUpdate_","handleVolumeChange_","handleError_","elem","createElement","./big-play-button.js","./control-bar/control-bar.js","./error-display.js","./fullscreen-api.js","./loading-spinner.js","./media-error.js","./poster-image.js","./tech/html5.js","./tech/loader.js","./tech/tech.js","./tracks/audio-track-list.js","./tracks/text-track-display.js","./tracks/text-track-list-converter.js","./tracks/text-track-settings.js","./tracks/video-track-list.js","./utils/browser.js","./utils/buffer.js","./utils/stylesheet.js","./utils/time-ranges.js","safe-json-parse/tuple","114","_playerJs","_playerJs2","plugin","./player.js","115","_popupJs","PopupButton","./popup.js","116","Popup","117","PosterImage","BACKGROUND_SIZE_SUPPORTED","fallbackImg_","setSrc","backgroundImage","118","_windowLoaded","autoSetup","vids","audios","mediaEls","mediaEl","autoSetupTimeout","vjs","hasLoaded","119","Slider","aria-valuenow","aria-valuemin","aria-valuemax","doc","blockTextSelection","unblockTextSelection","progress","percentage","vertical_","120","FlashRtmpDecorator","Flash","streamingFormats","rtmp/mp4","rtmp/flv","streamFromParts","connection","stream","streamToParts","parts","connEnd","search","streamBegin","lastIndexOf","substring","isStreamingType","srcType","RTMP_RE","isStreamingSrc","rtmpSourceHandler","canHandleSource","handleSource","srcParts","registerSourceHandler","121","_createSetter","attrUpper","_api","vjs_setProperty","_createGetter","vjs_getProperty","_tech","_tech2","_utilsUrlJs","Url","_flashRtmp","_flashRtmp2","_Tech","setSource","onReady","onEvent","onError","lastSeekTarget_","swf","objId","flashVars","readyFunction","eventProxyFunction","errorEventProxyFunction","wmode","bgcolor","class","embed","setCurrentTime","vjs_play","vjs_pause","_src","getAbsoluteURL","vjs_src","currentSource_","vjs_load","setPoster","ranges","enterFullScreen","_readWrite","_readOnly","version","withSourceHandlers","nativeSourceHandler","formats","guessMimeType","ext","getFileExtension","video/flv","video/x-flv","video/mp4","video/m4v","currSwf","getEl","checkReady","swfID","eventName","ActiveXObject","GetVariable","match","mimeTypes","enabledPlugin","getEmbedCode","objTag","flashVarsString","paramsString","attrsString","movie","flashvars","allowScriptAccess","allowNetworking","registerTech","../utils/time-ranges.js","../utils/url.js","./flash-rtmp","./tech","122","_taggedTemplateLiteralLoose","strings","raw","_templateObject","_techJs","_techJs2","_tsml","_tsml2","_srcJsTracksTextTrackJs","Html5","crossoriginTracks","handleLateInit_","nodes","nodesLength","removeNodes","node","featuresNativeTextTracks","addTrackElement_","addTrack_","hasAttribute","isCrossOrigin","trackTypes","capitalType","tl","handleTextTrackChange_","handleTextTrackChange","handleTextTrackAdd_","handleTextTrackAdd","handleTextTrackRemove_","handleTextTrackRemove","proxyNativeTextTracks_","TOUCH_ENABLED","IS_IPHONE","IS_NATIVE_ANDROID","setControls","clone","cloneNode","setElAttributes","settingsAttrs","overwriteAttrs","_ret","loadstartFired","setLoadstartFired","triggerLoadstart","v","eventsToTrigger","tt","currentTarget","srcElement","removeTrack_","handleVideoTrackChange_","vt","handleVideoTrackAdd_","handleVideoTrackRemove_","handleAudioTrackChange_","audioTrackList","handleAudioTrackAdd_","handleAudioTrackRemove_","setVolume","setMuted","offsetWidth","offsetHeight","webkitEnterFullScreen","userAgent","video","HAVE_METADATA","exitFullScreen","webkitExitFullScreen","resetMediaElement","setPreload","setAutoplay","setLoop","defaultMuted","played","setPlaybackRate","htmlTrackElement","srclang","trackElement","removeTrackElement_","TEST_VID","canControlVolume","canControlPlaybackRate","IS_ANDROID","IS_CHROME","supportsNativeTextTracks","supportsTextTracks","IS_FIREFOX","supportsNativeVideoTracks","supportsVideoTracks","supportsNativeAudioTracks","supportsAudioTracks","mpegurlRE","mp4RE","patchCanPlayType","ANDROID_VERSION","IS_OLD_ANDROID","unpatchCanPlayType","querySelectorAll","../../../src/js/tracks/text-track.js","../utils/browser.js","../utils/log.js","../utils/merge-options.js","./tech.js","tsml","123","MediaLoader","124","_tracksHtmlTrackElement","_tracksHtmlTrackElement2","_tracksHtmlTrackElementList","_tracksHtmlTrackElementList2","_tracksTextTrack","_tracksTextTrack2","_tracksTextTrackList","_tracksTextTrackList2","_tracksVideoTrack","_tracksVideoTrackList","_tracksVideoTrackList2","_tracksAudioTrackList","_tracksAudioTrackList2","_tracksAudioTrack","featuresProgressEvents","manualProgressOn","featuresTimeupdateEvents","manualTimeUpdatesOn","nativeCaptions","nativeTextTracks","emulateTextTracks","initTextTrackListeners","initTrackListeners","onDurationChange","manualProgress","trackProgress","manualProgressOff","stopTrackingProgress","progressInterval","numBufferedPercent","bufferedPercent_","manualTimeUpdates","trackCurrentTime","stopTrackingCurrentTime","manualTimeUpdatesOff","currentTimeInterval","manuallyTriggered","clearTracks","types","textTrackListChanges","trackListChanges","script","updateDisplay","textTracksChanges","remoteTextTracks_","remoteTextTrackEls_","createTrackHelper","techs_","featuresVolumeControl","featuresFullscreenResize","featuresPlaybackRate","handler","handlers","sourceHandlers","selectSourceHandler","srcObj","sh","deferrable","fnName","originalFn","sourceHandler_","disposeSourceHandler","firstLoadStartListener_","successiveLoadStartListener_","../media-error.js","../tracks/audio-track","../tracks/audio-track-list","../tracks/html-track-element","../tracks/html-track-element-list","../tracks/text-track","../tracks/text-track-list","../tracks/video-track","../tracks/video-track-list","../utils/buffer.js","125","_trackList","_trackList2","disableOthers","AudioTrackList","_TrackList","IS_IE8","prop","changing_","addTrack","removeTrack","./track-list","126","_trackEnums","_track","_track2","AudioTrack","_Track","settings","AudioTrackKind","get","set","newEnabled","loaded_","../utils/merge-options","./track","./track-enums","127","HtmlTrackElementList","trackElements","trackElements_","_length","trackElement_","_length2","_length3","128","_eventTarget","_eventTarget2","NONE","LOADING","LOADED","ERROR","HTMLTrackElement","_EventTarget","../event-target","129","TextTrackCueList","setCues_","length_","oldLength","cues_","defineProp","getCueById","130","constructColor","color","opacity","tryUpdateStyle","darkGray","lightGray","fontMap","monospace","sansSerif","serif","monospaceSansSerif","monospaceSerif","proportionalSansSerif","proportionalSerif","casual","smallcaps","TextTrackDisplay","toggleDisplay","modes","captions","subtitles","trackList","firstDesc","firstCaptions","aria-atomic","clearDisplay","descriptionsTrack","captionsSubtitlesTrack","updateForTrack","overrides","getValues","_i","cueDiv","displayState","textOpacity","backgroundColor","backgroundOpacity","windowColor","windowOpacity","edgeStyle","textShadow","fontPercent","fontSize","top","bottom","fontFamily","fontVariant","../menu/menu-item.js","../menu/menu.js","131","trackToJson_","ret","reduce","acc","endTime","trackEls","trackObjs","trackEl","addedTrack","addCue","132","TextTrackList","rtrack","tracks_","getTrackById","133","getSelectedOptionValue","selectedOption","selectedOptions","selectedIndex","setSelectedOption","option","captionOptionsMenuTemplate","template","TextTrackSettings","persistTextTrackSettings","saveSettings","restoreSettings","textEdge","fgColor","bgColor","bgOpacity","setValues","values","localStorage","getItem","setItem","removeItem","ttDisplay","134","_textTrackCueList","_textTrackCueList2","_trackJs","_trackJs2","_xhr","_xhr2","parseCues","srcContent","parser","WebVTT","Parser","vttjs","StringDecoder","errors","oncue","onparsingerror","onflush","groupCollapsed","groupEnd","flush","loadTrack","crossOrigin","responseBody","loadHandler","TextTrack","TextTrackKind","TextTrackMode","default_","activeCues_","activeCues","changed","timeupdateHandler","newMode","ct","active","removeCue","_removeCue","removed","cuechange","./text-track-cue-list","./track.js","135","VideoTrackKind","alternative","main","sign","commentary","descriptions","main-desc","translation","chapters","metadata","hidden","showing","136","TrackList","change","addtrack","removetrack","_event","137","Track","trackProps","_loop","../utils/guid.js","138","VideoTrackList","139","VideoTrack","newSelected","140","USER_AGENT","webkitVersionMap","exec","appleWebkitVersion","pop","IS_IPAD","IS_IPOD","IOS_VERSION","major","minor","IS_EDGE","DocumentTouch","141","bufferedDuration","_timeRangesJs","./time-ranges.js","142","_logJs","_logJs2","defaultBehaviors","messages","Proxy","./log.js","143","isNonBlankString","throwIfWhitespace","classRegExp","createQuerier","isEl","getElementById","propName","attrName","innerText","getElData","elIdAttr","elData","hasElData","element","classList","contains","add","remove","attrValue","knownBooleans","attrVal","onselectstart","box","getBoundingClientRect","docEl","clientLeft","scrollLeft","pageXOffset","clientTop","scrollTop","pageYOffset","round","boxW","boxH","boxY","boxX","changedTouches","nodeType","isTextNode","normalizeContent","createTextNode","appendContent","_guidJs","./guid.js","144","_handleMultipleEvents","dispatcher","handlersCopy","m","isImmediatePropagationStopped","attachEvent","removeType","_cleanUpEvents","elemData","isPropagationStopped","defaultPrevented","targetData","returnTrue","returnFalse","old","relatedTarget","fromElement","toElement","returnValue","cancelBubble","clientX","clientY","charCode","detachEvent","_domJs","./dom.js","145","uid","146","formatTime","guide","h","gm","gh","147","_guid","148","_logType","argsArray","history","149","isPlain","mergeOptions","_lodashCompatObjectMerge2","_lodashCompatObjectMerge","destination","lodash-compat/object/merge","150","styleSheet","cssText","151","createTimeRanges","createTimeRangesObj","getRange","valueIndex","rangeIndex","rangeCheck","maxIndex","152","toTitleCase","153","parseUrl","href","addToBody","host","protocol","div","details","path","splitPathRe","pathParts","winLoc","location","urlInfo","srcProtocol","154","getPlayers","_player2","_setup","setup","_player","_pluginsJs","_pluginsJs2","_srcJsUtilsMergeOptionsJs","_srcJsUtilsMergeOptionsJs2","_tracksTextTrackJs","_tracksTextTrackJs2","_tracksAudioTrackJs","_tracksAudioTrackJs2","_tracksVideoTrackJs","_tracksVideoTrackJs2","_extendJs","_extendJs2","_utilsCreateDeprecationProxyJs","_utilsCreateDeprecationProxyJs2","_techFlashJs","HTMLVideoElement","VERSION","addLanguage","_merge","setAttributes","getAttributes","../../src/js/utils/merge-options.js","./event-target","./extend.js","./player","./plugins.js","./setup","./tech/flash.js","./tracks/audio-track.js","./tracks/text-track.js","./tracks/video-track.js","./utils/create-deprecation-proxy.js","./utils/format-time.js","./utils/url.js","root","cueShim","VTTCue","regionShim","VTTRegion","oldVTTCue","oldVTTRegion","restore","findDirectionSetting","directionSetting","findAlignSetting","align","alignSetting","cobj","p","isIE8","baseObj","hasBeenReset","_id","_pauseOnExit","_startTime","_endTime","_text","_region","_vertical","_snapToLines","_line","_lineAlign","_position","_positionAlign","_size","_align","setting","SyntaxError","autoKeyword","","lr","rl","middle","getCueAsHTML","convertCueToDOMTree","findScrollSetting","scroll","scrollSetting","isValidPercentValue","_lines","_regionAnchorX","_regionAnchorY","_viewportAnchorX","_viewportAnchorY","_scroll","lines","regionAnchorY","regionAnchorX","viewportAnchorY","viewportAnchorX","up","ParsingError","errorData","parseTimeStamp","input","computeSeconds","Settings","_objCreate","parseOptions","keyValueDelim","groupDelim","groups","kv","parseCue","regionList","consumeTimeStamp","ts","Errors","BadTimeStamp","oInput","consumeCueSettings","region","alt","vals","vals0","integer","line","lineAlign","snapToLines","size","positionAlign","skipWhitespace","substr","parseContent","nextToken","consume","unescape1","ESCAPE","unescape","shouldAdd","NEEDS_PARENT","localName","annotation","TAG_NAME","TAG_ANNOTATION","rootDiv","tagStack","createProcessingInstruction","determineBidi","pushNodes","nodeStack","nextTextNode","charCodeAt","strongRTLChars","computeLinePos","textTrackList","mediaElement","count","StyleBox","CueStyleBox","styleOptions","styles","display","writingMode","unicodeBidi","applyStyles","textAlign","font","whiteSpace","direction","stylesunicodeBidi","textPos","formatStyle","move","BoxPosition","lh","offsetTop","rects","getClientRects","lineHeight","moveBoxToLinePosition","styleBox","containerBox","boxPositions","findBestPosition","axis","bestPosition","specifiedPosition","overlapsOppositeAxis","within","overlapsAny","intersectPercentage","boxPosition","linePos","step","maxPosition","initialAxis","abs","reverse","calculatedPercentage","toCSSCompatValues","F","BadSignature","dflt","defaultKey","&amp;","&lt;","&gt;","&lrm;","&rlm;","&nbsp;","ruby","rt","lang","unit","toMove","overlaps","b2","boxes","container","intersectArea","reference","getSimpleBoxPosition","decode","decodeURIComponent","encodeURIComponent","cuetext","FONT_SIZE_PERCENT","FONT_STYLE","CUE_BACKGROUND_PADDING","processCues","overlay","shouldCompute","paddedOverlay","margin","decoder","state","buffer","TextDecoder","reportOrThrowError","collectNextLine","pos","parseRegion","xy","anchor","onregion","parseHeader","alreadyCollectedLine","hasSubstring","CDN_VERSION","d","HELP_IMPROVE_VIDEOJS","random","hostname","screen","availWidth","availHeight","pathname","Image","videojsContribHls","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_s","next","done","findAdCue","mediaTime","adStartTime","adEndTime","updateAdCues","media","offset","segments","segment","cueOut","adOffset","adTotal","_segment$cueOutCont$split$map","cueOutCont","_segment$cueOutCont$split$map2","textRange","range","formatHexString","formatAsciiString","fromCharCode","utils","hexDump","bytes","hex","ascii","tagDump","textRanges","GOAL_BUFFER_LENGTH","_createClass","protoProps","staticProps","_get","_x3","_x4","_x5","_again","property","receiver","getter","getPrototypeOf","_playlistLoader","_playlistLoader2","_segmentLoader","_segmentLoader2","_ranges","_ranges2","_videoJs","_videoJs2","_adCueTags","_adCueTags2","BLACKLIST_DURATION","Hls","objectChanged","parseCodecs","codecs","codecCount","videoCodec","videoObjectTypeIndicator","audioProfile","parsed","mimeTypesForPlaylist_","master","audioGroup","mediaAttributes","previousGroup","CODECS","parsedCodecs","mediaGroups","AUDIO","groupId","MasterPlaylistController","_videojs$EventTarget","bandwidth","externHls","useCueTags","hls_","hls","mode_","useCueTags_","cueTagsTrack_","inBandMetadataTrackDispatchType","requestOptions_","audioGroups_","mediaSource","MediaSource","audioinfo_","handleAudioinfoUpdate_","handleSourceOpen_","segmentLoaderOptions","hasPlayed","masterPlaylistLoader_","setupMasterPlaylistLoaderListeners_","audioPlaylistLoader_","mainSegmentLoader_","audioSegmentLoader_","setupSegmentLoaderListeners_","requestTimeout","targetDuration","endList","playlist","expired","expired_","setupSourceBuffers_","endOfStream","setupFirstPlay","fillAudioTracks_","setupAudio","updatedPlaylist","updateAdCues_","updateDuration","addSeekableRange_","initialMedia_","selectPlaylist","blacklistCurrentPlaylist","activeAudioGroup","activeTrack","isLowestEnabledRendition_","supportsAudioInfoChange_","audioInfo_","info","enabledIndex","enabledTrack","defaultTrack","properties_","mediaRequests","mediaTransferDuration","mediaBytesTransferred","mediaGroup","audioTrack","videoPlaylist","_this4","clearBuffer","resolvedUri","audioPlaylist","playlists","sourceUpdater_","hasPlayed_","currentPlaylist","nextPlaylist","excludeUntil","findRange","Playlist","mainSeekable","audioSeekable","_this5","oldDuration","newDuration","setDuration","mimeType","excludeIncompatibleVariants_","variant","variantCodecs","codecString","isTypeSupported","./ad-cue-tags","./playlist-loader","./ranges","./segment-loader","timerCancelEvents","PlaybackWatcher","consecutiveUpdates","lastRecordedTime","timer_","checkCurrentTimeTimeout_","debug","logger_","waitingHandler","waiting_","cancelTimerHandler","cancelTimer_","monitorCurrentTime_","checkCurrentTime_","fellOutOfLiveWindow_","livePoint","nextRange","findNextRange","videoUnderflow_","skipTheGap_","gap","gapFromVideoUnderflow_","scheduledCurrentTime","TIME_FUDGE_FACTOR","gaps","findGaps","_resolveUrl","_resolveUrl2","_stream","_stream2","_m3u8Parser","_m3u8Parser2","updateSegments","original","updateMaster","mediaSequence","PlaylistLoader","srcUrl","loader","mediaUpdateTimeout","request","playlistRequestError","haveMetadata","trackExpiredTime_","startingState","setBandwidth","refreshDelay","manifest","updateMediaPlaylist_","stopRequest","oldRequest","enabledPlaylists_","currentBandwidth","BANDWIDTH","mediaChange","media_","req","started","groupKey","labelKey","alternateAudio","VIDEO","CLOSED-CAPTIONS","SUBTITLES","outdated","./resolve-url","./stream","m3u8-parser","UNSAFE_LIVE_SEGMENTS","backwardDuration","endSequence","precise","forwardDuration","intervalDuration","backward","forward","totalDuration","getMediaIndexForTime_","originalTime","numSegments","lastSegment","startIndex","endIndex","knownStart","knownEnd","clamp","filterRanges","timeRanges","results","findSoleUncommonTimeRangesEnd","edges","overlapsCurrentEnd","span","bufferIntersection","bufferA","bufferB","arity","extents","sort","calculateBufferedPercent","adjustedRange","referenceRange","referenceDuration","adjustedDuration","bufferMissingFromAdjusted","adjustedIntersection","referenceIntersection","adjustedOverlap","referenceOverlap","getSegmentBufferedPercent","startOfSegment","segmentDuration","endOfSegment","originalSegmentRange","adjustedSegmentRange","defaultOptions","errorInterval","getSource","sourceObj","initPlugin","seekTo","localOptions","loadedMetadataHandler","errorHandler","cleanupEvents","reinitPlugin","newOptions","reloadSourceOnError","enableFunction","changePlaylistFn","currentlyEnabled","Representation","hlsHandler","fastChangeFunction","masterPlaylistController_","fastQualityChange_","RESOLUTION","resolution","renditionSelectionMixin","representations","_urlToolkit","_urlToolkit2","resolveUrl","baseURL","relativeURL","buildAbsoluteURL","url-toolkit","_x2","_playlist","_sourceUpdater","_sourceUpdater2","_aesDecrypter","_muxJsLibMp4Probe","_muxJsLibMp4Probe2","_config","_config2","CHECK_BUFFER_DELAY","updateSegmentMetadata","segmentIndex","segmentEnd","previousSegment","detectEndOfStream","appendedLastSegment","byterangeStr","byterange","byterangeStart","byterangeEnd","segmentXhrHeaders","Range","initSegmentId","initSegment","SegmentLoader","throughput","roundTrip","NaN","resetStats_","currentTime_","seekable_","seeking_","setCurrentTime_","mediaSource_","checkBufferTimeout_","timeCorrection_","currentTimeline_","zeroOffset_","xhr_","pendingSegment_","mimeType_","xhrOptions_","activeInitSegmentId_","initSegments_","abort_","fillBuffer_","_error","monitorBuffer_","playlist_","init_","_expired","_mimeType","timeCorrection","currentBuffered","bufferedTime","currentBufferedEnd","mediaIndex","updating","requestIndex","checkBuffer_","isEndOfStream","encryptedBytes","timestampOffset","timeline","percentBuffered","correctionApplied","incrementTimeCorrection_","loadSegment_","segmentInfo","removeToTime","removeDuration","previousDuration","keyXhr","initSegmentXhr","segmentXhr","trimBuffer_","keyRequestOptions","handleResponse_","initSegmentOptions","segmentRequestOptions","keyXhrRequest","view","timedout","startOfAppend","roundTripTime","bytesReceived","Uint8Array","byteLength","DataView","Uint32Array","getUint32","iv","processResponse_","timescales","timescale","Decrypter","handleSegment_","initId","appendBuffer","handleUpdateEnd_","recordThroughput_","timelineUpdated","updateTimeline_","currentMediaIndex","segmentProcessingTime","segmentProcessingThroughput","secondsToIncrement","maxSegmentsToWalk","./config","./playlist","./source-updater","aes-decrypter","mux.js/lib/mp4/probe","SourceUpdater","createSourceBuffer","sourceBuffer_","addSourceBuffer","onUpdateendCallback_","pendingCallback","pendingCallback_","runCallback_","callbacks_","timestampOffset_","queueCallback_","_duration","_this6","callbacks","Stream","listeners","listener","xhrFactory","XhrFunction","beforeRequest","responseTime","requestTime","precompute","tables","encTable","decTable","sbox","sboxInv","xInv","th","x2","x4","x8","tEnc","tDec","aesTables","AES","_tables","tmp","encKey","decKey","keyLen","rcon","_key","encrypted0","encrypted1","encrypted2","encrypted3","out","a2","c2","nInnerRounds","kIndex","table","table0","table1","table2","table3","_x","AsyncStream","_Stream","jobs","delay","timeout_","processJob_","job","_aes","_aes2","_asyncStream","_asyncStream2","_pkcs7","ntoh","word","decrypt","encrypted","initVector","encrypted32","Int32Array","byteOffset","decipher","decrypted","decrypted32","init0","init1","init2","init3","wordIx","STEP","asyncStream_","decryptChunk_","subarray","unpad","./aes","./async-stream","pkcs7","_decrypter","./decrypter","dup","PADDING","plaintext","padding","pad","./pad.js","./unpad.js","padded","_lineStream","_lineStream2","_parseStream","_parseStream2","_parser","_parser2","LineStream","ParseStream","./line-stream","./parse-stream","./parser","nextNewline","attributeSeparator","keyvalue","parseAttributes","tagType","number","playlistType","allowed","URI","BYTERANGE","_attributes$BYTERANGE$split","_attributes$BYTERANGE$split2","dateTimeString","dateTimeObject","IV","lineStream","parseStream","pipe","uris","currentUri","currentMap","defaultMediaGroups","currentTimeline","allowCache","discontinuityStarts","entry","rendition","allow-cache","endlist","inf","discontinuitySequence","METHOD","media-sequence","isFinite","discontinuity-sequence","playlist-type","stream-inf","TYPE","NAME","mediaGroupType","DEFAULT","autoselect","AUTOSELECT","LANGUAGE","instreamId","discontinuity","program-date-time","targetduration","totalduration","cue-out","cue-out-cont","cue-in","cueIn","comment","chunk","AacStream","everything","timeStamp","setTimestamp","timestamp","parseId3TagSize","header","byteIndex","returnSize","flags","footerPresent","parseAdtsSize","lowThree","highTwo","bytesLeft","packet","tempLength","frameSize","pts","dts","../utils/stream.js","AdtsStream","ADTS_SAMPLING_FREQUENCIES","frameLength","protectionSkipBytes","frameEnd","oldBuffer","sampleCount","adtsFrameDuration","frameNum","audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize","H264Stream","NalByteStream","PROFILES_WITH_OPTIONAL_SPS_DATA","ExpGolomb","syncPoint","swapBuffer","244","trackId","currentPts","currentDts","discardEmulationPreventionBytes","readSequenceParameterSet","skipScalingList","nalByteStream","nalUnitType","escapedRBSP","expGolombDecoder","deltaScale","lastScale","nextScale","readExpGolomb","newLength","newData","emulationPreventionBytesPositions","sourceIndex","profileIdc","levelIdc","profileCompatibility","chromaFormatIdc","picOrderCntType","numRefFramesInPicOrderCntCycle","picWidthInMbsMinus1","picHeightInMapUnitsMinus1","frameMbsOnlyFlag","scalingListCount","sarRatio","aspectRatioIdc","frameCropLeftOffset","frameCropRightOffset","frameCropTopOffset","frameCropBottomOffset","sarScale","readUnsignedByte","skipUnsignedExpGolomb","readUnsignedExpGolomb","skipBits","readBoolean","skipExpGolomb","readBits","../utils/exp-golomb.js","FlvTag","extraData","adHoc","bufferStartSize","prepareWrite","flv","minLength","widthBytes","heightBytes","videocodecidBytes","keyFrame","VIDEO_TAG","AUDIO_TAG","METADATA_TAG","writeBytes","writeByte","byte","writeShort","short","setUint16","negIndex","nalUnitSize","startNalUnit","endNalUnit","nalContainer","nalStart","nalLength","setUint32","writeMetaDataDouble","setFloat64","writeMetaDataBoolean","setUint8","finalize","dtsDelta","frameTime","isAudioFrame","isVideoFrame","isMetaData","isKeyFrame","Transmuxer","./flv-tag","./transmuxer","VideoSegmentStream","AudioSegmentStream","CoalesceStream","collectTimelineInfo","metaDataTag","extraDataTag","m2ts","timelineStartInfo","sps","pps","oldExtraData","adtsFrames","currentFrame","adtsFrame","lastMetaPts","tags","h264Frame","nalUnits","finishFrame","frame","newMetadata","currentNal","numberOfTracks","metadataStream","videoTags","audioTags","videoTrack","pendingCaptions","pendingMetadata","pendingTracks","output","frames","id3","caption","timelineStartPts","startPts","endPts","cueTime","dispatchType","packetStream","elementaryStream","videoTimestampRolloverStream","audioTimestampRolloverStream","timedMetadataTimestampRolloverStream","adtsStream","h264Stream","videoSegmentStream","audioSegmentStream","captionStream","coalesceStream","MetadataStream","TransportPacketStream","TransportParseStream","ElementaryStream","TimestampRolloverStream","CaptionStream","getFlvHeader","audio","metadataLength","headBytes","../codecs/adts.js","../codecs/h264","../m2ts/m2ts.js","./flv-tag.js","USER_DATA_REGISTERED_ITU_T_T35","RBSP_TRAILING_BITS","parseSei","payloadType","payloadSize","payload","parseUserData","sei","parseCaptionPackets","userData","ccData","captionPackets_","field1_","Cea608Stream","idx","presortIndex","BASIC_CHARACTER_TRANSLATION","getCharFromCode","RESUME_CAPTION_LOADING","END_OF_CAPTION","ROLL_UP_2_ROWS","ROLL_UP_3_ROWS","ROLL_UP_4_ROWS","CARRIAGE_RETURN","BACKSPACE","ERASE_DISPLAYED_MEMORY","ERASE_NON_DISPLAYED_MEMORY","BOTTOM_ROW","createDisplayBuffer","topRow_","startPts_","displayed_","nonDisplayed_","lastControlCode_","swap","char0","char1","flushDisplayed","shiftRowsUp_","popOn","baseRow","rollUp","../utils/stream","StreamTypes","m2tsStreamTypes","MP2T_PACKET_LENGTH","SYNC_BYTE","bytesInBuffer","parsePsi","parsePat","parsePmt","packetsWaitingForPmt","programMapTable","psi","payloadUnitStartIndicator","pat","section_number","last_section_number","pmtPid","pmt","sectionLength","tableEnd","programInfoLength","processPes_","pid","streamType","STREAM_TYPES","h264","adts","timedMetadata","parsePes","pes","ptsDtsFlags","dataAlignmentIndicator","flushStream","fragment","packetData","H264_STREAM_TYPE","ADTS_STREAM_TYPE","METADATA_STREAM_TYPE","baseMediaDecodeTime","codec","PAT_PID","./caption-stream","./metadata-stream","./stream-types","./stream-types.js","./timestamp-rollover-stream","percentEncode","parseUtf8","parseIso88591","parseSyncSafeInteger","tagParsers","TXXX","WXXX","PRIV","owner","privateData","tagSize","bufferSize","frameStart","frameHeader","MAX_TS","RO_THRESH","handleRollover","lastDTS","referenceDTS","type_","generator","./mp4-generator","dinf","esds","ftyp","mdat","mfhd","minf","moof","moov","mvex","mvhd","trak","tkhd","mdia","mdhd","hdlr","sdtp","stbl","stsd","traf","trex","trun","MAJOR_BRAND","MINOR_VERSION","AVC1_BRAND","VIDEO_HDLR","AUDIO_HDLR","HDLR_TYPES","VMHD","SMHD","DREF","STCO","STSC","STSZ","STTS","UINT32_MAX","pow","avc1","avcC","btrt","dref","mp4a","smhd","stco","stsc","stsz","stts","styp","tfdt","tfhd","vmhd","sequenceNumber","trackFragments","samples","dependsOn","isDependedOn","videoSample","audioSample","sequenceParameterSets","pictureParameterSets","trackFragmentHeader","trackFragmentDecodeTime","trackFragmentRun","sampleDependencyTable","dataOffset","upperWordBaseMediaDecodeTime","lowerWordBaseMediaDecodeTime","audioTrun","videoTrun","trunHeader","durationPresent","sizePresent","flagsPresent","compositionTimeOffset","sample","isLeading","hasRedundancy","paddingValue","isNonSyncSample","degradationPriority","fileType","findBox","parseType","subresults","traks","trafs","baseTimes","scale","baseTime","createDefaultSample","isLikelyAacData","collectDtsInfo","clearDtsInfo","calculateTrackBaseMediaDecodeTime","arrayEquals","sumFrameByteLengths","mp4","AUDIO_PROPERTIES","VIDEO_PROPERTIES","currentObj","sum","earliestAllowedDts","setEarliestDts","earliestDts","trimAdtsFramesByEarliestDts_","generateSampleTable_","concatenateFrameData_","minSegmentDts","minSegmentPts","minPTS","gopCache_","nalUnit","gopForFusion","gops","resetStream_","groupNalsIntoFrames_","groupFramesIntoGops_","getGopForFusion_","nalCount","extendFirstKeyFrame_","concatenateNalData_","gop","dtsDistance","nearestGopObj","currentGop","currentGopObj","halfSecond","allowableOverlap","nearestDistance","baseDataOffset","nalsByteLength","numberOfNals","totalByteLength","maxSegmentPts","maxSegmentDts","oneSecondInPTS","timeSinceStartOfTimeline","firstSampleCompositionOffset","remux","remuxTracks","pendingBoxes","pendingBytes","emittedTracks","flushSource","hasFlushed","transmuxPipeline_","setupAacPipeline","pipeline","aacStream","headOfPipeline","setupTsPipeline","setBaseMediaDecodeTime","isAac","../aac","./mp4-generator.js","workingData","workingBytesAvailable","workingWord","workingBitsAvailable","bitsAvailable","loadWord","workingBytes","availableBytes","skipBytes","bits","valu","skipLeadingZeros","leadingZeroCount","clz","URLToolkit","relativeURLQuery","relativeURLHash","relativeURLHashSplit","relativeURLQuerySplit","baseURLHashSplit","baseURLQuerySplit","baseURLDomainSplit","baseURLProtocol","baseURLProtocolDomain","baseURLPath","builtURL","buildAbsolutePath","basePath","relativePath","nUpLn","nEnd","sRelPath","sDir","sPath","nStart","deprecateOldCue","durationOfVideo","dur","Number","MAX_VALUE","addTextTrackData","sourceHandler","captionArray","metadataArray","Cue","WebKitDataCue","inbandTextTrack_","videoDuration","metadataTrack_","cuesArray","isAudioCodec","isVideoCodec","parseContentType","parameters","parameter","pair","createTextTracksIfNecessary","sourceBuffer","flashConstants","TIME_BETWEEN_CHUNKS","BYTES_PER_CHUNK","_flashSourceBuffer","_flashSourceBuffer2","_flashConstants","_flashConstants2","_codecUtils","FlashMediaSource","sourceBuffers","swfObj","swfId","parsedType","vjs_endOfStream","./codec-utils","./flash-constants","./flash-source-buffer","_muxJsLibFlv","_muxJsLibFlv2","_removeCuesFromTrack","_removeCuesFromTrack2","_createTextTracksIfNecessary","_createTextTracksIfNecessary2","_addTextTrackData","scheduleTick","toDecimalPlaces","places","FlashSourceBuffer","encodedHeader","chunkSize_","buffer_","bufferSize_","basePtsOffset_","segmentParser_","receiveBuffer_","btoa","vjs_appendBuffer","vjs_discontinuity","chunkInData","vjs_abort","flvBytes","convertTagsToData_","processBuffer_","chunkSize","binary","b64str","CallFunction","segmentData","segmentByteLength","targetPts","filteredTags","getOrderedTags_","./add-text-track-data","./create-text-tracks-if-necessary","./remove-cues-from-track","mux.js/lib/flv","_virtualSourceBuffer","_virtualSourceBuffer2","translateLegacyCodecs","orig","profile","avcLevel","profileHex","avcLevelHex","HtmlMediaSource","nativeMediaSource_","activeSourceBuffers_","updateActiveSourceBuffers_","combined","audioOnly","appendAudioInitSegment_","videoCodec_","audioCodec_","audioDisabled_","onPlayerMediachange_","url_","sourcebuffer","transmuxer_","terminate","createRealSourceBuffers_","./virtual-source-buffer","removeCuesFromTrack","_muxJsLibMp4","_muxJsLibMp42","wireTransmuxerEvents","transmuxer","initArray","typedArray","postMessage","action","MessageHandlers","Worker","onmessage","messageHandlers","mux.js/lib/mp4","_flashMediaSource","_flashMediaSource2","_htmlMediaSource","_htmlMediaSource2","urlCount","defaults","mediaSources","msObjectURL","supportsNativeMediaSources","URL","createObjectURL","objectUrlPrefix","./flash-media-source","./html-media-source","_webworkify","_webworkify2","_transmuxerWorker","_transmuxerWorker2","VirtualSourceBuffer","pendingBuffers_","bufferUpdating_","codecs_","data_","done_","videoBuffer_","audioBuffer_","appendWindowStart","videoBuffered","audioBuffered","processPendingSegments_","shouldTrigger","every","sortedSegments","segmentObj","concatAndAppendSegments_","destinationBuffer","tempBuffer","./transmuxer-worker","webworkify","bundleFn","cache","wkey","cacheKeys","wcache","skey","scache","webkitURL","mozURL","msURL","Blob","_playlist2","_binUtils","_binUtils2","_videojsContribMediaSources","_masterPlaylistController","_renditionMixin","_renditionMixin2","_playbackWatcher","_playbackWatcher2","_reloadSourceOnError","_reloadSourceOnError2","BANDWIDTH_VARIANCE","safeGetComputedStyle","STANDARD_PLAYLIST_SELECTOR","effectiveBitrate","sortedPlaylists","bandwidthPlaylists","bandwidthBestVariant","resolutionPlusOne","resolutionPlusOneAttribute","resolutionBestVariant","comparePlaylistBandwidth","localVariant","systemBandwidth","comparePlaylistResolution","variantResolution","supportsNativeHls","canPlay","canItPlay","firefoxVersionMap","HlsHandler","source_","stats","setOptions_","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","pauseLoading","audioTrackChange_","playbackWatcher_","invBandwidth","invThroughput","systemBitrate","mediaRequests_","mediaTransferDuration_","mediaBytesTransferred_","HlsSourceHandler","leftBandwidth","rightBandwidth","leftWidth","rightWidth","m3u8","./bin-utils","./master-playlist-controller","./playback-watcher","./reload-source-on-error","./rendition-mixin","./xhr","videojs-contrib-media-sources","VideoController","$scope","$stateParams","$timeout","toastr","$log","$sce","appLink","newItem","catColor","catGroups","cat","playMe","PlayingData","loadSource","attachMedia","MANIFEST_PARSED","playOther","appLinkOn","appLinkOff","secondsToTime","secs","hours","divisor_for_minutes","minutes","divisor_for_seconds","MainController","banner","videoAll","colors","getVideos","dataList","category","groupBy","videos","each","group","go","viewAll","CategoryController","resetStorage","runBlock","run","routerConfig","$stateProvider","$urlRouterProvider","otherwise","constant","malarkey","$logProvider","toastrConfig","debugEnabled","allowHtml","timeOut","positionClass","preventDuplicates","progressBar","$templateCache","put"],"mappings":"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AQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,IAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAS,MAAS,MAAS,MAC3D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,KAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/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","file":"scripts/app-9199a63bb8.js","sourcesContent":["(function () {\n  'use strict';\n\n  angular\n    .module('istream', [\n      'angular-loading-bar',\n      'ngStorage',\n      'underscore',\n      'ngAnimate',\n      'ngCookies',\n      'ngTouch',\n      'ngSanitize',\n      'ngMessages',\n      'ngAria',\n      'ngResource',\n      'ui.router',\n      'ui.bootstrap',\n      'toastr'\n    ])\n    .config(function ($sceDelegateProvider) {\n      $sceDelegateProvider.resourceUrlWhitelist([\n        // Allow same origin resource loads.\n        'self',\n        // Allow loading from our assets domain.  Notice the difference between  and *.\n        //'http://*.*/**'\n        'http://111.118.241.70:5051/**'\n      ]);\n    })\n\n    .config(['cfpLoadingBarProvider', function (cfpLoadingBarProvider) {\n      cfpLoadingBarProvider.parentSelector = '#loading-bar-container';\n      cfpLoadingBarProvider.latencyThreshold = 1;\n      //cfpLoadingBarProvider.spinnerTemplate = '<div><span class=\"fa fa-spinner\">Custom Loading Message...</div>';\n    }]);\n\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('istream')\n    .directive('acmeNavbar', acmeNavbar);\n\n  /** @ngInject */\n  function acmeNavbar() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/navbar/navbar.html',\n      scope: {\n        creationDate: '='\n      },\n      controller: NavbarController,\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function NavbarController(moment, $rootScope, $state, $localStorage, $sessionStorage) {\n      var vm = this;\n\n      console.log($state.$current.parent.self.name);\n      switch ($state.current.name) {\n        case 'video':\n          vm.videoPlayer = true;\n          vm.home = false;\n          break;\n        case 'category':\n          vm.videoPlayer = false;\n          vm.home = false;\n          vm.videoPlayerCategory = true;\n          break;\n        default:\n          vm.home = true;\n          vm.videoPlayer = false;\n      }\n\n      // \"vm.creationDate\" is available by directive option \"bindToController: true\"\n      vm.relativeDate = moment(vm.creationDate).fromNow();\n    }\n  }\n\n})();\n\n/**\n * @license\n * Video.js 5.10.8 <http://videojs.com/>\n * Copyright Brightcove, Inc. <https://www.brightcove.com/>\n * Available under Apache License Version 2.0\n * <https://github.com/videojs/video.js/blob/master/LICENSE>\n *\n * Includes vtt.js <https://github.com/mozilla/vtt.js>\n * Available under Apache License Version 2.0\n * <https://github.com/mozilla/vtt.js/blob/master/LICENSE>\n */\n\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.videojs = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n  (function (global){\n    var topLevel = typeof global !== 'undefined' ? global :\n      typeof window !== 'undefined' ? window : {}\n    var minDoc = _dereq_('min-document');\n\n    if (typeof document !== 'undefined') {\n      module.exports = document;\n    } else {\n      var doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'];\n\n      if (!doccy) {\n        doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'] = minDoc;\n      }\n\n      module.exports = doccy;\n    }\n\n  }).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"min-document\":3}],2:[function(_dereq_,module,exports){\n  (function (global){\n    if (typeof window !== \"undefined\") {\n      module.exports = window;\n    } else if (typeof global !== \"undefined\") {\n      module.exports = global;\n    } else if (typeof self !== \"undefined\"){\n      module.exports = self;\n    } else {\n      module.exports = {};\n    }\n\n  }).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],3:[function(_dereq_,module,exports){\n\n},{}],4:[function(_dereq_,module,exports){\n  var getNative = _dereq_('../internal/getNative');\n\n  /* Native method references for those with the same name as other `lodash` methods. */\n  var nativeNow = getNative(Date, 'now');\n\n  /**\n   * Gets the number of milliseconds that have elapsed since the Unix epoch\n   * (1 January 1970 00:00:00 UTC).\n   *\n   * @static\n   * @memberOf _\n   * @category Date\n   * @example\n   *\n   * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n   * // => logs the number of milliseconds it took for the deferred function to be invoked\n   */\n  var now = nativeNow || function() {\n      return new Date().getTime();\n    };\n\n  module.exports = now;\n\n},{\"../internal/getNative\":20}],5:[function(_dereq_,module,exports){\n  var isObject = _dereq_('../lang/isObject'),\n    now = _dereq_('../date/now');\n\n  /** Used as the `TypeError` message for \"Functions\" methods. */\n  var FUNC_ERROR_TEXT = 'Expected a function';\n\n  /* Native method references for those with the same name as other `lodash` methods. */\n  var nativeMax = Math.max;\n\n  /**\n   * Creates a debounced function that delays invoking `func` until after `wait`\n   * milliseconds have elapsed since the last time the debounced function was\n   * invoked. The debounced function comes with a `cancel` method to cancel\n   * delayed invocations. Provide an options object to indicate that `func`\n   * should be invoked on the leading and/or trailing edge of the `wait` timeout.\n   * Subsequent calls to the debounced function return the result of the last\n   * `func` invocation.\n   *\n   * **Note:** If `leading` and `trailing` options are `true`, `func` is invoked\n   * on the trailing edge of the timeout only if the the debounced function is\n   * invoked more than once during the `wait` timeout.\n   *\n   * See [David Corbacho's article](http://drupalmotion.com/article/debounce-and-throttle-visual-explanation)\n   * for details over the differences between `_.debounce` and `_.throttle`.\n   *\n   * @static\n   * @memberOf _\n   * @category Function\n   * @param {Function} func The function to debounce.\n   * @param {number} [wait=0] The number of milliseconds to delay.\n   * @param {Object} [options] The options object.\n   * @param {boolean} [options.leading=false] Specify invoking on the leading\n   *  edge of the timeout.\n   * @param {number} [options.maxWait] The maximum time `func` is allowed to be\n   *  delayed before it's invoked.\n   * @param {boolean} [options.trailing=true] Specify invoking on the trailing\n   *  edge of the timeout.\n   * @returns {Function} Returns the new debounced function.\n   * @example\n   *\n   * // avoid costly calculations while the window size is in flux\n   * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n   *\n   * // invoke `sendMail` when the click event is fired, debouncing subsequent calls\n   * jQuery('#postbox').on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n   *\n   * // ensure `batchLog` is invoked once after 1 second of debounced calls\n   * var source = new EventSource('/stream');\n   * jQuery(source).on('message', _.debounce(batchLog, 250, {\n *   'maxWait': 1000\n * }));\n   *\n   * // cancel a debounced call\n   * var todoChanges = _.debounce(batchLog, 1000);\n   * Object.observe(models.todo, todoChanges);\n   *\n   * Object.observe(models, function(changes) {\n *   if (_.find(changes, { 'user': 'todo', 'type': 'delete'})) {\n *     todoChanges.cancel();\n *   }\n * }, ['delete']);\n   *\n   * // ...at some point `models.todo` is changed\n   * models.todo.completed = true;\n   *\n   * // ...before 1 second has passed `models.todo` is deleted\n   * // which cancels the debounced `todoChanges` call\n   * delete models.todo;\n   */\n  function debounce(func, wait, options) {\n    var args,\n      maxTimeoutId,\n      result,\n      stamp,\n      thisArg,\n      timeoutId,\n      trailingCall,\n      lastCalled = 0,\n      maxWait = false,\n      trailing = true;\n\n    if (typeof func != 'function') {\n      throw new TypeError(FUNC_ERROR_TEXT);\n    }\n    wait = wait < 0 ? 0 : (+wait || 0);\n    if (options === true) {\n      var leading = true;\n      trailing = false;\n    } else if (isObject(options)) {\n      leading = !!options.leading;\n      maxWait = 'maxWait' in options && nativeMax(+options.maxWait || 0, wait);\n      trailing = 'trailing' in options ? !!options.trailing : trailing;\n    }\n\n    function cancel() {\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n      }\n      if (maxTimeoutId) {\n        clearTimeout(maxTimeoutId);\n      }\n      lastCalled = 0;\n      maxTimeoutId = timeoutId = trailingCall = undefined;\n    }\n\n    function complete(isCalled, id) {\n      if (id) {\n        clearTimeout(id);\n      }\n      maxTimeoutId = timeoutId = trailingCall = undefined;\n      if (isCalled) {\n        lastCalled = now();\n        result = func.apply(thisArg, args);\n        if (!timeoutId && !maxTimeoutId) {\n          args = thisArg = undefined;\n        }\n      }\n    }\n\n    function delayed() {\n      var remaining = wait - (now() - stamp);\n      if (remaining <= 0 || remaining > wait) {\n        complete(trailingCall, maxTimeoutId);\n      } else {\n        timeoutId = setTimeout(delayed, remaining);\n      }\n    }\n\n    function maxDelayed() {\n      complete(trailing, timeoutId);\n    }\n\n    function debounced() {\n      args = arguments;\n      stamp = now();\n      thisArg = this;\n      trailingCall = trailing && (timeoutId || !leading);\n\n      if (maxWait === false) {\n        var leadingCall = leading && !timeoutId;\n      } else {\n        if (!maxTimeoutId && !leading) {\n          lastCalled = stamp;\n        }\n        var remaining = maxWait - (stamp - lastCalled),\n          isCalled = remaining <= 0 || remaining > maxWait;\n\n        if (isCalled) {\n          if (maxTimeoutId) {\n            maxTimeoutId = clearTimeout(maxTimeoutId);\n          }\n          lastCalled = stamp;\n          result = func.apply(thisArg, args);\n        }\n        else if (!maxTimeoutId) {\n          maxTimeoutId = setTimeout(maxDelayed, remaining);\n        }\n      }\n      if (isCalled && timeoutId) {\n        timeoutId = clearTimeout(timeoutId);\n      }\n      else if (!timeoutId && wait !== maxWait) {\n        timeoutId = setTimeout(delayed, wait);\n      }\n      if (leadingCall) {\n        isCalled = true;\n        result = func.apply(thisArg, args);\n      }\n      if (isCalled && !timeoutId && !maxTimeoutId) {\n        args = thisArg = undefined;\n      }\n      return result;\n    }\n    debounced.cancel = cancel;\n    return debounced;\n  }\n\n  module.exports = debounce;\n\n},{\"../date/now\":4,\"../lang/isObject\":33}],6:[function(_dereq_,module,exports){\n  /** Used as the `TypeError` message for \"Functions\" methods. */\n  var FUNC_ERROR_TEXT = 'Expected a function';\n\n  /* Native method references for those with the same name as other `lodash` methods. */\n  var nativeMax = Math.max;\n\n  /**\n   * Creates a function that invokes `func` with the `this` binding of the\n   * created function and arguments from `start` and beyond provided as an array.\n   *\n   * **Note:** This method is based on the [rest parameter](https://developer.mozilla.org/Web/JavaScript/Reference/Functions/rest_parameters).\n   *\n   * @static\n   * @memberOf _\n   * @category Function\n   * @param {Function} func The function to apply a rest parameter to.\n   * @param {number} [start=func.length-1] The start position of the rest parameter.\n   * @returns {Function} Returns the new function.\n   * @example\n   *\n   * var say = _.restParam(function(what, names) {\n *   return what + ' ' + _.initial(names).join(', ') +\n *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n * });\n   *\n   * say('hello', 'fred', 'barney', 'pebbles');\n   * // => 'hello fred, barney, & pebbles'\n   */\n  function restParam(func, start) {\n    if (typeof func != 'function') {\n      throw new TypeError(FUNC_ERROR_TEXT);\n    }\n    start = nativeMax(start === undefined ? (func.length - 1) : (+start || 0), 0);\n    return function() {\n      var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        rest = Array(length);\n\n      while (++index < length) {\n        rest[index] = args[start + index];\n      }\n      switch (start) {\n        case 0: return func.call(this, rest);\n        case 1: return func.call(this, args[0], rest);\n        case 2: return func.call(this, args[0], args[1], rest);\n      }\n      var otherArgs = Array(start + 1);\n      index = -1;\n      while (++index < start) {\n        otherArgs[index] = args[index];\n      }\n      otherArgs[start] = rest;\n      return func.apply(this, otherArgs);\n    };\n  }\n\n  module.exports = restParam;\n\n},{}],7:[function(_dereq_,module,exports){\n  var debounce = _dereq_('./debounce'),\n    isObject = _dereq_('../lang/isObject');\n\n  /** Used as the `TypeError` message for \"Functions\" methods. */\n  var FUNC_ERROR_TEXT = 'Expected a function';\n\n  /**\n   * Creates a throttled function that only invokes `func` at most once per\n   * every `wait` milliseconds. The throttled function comes with a `cancel`\n   * method to cancel delayed invocations. Provide an options object to indicate\n   * that `func` should be invoked on the leading and/or trailing edge of the\n   * `wait` timeout. Subsequent calls to the throttled function return the\n   * result of the last `func` call.\n   *\n   * **Note:** If `leading` and `trailing` options are `true`, `func` is invoked\n   * on the trailing edge of the timeout only if the the throttled function is\n   * invoked more than once during the `wait` timeout.\n   *\n   * See [David Corbacho's article](http://drupalmotion.com/article/debounce-and-throttle-visual-explanation)\n   * for details over the differences between `_.throttle` and `_.debounce`.\n   *\n   * @static\n   * @memberOf _\n   * @category Function\n   * @param {Function} func The function to throttle.\n   * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n   * @param {Object} [options] The options object.\n   * @param {boolean} [options.leading=true] Specify invoking on the leading\n   *  edge of the timeout.\n   * @param {boolean} [options.trailing=true] Specify invoking on the trailing\n   *  edge of the timeout.\n   * @returns {Function} Returns the new throttled function.\n   * @example\n   *\n   * // avoid excessively updating the position while scrolling\n   * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n   *\n   * // invoke `renewToken` when the click event is fired, but not more than once every 5 minutes\n   * jQuery('.interactive').on('click', _.throttle(renewToken, 300000, {\n *   'trailing': false\n * }));\n   *\n   * // cancel a trailing throttled call\n   * jQuery(window).on('popstate', throttled.cancel);\n   */\n  function throttle(func, wait, options) {\n    var leading = true,\n      trailing = true;\n\n    if (typeof func != 'function') {\n      throw new TypeError(FUNC_ERROR_TEXT);\n    }\n    if (options === false) {\n      leading = false;\n    } else if (isObject(options)) {\n      leading = 'leading' in options ? !!options.leading : leading;\n      trailing = 'trailing' in options ? !!options.trailing : trailing;\n    }\n    return debounce(func, wait, { 'leading': leading, 'maxWait': +wait, 'trailing': trailing });\n  }\n\n  module.exports = throttle;\n\n},{\"../lang/isObject\":33,\"./debounce\":5}],8:[function(_dereq_,module,exports){\n  /**\n   * Copies the values of `source` to `array`.\n   *\n   * @private\n   * @param {Array} source The array to copy values from.\n   * @param {Array} [array=[]] The array to copy values to.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayCopy(source, array) {\n    var index = -1,\n      length = source.length;\n\n    array || (array = Array(length));\n    while (++index < length) {\n      array[index] = source[index];\n    }\n    return array;\n  }\n\n  module.exports = arrayCopy;\n\n},{}],9:[function(_dereq_,module,exports){\n  /**\n   * A specialized version of `_.forEach` for arrays without support for callback\n   * shorthands and `this` binding.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEach(array, iteratee) {\n    var index = -1,\n      length = array.length;\n\n    while (++index < length) {\n      if (iteratee(array[index], index, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  module.exports = arrayEach;\n\n},{}],10:[function(_dereq_,module,exports){\n  /**\n   * Copies properties of `source` to `object`.\n   *\n   * @private\n   * @param {Object} source The object to copy properties from.\n   * @param {Array} props The property names to copy.\n   * @param {Object} [object={}] The object to copy properties to.\n   * @returns {Object} Returns `object`.\n   */\n  function baseCopy(source, props, object) {\n    object || (object = {});\n\n    var index = -1,\n      length = props.length;\n\n    while (++index < length) {\n      var key = props[index];\n      object[key] = source[key];\n    }\n    return object;\n  }\n\n  module.exports = baseCopy;\n\n},{}],11:[function(_dereq_,module,exports){\n  var createBaseFor = _dereq_('./createBaseFor');\n\n  /**\n   * The base implementation of `baseForIn` and `baseForOwn` which iterates\n   * over `object` properties returned by `keysFunc` invoking `iteratee` for\n   * each property. Iteratee functions may exit iteration early by explicitly\n   * returning `false`.\n   *\n   * @private\n   * @param {Object} object The object to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {Function} keysFunc The function to get the keys of `object`.\n   * @returns {Object} Returns `object`.\n   */\n  var baseFor = createBaseFor();\n\n  module.exports = baseFor;\n\n},{\"./createBaseFor\":18}],12:[function(_dereq_,module,exports){\n  var baseFor = _dereq_('./baseFor'),\n    keysIn = _dereq_('../object/keysIn');\n\n  /**\n   * The base implementation of `_.forIn` without support for callback\n   * shorthands and `this` binding.\n   *\n   * @private\n   * @param {Object} object The object to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Object} Returns `object`.\n   */\n  function baseForIn(object, iteratee) {\n    return baseFor(object, iteratee, keysIn);\n  }\n\n  module.exports = baseForIn;\n\n},{\"../object/keysIn\":39,\"./baseFor\":11}],13:[function(_dereq_,module,exports){\n  var arrayEach = _dereq_('./arrayEach'),\n    baseMergeDeep = _dereq_('./baseMergeDeep'),\n    isArray = _dereq_('../lang/isArray'),\n    isArrayLike = _dereq_('./isArrayLike'),\n    isObject = _dereq_('../lang/isObject'),\n    isObjectLike = _dereq_('./isObjectLike'),\n    isTypedArray = _dereq_('../lang/isTypedArray'),\n    keys = _dereq_('../object/keys');\n\n  /**\n   * The base implementation of `_.merge` without support for argument juggling,\n   * multiple sources, and `this` binding `customizer` functions.\n   *\n   * @private\n   * @param {Object} object The destination object.\n   * @param {Object} source The source object.\n   * @param {Function} [customizer] The function to customize merged values.\n   * @param {Array} [stackA=[]] Tracks traversed source objects.\n   * @param {Array} [stackB=[]] Associates values with source counterparts.\n   * @returns {Object} Returns `object`.\n   */\n  function baseMerge(object, source, customizer, stackA, stackB) {\n    if (!isObject(object)) {\n      return object;\n    }\n    var isSrcArr = isArrayLike(source) && (isArray(source) || isTypedArray(source)),\n      props = isSrcArr ? undefined : keys(source);\n\n    arrayEach(props || source, function(srcValue, key) {\n      if (props) {\n        key = srcValue;\n        srcValue = source[key];\n      }\n      if (isObjectLike(srcValue)) {\n        stackA || (stackA = []);\n        stackB || (stackB = []);\n        baseMergeDeep(object, source, key, baseMerge, customizer, stackA, stackB);\n      }\n      else {\n        var value = object[key],\n          result = customizer ? customizer(value, srcValue, key, object, source) : undefined,\n          isCommon = result === undefined;\n\n        if (isCommon) {\n          result = srcValue;\n        }\n        if ((result !== undefined || (isSrcArr && !(key in object))) &&\n          (isCommon || (result === result ? (result !== value) : (value === value)))) {\n          object[key] = result;\n        }\n      }\n    });\n    return object;\n  }\n\n  module.exports = baseMerge;\n\n},{\"../lang/isArray\":30,\"../lang/isObject\":33,\"../lang/isTypedArray\":36,\"../object/keys\":38,\"./arrayEach\":9,\"./baseMergeDeep\":14,\"./isArrayLike\":21,\"./isObjectLike\":26}],14:[function(_dereq_,module,exports){\n  var arrayCopy = _dereq_('./arrayCopy'),\n    isArguments = _dereq_('../lang/isArguments'),\n    isArray = _dereq_('../lang/isArray'),\n    isArrayLike = _dereq_('./isArrayLike'),\n    isPlainObject = _dereq_('../lang/isPlainObject'),\n    isTypedArray = _dereq_('../lang/isTypedArray'),\n    toPlainObject = _dereq_('../lang/toPlainObject');\n\n  /**\n   * A specialized version of `baseMerge` for arrays and objects which performs\n   * deep merges and tracks traversed objects enabling objects with circular\n   * references to be merged.\n   *\n   * @private\n   * @param {Object} object The destination object.\n   * @param {Object} source The source object.\n   * @param {string} key The key of the value to merge.\n   * @param {Function} mergeFunc The function to merge values.\n   * @param {Function} [customizer] The function to customize merged values.\n   * @param {Array} [stackA=[]] Tracks traversed source objects.\n   * @param {Array} [stackB=[]] Associates values with source counterparts.\n   * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n   */\n  function baseMergeDeep(object, source, key, mergeFunc, customizer, stackA, stackB) {\n    var length = stackA.length,\n      srcValue = source[key];\n\n    while (length--) {\n      if (stackA[length] == srcValue) {\n        object[key] = stackB[length];\n        return;\n      }\n    }\n    var value = object[key],\n      result = customizer ? customizer(value, srcValue, key, object, source) : undefined,\n      isCommon = result === undefined;\n\n    if (isCommon) {\n      result = srcValue;\n      if (isArrayLike(srcValue) && (isArray(srcValue) || isTypedArray(srcValue))) {\n        result = isArray(value)\n          ? value\n          : (isArrayLike(value) ? arrayCopy(value) : []);\n      }\n      else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n        result = isArguments(value)\n          ? toPlainObject(value)\n          : (isPlainObject(value) ? value : {});\n      }\n      else {\n        isCommon = false;\n      }\n    }\n    // Add the source value to the stack of traversed objects and associate\n    // it with its merged value.\n    stackA.push(srcValue);\n    stackB.push(result);\n\n    if (isCommon) {\n      // Recursively merge objects and arrays (susceptible to call stack limits).\n      object[key] = mergeFunc(result, srcValue, customizer, stackA, stackB);\n    } else if (result === result ? (result !== value) : (value === value)) {\n      object[key] = result;\n    }\n  }\n\n  module.exports = baseMergeDeep;\n\n},{\"../lang/isArguments\":29,\"../lang/isArray\":30,\"../lang/isPlainObject\":34,\"../lang/isTypedArray\":36,\"../lang/toPlainObject\":37,\"./arrayCopy\":8,\"./isArrayLike\":21}],15:[function(_dereq_,module,exports){\n  var toObject = _dereq_('./toObject');\n\n  /**\n   * The base implementation of `_.property` without support for deep paths.\n   *\n   * @private\n   * @param {string} key The key of the property to get.\n   * @returns {Function} Returns the new function.\n   */\n  function baseProperty(key) {\n    return function(object) {\n      return object == null ? undefined : toObject(object)[key];\n    };\n  }\n\n  module.exports = baseProperty;\n\n},{\"./toObject\":28}],16:[function(_dereq_,module,exports){\n  var identity = _dereq_('../utility/identity');\n\n  /**\n   * A specialized version of `baseCallback` which only supports `this` binding\n   * and specifying the number of arguments to provide to `func`.\n   *\n   * @private\n   * @param {Function} func The function to bind.\n   * @param {*} thisArg The `this` binding of `func`.\n   * @param {number} [argCount] The number of arguments to provide to `func`.\n   * @returns {Function} Returns the callback.\n   */\n  function bindCallback(func, thisArg, argCount) {\n    if (typeof func != 'function') {\n      return identity;\n    }\n    if (thisArg === undefined) {\n      return func;\n    }\n    switch (argCount) {\n      case 1: return function(value) {\n        return func.call(thisArg, value);\n      };\n      case 3: return function(value, index, collection) {\n        return func.call(thisArg, value, index, collection);\n      };\n      case 4: return function(accumulator, value, index, collection) {\n        return func.call(thisArg, accumulator, value, index, collection);\n      };\n      case 5: return function(value, other, key, object, source) {\n        return func.call(thisArg, value, other, key, object, source);\n      };\n    }\n    return function() {\n      return func.apply(thisArg, arguments);\n    };\n  }\n\n  module.exports = bindCallback;\n\n},{\"../utility/identity\":42}],17:[function(_dereq_,module,exports){\n  var bindCallback = _dereq_('./bindCallback'),\n    isIterateeCall = _dereq_('./isIterateeCall'),\n    restParam = _dereq_('../function/restParam');\n\n  /**\n   * Creates a `_.assign`, `_.defaults`, or `_.merge` function.\n   *\n   * @private\n   * @param {Function} assigner The function to assign values.\n   * @returns {Function} Returns the new assigner function.\n   */\n  function createAssigner(assigner) {\n    return restParam(function(object, sources) {\n      var index = -1,\n        length = object == null ? 0 : sources.length,\n        customizer = length > 2 ? sources[length - 2] : undefined,\n        guard = length > 2 ? sources[2] : undefined,\n        thisArg = length > 1 ? sources[length - 1] : undefined;\n\n      if (typeof customizer == 'function') {\n        customizer = bindCallback(customizer, thisArg, 5);\n        length -= 2;\n      } else {\n        customizer = typeof thisArg == 'function' ? thisArg : undefined;\n        length -= (customizer ? 1 : 0);\n      }\n      if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n        customizer = length < 3 ? undefined : customizer;\n        length = 1;\n      }\n      while (++index < length) {\n        var source = sources[index];\n        if (source) {\n          assigner(object, source, customizer);\n        }\n      }\n      return object;\n    });\n  }\n\n  module.exports = createAssigner;\n\n},{\"../function/restParam\":6,\"./bindCallback\":16,\"./isIterateeCall\":24}],18:[function(_dereq_,module,exports){\n  var toObject = _dereq_('./toObject');\n\n  /**\n   * Creates a base function for `_.forIn` or `_.forInRight`.\n   *\n   * @private\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {Function} Returns the new base function.\n   */\n  function createBaseFor(fromRight) {\n    return function(object, iteratee, keysFunc) {\n      var iterable = toObject(object),\n        props = keysFunc(object),\n        length = props.length,\n        index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length)) {\n        var key = props[index];\n        if (iteratee(iterable[key], key, iterable) === false) {\n          break;\n        }\n      }\n      return object;\n    };\n  }\n\n  module.exports = createBaseFor;\n\n},{\"./toObject\":28}],19:[function(_dereq_,module,exports){\n  var baseProperty = _dereq_('./baseProperty');\n\n  /**\n   * Gets the \"length\" property value of `object`.\n   *\n   * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n   * that affects Safari on at least iOS 8.1-8.3 ARM64.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {*} Returns the \"length\" value.\n   */\n  var getLength = baseProperty('length');\n\n  module.exports = getLength;\n\n},{\"./baseProperty\":15}],20:[function(_dereq_,module,exports){\n  var isNative = _dereq_('../lang/isNative');\n\n  /**\n   * Gets the native function at `key` of `object`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {string} key The key of the method to get.\n   * @returns {*} Returns the function if it's native, else `undefined`.\n   */\n  function getNative(object, key) {\n    var value = object == null ? undefined : object[key];\n    return isNative(value) ? value : undefined;\n  }\n\n  module.exports = getNative;\n\n},{\"../lang/isNative\":32}],21:[function(_dereq_,module,exports){\n  var getLength = _dereq_('./getLength'),\n    isLength = _dereq_('./isLength');\n\n  /**\n   * Checks if `value` is array-like.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n   */\n  function isArrayLike(value) {\n    return value != null && isLength(getLength(value));\n  }\n\n  module.exports = isArrayLike;\n\n},{\"./getLength\":19,\"./isLength\":25}],22:[function(_dereq_,module,exports){\n  /**\n   * Checks if `value` is a host object in IE < 9.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n   */\n  var isHostObject = (function() {\n    try {\n      Object({ 'toString': 0 } + '');\n    } catch(e) {\n      return function() { return false; };\n    }\n    return function(value) {\n      // IE < 9 presents many host objects as `Object` objects that can coerce\n      // to strings despite having improperly defined `toString` methods.\n      return typeof value.toString != 'function' && typeof (value + '') == 'string';\n    };\n  }());\n\n  module.exports = isHostObject;\n\n},{}],23:[function(_dereq_,module,exports){\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^\\d+$/;\n\n  /**\n   * Used as the [maximum length](http://ecma-international.org/ecma-262/6.0/#sec-number.max_safe_integer)\n   * of an array-like value.\n   */\n  var MAX_SAFE_INTEGER = 9007199254740991;\n\n  /**\n   * Checks if `value` is a valid array-like index.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n   * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n   */\n  function isIndex(value, length) {\n    value = (typeof value == 'number' || reIsUint.test(value)) ? +value : -1;\n    length = length == null ? MAX_SAFE_INTEGER : length;\n    return value > -1 && value % 1 == 0 && value < length;\n  }\n\n  module.exports = isIndex;\n\n},{}],24:[function(_dereq_,module,exports){\n  var isArrayLike = _dereq_('./isArrayLike'),\n    isIndex = _dereq_('./isIndex'),\n    isObject = _dereq_('../lang/isObject');\n\n  /**\n   * Checks if the provided arguments are from an iteratee call.\n   *\n   * @private\n   * @param {*} value The potential iteratee value argument.\n   * @param {*} index The potential iteratee index or key argument.\n   * @param {*} object The potential iteratee object argument.\n   * @returns {boolean} Returns `true` if the arguments are from an iteratee call, else `false`.\n   */\n  function isIterateeCall(value, index, object) {\n    if (!isObject(object)) {\n      return false;\n    }\n    var type = typeof index;\n    if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)) {\n      var other = object[index];\n      return value === value ? (value === other) : (other !== other);\n    }\n    return false;\n  }\n\n  module.exports = isIterateeCall;\n\n},{\"../lang/isObject\":33,\"./isArrayLike\":21,\"./isIndex\":23}],25:[function(_dereq_,module,exports){\n  /**\n   * Used as the [maximum length](http://ecma-international.org/ecma-262/6.0/#sec-number.max_safe_integer)\n   * of an array-like value.\n   */\n  var MAX_SAFE_INTEGER = 9007199254740991;\n\n  /**\n   * Checks if `value` is a valid array-like length.\n   *\n   * **Note:** This function is based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n   */\n  function isLength(value) {\n    return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n  }\n\n  module.exports = isLength;\n\n},{}],26:[function(_dereq_,module,exports){\n  /**\n   * Checks if `value` is object-like.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n   */\n  function isObjectLike(value) {\n    return !!value && typeof value == 'object';\n  }\n\n  module.exports = isObjectLike;\n\n},{}],27:[function(_dereq_,module,exports){\n  var isArguments = _dereq_('../lang/isArguments'),\n    isArray = _dereq_('../lang/isArray'),\n    isIndex = _dereq_('./isIndex'),\n    isLength = _dereq_('./isLength'),\n    isString = _dereq_('../lang/isString'),\n    keysIn = _dereq_('../object/keysIn');\n\n  /** Used for native method references. */\n  var objectProto = Object.prototype;\n\n  /** Used to check objects for own properties. */\n  var hasOwnProperty = objectProto.hasOwnProperty;\n\n  /**\n   * A fallback implementation of `Object.keys` which creates an array of the\n   * own enumerable property names of `object`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Array} Returns the array of property names.\n   */\n  function shimKeys(object) {\n    var props = keysIn(object),\n      propsLength = props.length,\n      length = propsLength && object.length;\n\n    var allowIndexes = !!length && isLength(length) &&\n      (isArray(object) || isArguments(object) || isString(object));\n\n    var index = -1,\n      result = [];\n\n    while (++index < propsLength) {\n      var key = props[index];\n      if ((allowIndexes && isIndex(key, length)) || hasOwnProperty.call(object, key)) {\n        result.push(key);\n      }\n    }\n    return result;\n  }\n\n  module.exports = shimKeys;\n\n},{\"../lang/isArguments\":29,\"../lang/isArray\":30,\"../lang/isString\":35,\"../object/keysIn\":39,\"./isIndex\":23,\"./isLength\":25}],28:[function(_dereq_,module,exports){\n  var isObject = _dereq_('../lang/isObject'),\n    isString = _dereq_('../lang/isString'),\n    support = _dereq_('../support');\n\n  /**\n   * Converts `value` to an object if it's not one.\n   *\n   * @private\n   * @param {*} value The value to process.\n   * @returns {Object} Returns the object.\n   */\n  function toObject(value) {\n    if (support.unindexedChars && isString(value)) {\n      var index = -1,\n        length = value.length,\n        result = Object(value);\n\n      while (++index < length) {\n        result[index] = value.charAt(index);\n      }\n      return result;\n    }\n    return isObject(value) ? value : Object(value);\n  }\n\n  module.exports = toObject;\n\n},{\"../lang/isObject\":33,\"../lang/isString\":35,\"../support\":41}],29:[function(_dereq_,module,exports){\n  var isArrayLike = _dereq_('../internal/isArrayLike'),\n    isObjectLike = _dereq_('../internal/isObjectLike');\n\n  /** Used for native method references. */\n  var objectProto = Object.prototype;\n\n  /** Used to check objects for own properties. */\n  var hasOwnProperty = objectProto.hasOwnProperty;\n\n  /** Native method references. */\n  var propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n  /**\n   * Checks if `value` is classified as an `arguments` object.\n   *\n   * @static\n   * @memberOf _\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n   * @example\n   *\n   * _.isArguments(function() { return arguments; }());\n   * // => true\n   *\n   * _.isArguments([1, 2, 3]);\n   * // => false\n   */\n  function isArguments(value) {\n    return isObjectLike(value) && isArrayLike(value) &&\n      hasOwnProperty.call(value, 'callee') && !propertyIsEnumerable.call(value, 'callee');\n  }\n\n  module.exports = isArguments;\n\n},{\"../internal/isArrayLike\":21,\"../internal/isObjectLike\":26}],30:[function(_dereq_,module,exports){\n  var getNative = _dereq_('../internal/getNative'),\n    isLength = _dereq_('../internal/isLength'),\n    isObjectLike = _dereq_('../internal/isObjectLike');\n\n  /** `Object#toString` result references. */\n  var arrayTag = '[object Array]';\n\n  /** Used for native method references. */\n  var objectProto = Object.prototype;\n\n  /**\n   * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n   * of values.\n   */\n  var objToString = objectProto.toString;\n\n  /* Native method references for those with the same name as other `lodash` methods. */\n  var nativeIsArray = getNative(Array, 'isArray');\n\n  /**\n   * Checks if `value` is classified as an `Array` object.\n   *\n   * @static\n   * @memberOf _\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n   * @example\n   *\n   * _.isArray([1, 2, 3]);\n   * // => true\n   *\n   * _.isArray(function() { return arguments; }());\n   * // => false\n   */\n  var isArray = nativeIsArray || function(value) {\n      return isObjectLike(value) && isLength(value.length) && objToString.call(value) == arrayTag;\n    };\n\n  module.exports = isArray;\n\n},{\"../internal/getNative\":20,\"../internal/isLength\":25,\"../internal/isObjectLike\":26}],31:[function(_dereq_,module,exports){\n  var isObject = _dereq_('./isObject');\n\n  /** `Object#toString` result references. */\n  var funcTag = '[object Function]';\n\n  /** Used for native method references. */\n  var objectProto = Object.prototype;\n\n  /**\n   * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n   * of values.\n   */\n  var objToString = objectProto.toString;\n\n  /**\n   * Checks if `value` is classified as a `Function` object.\n   *\n   * @static\n   * @memberOf _\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n   * @example\n   *\n   * _.isFunction(_);\n   * // => true\n   *\n   * _.isFunction(/abc/);\n   * // => false\n   */\n  function isFunction(value) {\n    // The use of `Object#toString` avoids issues with the `typeof` operator\n    // in older versions of Chrome and Safari which return 'function' for regexes\n    // and Safari 8 which returns 'object' for typed array constructors.\n    return isObject(value) && objToString.call(value) == funcTag;\n  }\n\n  module.exports = isFunction;\n\n},{\"./isObject\":33}],32:[function(_dereq_,module,exports){\n  var isFunction = _dereq_('./isFunction'),\n    isHostObject = _dereq_('../internal/isHostObject'),\n    isObjectLike = _dereq_('../internal/isObjectLike');\n\n  /** Used to detect host constructors (Safari > 5). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used for native method references. */\n  var objectProto = Object.prototype;\n\n  /** Used to resolve the decompiled source of functions. */\n  var fnToString = Function.prototype.toString;\n\n  /** Used to check objects for own properties. */\n  var hasOwnProperty = objectProto.hasOwnProperty;\n\n  /** Used to detect if a method is native. */\n  var reIsNative = RegExp('^' +\n    fnToString.call(hasOwnProperty).replace(/[\\\\^$.*+?()[\\]{}|]/g, '\\\\$&')\n      .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n  );\n\n  /**\n   * Checks if `value` is a native function.\n   *\n   * @static\n   * @memberOf _\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a native function, else `false`.\n   * @example\n   *\n   * _.isNative(Array.prototype.push);\n   * // => true\n   *\n   * _.isNative(_);\n   * // => false\n   */\n  function isNative(value) {\n    if (value == null) {\n      return false;\n    }\n    if (isFunction(value)) {\n      return reIsNative.test(fnToString.call(value));\n    }\n    return isObjectLike(value) && (isHostObject(value) ? reIsNative : reIsHostCtor).test(value);\n  }\n\n  module.exports = isNative;\n\n},{\"../internal/isHostObject\":22,\"../internal/isObjectLike\":26,\"./isFunction\":31}],33:[function(_dereq_,module,exports){\n  /**\n   * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n   * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n   *\n   * @static\n   * @memberOf _\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n   * @example\n   *\n   * _.isObject({});\n   * // => true\n   *\n   * _.isObject([1, 2, 3]);\n   * // => true\n   *\n   * _.isObject(1);\n   * // => false\n   */\n  function isObject(value) {\n    // Avoid a V8 JIT bug in Chrome 19-20.\n    // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n    var type = typeof value;\n    return !!value && (type == 'object' || type == 'function');\n  }\n\n  module.exports = isObject;\n\n},{}],34:[function(_dereq_,module,exports){\n  var baseForIn = _dereq_('../internal/baseForIn'),\n    isArguments = _dereq_('./isArguments'),\n    isHostObject = _dereq_('../internal/isHostObject'),\n    isObjectLike = _dereq_('../internal/isObjectLike'),\n    support = _dereq_('../support');\n\n  /** `Object#toString` result references. */\n  var objectTag = '[object Object]';\n\n  /** Used for native method references. */\n  var objectProto = Object.prototype;\n\n  /** Used to check objects for own properties. */\n  var hasOwnProperty = objectProto.hasOwnProperty;\n\n  /**\n   * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n   * of values.\n   */\n  var objToString = objectProto.toString;\n\n  /**\n   * Checks if `value` is a plain object, that is, an object created by the\n   * `Object` constructor or one with a `[[Prototype]]` of `null`.\n   *\n   * **Note:** This method assumes objects created by the `Object` constructor\n   * have no inherited enumerable properties.\n   *\n   * @static\n   * @memberOf _\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n   * @example\n   *\n   * function Foo() {\n *   this.a = 1;\n * }\n   *\n   * _.isPlainObject(new Foo);\n   * // => false\n   *\n   * _.isPlainObject([1, 2, 3]);\n   * // => false\n   *\n   * _.isPlainObject({ 'x': 0, 'y': 0 });\n   * // => true\n   *\n   * _.isPlainObject(Object.create(null));\n   * // => true\n   */\n  function isPlainObject(value) {\n    var Ctor;\n\n    // Exit early for non `Object` objects.\n    if (!(isObjectLike(value) && objToString.call(value) == objectTag && !isHostObject(value) && !isArguments(value)) ||\n      (!hasOwnProperty.call(value, 'constructor') && (Ctor = value.constructor, typeof Ctor == 'function' && !(Ctor instanceof Ctor)))) {\n      return false;\n    }\n    // IE < 9 iterates inherited properties before own properties. If the first\n    // iterated property is an object's own property then there are no inherited\n    // enumerable properties.\n    var result;\n    if (support.ownLast) {\n      baseForIn(value, function(subValue, key, object) {\n        result = hasOwnProperty.call(object, key);\n        return false;\n      });\n      return result !== false;\n    }\n    // In most environments an object's own properties are iterated before\n    // its inherited properties. If the last iterated property is an object's\n    // own property then there are no inherited enumerable properties.\n    baseForIn(value, function(subValue, key) {\n      result = key;\n    });\n    return result === undefined || hasOwnProperty.call(value, result);\n  }\n\n  module.exports = isPlainObject;\n\n},{\"../internal/baseForIn\":12,\"../internal/isHostObject\":22,\"../internal/isObjectLike\":26,\"../support\":41,\"./isArguments\":29}],35:[function(_dereq_,module,exports){\n  var isObjectLike = _dereq_('../internal/isObjectLike');\n\n  /** `Object#toString` result references. */\n  var stringTag = '[object String]';\n\n  /** Used for native method references. */\n  var objectProto = Object.prototype;\n\n  /**\n   * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n   * of values.\n   */\n  var objToString = objectProto.toString;\n\n  /**\n   * Checks if `value` is classified as a `String` primitive or object.\n   *\n   * @static\n   * @memberOf _\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n   * @example\n   *\n   * _.isString('abc');\n   * // => true\n   *\n   * _.isString(1);\n   * // => false\n   */\n  function isString(value) {\n    return typeof value == 'string' || (isObjectLike(value) && objToString.call(value) == stringTag);\n  }\n\n  module.exports = isString;\n\n},{\"../internal/isObjectLike\":26}],36:[function(_dereq_,module,exports){\n  var isLength = _dereq_('../internal/isLength'),\n    isObjectLike = _dereq_('../internal/isObjectLike');\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n    typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n      typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n        typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n          typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n    typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n      typedArrayTags[dateTag] = typedArrayTags[errorTag] =\n        typedArrayTags[funcTag] = typedArrayTags[mapTag] =\n          typedArrayTags[numberTag] = typedArrayTags[objectTag] =\n            typedArrayTags[regexpTag] = typedArrayTags[setTag] =\n              typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\n\n  /** Used for native method references. */\n  var objectProto = Object.prototype;\n\n  /**\n   * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n   * of values.\n   */\n  var objToString = objectProto.toString;\n\n  /**\n   * Checks if `value` is classified as a typed array.\n   *\n   * @static\n   * @memberOf _\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n   * @example\n   *\n   * _.isTypedArray(new Uint8Array);\n   * // => true\n   *\n   * _.isTypedArray([]);\n   * // => false\n   */\n  function isTypedArray(value) {\n    return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[objToString.call(value)];\n  }\n\n  module.exports = isTypedArray;\n\n},{\"../internal/isLength\":25,\"../internal/isObjectLike\":26}],37:[function(_dereq_,module,exports){\n  var baseCopy = _dereq_('../internal/baseCopy'),\n    keysIn = _dereq_('../object/keysIn');\n\n  /**\n   * Converts `value` to a plain object flattening inherited enumerable\n   * properties of `value` to own properties of the plain object.\n   *\n   * @static\n   * @memberOf _\n   * @category Lang\n   * @param {*} value The value to convert.\n   * @returns {Object} Returns the converted plain object.\n   * @example\n   *\n   * function Foo() {\n *   this.b = 2;\n * }\n   *\n   * Foo.prototype.c = 3;\n   *\n   * _.assign({ 'a': 1 }, new Foo);\n   * // => { 'a': 1, 'b': 2 }\n   *\n   * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n   * // => { 'a': 1, 'b': 2, 'c': 3 }\n   */\n  function toPlainObject(value) {\n    return baseCopy(value, keysIn(value));\n  }\n\n  module.exports = toPlainObject;\n\n},{\"../internal/baseCopy\":10,\"../object/keysIn\":39}],38:[function(_dereq_,module,exports){\n  var getNative = _dereq_('../internal/getNative'),\n    isArrayLike = _dereq_('../internal/isArrayLike'),\n    isObject = _dereq_('../lang/isObject'),\n    shimKeys = _dereq_('../internal/shimKeys'),\n    support = _dereq_('../support');\n\n  /* Native method references for those with the same name as other `lodash` methods. */\n  var nativeKeys = getNative(Object, 'keys');\n\n  /**\n   * Creates an array of the own enumerable property names of `object`.\n   *\n   * **Note:** Non-object values are coerced to objects. See the\n   * [ES spec](http://ecma-international.org/ecma-262/6.0/#sec-object.keys)\n   * for more details.\n   *\n   * @static\n   * @memberOf _\n   * @category Object\n   * @param {Object} object The object to query.\n   * @returns {Array} Returns the array of property names.\n   * @example\n   *\n   * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n   *\n   * Foo.prototype.c = 3;\n   *\n   * _.keys(new Foo);\n   * // => ['a', 'b'] (iteration order is not guaranteed)\n   *\n   * _.keys('hi');\n   * // => ['0', '1']\n   */\n  var keys = !nativeKeys ? shimKeys : function(object) {\n    var Ctor = object == null ? undefined : object.constructor;\n    if ((typeof Ctor == 'function' && Ctor.prototype === object) ||\n      (typeof object == 'function' ? support.enumPrototypes : isArrayLike(object))) {\n      return shimKeys(object);\n    }\n    return isObject(object) ? nativeKeys(object) : [];\n  };\n\n  module.exports = keys;\n\n},{\"../internal/getNative\":20,\"../internal/isArrayLike\":21,\"../internal/shimKeys\":27,\"../lang/isObject\":33,\"../support\":41}],39:[function(_dereq_,module,exports){\n  var arrayEach = _dereq_('../internal/arrayEach'),\n    isArguments = _dereq_('../lang/isArguments'),\n    isArray = _dereq_('../lang/isArray'),\n    isFunction = _dereq_('../lang/isFunction'),\n    isIndex = _dereq_('../internal/isIndex'),\n    isLength = _dereq_('../internal/isLength'),\n    isObject = _dereq_('../lang/isObject'),\n    isString = _dereq_('../lang/isString'),\n    support = _dereq_('../support');\n\n  /** `Object#toString` result references. */\n  var arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    stringTag = '[object String]';\n\n  /** Used to fix the JScript `[[DontEnum]]` bug. */\n  var shadowProps = [\n    'constructor', 'hasOwnProperty', 'isPrototypeOf', 'propertyIsEnumerable',\n    'toLocaleString', 'toString', 'valueOf'\n  ];\n\n  /** Used for native method references. */\n  var errorProto = Error.prototype,\n    objectProto = Object.prototype,\n    stringProto = String.prototype;\n\n  /** Used to check objects for own properties. */\n  var hasOwnProperty = objectProto.hasOwnProperty;\n\n  /**\n   * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n   * of values.\n   */\n  var objToString = objectProto.toString;\n\n  /** Used to avoid iterating over non-enumerable properties in IE < 9. */\n  var nonEnumProps = {};\n  nonEnumProps[arrayTag] = nonEnumProps[dateTag] = nonEnumProps[numberTag] = { 'constructor': true, 'toLocaleString': true, 'toString': true, 'valueOf': true };\n  nonEnumProps[boolTag] = nonEnumProps[stringTag] = { 'constructor': true, 'toString': true, 'valueOf': true };\n  nonEnumProps[errorTag] = nonEnumProps[funcTag] = nonEnumProps[regexpTag] = { 'constructor': true, 'toString': true };\n  nonEnumProps[objectTag] = { 'constructor': true };\n\n  arrayEach(shadowProps, function(key) {\n    for (var tag in nonEnumProps) {\n      if (hasOwnProperty.call(nonEnumProps, tag)) {\n        var props = nonEnumProps[tag];\n        props[key] = hasOwnProperty.call(props, key);\n      }\n    }\n  });\n\n  /**\n   * Creates an array of the own and inherited enumerable property names of `object`.\n   *\n   * **Note:** Non-object values are coerced to objects.\n   *\n   * @static\n   * @memberOf _\n   * @category Object\n   * @param {Object} object The object to query.\n   * @returns {Array} Returns the array of property names.\n   * @example\n   *\n   * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n   *\n   * Foo.prototype.c = 3;\n   *\n   * _.keysIn(new Foo);\n   * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n   */\n  function keysIn(object) {\n    if (object == null) {\n      return [];\n    }\n    if (!isObject(object)) {\n      object = Object(object);\n    }\n    var length = object.length;\n\n    length = (length && isLength(length) &&\n    (isArray(object) || isArguments(object) || isString(object)) && length) || 0;\n\n    var Ctor = object.constructor,\n      index = -1,\n      proto = (isFunction(Ctor) && Ctor.prototype) || objectProto,\n      isProto = proto === object,\n      result = Array(length),\n      skipIndexes = length > 0,\n      skipErrorProps = support.enumErrorProps && (object === errorProto || object instanceof Error),\n      skipProto = support.enumPrototypes && isFunction(object);\n\n    while (++index < length) {\n      result[index] = (index + '');\n    }\n    // lodash skips the `constructor` property when it infers it's iterating\n    // over a `prototype` object because IE < 9 can't set the `[[Enumerable]]`\n    // attribute of an existing property and the `constructor` property of a\n    // prototype defaults to non-enumerable.\n    for (var key in object) {\n      if (!(skipProto && key == 'prototype') &&\n        !(skipErrorProps && (key == 'message' || key == 'name')) &&\n        !(skipIndexes && isIndex(key, length)) &&\n        !(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n        result.push(key);\n      }\n    }\n    if (support.nonEnumShadows && object !== objectProto) {\n      var tag = object === stringProto ? stringTag : (object === errorProto ? errorTag : objToString.call(object)),\n        nonEnums = nonEnumProps[tag] || nonEnumProps[objectTag];\n\n      if (tag == objectTag) {\n        proto = objectProto;\n      }\n      length = shadowProps.length;\n      while (length--) {\n        key = shadowProps[length];\n        var nonEnum = nonEnums[key];\n        if (!(isProto && nonEnum) &&\n          (nonEnum ? hasOwnProperty.call(object, key) : object[key] !== proto[key])) {\n          result.push(key);\n        }\n      }\n    }\n    return result;\n  }\n\n  module.exports = keysIn;\n\n},{\"../internal/arrayEach\":9,\"../internal/isIndex\":23,\"../internal/isLength\":25,\"../lang/isArguments\":29,\"../lang/isArray\":30,\"../lang/isFunction\":31,\"../lang/isObject\":33,\"../lang/isString\":35,\"../support\":41}],40:[function(_dereq_,module,exports){\n  var baseMerge = _dereq_('../internal/baseMerge'),\n    createAssigner = _dereq_('../internal/createAssigner');\n\n  /**\n   * Recursively merges own enumerable properties of the source object(s), that\n   * don't resolve to `undefined` into the destination object. Subsequent sources\n   * overwrite property assignments of previous sources. If `customizer` is\n   * provided it's invoked to produce the merged values of the destination and\n   * source properties. If `customizer` returns `undefined` merging is handled\n   * by the method instead. The `customizer` is bound to `thisArg` and invoked\n   * with five arguments: (objectValue, sourceValue, key, object, source).\n   *\n   * @static\n   * @memberOf _\n   * @category Object\n   * @param {Object} object The destination object.\n   * @param {...Object} [sources] The source objects.\n   * @param {Function} [customizer] The function to customize assigned values.\n   * @param {*} [thisArg] The `this` binding of `customizer`.\n   * @returns {Object} Returns `object`.\n   * @example\n   *\n   * var users = {\n *   'data': [{ 'user': 'barney' }, { 'user': 'fred' }]\n * };\n   *\n   * var ages = {\n *   'data': [{ 'age': 36 }, { 'age': 40 }]\n * };\n   *\n   * _.merge(users, ages);\n   * // => { 'data': [{ 'user': 'barney', 'age': 36 }, { 'user': 'fred', 'age': 40 }] }\n   *\n   * // using a customizer callback\n   * var object = {\n *   'fruits': ['apple'],\n *   'vegetables': ['beet']\n * };\n   *\n   * var other = {\n *   'fruits': ['banana'],\n *   'vegetables': ['carrot']\n * };\n   *\n   * _.merge(object, other, function(a, b) {\n *   if (_.isArray(a)) {\n *     return a.concat(b);\n *   }\n * });\n   * // => { 'fruits': ['apple', 'banana'], 'vegetables': ['beet', 'carrot'] }\n   */\n  var merge = createAssigner(baseMerge);\n\n  module.exports = merge;\n\n},{\"../internal/baseMerge\":13,\"../internal/createAssigner\":17}],41:[function(_dereq_,module,exports){\n  /** Used for native method references. */\n  var arrayProto = Array.prototype,\n    errorProto = Error.prototype,\n    objectProto = Object.prototype;\n\n  /** Native method references. */\n  var propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice;\n\n  /**\n   * An object environment feature flags.\n   *\n   * @static\n   * @memberOf _\n   * @type Object\n   */\n  var support = {};\n\n  (function(x) {\n    var Ctor = function() { this.x = x; },\n      object = { '0': x, 'length': x },\n      props = [];\n\n    Ctor.prototype = { 'valueOf': x, 'y': x };\n    for (var key in new Ctor) { props.push(key); }\n\n    /**\n     * Detect if `name` or `message` properties of `Error.prototype` are\n     * enumerable by default (IE < 9, Safari < 5.1).\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.enumErrorProps = propertyIsEnumerable.call(errorProto, 'message') ||\n    propertyIsEnumerable.call(errorProto, 'name');\n\n    /**\n     * Detect if `prototype` properties are enumerable by default.\n     *\n     * Firefox < 3.6, Opera > 9.50 - Opera < 11.60, and Safari < 5.1\n     * (if the prototype or a property on the prototype has been set)\n     * incorrectly set the `[[Enumerable]]` value of a function's `prototype`\n     * property to `true`.\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.enumPrototypes = propertyIsEnumerable.call(Ctor, 'prototype');\n\n    /**\n     * Detect if properties shadowing those on `Object.prototype` are non-enumerable.\n     *\n     * In IE < 9 an object's own properties, shadowing non-enumerable ones,\n     * are made non-enumerable as well (a.k.a the JScript `[[DontEnum]]` bug).\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.nonEnumShadows = !/valueOf/.test(props);\n\n    /**\n     * Detect if own properties are iterated after inherited properties (IE < 9).\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.ownLast = props[0] != 'x';\n\n    /**\n     * Detect if `Array#shift` and `Array#splice` augment array-like objects\n     * correctly.\n     *\n     * Firefox < 10, compatibility modes of IE 8, and IE < 9 have buggy Array\n     * `shift()` and `splice()` functions that fail to remove the last element,\n     * `value[0]`, of array-like objects even though the \"length\" property is\n     * set to `0`. The `shift()` method is buggy in compatibility modes of IE 8,\n     * while `splice()` is buggy regardless of mode in IE < 9.\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.spliceObjects = (splice.call(object, 0, 1), !object[0]);\n\n    /**\n     * Detect lack of support for accessing string characters by index.\n     *\n     * IE < 8 can't access characters by index. IE 8 can only access characters\n     * by index on string literals, not string objects.\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.unindexedChars = ('x'[0] + Object('x')[0]) != 'xx';\n  }(1, 0));\n\n  module.exports = support;\n\n},{}],42:[function(_dereq_,module,exports){\n  /**\n   * This method returns the first argument provided to it.\n   *\n   * @static\n   * @memberOf _\n   * @category Utility\n   * @param {*} value Any value.\n   * @returns {*} Returns `value`.\n   * @example\n   *\n   * var object = { 'user': 'fred' };\n   *\n   * _.identity(object) === object;\n   * // => true\n   */\n  function identity(value) {\n    return value;\n  }\n\n  module.exports = identity;\n\n},{}],43:[function(_dereq_,module,exports){\n  'use strict';\n\n  var keys = _dereq_('object-keys');\n\n  module.exports = function hasSymbols() {\n    if (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n    if (typeof Symbol.iterator === 'symbol') { return true; }\n\n    var obj = {};\n    var sym = Symbol('test');\n    if (typeof sym === 'string') { return false; }\n\n    // temp disabled per https://github.com/ljharb/object.assign/issues/17\n    // if (sym instanceof Symbol) { return false; }\n    // temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n    // if (!(Object(sym) instanceof Symbol)) { return false; }\n\n    var symVal = 42;\n    obj[sym] = symVal;\n    for (sym in obj) { return false; }\n    if (keys(obj).length !== 0) { return false; }\n    if (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n    if (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n    var syms = Object.getOwnPropertySymbols(obj);\n    if (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n    if (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n    if (typeof Object.getOwnPropertyDescriptor === 'function') {\n      var descriptor = Object.getOwnPropertyDescriptor(obj, sym);\n      if (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n    }\n\n    return true;\n  };\n\n},{\"object-keys\":50}],44:[function(_dereq_,module,exports){\n  'use strict';\n\n// modified from https://github.com/es-shims/es6-shim\n  var keys = _dereq_('object-keys');\n  var bind = _dereq_('function-bind');\n  var canBeObject = function (obj) {\n    return typeof obj !== 'undefined' && obj !== null;\n  };\n  var hasSymbols = _dereq_('./hasSymbols')();\n  var toObject = Object;\n  var push = bind.call(Function.call, Array.prototype.push);\n  var propIsEnumerable = bind.call(Function.call, Object.prototype.propertyIsEnumerable);\n\n  module.exports = function assign(target, source1) {\n    if (!canBeObject(target)) { throw new TypeError('target must be an object'); }\n    var objTarget = toObject(target);\n    var s, source, i, props, syms, value, key;\n    for (s = 1; s < arguments.length; ++s) {\n      source = toObject(arguments[s]);\n      props = keys(source);\n      if (hasSymbols && Object.getOwnPropertySymbols) {\n        syms = Object.getOwnPropertySymbols(source);\n        for (i = 0; i < syms.length; ++i) {\n          key = syms[i];\n          if (propIsEnumerable(source, key)) {\n            push(props, key);\n          }\n        }\n      }\n      for (i = 0; i < props.length; ++i) {\n        key = props[i];\n        value = source[key];\n        if (propIsEnumerable(source, key)) {\n          objTarget[key] = value;\n        }\n      }\n    }\n    return objTarget;\n  };\n\n},{\"./hasSymbols\":43,\"function-bind\":49,\"object-keys\":50}],45:[function(_dereq_,module,exports){\n  'use strict';\n\n  var defineProperties = _dereq_('define-properties');\n\n  var implementation = _dereq_('./implementation');\n  var getPolyfill = _dereq_('./polyfill');\n  var shim = _dereq_('./shim');\n\n  defineProperties(implementation, {\n    implementation: implementation,\n    getPolyfill: getPolyfill,\n    shim: shim\n  });\n\n  module.exports = implementation;\n\n},{\"./implementation\":44,\"./polyfill\":52,\"./shim\":53,\"define-properties\":46}],46:[function(_dereq_,module,exports){\n  'use strict';\n\n  var keys = _dereq_('object-keys');\n  var foreach = _dereq_('foreach');\n  var hasSymbols = typeof Symbol === 'function' && typeof Symbol() === 'symbol';\n\n  var toStr = Object.prototype.toString;\n\n  var isFunction = function (fn) {\n    return typeof fn === 'function' && toStr.call(fn) === '[object Function]';\n  };\n\n  var arePropertyDescriptorsSupported = function () {\n    var obj = {};\n    try {\n      Object.defineProperty(obj, 'x', { enumerable: false, value: obj });\n      /* eslint-disable no-unused-vars, no-restricted-syntax */\n      for (var _ in obj) { return false; }\n      /* eslint-enable no-unused-vars, no-restricted-syntax */\n      return obj.x === obj;\n    } catch (e) { /* this is IE 8. */\n      return false;\n    }\n  };\n  var supportsDescriptors = Object.defineProperty && arePropertyDescriptorsSupported();\n\n  var defineProperty = function (object, name, value, predicate) {\n    if (name in object && (!isFunction(predicate) || !predicate())) {\n      return;\n    }\n    if (supportsDescriptors) {\n      Object.defineProperty(object, name, {\n        configurable: true,\n        enumerable: false,\n        value: value,\n        writable: true\n      });\n    } else {\n      object[name] = value;\n    }\n  };\n\n  var defineProperties = function (object, map) {\n    var predicates = arguments.length > 2 ? arguments[2] : {};\n    var props = keys(map);\n    if (hasSymbols) {\n      props = props.concat(Object.getOwnPropertySymbols(map));\n    }\n    foreach(props, function (name) {\n      defineProperty(object, name, map[name], predicates[name]);\n    });\n  };\n\n  defineProperties.supportsDescriptors = !!supportsDescriptors;\n\n  module.exports = defineProperties;\n\n},{\"foreach\":47,\"object-keys\":50}],47:[function(_dereq_,module,exports){\n\n  var hasOwn = Object.prototype.hasOwnProperty;\n  var toString = Object.prototype.toString;\n\n  module.exports = function forEach (obj, fn, ctx) {\n    if (toString.call(fn) !== '[object Function]') {\n      throw new TypeError('iterator must be a function');\n    }\n    var l = obj.length;\n    if (l === +l) {\n      for (var i = 0; i < l; i++) {\n        fn.call(ctx, obj[i], i, obj);\n      }\n    } else {\n      for (var k in obj) {\n        if (hasOwn.call(obj, k)) {\n          fn.call(ctx, obj[k], k, obj);\n        }\n      }\n    }\n  };\n\n\n},{}],48:[function(_dereq_,module,exports){\n  var ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\n  var slice = Array.prototype.slice;\n  var toStr = Object.prototype.toString;\n  var funcType = '[object Function]';\n\n  module.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.call(target) !== funcType) {\n      throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slice.call(arguments, 1);\n\n    var bound;\n    var binder = function () {\n      if (this instanceof bound) {\n        var result = target.apply(\n          this,\n          args.concat(slice.call(arguments))\n        );\n        if (Object(result) === result) {\n          return result;\n        }\n        return this;\n      } else {\n        return target.apply(\n          that,\n          args.concat(slice.call(arguments))\n        );\n      }\n    };\n\n    var boundLength = Math.max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n      boundArgs.push('$' + i);\n    }\n\n    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n      var Empty = function Empty() {};\n      Empty.prototype = target.prototype;\n      bound.prototype = new Empty();\n      Empty.prototype = null;\n    }\n\n    return bound;\n  };\n\n},{}],49:[function(_dereq_,module,exports){\n  var implementation = _dereq_('./implementation');\n\n  module.exports = Function.prototype.bind || implementation;\n\n},{\"./implementation\":48}],50:[function(_dereq_,module,exports){\n  'use strict';\n\n// modified from https://github.com/es-shims/es5-shim\n  var has = Object.prototype.hasOwnProperty;\n  var toStr = Object.prototype.toString;\n  var slice = Array.prototype.slice;\n  var isArgs = _dereq_('./isArguments');\n  var isEnumerable = Object.prototype.propertyIsEnumerable;\n  var hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');\n  var hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\n  var dontEnums = [\n    'toString',\n    'toLocaleString',\n    'valueOf',\n    'hasOwnProperty',\n    'isPrototypeOf',\n    'propertyIsEnumerable',\n    'constructor'\n  ];\n  var equalsConstructorPrototype = function (o) {\n    var ctor = o.constructor;\n    return ctor && ctor.prototype === o;\n  };\n  var excludedKeys = {\n    $console: true,\n    $external: true,\n    $frame: true,\n    $frameElement: true,\n    $frames: true,\n    $innerHeight: true,\n    $innerWidth: true,\n    $outerHeight: true,\n    $outerWidth: true,\n    $pageXOffset: true,\n    $pageYOffset: true,\n    $parent: true,\n    $scrollLeft: true,\n    $scrollTop: true,\n    $scrollX: true,\n    $scrollY: true,\n    $self: true,\n    $webkitIndexedDB: true,\n    $webkitStorageInfo: true,\n    $window: true\n  };\n  var hasAutomationEqualityBug = (function () {\n    /* global window */\n    if (typeof window === 'undefined') { return false; }\n    for (var k in window) {\n      try {\n        if (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n          try {\n            equalsConstructorPrototype(window[k]);\n          } catch (e) {\n            return true;\n          }\n        }\n      } catch (e) {\n        return true;\n      }\n    }\n    return false;\n  }());\n  var equalsConstructorPrototypeIfNotBuggy = function (o) {\n    /* global window */\n    if (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n      return equalsConstructorPrototype(o);\n    }\n    try {\n      return equalsConstructorPrototype(o);\n    } catch (e) {\n      return false;\n    }\n  };\n\n  var keysShim = function keys(object) {\n    var isObject = object !== null && typeof object === 'object';\n    var isFunction = toStr.call(object) === '[object Function]';\n    var isArguments = isArgs(object);\n    var isString = isObject && toStr.call(object) === '[object String]';\n    var theKeys = [];\n\n    if (!isObject && !isFunction && !isArguments) {\n      throw new TypeError('Object.keys called on a non-object');\n    }\n\n    var skipProto = hasProtoEnumBug && isFunction;\n    if (isString && object.length > 0 && !has.call(object, 0)) {\n      for (var i = 0; i < object.length; ++i) {\n        theKeys.push(String(i));\n      }\n    }\n\n    if (isArguments && object.length > 0) {\n      for (var j = 0; j < object.length; ++j) {\n        theKeys.push(String(j));\n      }\n    } else {\n      for (var name in object) {\n        if (!(skipProto && name === 'prototype') && has.call(object, name)) {\n          theKeys.push(String(name));\n        }\n      }\n    }\n\n    if (hasDontEnumBug) {\n      var skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n      for (var k = 0; k < dontEnums.length; ++k) {\n        if (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n          theKeys.push(dontEnums[k]);\n        }\n      }\n    }\n    return theKeys;\n  };\n\n  keysShim.shim = function shimObjectKeys() {\n    if (Object.keys) {\n      var keysWorksWithArguments = (function () {\n        // Safari 5.0 bug\n        return (Object.keys(arguments) || '').length === 2;\n      }(1, 2));\n      if (!keysWorksWithArguments) {\n        var originalKeys = Object.keys;\n        Object.keys = function keys(object) {\n          if (isArgs(object)) {\n            return originalKeys(slice.call(object));\n          } else {\n            return originalKeys(object);\n          }\n        };\n      }\n    } else {\n      Object.keys = keysShim;\n    }\n    return Object.keys || keysShim;\n  };\n\n  module.exports = keysShim;\n\n},{\"./isArguments\":51}],51:[function(_dereq_,module,exports){\n  'use strict';\n\n  var toStr = Object.prototype.toString;\n\n  module.exports = function isArguments(value) {\n    var str = toStr.call(value);\n    var isArgs = str === '[object Arguments]';\n    if (!isArgs) {\n      isArgs = str !== '[object Array]' &&\n      value !== null &&\n      typeof value === 'object' &&\n      typeof value.length === 'number' &&\n      value.length >= 0 &&\n      toStr.call(value.callee) === '[object Function]';\n    }\n    return isArgs;\n  };\n\n},{}],52:[function(_dereq_,module,exports){\n  'use strict';\n\n  var implementation = _dereq_('./implementation');\n\n  var lacksProperEnumerationOrder = function () {\n    if (!Object.assign) {\n      return false;\n    }\n    // v8, specifically in node 4.x, has a bug with incorrect property enumeration order\n    // note: this does not detect the bug unless there's 20 characters\n    var str = 'abcdefghijklmnopqrst';\n    var letters = str.split('');\n    var map = {};\n    for (var i = 0; i < letters.length; ++i) {\n      map[letters[i]] = letters[i];\n    }\n    var obj = Object.assign({}, map);\n    var actual = '';\n    for (var k in obj) {\n      actual += k;\n    }\n    return str !== actual;\n  };\n\n  var assignHasPendingExceptions = function () {\n    if (!Object.assign || !Object.preventExtensions) {\n      return false;\n    }\n    // Firefox 37 still has \"pending exception\" logic in its Object.assign implementation,\n    // which is 72% slower than our shim, and Firefox 40's native implementation.\n    var thrower = Object.preventExtensions({ 1: 2 });\n    try {\n      Object.assign(thrower, 'xy');\n    } catch (e) {\n      return thrower[1] === 'y';\n    }\n  };\n\n  module.exports = function getPolyfill() {\n    if (!Object.assign) {\n      return implementation;\n    }\n    if (lacksProperEnumerationOrder()) {\n      return implementation;\n    }\n    if (assignHasPendingExceptions()) {\n      return implementation;\n    }\n    return Object.assign;\n  };\n\n},{\"./implementation\":44}],53:[function(_dereq_,module,exports){\n  'use strict';\n\n  var define = _dereq_('define-properties');\n  var getPolyfill = _dereq_('./polyfill');\n\n  module.exports = function shimAssign() {\n    var polyfill = getPolyfill();\n    define(\n      Object,\n      { assign: polyfill },\n      { assign: function () { return Object.assign !== polyfill; } }\n    );\n    return polyfill;\n  };\n\n},{\"./polyfill\":52,\"define-properties\":46}],54:[function(_dereq_,module,exports){\n  module.exports = SafeParseTuple\n\n  function SafeParseTuple(obj, reviver) {\n    var json\n    var error = null\n\n    try {\n      json = JSON.parse(obj, reviver)\n    } catch (err) {\n      error = err\n    }\n\n    return [error, json]\n  }\n\n},{}],55:[function(_dereq_,module,exports){\n  function clean (s) {\n    return s.replace(/\\n\\r?\\s*/g, '')\n  }\n\n\n  module.exports = function tsml (sa) {\n    var s = ''\n      , i = 0\n\n    for (; i < arguments.length; i++)\n      s += clean(sa[i]) + (arguments[i + 1] || '')\n\n    return s\n  }\n},{}],56:[function(_dereq_,module,exports){\n  \"use strict\";\n  var window = _dereq_(\"global/window\")\n  var once = _dereq_(\"once\")\n  var isFunction = _dereq_(\"is-function\")\n  var parseHeaders = _dereq_(\"parse-headers\")\n  var xtend = _dereq_(\"xtend\")\n\n  module.exports = createXHR\n  createXHR.XMLHttpRequest = window.XMLHttpRequest || noop\n  createXHR.XDomainRequest = \"withCredentials\" in (new createXHR.XMLHttpRequest()) ? createXHR.XMLHttpRequest : window.XDomainRequest\n\n  forEachArray([\"get\", \"put\", \"post\", \"patch\", \"head\", \"delete\"], function(method) {\n    createXHR[method === \"delete\" ? \"del\" : method] = function(uri, options, callback) {\n      options = initParams(uri, options, callback)\n      options.method = method.toUpperCase()\n      return _createXHR(options)\n    }\n  })\n\n  function forEachArray(array, iterator) {\n    for (var i = 0; i < array.length; i++) {\n      iterator(array[i])\n    }\n  }\n\n  function isEmpty(obj){\n    for(var i in obj){\n      if(obj.hasOwnProperty(i)) return false\n    }\n    return true\n  }\n\n  function initParams(uri, options, callback) {\n    var params = uri\n\n    if (isFunction(options)) {\n      callback = options\n      if (typeof uri === \"string\") {\n        params = {uri:uri}\n      }\n    } else {\n      params = xtend(options, {uri: uri})\n    }\n\n    params.callback = callback\n    return params\n  }\n\n  function createXHR(uri, options, callback) {\n    options = initParams(uri, options, callback)\n    return _createXHR(options)\n  }\n\n  function _createXHR(options) {\n    var callback = options.callback\n    if(typeof callback === \"undefined\"){\n      throw new Error(\"callback argument missing\")\n    }\n    callback = once(callback)\n\n    function readystatechange() {\n      if (xhr.readyState === 4) {\n        loadFunc()\n      }\n    }\n\n    function getBody() {\n      // Chrome with requestType=blob throws errors arround when even testing access to responseText\n      var body = undefined\n\n      if (xhr.response) {\n        body = xhr.response\n      } else if (xhr.responseType === \"text\" || !xhr.responseType) {\n        body = xhr.responseText || xhr.responseXML\n      }\n\n      if (isJson) {\n        try {\n          body = JSON.parse(body)\n        } catch (e) {}\n      }\n\n      return body\n    }\n\n    var failureResponse = {\n      body: undefined,\n      headers: {},\n      statusCode: 0,\n      method: method,\n      url: uri,\n      rawRequest: xhr\n    }\n\n    function errorFunc(evt) {\n      clearTimeout(timeoutTimer)\n      if(!(evt instanceof Error)){\n        evt = new Error(\"\" + (evt || \"Unknown XMLHttpRequest Error\") )\n      }\n      evt.statusCode = 0\n      callback(evt, failureResponse)\n    }\n\n    // will load the data & process the response in a special response object\n    function loadFunc() {\n      if (aborted) return\n      var status\n      clearTimeout(timeoutTimer)\n      if(options.useXDR && xhr.status===undefined) {\n        //IE8 CORS GET successful response doesn't have a status field, but body is fine\n        status = 200\n      } else {\n        status = (xhr.status === 1223 ? 204 : xhr.status)\n      }\n      var response = failureResponse\n      var err = null\n\n      if (status !== 0){\n        response = {\n          body: getBody(),\n          statusCode: status,\n          method: method,\n          headers: {},\n          url: uri,\n          rawRequest: xhr\n        }\n        if(xhr.getAllResponseHeaders){ //remember xhr can in fact be XDR for CORS in IE\n          response.headers = parseHeaders(xhr.getAllResponseHeaders())\n        }\n      } else {\n        err = new Error(\"Internal XMLHttpRequest Error\")\n      }\n      callback(err, response, response.body)\n\n    }\n\n    var xhr = options.xhr || null\n\n    if (!xhr) {\n      if (options.cors || options.useXDR) {\n        xhr = new createXHR.XDomainRequest()\n      }else{\n        xhr = new createXHR.XMLHttpRequest()\n      }\n    }\n\n    var key\n    var aborted\n    var uri = xhr.url = options.uri || options.url\n    var method = xhr.method = options.method || \"GET\"\n    var body = options.body || options.data || null\n    var headers = xhr.headers = options.headers || {}\n    var sync = !!options.sync\n    var isJson = false\n    var timeoutTimer\n\n    if (\"json\" in options) {\n      isJson = true\n      headers[\"accept\"] || headers[\"Accept\"] || (headers[\"Accept\"] = \"application/json\") //Don't override existing accept header declared by user\n      if (method !== \"GET\" && method !== \"HEAD\") {\n        headers[\"content-type\"] || headers[\"Content-Type\"] || (headers[\"Content-Type\"] = \"application/json\") //Don't override existing accept header declared by user\n        body = JSON.stringify(options.json)\n      }\n    }\n\n    xhr.onreadystatechange = readystatechange\n    xhr.onload = loadFunc\n    xhr.onerror = errorFunc\n    // IE9 must have onprogress be set to a unique function.\n    xhr.onprogress = function () {\n      // IE must die\n    }\n    xhr.ontimeout = errorFunc\n    xhr.open(method, uri, !sync, options.username, options.password)\n    //has to be after open\n    if(!sync) {\n      xhr.withCredentials = !!options.withCredentials\n    }\n    // Cannot set timeout with sync request\n    // not setting timeout on the xhr object, because of old webkits etc. not handling that correctly\n    // both npm's request and jquery 1.x use this kind of timeout, so this is being consistent\n    if (!sync && options.timeout > 0 ) {\n      timeoutTimer = setTimeout(function(){\n        aborted=true//IE9 may still call readystatechange\n        xhr.abort(\"timeout\")\n        var e = new Error(\"XMLHttpRequest timeout\")\n        e.code = \"ETIMEDOUT\"\n        errorFunc(e)\n      }, options.timeout )\n    }\n\n    if (xhr.setRequestHeader) {\n      for(key in headers){\n        if(headers.hasOwnProperty(key)){\n          xhr.setRequestHeader(key, headers[key])\n        }\n      }\n    } else if (options.headers && !isEmpty(options.headers)) {\n      throw new Error(\"Headers cannot be set on an XDomainRequest object\")\n    }\n\n    if (\"responseType\" in options) {\n      xhr.responseType = options.responseType\n    }\n\n    if (\"beforeSend\" in options &&\n      typeof options.beforeSend === \"function\"\n    ) {\n      options.beforeSend(xhr)\n    }\n\n    xhr.send(body)\n\n    return xhr\n\n\n  }\n\n  function noop() {}\n\n},{\"global/window\":2,\"is-function\":57,\"once\":58,\"parse-headers\":61,\"xtend\":62}],57:[function(_dereq_,module,exports){\n  module.exports = isFunction\n\n  var toString = Object.prototype.toString\n\n  function isFunction (fn) {\n    var string = toString.call(fn)\n    return string === '[object Function]' ||\n      (typeof fn === 'function' && string !== '[object RegExp]') ||\n      (typeof window !== 'undefined' &&\n        // IE8 and below\n      (fn === window.setTimeout ||\n      fn === window.alert ||\n      fn === window.confirm ||\n      fn === window.prompt))\n  };\n\n},{}],58:[function(_dereq_,module,exports){\n  module.exports = once\n\n  once.proto = once(function () {\n    Object.defineProperty(Function.prototype, 'once', {\n      value: function () {\n        return once(this)\n      },\n      configurable: true\n    })\n  })\n\n  function once (fn) {\n    var called = false\n    return function () {\n      if (called) return\n      called = true\n      return fn.apply(this, arguments)\n    }\n  }\n\n},{}],59:[function(_dereq_,module,exports){\n  var isFunction = _dereq_('is-function')\n\n  module.exports = forEach\n\n  var toString = Object.prototype.toString\n  var hasOwnProperty = Object.prototype.hasOwnProperty\n\n  function forEach(list, iterator, context) {\n    if (!isFunction(iterator)) {\n      throw new TypeError('iterator must be a function')\n    }\n\n    if (arguments.length < 3) {\n      context = this\n    }\n\n    if (toString.call(list) === '[object Array]')\n      forEachArray(list, iterator, context)\n    else if (typeof list === 'string')\n      forEachString(list, iterator, context)\n    else\n      forEachObject(list, iterator, context)\n  }\n\n  function forEachArray(array, iterator, context) {\n    for (var i = 0, len = array.length; i < len; i++) {\n      if (hasOwnProperty.call(array, i)) {\n        iterator.call(context, array[i], i, array)\n      }\n    }\n  }\n\n  function forEachString(string, iterator, context) {\n    for (var i = 0, len = string.length; i < len; i++) {\n      // no such thing as a sparse string.\n      iterator.call(context, string.charAt(i), i, string)\n    }\n  }\n\n  function forEachObject(object, iterator, context) {\n    for (var k in object) {\n      if (hasOwnProperty.call(object, k)) {\n        iterator.call(context, object[k], k, object)\n      }\n    }\n  }\n\n},{\"is-function\":57}],60:[function(_dereq_,module,exports){\n\n  exports = module.exports = trim;\n\n  function trim(str){\n    return str.replace(/^\\s*|\\s*$/g, '');\n  }\n\n  exports.left = function(str){\n    return str.replace(/^\\s*/, '');\n  };\n\n  exports.right = function(str){\n    return str.replace(/\\s*$/, '');\n  };\n\n},{}],61:[function(_dereq_,module,exports){\n  var trim = _dereq_('trim')\n    , forEach = _dereq_('for-each')\n    , isArray = function(arg) {\n      return Object.prototype.toString.call(arg) === '[object Array]';\n    }\n\n  module.exports = function (headers) {\n    if (!headers)\n      return {}\n\n    var result = {}\n\n    forEach(\n      trim(headers).split('\\n')\n      , function (row) {\n        var index = row.indexOf(':')\n          , key = trim(row.slice(0, index)).toLowerCase()\n          , value = trim(row.slice(index + 1))\n\n        if (typeof(result[key]) === 'undefined') {\n          result[key] = value\n        } else if (isArray(result[key])) {\n          result[key].push(value)\n        } else {\n          result[key] = [ result[key], value ]\n        }\n      }\n    )\n\n    return result\n  }\n},{\"for-each\":59,\"trim\":60}],62:[function(_dereq_,module,exports){\n  module.exports = extend\n\n  var hasOwnProperty = Object.prototype.hasOwnProperty;\n\n  function extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n      var source = arguments[i]\n\n      for (var key in source) {\n        if (hasOwnProperty.call(source, key)) {\n          target[key] = source[key]\n        }\n      }\n    }\n\n    return target\n  }\n\n},{}],63:[function(_dereq_,module,exports){\n  /**\n   * @file big-play-button.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _buttonJs = _dereq_('./button.js');\n\n  var _buttonJs2 = _interopRequireDefault(_buttonJs);\n\n  var _componentJs = _dereq_('./component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  /**\n   * Initial play button. Shows before the video has played. The hiding of the\n   * big play button is done via CSS and player states.\n   *\n   * @param {Object} player  Main Player\n   * @param {Object=} options Object of option names and values\n   * @extends Button\n   * @class BigPlayButton\n   */\n\n  var BigPlayButton = (function (_Button) {\n    _inherits(BigPlayButton, _Button);\n\n    function BigPlayButton(player, options) {\n      _classCallCheck(this, BigPlayButton);\n\n      _Button.call(this, player, options);\n    }\n\n    /**\n     * Allow sub components to stack CSS class names\n     *\n     * @return {String} The constructed class name\n     * @method buildCSSClass\n     */\n\n    BigPlayButton.prototype.buildCSSClass = function buildCSSClass() {\n      return 'vjs-big-play-button';\n    };\n\n    /**\n     * Handles click for play\n     *\n     * @method handleClick\n     */\n\n    BigPlayButton.prototype.handleClick = function handleClick() {\n      this.player_.play();\n    };\n\n    return BigPlayButton;\n  })(_buttonJs2['default']);\n\n  BigPlayButton.prototype.controlText_ = 'Play Video';\n\n  _componentJs2['default'].registerComponent('BigPlayButton', BigPlayButton);\n  exports['default'] = BigPlayButton;\n  module.exports = exports['default'];\n\n},{\"./button.js\":64,\"./component.js\":67}],64:[function(_dereq_,module,exports){\n  /**\n   * @file button.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _clickableComponentJs = _dereq_('./clickable-component.js');\n\n  var _clickableComponentJs2 = _interopRequireDefault(_clickableComponentJs);\n\n  var _component = _dereq_('./component');\n\n  var _component2 = _interopRequireDefault(_component);\n\n  var _utilsEventsJs = _dereq_('./utils/events.js');\n\n  var Events = _interopRequireWildcard(_utilsEventsJs);\n\n  var _utilsFnJs = _dereq_('./utils/fn.js');\n\n  var Fn = _interopRequireWildcard(_utilsFnJs);\n\n  var _utilsLogJs = _dereq_('./utils/log.js');\n\n  var _utilsLogJs2 = _interopRequireDefault(_utilsLogJs);\n\n  var _globalDocument = _dereq_('global/document');\n\n  var _globalDocument2 = _interopRequireDefault(_globalDocument);\n\n  var _objectAssign = _dereq_('object.assign');\n\n  var _objectAssign2 = _interopRequireDefault(_objectAssign);\n\n  /**\n   * Base class for all buttons\n   *\n   * @param {Object} player  Main Player\n   * @param {Object=} options Object of option names and values\n   * @extends ClickableComponent\n   * @class Button\n   */\n\n  var Button = (function (_ClickableComponent) {\n    _inherits(Button, _ClickableComponent);\n\n    function Button(player, options) {\n      _classCallCheck(this, Button);\n\n      _ClickableComponent.call(this, player, options);\n    }\n\n    /**\n     * Create the component's DOM element\n     *\n     * @param {String=} type Element's node type. e.g. 'div'\n     * @param {Object=} props An object of properties that should be set on the element\n     * @param {Object=} attributes An object of attributes that should be set on the element\n     * @return {Element}\n     * @method createEl\n     */\n\n    Button.prototype.createEl = function createEl() {\n      var tag = arguments.length <= 0 || arguments[0] === undefined ? 'button' : arguments[0];\n      var props = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n      var attributes = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n      props = _objectAssign2['default']({\n        className: this.buildCSSClass()\n      }, props);\n\n      if (tag !== 'button') {\n        _utilsLogJs2['default'].warn('Creating a Button with an HTML element of ' + tag + ' is deprecated; use ClickableComponent instead.');\n\n        // Add properties for clickable element which is not a native HTML button\n        props = _objectAssign2['default']({\n          tabIndex: 0\n        }, props);\n\n        // Add ARIA attributes for clickable element which is not a native HTML button\n        attributes = _objectAssign2['default']({\n          role: 'button'\n        }, attributes);\n      }\n\n      // Add attributes for button element\n      attributes = _objectAssign2['default']({\n        type: 'button', // Necessary since the default button type is \"submit\"\n        'aria-live': 'polite' // let the screen reader user know that the text of the button may change\n      }, attributes);\n\n      var el = _component2['default'].prototype.createEl.call(this, tag, props, attributes);\n\n      this.createControlTextEl(el);\n\n      return el;\n    };\n\n    /**\n     * Adds a child component inside this button\n     *\n     * @param {String|Component} child The class name or instance of a child to add\n     * @param {Object=} options Options, including options to be passed to children of the child.\n     * @return {Component} The child component (created by this process if a string was used)\n     * @deprecated\n     * @method addChild\n     */\n\n    Button.prototype.addChild = function addChild(child) {\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      var className = this.constructor.name;\n      _utilsLogJs2['default'].warn('Adding an actionable (user controllable) child to a Button (' + className + ') is not supported; use a ClickableComponent instead.');\n\n      // Avoid the error message generated by ClickableComponent's addChild method\n      return _component2['default'].prototype.addChild.call(this, child, options);\n    };\n\n    /**\n     * Handle KeyPress (document level) - Extend with specific functionality for button\n     *\n     * @method handleKeyPress\n     */\n\n    Button.prototype.handleKeyPress = function handleKeyPress(event) {\n      // Ignore Space (32) or Enter (13) key operation, which is handled by the browser for a button.\n      if (event.which === 32 || event.which === 13) {} else {\n        _ClickableComponent.prototype.handleKeyPress.call(this, event); // Pass keypress handling up for unsupported keys\n      }\n    };\n\n    return Button;\n  })(_clickableComponentJs2['default']);\n\n  _component2['default'].registerComponent('Button', Button);\n  exports['default'] = Button;\n  module.exports = exports['default'];\n\n},{\"./clickable-component.js\":65,\"./component\":67,\"./utils/events.js\":144,\"./utils/fn.js\":145,\"./utils/log.js\":148,\"global/document\":1,\"object.assign\":45}],65:[function(_dereq_,module,exports){\n  /**\n   * @file button.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _component = _dereq_('./component');\n\n  var _component2 = _interopRequireDefault(_component);\n\n  var _utilsDomJs = _dereq_('./utils/dom.js');\n\n  var Dom = _interopRequireWildcard(_utilsDomJs);\n\n  var _utilsEventsJs = _dereq_('./utils/events.js');\n\n  var Events = _interopRequireWildcard(_utilsEventsJs);\n\n  var _utilsFnJs = _dereq_('./utils/fn.js');\n\n  var Fn = _interopRequireWildcard(_utilsFnJs);\n\n  var _utilsLogJs = _dereq_('./utils/log.js');\n\n  var _utilsLogJs2 = _interopRequireDefault(_utilsLogJs);\n\n  var _globalDocument = _dereq_('global/document');\n\n  var _globalDocument2 = _interopRequireDefault(_globalDocument);\n\n  var _objectAssign = _dereq_('object.assign');\n\n  var _objectAssign2 = _interopRequireDefault(_objectAssign);\n\n  /**\n   * Clickable Component which is clickable or keyboard actionable, but is not a native HTML button\n   *\n   * @param {Object} player  Main Player\n   * @param {Object=} options Object of option names and values\n   * @extends Component\n   * @class ClickableComponent\n   */\n\n  var ClickableComponent = (function (_Component) {\n    _inherits(ClickableComponent, _Component);\n\n    function ClickableComponent(player, options) {\n      _classCallCheck(this, ClickableComponent);\n\n      _Component.call(this, player, options);\n\n      this.emitTapEvents();\n\n      this.on('tap', this.handleClick);\n      this.on('click', this.handleClick);\n      this.on('focus', this.handleFocus);\n      this.on('blur', this.handleBlur);\n    }\n\n    /**\n     * Create the component's DOM element\n     *\n     * @param {String=} type Element's node type. e.g. 'div'\n     * @param {Object=} props An object of properties that should be set on the element\n     * @param {Object=} attributes An object of attributes that should be set on the element\n     * @return {Element}\n     * @method createEl\n     */\n\n    ClickableComponent.prototype.createEl = function createEl() {\n      var tag = arguments.length <= 0 || arguments[0] === undefined ? 'div' : arguments[0];\n      var props = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n      var attributes = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n      props = _objectAssign2['default']({\n        className: this.buildCSSClass(),\n        tabIndex: 0\n      }, props);\n\n      if (tag === 'button') {\n        _utilsLogJs2['default'].error('Creating a ClickableComponent with an HTML element of ' + tag + ' is not supported; use a Button instead.');\n      }\n\n      // Add ARIA attributes for clickable element which is not a native HTML button\n      attributes = _objectAssign2['default']({\n        role: 'button',\n        'aria-live': 'polite' // let the screen reader user know that the text of the element may change\n      }, attributes);\n\n      var el = _Component.prototype.createEl.call(this, tag, props, attributes);\n\n      this.createControlTextEl(el);\n\n      return el;\n    };\n\n    /**\n     * create control text\n     *\n     * @param {Element} el Parent element for the control text\n     * @return {Element}\n     * @method controlText\n     */\n\n    ClickableComponent.prototype.createControlTextEl = function createControlTextEl(el) {\n      this.controlTextEl_ = Dom.createEl('span', {\n        className: 'vjs-control-text'\n      });\n\n      if (el) {\n        el.appendChild(this.controlTextEl_);\n      }\n\n      this.controlText(this.controlText_);\n\n      return this.controlTextEl_;\n    };\n\n    /**\n     * Controls text - both request and localize\n     *\n     * @param {String} text Text for element\n     * @return {String}\n     * @method controlText\n     */\n\n    ClickableComponent.prototype.controlText = function controlText(text) {\n      if (!text) return this.controlText_ || 'Need Text';\n\n      this.controlText_ = text;\n      this.controlTextEl_.innerHTML = this.localize(this.controlText_);\n\n      return this;\n    };\n\n    /**\n     * Allows sub components to stack CSS class names\n     *\n     * @return {String}\n     * @method buildCSSClass\n     */\n\n    ClickableComponent.prototype.buildCSSClass = function buildCSSClass() {\n      return 'vjs-control vjs-button ' + _Component.prototype.buildCSSClass.call(this);\n    };\n\n    /**\n     * Adds a child component inside this clickable-component\n     *\n     * @param {String|Component} child The class name or instance of a child to add\n     * @param {Object=} options Options, including options to be passed to children of the child.\n     * @return {Component} The child component (created by this process if a string was used)\n     * @method addChild\n     */\n\n    ClickableComponent.prototype.addChild = function addChild(child) {\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      // TODO: Fix adding an actionable child to a ClickableComponent; currently\n      // it will cause issues with assistive technology (e.g. screen readers)\n      // which support ARIA, since an element with role=\"button\" cannot have\n      // actionable child elements.\n\n      //let className = this.constructor.name;\n      //log.warn(`Adding a child to a ClickableComponent (${className}) can cause issues with assistive technology which supports ARIA, since an element with role=\"button\" cannot have actionable child elements.`);\n\n      return _Component.prototype.addChild.call(this, child, options);\n    };\n\n    /**\n     * Enable the component element\n     *\n     * @return {Component}\n     * @method enable\n     */\n\n    ClickableComponent.prototype.enable = function enable() {\n      this.removeClass('vjs-disabled');\n      this.el_.setAttribute('aria-disabled', 'false');\n      return this;\n    };\n\n    /**\n     * Disable the component element\n     *\n     * @return {Component}\n     * @method disable\n     */\n\n    ClickableComponent.prototype.disable = function disable() {\n      this.addClass('vjs-disabled');\n      this.el_.setAttribute('aria-disabled', 'true');\n      return this;\n    };\n\n    /**\n     * Handle Click - Override with specific functionality for component\n     *\n     * @method handleClick\n     */\n\n    ClickableComponent.prototype.handleClick = function handleClick() {};\n\n    /**\n     * Handle Focus - Add keyboard functionality to element\n     *\n     * @method handleFocus\n     */\n\n    ClickableComponent.prototype.handleFocus = function handleFocus() {\n      Events.on(_globalDocument2['default'], 'keydown', Fn.bind(this, this.handleKeyPress));\n    };\n\n    /**\n     * Handle KeyPress (document level) - Trigger click when Space or Enter key is pressed\n     *\n     * @method handleKeyPress\n     */\n\n    ClickableComponent.prototype.handleKeyPress = function handleKeyPress(event) {\n      // Support Space (32) or Enter (13) key operation to fire a click event\n      if (event.which === 32 || event.which === 13) {\n        event.preventDefault();\n        this.handleClick(event);\n      } else if (_Component.prototype.handleKeyPress) {\n        _Component.prototype.handleKeyPress.call(this, event); // Pass keypress handling up for unsupported keys\n      }\n    };\n\n    /**\n     * Handle Blur - Remove keyboard triggers\n     *\n     * @method handleBlur\n     */\n\n    ClickableComponent.prototype.handleBlur = function handleBlur() {\n      Events.off(_globalDocument2['default'], 'keydown', Fn.bind(this, this.handleKeyPress));\n    };\n\n    return ClickableComponent;\n  })(_component2['default']);\n\n  _component2['default'].registerComponent('ClickableComponent', ClickableComponent);\n  exports['default'] = ClickableComponent;\n  module.exports = exports['default'];\n\n},{\"./component\":67,\"./utils/dom.js\":143,\"./utils/events.js\":144,\"./utils/fn.js\":145,\"./utils/log.js\":148,\"global/document\":1,\"object.assign\":45}],66:[function(_dereq_,module,exports){\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _button = _dereq_('./button');\n\n  var _button2 = _interopRequireDefault(_button);\n\n  var _component = _dereq_('./component');\n\n  var _component2 = _interopRequireDefault(_component);\n\n  /**\n   * The `CloseButton` component is a button which fires a \"close\" event\n   * when it is activated.\n   *\n   * @extends Button\n   * @class CloseButton\n   */\n\n  var CloseButton = (function (_Button) {\n    _inherits(CloseButton, _Button);\n\n    function CloseButton(player, options) {\n      _classCallCheck(this, CloseButton);\n\n      _Button.call(this, player, options);\n      this.controlText(options && options.controlText || this.localize('Close'));\n    }\n\n    CloseButton.prototype.buildCSSClass = function buildCSSClass() {\n      return 'vjs-close-button ' + _Button.prototype.buildCSSClass.call(this);\n    };\n\n    CloseButton.prototype.handleClick = function handleClick() {\n      this.trigger({ type: 'close', bubbles: false });\n    };\n\n    return CloseButton;\n  })(_button2['default']);\n\n  _component2['default'].registerComponent('CloseButton', CloseButton);\n  exports['default'] = CloseButton;\n  module.exports = exports['default'];\n\n},{\"./button\":64,\"./component\":67}],67:[function(_dereq_,module,exports){\n  /**\n   * @file component.js\n   *\n   * Player Component - Base class for all UI objects\n   */\n\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  var _globalWindow = _dereq_('global/window');\n\n  var _globalWindow2 = _interopRequireDefault(_globalWindow);\n\n  var _utilsDomJs = _dereq_('./utils/dom.js');\n\n  var Dom = _interopRequireWildcard(_utilsDomJs);\n\n  var _utilsFnJs = _dereq_('./utils/fn.js');\n\n  var Fn = _interopRequireWildcard(_utilsFnJs);\n\n  var _utilsGuidJs = _dereq_('./utils/guid.js');\n\n  var Guid = _interopRequireWildcard(_utilsGuidJs);\n\n  var _utilsEventsJs = _dereq_('./utils/events.js');\n\n  var Events = _interopRequireWildcard(_utilsEventsJs);\n\n  var _utilsLogJs = _dereq_('./utils/log.js');\n\n  var _utilsLogJs2 = _interopRequireDefault(_utilsLogJs);\n\n  var _utilsToTitleCaseJs = _dereq_('./utils/to-title-case.js');\n\n  var _utilsToTitleCaseJs2 = _interopRequireDefault(_utilsToTitleCaseJs);\n\n  var _objectAssign = _dereq_('object.assign');\n\n  var _objectAssign2 = _interopRequireDefault(_objectAssign);\n\n  var _utilsMergeOptionsJs = _dereq_('./utils/merge-options.js');\n\n  var _utilsMergeOptionsJs2 = _interopRequireDefault(_utilsMergeOptionsJs);\n\n  /**\n   * Base UI Component class\n   * Components are embeddable UI objects that are represented by both a\n   * javascript object and an element in the DOM. They can be children of other\n   * components, and can have many children themselves.\n   * ```js\n   *     // adding a button to the player\n   *     var button = player.addChild('button');\n   *     button.el(); // -> button element\n   * ```\n   * ```html\n   *     <div class=\"video-js\">\n   *       <div class=\"vjs-button\">Button</div>\n   *     </div>\n   * ```\n   * Components are also event targets.\n   * ```js\n   *     button.on('click', function(){\n *       console.log('Button Clicked!');\n *     });\n   *     button.trigger('customevent');\n   * ```\n   *\n   * @param {Object} player  Main Player\n   * @param {Object=} options Object of option names and values\n   * @param {Function=} ready    Ready callback function\n   * @class Component\n   */\n\n  var Component = (function () {\n    function Component(player, options, ready) {\n      _classCallCheck(this, Component);\n\n      // The component might be the player itself and we can't pass `this` to super\n      if (!player && this.play) {\n        this.player_ = player = this; // eslint-disable-line\n      } else {\n        this.player_ = player;\n      }\n\n      // Make a copy of prototype.options_ to protect against overriding defaults\n      this.options_ = _utilsMergeOptionsJs2['default']({}, this.options_);\n\n      // Updated options with supplied options\n      options = this.options_ = _utilsMergeOptionsJs2['default'](this.options_, options);\n\n      // Get ID from options or options element if one is supplied\n      this.id_ = options.id || options.el && options.el.id;\n\n      // If there was no ID from the options, generate one\n      if (!this.id_) {\n        // Don't require the player ID function in the case of mock players\n        var id = player && player.id && player.id() || 'no_player';\n\n        this.id_ = id + '_component_' + Guid.newGUID();\n      }\n\n      this.name_ = options.name || null;\n\n      // Create element if one wasn't provided in options\n      if (options.el) {\n        this.el_ = options.el;\n      } else if (options.createEl !== false) {\n        this.el_ = this.createEl();\n      }\n\n      this.children_ = [];\n      this.childIndex_ = {};\n      this.childNameIndex_ = {};\n\n      // Add any child components in options\n      if (options.initChildren !== false) {\n        this.initChildren();\n      }\n\n      this.ready(ready);\n      // Don't want to trigger ready here or it will before init is actually\n      // finished for all children that run this constructor\n\n      if (options.reportTouchActivity !== false) {\n        this.enableTouchActivity();\n      }\n    }\n\n    /**\n     * Dispose of the component and all child components\n     *\n     * @method dispose\n     */\n\n    Component.prototype.dispose = function dispose() {\n      this.trigger({ type: 'dispose', bubbles: false });\n\n      // Dispose all children.\n      if (this.children_) {\n        for (var i = this.children_.length - 1; i >= 0; i--) {\n          if (this.children_[i].dispose) {\n            this.children_[i].dispose();\n          }\n        }\n      }\n\n      // Delete child references\n      this.children_ = null;\n      this.childIndex_ = null;\n      this.childNameIndex_ = null;\n\n      // Remove all event listeners.\n      this.off();\n\n      // Remove element from DOM\n      if (this.el_.parentNode) {\n        this.el_.parentNode.removeChild(this.el_);\n      }\n\n      Dom.removeElData(this.el_);\n      this.el_ = null;\n    };\n\n    /**\n     * Return the component's player\n     *\n     * @return {Player}\n     * @method player\n     */\n\n    Component.prototype.player = function player() {\n      return this.player_;\n    };\n\n    /**\n     * Deep merge of options objects\n     * Whenever a property is an object on both options objects\n     * the two properties will be merged using mergeOptions.\n     *\n     * ```js\n     *     Parent.prototype.options_ = {\n   *       optionSet: {\n   *         'childOne': { 'foo': 'bar', 'asdf': 'fdsa' },\n   *         'childTwo': {},\n   *         'childThree': {}\n   *       }\n   *     }\n     *     newOptions = {\n   *       optionSet: {\n   *         'childOne': { 'foo': 'baz', 'abc': '123' }\n   *         'childTwo': null,\n   *         'childFour': {}\n   *       }\n   *     }\n     *\n     *     this.options(newOptions);\n     * ```\n     * RESULT\n     * ```js\n     *     {\n   *       optionSet: {\n   *         'childOne': { 'foo': 'baz', 'asdf': 'fdsa', 'abc': '123' },\n   *         'childTwo': null, // Disabled. Won't be initialized.\n   *         'childThree': {},\n   *         'childFour': {}\n   *       }\n   *     }\n     * ```\n     *\n     * @param  {Object} obj Object of new option values\n     * @return {Object}     A NEW object of this.options_ and obj merged\n     * @method options\n     */\n\n    Component.prototype.options = function options(obj) {\n      _utilsLogJs2['default'].warn('this.options() has been deprecated and will be moved to the constructor in 6.0');\n\n      if (!obj) {\n        return this.options_;\n      }\n\n      this.options_ = _utilsMergeOptionsJs2['default'](this.options_, obj);\n      return this.options_;\n    };\n\n    /**\n     * Get the component's DOM element\n     * ```js\n     *     var domEl = myComponent.el();\n     * ```\n     *\n     * @return {Element}\n     * @method el\n     */\n\n    Component.prototype.el = function el() {\n      return this.el_;\n    };\n\n    /**\n     * Create the component's DOM element\n     *\n     * @param  {String=} tagName  Element's node type. e.g. 'div'\n     * @param  {Object=} properties An object of properties that should be set\n     * @param  {Object=} attributes An object of attributes that should be set\n     * @return {Element}\n     * @method createEl\n     */\n\n    Component.prototype.createEl = function createEl(tagName, properties, attributes) {\n      return Dom.createEl(tagName, properties, attributes);\n    };\n\n    Component.prototype.localize = function localize(string) {\n      var code = this.player_.language && this.player_.language();\n      var languages = this.player_.languages && this.player_.languages();\n\n      if (!code || !languages) {\n        return string;\n      }\n\n      var language = languages[code];\n\n      if (language && language[string]) {\n        return language[string];\n      }\n\n      var primaryCode = code.split('-')[0];\n      var primaryLang = languages[primaryCode];\n\n      if (primaryLang && primaryLang[string]) {\n        return primaryLang[string];\n      }\n\n      return string;\n    };\n\n    /**\n     * Return the component's DOM element where children are inserted.\n     * Will either be the same as el() or a new element defined in createEl().\n     *\n     * @return {Element}\n     * @method contentEl\n     */\n\n    Component.prototype.contentEl = function contentEl() {\n      return this.contentEl_ || this.el_;\n    };\n\n    /**\n     * Get the component's ID\n     * ```js\n     *     var id = myComponent.id();\n     * ```\n     *\n     * @return {String}\n     * @method id\n     */\n\n    Component.prototype.id = function id() {\n      return this.id_;\n    };\n\n    /**\n     * Get the component's name. The name is often used to reference the component.\n     * ```js\n     *     var name = myComponent.name();\n     * ```\n     *\n     * @return {String}\n     * @method name\n     */\n\n    Component.prototype.name = function name() {\n      return this.name_;\n    };\n\n    /**\n     * Get an array of all child components\n     * ```js\n     *     var kids = myComponent.children();\n     * ```\n     *\n     * @return {Array} The children\n     * @method children\n     */\n\n    Component.prototype.children = function children() {\n      return this.children_;\n    };\n\n    /**\n     * Returns a child component with the provided ID\n     *\n     * @return {Component}\n     * @method getChildById\n     */\n\n    Component.prototype.getChildById = function getChildById(id) {\n      return this.childIndex_[id];\n    };\n\n    /**\n     * Returns a child component with the provided name\n     *\n     * @return {Component}\n     * @method getChild\n     */\n\n    Component.prototype.getChild = function getChild(name) {\n      return this.childNameIndex_[name];\n    };\n\n    /**\n     * Adds a child component inside this component\n     * ```js\n     *     myComponent.el();\n     *     // -> <div class='my-component'></div>\n     *     myComponent.children();\n     *     // [empty array]\n     *\n     *     var myButton = myComponent.addChild('MyButton');\n     *     // -> <div class='my-component'><div class=\"my-button\">myButton<div></div>\n     *     // -> myButton === myComponent.children()[0];\n     * ```\n     * Pass in options for child constructors and options for children of the child\n     * ```js\n     *     var myButton = myComponent.addChild('MyButton', {\n   *       text: 'Press Me',\n   *       buttonChildExample: {\n   *         buttonChildOption: true\n   *       }\n   *     });\n     * ```\n     *\n     * @param {String|Component} child The class name or instance of a child to add\n     * @param {Object=} options Options, including options to be passed to children of the child.\n     * @param {Number} index into our children array to attempt to add the child\n     * @return {Component} The child component (created by this process if a string was used)\n     * @method addChild\n     */\n\n    Component.prototype.addChild = function addChild(child) {\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n      var index = arguments.length <= 2 || arguments[2] === undefined ? this.children_.length : arguments[2];\n\n      var component = undefined;\n      var componentName = undefined;\n\n      // If child is a string, create nt with options\n      if (typeof child === 'string') {\n        componentName = child;\n\n        // Options can also be specified as a boolean, so convert to an empty object if false.\n        if (!options) {\n          options = {};\n        }\n\n        // Same as above, but true is deprecated so show a warning.\n        if (options === true) {\n          _utilsLogJs2['default'].warn('Initializing a child component with `true` is deprecated. Children should be defined in an array when possible, but if necessary use an object instead of `true`.');\n          options = {};\n        }\n\n        // If no componentClass in options, assume componentClass is the name lowercased\n        // (e.g. playButton)\n        var componentClassName = options.componentClass || _utilsToTitleCaseJs2['default'](componentName);\n\n        // Set name through options\n        options.name = componentName;\n\n        // Create a new object & element for this controls set\n        // If there's no .player_, this is a player\n        var ComponentClass = Component.getComponent(componentClassName);\n\n        if (!ComponentClass) {\n          throw new Error('Component ' + componentClassName + ' does not exist');\n        }\n\n        // data stored directly on the videojs object may be\n        // misidentified as a component to retain\n        // backwards-compatibility with 4.x. check to make sure the\n        // component class can be instantiated.\n        if (typeof ComponentClass !== 'function') {\n          return null;\n        }\n\n        component = new ComponentClass(this.player_ || this, options);\n\n        // child is a component instance\n      } else {\n        component = child;\n      }\n\n      this.children_.splice(index, 0, component);\n\n      if (typeof component.id === 'function') {\n        this.childIndex_[component.id()] = component;\n      }\n\n      // If a name wasn't used to create the component, check if we can use the\n      // name function of the component\n      componentName = componentName || component.name && component.name();\n\n      if (componentName) {\n        this.childNameIndex_[componentName] = component;\n      }\n\n      // Add the UI object's element to the container div (box)\n      // Having an element is not required\n      if (typeof component.el === 'function' && component.el()) {\n        var childNodes = this.contentEl().children;\n        var refNode = childNodes[index] || null;\n        this.contentEl().insertBefore(component.el(), refNode);\n      }\n\n      // Return so it can stored on parent object if desired.\n      return component;\n    };\n\n    /**\n     * Remove a child component from this component's list of children, and the\n     * child component's element from this component's element\n     *\n     * @param  {Component} component Component to remove\n     * @method removeChild\n     */\n\n    Component.prototype.removeChild = function removeChild(component) {\n      if (typeof component === 'string') {\n        component = this.getChild(component);\n      }\n\n      if (!component || !this.children_) {\n        return;\n      }\n\n      var childFound = false;\n\n      for (var i = this.children_.length - 1; i >= 0; i--) {\n        if (this.children_[i] === component) {\n          childFound = true;\n          this.children_.splice(i, 1);\n          break;\n        }\n      }\n\n      if (!childFound) {\n        return;\n      }\n\n      this.childIndex_[component.id()] = null;\n      this.childNameIndex_[component.name()] = null;\n\n      var compEl = component.el();\n\n      if (compEl && compEl.parentNode === this.contentEl()) {\n        this.contentEl().removeChild(component.el());\n      }\n    };\n\n    /**\n     * Add and initialize default child components from options\n     * ```js\n     *     // when an instance of MyComponent is created, all children in options\n     *     // will be added to the instance by their name strings and options\n     *     MyComponent.prototype.options_ = {\n   *       children: [\n   *         'myChildComponent'\n   *       ],\n   *       myChildComponent: {\n   *         myChildOption: true\n   *       }\n   *     };\n     *\n     *     // Or when creating the component\n     *     var myComp = new MyComponent(player, {\n   *       children: [\n   *         'myChildComponent'\n   *       ],\n   *       myChildComponent: {\n   *         myChildOption: true\n   *       }\n   *     });\n     * ```\n     * The children option can also be an array of\n     * child options objects (that also include a 'name' key).\n     * This can be used if you have two child components of the\n     * same type that need different options.\n     * ```js\n     *     var myComp = new MyComponent(player, {\n   *       children: [\n   *         'button',\n   *         {\n   *           name: 'button',\n   *           someOtherOption: true\n   *         },\n   *         {\n   *           name: 'button',\n   *           someOtherOption: false\n   *         }\n   *       ]\n   *     });\n     * ```\n     *\n     * @method initChildren\n     */\n\n    Component.prototype.initChildren = function initChildren() {\n      var _this = this;\n\n      var children = this.options_.children;\n\n      if (children) {\n        (function () {\n          // `this` is `parent`\n          var parentOptions = _this.options_;\n\n          var handleAdd = function handleAdd(child) {\n            var name = child.name;\n            var opts = child.opts;\n\n            // Allow options for children to be set at the parent options\n            // e.g. videojs(id, { controlBar: false });\n            // instead of videojs(id, { children: { controlBar: false });\n            if (parentOptions[name] !== undefined) {\n              opts = parentOptions[name];\n            }\n\n            // Allow for disabling default components\n            // e.g. options['children']['posterImage'] = false\n            if (opts === false) {\n              return;\n            }\n\n            // Allow options to be passed as a simple boolean if no configuration\n            // is necessary.\n            if (opts === true) {\n              opts = {};\n            }\n\n            // We also want to pass the original player options to each component as well so they don't need to\n            // reach back into the player for options later.\n            opts.playerOptions = _this.options_.playerOptions;\n\n            // Create and add the child component.\n            // Add a direct reference to the child by name on the parent instance.\n            // If two of the same component are used, different names should be supplied\n            // for each\n            var newChild = _this.addChild(name, opts);\n            if (newChild) {\n              _this[name] = newChild;\n            }\n          };\n\n          // Allow for an array of children details to passed in the options\n          var workingChildren = undefined;\n          var Tech = Component.getComponent('Tech');\n\n          if (Array.isArray(children)) {\n            workingChildren = children;\n          } else {\n            workingChildren = Object.keys(children);\n          }\n\n          workingChildren\n            // children that are in this.options_ but also in workingChildren  would\n            // give us extra children we do not want. So, we want to filter them out.\n            .concat(Object.keys(_this.options_).filter(function (child) {\n              return !workingChildren.some(function (wchild) {\n                if (typeof wchild === 'string') {\n                  return child === wchild;\n                } else {\n                  return child === wchild.name;\n                }\n              });\n            })).map(function (child) {\n              var name = undefined,\n                opts = undefined;\n\n              if (typeof child === 'string') {\n                name = child;\n                opts = children[name] || _this.options_[name] || {};\n              } else {\n                name = child.name;\n                opts = child;\n              }\n\n              return { name: name, opts: opts };\n            }).filter(function (child) {\n              // we have to make sure that child.name isn't in the techOrder since\n              // techs are registerd as Components but can't aren't compatible\n              // See https://github.com/videojs/video.js/issues/2772\n              var c = Component.getComponent(child.opts.componentClass || _utilsToTitleCaseJs2['default'](child.name));\n              return c && !Tech.isTech(c);\n            }).forEach(handleAdd);\n        })();\n      }\n    };\n\n    /**\n     * Allows sub components to stack CSS class names\n     *\n     * @return {String} The constructed class name\n     * @method buildCSSClass\n     */\n\n    Component.prototype.buildCSSClass = function buildCSSClass() {\n      // Child classes can include a function that does:\n      // return 'CLASS NAME' + this._super();\n      return '';\n    };\n\n    /**\n     * Add an event listener to this component's element\n     * ```js\n     *     var myFunc = function(){\n   *       var myComponent = this;\n   *       // Do something when the event is fired\n   *     };\n     *\n     *     myComponent.on('eventType', myFunc);\n     * ```\n     * The context of myFunc will be myComponent unless previously bound.\n     * Alternatively, you can add a listener to another element or component.\n     * ```js\n     *     myComponent.on(otherElement, 'eventName', myFunc);\n     *     myComponent.on(otherComponent, 'eventName', myFunc);\n     * ```\n     * The benefit of using this over `VjsEvents.on(otherElement, 'eventName', myFunc)`\n     * and `otherComponent.on('eventName', myFunc)` is that this way the listeners\n     * will be automatically cleaned up when either component is disposed.\n     * It will also bind myComponent as the context of myFunc.\n     * **NOTE**: When using this on elements in the page other than window\n     * and document (both permanent), if you remove the element from the DOM\n     * you need to call `myComponent.trigger(el, 'dispose')` on it to clean up\n     * references to it and allow the browser to garbage collect it.\n     *\n     * @param  {String|Component} first   The event type or other component\n     * @param  {Function|String}      second  The event handler or event type\n     * @param  {Function}             third   The event handler\n     * @return {Component}\n     * @method on\n     */\n\n    Component.prototype.on = function on(first, second, third) {\n      var _this2 = this;\n\n      if (typeof first === 'string' || Array.isArray(first)) {\n        Events.on(this.el_, first, Fn.bind(this, second));\n\n        // Targeting another component or element\n      } else {\n        (function () {\n          var target = first;\n          var type = second;\n          var fn = Fn.bind(_this2, third);\n\n          // When this component is disposed, remove the listener from the other component\n          var removeOnDispose = function removeOnDispose() {\n            return _this2.off(target, type, fn);\n          };\n\n          // Use the same function ID so we can remove it later it using the ID\n          // of the original listener\n          removeOnDispose.guid = fn.guid;\n          _this2.on('dispose', removeOnDispose);\n\n          // If the other component is disposed first we need to clean the reference\n          // to the other component in this component's removeOnDispose listener\n          // Otherwise we create a memory leak.\n          var cleanRemover = function cleanRemover() {\n            return _this2.off('dispose', removeOnDispose);\n          };\n\n          // Add the same function ID so we can easily remove it later\n          cleanRemover.guid = fn.guid;\n\n          // Check if this is a DOM node\n          if (first.nodeName) {\n            // Add the listener to the other element\n            Events.on(target, type, fn);\n            Events.on(target, 'dispose', cleanRemover);\n\n            // Should be a component\n            // Not using `instanceof Component` because it makes mock players difficult\n          } else if (typeof first.on === 'function') {\n            // Add the listener to the other component\n            target.on(type, fn);\n            target.on('dispose', cleanRemover);\n          }\n        })();\n      }\n\n      return this;\n    };\n\n    /**\n     * Remove an event listener from this component's element\n     * ```js\n     *     myComponent.off('eventType', myFunc);\n     * ```\n     * If myFunc is excluded, ALL listeners for the event type will be removed.\n     * If eventType is excluded, ALL listeners will be removed from the component.\n     * Alternatively you can use `off` to remove listeners that were added to other\n     * elements or components using `myComponent.on(otherComponent...`.\n     * In this case both the event type and listener function are REQUIRED.\n     * ```js\n     *     myComponent.off(otherElement, 'eventType', myFunc);\n     *     myComponent.off(otherComponent, 'eventType', myFunc);\n     * ```\n     *\n     * @param  {String=|Component}  first  The event type or other component\n     * @param  {Function=|String}       second The listener function or event type\n     * @param  {Function=}              third  The listener for other component\n     * @return {Component}\n     * @method off\n     */\n\n    Component.prototype.off = function off(first, second, third) {\n      if (!first || typeof first === 'string' || Array.isArray(first)) {\n        Events.off(this.el_, first, second);\n      } else {\n        var target = first;\n        var type = second;\n        // Ensure there's at least a guid, even if the function hasn't been used\n        var fn = Fn.bind(this, third);\n\n        // Remove the dispose listener on this component,\n        // which was given the same guid as the event listener\n        this.off('dispose', fn);\n\n        if (first.nodeName) {\n          // Remove the listener\n          Events.off(target, type, fn);\n          // Remove the listener for cleaning the dispose listener\n          Events.off(target, 'dispose', fn);\n        } else {\n          target.off(type, fn);\n          target.off('dispose', fn);\n        }\n      }\n\n      return this;\n    };\n\n    /**\n     * Add an event listener to be triggered only once and then removed\n     * ```js\n     *     myComponent.one('eventName', myFunc);\n     * ```\n     * Alternatively you can add a listener to another element or component\n     * that will be triggered only once.\n     * ```js\n     *     myComponent.one(otherElement, 'eventName', myFunc);\n     *     myComponent.one(otherComponent, 'eventName', myFunc);\n     * ```\n     *\n     * @param  {String|Component}  first   The event type or other component\n     * @param  {Function|String}       second  The listener function or event type\n     * @param  {Function=}             third   The listener function for other component\n     * @return {Component}\n     * @method one\n     */\n\n    Component.prototype.one = function one(first, second, third) {\n      var _this3 = this,\n        _arguments = arguments;\n\n      if (typeof first === 'string' || Array.isArray(first)) {\n        Events.one(this.el_, first, Fn.bind(this, second));\n      } else {\n        (function () {\n          var target = first;\n          var type = second;\n          var fn = Fn.bind(_this3, third);\n\n          var newFunc = function newFunc() {\n            _this3.off(target, type, newFunc);\n            fn.apply(null, _arguments);\n          };\n\n          // Keep the same function ID so we can remove it later\n          newFunc.guid = fn.guid;\n\n          _this3.on(target, type, newFunc);\n        })();\n      }\n\n      return this;\n    };\n\n    /**\n     * Trigger an event on an element\n     * ```js\n     *     myComponent.trigger('eventName');\n     *     myComponent.trigger({'type':'eventName'});\n     *     myComponent.trigger('eventName', {data: 'some data'});\n     *     myComponent.trigger({'type':'eventName'}, {data: 'some data'});\n     * ```\n     *\n     * @param  {Event|Object|String} event  A string (the type) or an event object with a type attribute\n     * @param  {Object} [hash] data hash to pass along with the event\n     * @return {Component}       self\n     * @method trigger\n     */\n\n    Component.prototype.trigger = function trigger(event, hash) {\n      Events.trigger(this.el_, event, hash);\n      return this;\n    };\n\n    /**\n     * Bind a listener to the component's ready state.\n     * Different from event listeners in that if the ready event has already happened\n     * it will trigger the function immediately.\n     *\n     * @param  {Function} fn Ready listener\n     * @param  {Boolean} sync Exec the listener synchronously if component is ready\n     * @return {Component}\n     * @method ready\n     */\n\n    Component.prototype.ready = function ready(fn) {\n      var sync = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n\n      if (fn) {\n        if (this.isReady_) {\n          if (sync) {\n            fn.call(this);\n          } else {\n            // Call the function asynchronously by default for consistency\n            this.setTimeout(fn, 1);\n          }\n        } else {\n          this.readyQueue_ = this.readyQueue_ || [];\n          this.readyQueue_.push(fn);\n        }\n      }\n      return this;\n    };\n\n    /**\n     * Trigger the ready listeners\n     *\n     * @return {Component}\n     * @method triggerReady\n     */\n\n    Component.prototype.triggerReady = function triggerReady() {\n      this.isReady_ = true;\n\n      // Ensure ready is triggerd asynchronously\n      this.setTimeout(function () {\n        var readyQueue = this.readyQueue_;\n\n        // Reset Ready Queue\n        this.readyQueue_ = [];\n\n        if (readyQueue && readyQueue.length > 0) {\n          readyQueue.forEach(function (fn) {\n            fn.call(this);\n          }, this);\n        }\n\n        // Allow for using event listeners also\n        this.trigger('ready');\n      }, 1);\n    };\n\n    /**\n     * Finds a single DOM element matching `selector` within the component's\n     * `contentEl` or another custom context.\n     *\n     * @method $\n     * @param  {String} selector\n     *         A valid CSS selector, which will be passed to `querySelector`.\n     *\n     * @param  {Element|String} [context=document]\n     *         A DOM element within which to query. Can also be a selector\n     *         string in which case the first matching element will be used\n     *         as context. If missing (or no element matches selector), falls\n     *         back to `document`.\n     *\n     * @return {Element|null}\n     */\n\n    Component.prototype.$ = function $(selector, context) {\n      return Dom.$(selector, context || this.contentEl());\n    };\n\n    /**\n     * Finds a all DOM elements matching `selector` within the component's\n     * `contentEl` or another custom context.\n     *\n     * @method $$\n     * @param  {String} selector\n     *         A valid CSS selector, which will be passed to `querySelectorAll`.\n     *\n     * @param  {Element|String} [context=document]\n     *         A DOM element within which to query. Can also be a selector\n     *         string in which case the first matching element will be used\n     *         as context. If missing (or no element matches selector), falls\n     *         back to `document`.\n     *\n     * @return {NodeList}\n     */\n\n    Component.prototype.$$ = function $$(selector, context) {\n      return Dom.$$(selector, context || this.contentEl());\n    };\n\n    /**\n     * Check if a component's element has a CSS class name\n     *\n     * @param {String} classToCheck Classname to check\n     * @return {Component}\n     * @method hasClass\n     */\n\n    Component.prototype.hasClass = function hasClass(classToCheck) {\n      return Dom.hasElClass(this.el_, classToCheck);\n    };\n\n    /**\n     * Add a CSS class name to the component's element\n     *\n     * @param {String} classToAdd Classname to add\n     * @return {Component}\n     * @method addClass\n     */\n\n    Component.prototype.addClass = function addClass(classToAdd) {\n      Dom.addElClass(this.el_, classToAdd);\n      return this;\n    };\n\n    /**\n     * Remove a CSS class name from the component's element\n     *\n     * @param {String} classToRemove Classname to remove\n     * @return {Component}\n     * @method removeClass\n     */\n\n    Component.prototype.removeClass = function removeClass(classToRemove) {\n      Dom.removeElClass(this.el_, classToRemove);\n      return this;\n    };\n\n    /**\n     * Add or remove a CSS class name from the component's element\n     *\n     * @param  {String} classToToggle\n     * @param  {Boolean|Function} [predicate]\n     *         Can be a function that returns a Boolean. If `true`, the class\n     *         will be added; if `false`, the class will be removed. If not\n     *         given, the class will be added if not present and vice versa.\n     *\n     * @return {Component}\n     * @method toggleClass\n     */\n\n    Component.prototype.toggleClass = function toggleClass(classToToggle, predicate) {\n      Dom.toggleElClass(this.el_, classToToggle, predicate);\n      return this;\n    };\n\n    /**\n     * Show the component element if hidden\n     *\n     * @return {Component}\n     * @method show\n     */\n\n    Component.prototype.show = function show() {\n      this.removeClass('vjs-hidden');\n      return this;\n    };\n\n    /**\n     * Hide the component element if currently showing\n     *\n     * @return {Component}\n     * @method hide\n     */\n\n    Component.prototype.hide = function hide() {\n      this.addClass('vjs-hidden');\n      return this;\n    };\n\n    /**\n     * Lock an item in its visible state\n     * To be used with fadeIn/fadeOut.\n     *\n     * @return {Component}\n     * @private\n     * @method lockShowing\n     */\n\n    Component.prototype.lockShowing = function lockShowing() {\n      this.addClass('vjs-lock-showing');\n      return this;\n    };\n\n    /**\n     * Unlock an item to be hidden\n     * To be used with fadeIn/fadeOut.\n     *\n     * @return {Component}\n     * @private\n     * @method unlockShowing\n     */\n\n    Component.prototype.unlockShowing = function unlockShowing() {\n      this.removeClass('vjs-lock-showing');\n      return this;\n    };\n\n    /**\n     * Set or get the width of the component (CSS values)\n     * Setting the video tag dimension values only works with values in pixels.\n     * Percent values will not work.\n     * Some percents can be used, but width()/height() will return the number + %,\n     * not the actual computed width/height.\n     *\n     * @param  {Number|String=} num   Optional width number\n     * @param  {Boolean} skipListeners Skip the 'resize' event trigger\n     * @return {Component} This component, when setting the width\n     * @return {Number|String} The width, when getting\n     * @method width\n     */\n\n    Component.prototype.width = function width(num, skipListeners) {\n      return this.dimension('width', num, skipListeners);\n    };\n\n    /**\n     * Get or set the height of the component (CSS values)\n     * Setting the video tag dimension values only works with values in pixels.\n     * Percent values will not work.\n     * Some percents can be used, but width()/height() will return the number + %,\n     * not the actual computed width/height.\n     *\n     * @param  {Number|String=} num     New component height\n     * @param  {Boolean=} skipListeners Skip the resize event trigger\n     * @return {Component} This component, when setting the height\n     * @return {Number|String} The height, when getting\n     * @method height\n     */\n\n    Component.prototype.height = function height(num, skipListeners) {\n      return this.dimension('height', num, skipListeners);\n    };\n\n    /**\n     * Set both width and height at the same time\n     *\n     * @param  {Number|String} width Width of player\n     * @param  {Number|String} height Height of player\n     * @return {Component} The component\n     * @method dimensions\n     */\n\n    Component.prototype.dimensions = function dimensions(width, height) {\n      // Skip resize listeners on width for optimization\n      return this.width(width, true).height(height);\n    };\n\n    /**\n     * Get or set width or height\n     * This is the shared code for the width() and height() methods.\n     * All for an integer, integer + 'px' or integer + '%';\n     * Known issue: Hidden elements officially have a width of 0. We're defaulting\n     * to the style.width value and falling back to computedStyle which has the\n     * hidden element issue. Info, but probably not an efficient fix:\n     * http://www.foliotek.com/devblog/getting-the-width-of-a-hidden-element-with-jquery-using-width/\n     *\n     * @param  {String} widthOrHeight  'width' or 'height'\n     * @param  {Number|String=} num     New dimension\n     * @param  {Boolean=} skipListeners Skip resize event trigger\n     * @return {Component} The component if a dimension was set\n     * @return {Number|String} The dimension if nothing was set\n     * @private\n     * @method dimension\n     */\n\n    Component.prototype.dimension = function dimension(widthOrHeight, num, skipListeners) {\n      if (num !== undefined) {\n        // Set to zero if null or literally NaN (NaN !== NaN)\n        if (num === null || num !== num) {\n          num = 0;\n        }\n\n        // Check if using css width/height (% or px) and adjust\n        if (('' + num).indexOf('%') !== -1 || ('' + num).indexOf('px') !== -1) {\n          this.el_.style[widthOrHeight] = num;\n        } else if (num === 'auto') {\n          this.el_.style[widthOrHeight] = '';\n        } else {\n          this.el_.style[widthOrHeight] = num + 'px';\n        }\n\n        // skipListeners allows us to avoid triggering the resize event when setting both width and height\n        if (!skipListeners) {\n          this.trigger('resize');\n        }\n\n        // Return component\n        return this;\n      }\n\n      // Not setting a value, so getting it\n      // Make sure element exists\n      if (!this.el_) {\n        return 0;\n      }\n\n      // Get dimension value from style\n      var val = this.el_.style[widthOrHeight];\n      var pxIndex = val.indexOf('px');\n\n      if (pxIndex !== -1) {\n        // Return the pixel value with no 'px'\n        return parseInt(val.slice(0, pxIndex), 10);\n      }\n\n      // No px so using % or no style was set, so falling back to offsetWidth/height\n      // If component has display:none, offset will return 0\n      // TODO: handle display:none and no dimension style using px\n      return parseInt(this.el_['offset' + _utilsToTitleCaseJs2['default'](widthOrHeight)], 10);\n    };\n\n    /**\n     * Get width or height of computed style\n     * @param  {String} widthOrHeight  'width' or 'height'\n     * @return {Number|Boolean} The bolean false if nothing was set\n     * @method currentDimension\n     */\n\n    Component.prototype.currentDimension = function currentDimension(widthOrHeight) {\n      var computedWidthOrHeight = 0;\n\n      if (widthOrHeight !== 'width' && widthOrHeight !== 'height') {\n        throw new Error('currentDimension only accepts width or height value');\n      }\n\n      if (typeof _globalWindow2['default'].getComputedStyle === 'function') {\n        var computedStyle = _globalWindow2['default'].getComputedStyle(this.el_);\n        computedWidthOrHeight = computedStyle.getPropertyValue(widthOrHeight) || computedStyle[widthOrHeight];\n      } else if (this.el_.currentStyle) {\n        // ie 8 doesn't support computed style, shim it\n        // return clientWidth or clientHeight instead for better accuracy\n        var rule = 'offset' + _utilsToTitleCaseJs2['default'](widthOrHeight);\n        computedWidthOrHeight = this.el_[rule];\n      }\n\n      // remove 'px' from variable and parse as integer\n      computedWidthOrHeight = parseFloat(computedWidthOrHeight);\n      return computedWidthOrHeight;\n    };\n\n    /**\n     * Get an object which contains width and height values of computed style\n     * @return {Object} The dimensions of element\n     * @method currentDimensions\n     */\n\n    Component.prototype.currentDimensions = function currentDimensions() {\n      return {\n        width: this.currentDimension('width'),\n        height: this.currentDimension('height')\n      };\n    };\n\n    /**\n     * Get width of computed style\n     * @return {Integer}\n     * @method currentWidth\n     */\n\n    Component.prototype.currentWidth = function currentWidth() {\n      return this.currentDimension('width');\n    };\n\n    /**\n     * Get height of computed style\n     * @return {Integer}\n     * @method currentHeight\n     */\n\n    Component.prototype.currentHeight = function currentHeight() {\n      return this.currentDimension('height');\n    };\n\n    /**\n     * Emit 'tap' events when touch events are supported\n     * This is used to support toggling the controls through a tap on the video.\n     * We're requiring them to be enabled because otherwise every component would\n     * have this extra overhead unnecessarily, on mobile devices where extra\n     * overhead is especially bad.\n     *\n     * @private\n     * @method emitTapEvents\n     */\n\n    Component.prototype.emitTapEvents = function emitTapEvents() {\n      // Track the start time so we can determine how long the touch lasted\n      var touchStart = 0;\n      var firstTouch = null;\n\n      // Maximum movement allowed during a touch event to still be considered a tap\n      // Other popular libs use anywhere from 2 (hammer.js) to 15, so 10 seems like a nice, round number.\n      var tapMovementThreshold = 10;\n\n      // The maximum length a touch can be while still being considered a tap\n      var touchTimeThreshold = 200;\n\n      var couldBeTap = undefined;\n\n      this.on('touchstart', function (event) {\n        // If more than one finger, don't consider treating this as a click\n        if (event.touches.length === 1) {\n          // Copy the touches object to prevent modifying the original\n          firstTouch = _objectAssign2['default']({}, event.touches[0]);\n          // Record start time so we can detect a tap vs. \"touch and hold\"\n          touchStart = new Date().getTime();\n          // Reset couldBeTap tracking\n          couldBeTap = true;\n        }\n      });\n\n      this.on('touchmove', function (event) {\n        // If more than one finger, don't consider treating this as a click\n        if (event.touches.length > 1) {\n          couldBeTap = false;\n        } else if (firstTouch) {\n          // Some devices will throw touchmoves for all but the slightest of taps.\n          // So, if we moved only a small distance, this could still be a tap\n          var xdiff = event.touches[0].pageX - firstTouch.pageX;\n          var ydiff = event.touches[0].pageY - firstTouch.pageY;\n          var touchDistance = Math.sqrt(xdiff * xdiff + ydiff * ydiff);\n\n          if (touchDistance > tapMovementThreshold) {\n            couldBeTap = false;\n          }\n        }\n      });\n\n      var noTap = function noTap() {\n        couldBeTap = false;\n      };\n\n      // TODO: Listen to the original target. http://youtu.be/DujfpXOKUp8?t=13m8s\n      this.on('touchleave', noTap);\n      this.on('touchcancel', noTap);\n\n      // When the touch ends, measure how long it took and trigger the appropriate\n      // event\n      this.on('touchend', function (event) {\n        firstTouch = null;\n        // Proceed only if the touchmove/leave/cancel event didn't happen\n        if (couldBeTap === true) {\n          // Measure how long the touch lasted\n          var touchTime = new Date().getTime() - touchStart;\n\n          // Make sure the touch was less than the threshold to be considered a tap\n          if (touchTime < touchTimeThreshold) {\n            // Don't let browser turn this into a click\n            event.preventDefault();\n            this.trigger('tap');\n            // It may be good to copy the touchend event object and change the\n            // type to tap, if the other event properties aren't exact after\n            // Events.fixEvent runs (e.g. event.target)\n          }\n        }\n      });\n    };\n\n    /**\n     * Report user touch activity when touch events occur\n     * User activity is used to determine when controls should show/hide. It's\n     * relatively simple when it comes to mouse events, because any mouse event\n     * should show the controls. So we capture mouse events that bubble up to the\n     * player and report activity when that happens.\n     * With touch events it isn't as easy. We can't rely on touch events at the\n     * player level, because a tap (touchstart + touchend) on the video itself on\n     * mobile devices is meant to turn controls off (and on). User activity is\n     * checked asynchronously, so what could happen is a tap event on the video\n     * turns the controls off, then the touchend event bubbles up to the player,\n     * which if it reported user activity, would turn the controls right back on.\n     * (We also don't want to completely block touch events from bubbling up)\n     * Also a touchmove, touch+hold, and anything other than a tap is not supposed\n     * to turn the controls back on on a mobile device.\n     * Here we're setting the default component behavior to report user activity\n     * whenever touch events happen, and this can be turned off by components that\n     * want touch events to act differently.\n     *\n     * @method enableTouchActivity\n     */\n\n    Component.prototype.enableTouchActivity = function enableTouchActivity() {\n      // Don't continue if the root player doesn't support reporting user activity\n      if (!this.player() || !this.player().reportUserActivity) {\n        return;\n      }\n\n      // listener for reporting that the user is active\n      var report = Fn.bind(this.player(), this.player().reportUserActivity);\n\n      var touchHolding = undefined;\n\n      this.on('touchstart', function () {\n        report();\n        // For as long as the they are touching the device or have their mouse down,\n        // we consider them active even if they're not moving their finger or mouse.\n        // So we want to continue to update that they are active\n        this.clearInterval(touchHolding);\n        // report at the same interval as activityCheck\n        touchHolding = this.setInterval(report, 250);\n      });\n\n      var touchEnd = function touchEnd(event) {\n        report();\n        // stop the interval that maintains activity if the touch is holding\n        this.clearInterval(touchHolding);\n      };\n\n      this.on('touchmove', report);\n      this.on('touchend', touchEnd);\n      this.on('touchcancel', touchEnd);\n    };\n\n    /**\n     * Creates timeout and sets up disposal automatically.\n     *\n     * @param {Function} fn The function to run after the timeout.\n     * @param {Number} timeout Number of ms to delay before executing specified function.\n     * @return {Number} Returns the timeout ID\n     * @method setTimeout\n     */\n\n    Component.prototype.setTimeout = function setTimeout(fn, timeout) {\n      fn = Fn.bind(this, fn);\n\n      // window.setTimeout would be preferable here, but due to some bizarre issue with Sinon and/or Phantomjs, we can't.\n      var timeoutId = _globalWindow2['default'].setTimeout(fn, timeout);\n\n      var disposeFn = function disposeFn() {\n        this.clearTimeout(timeoutId);\n      };\n\n      disposeFn.guid = 'vjs-timeout-' + timeoutId;\n\n      this.on('dispose', disposeFn);\n\n      return timeoutId;\n    };\n\n    /**\n     * Clears a timeout and removes the associated dispose listener\n     *\n     * @param {Number} timeoutId The id of the timeout to clear\n     * @return {Number} Returns the timeout ID\n     * @method clearTimeout\n     */\n\n    Component.prototype.clearTimeout = function clearTimeout(timeoutId) {\n      _globalWindow2['default'].clearTimeout(timeoutId);\n\n      var disposeFn = function disposeFn() {};\n\n      disposeFn.guid = 'vjs-timeout-' + timeoutId;\n\n      this.off('dispose', disposeFn);\n\n      return timeoutId;\n    };\n\n    /**\n     * Creates an interval and sets up disposal automatically.\n     *\n     * @param {Function} fn The function to run every N seconds.\n     * @param {Number} interval Number of ms to delay before executing specified function.\n     * @return {Number} Returns the interval ID\n     * @method setInterval\n     */\n\n    Component.prototype.setInterval = function setInterval(fn, interval) {\n      fn = Fn.bind(this, fn);\n\n      var intervalId = _globalWindow2['default'].setInterval(fn, interval);\n\n      var disposeFn = function disposeFn() {\n        this.clearInterval(intervalId);\n      };\n\n      disposeFn.guid = 'vjs-interval-' + intervalId;\n\n      this.on('dispose', disposeFn);\n\n      return intervalId;\n    };\n\n    /**\n     * Clears an interval and removes the associated dispose listener\n     *\n     * @param {Number} intervalId The id of the interval to clear\n     * @return {Number} Returns the interval ID\n     * @method clearInterval\n     */\n\n    Component.prototype.clearInterval = function clearInterval(intervalId) {\n      _globalWindow2['default'].clearInterval(intervalId);\n\n      var disposeFn = function disposeFn() {};\n\n      disposeFn.guid = 'vjs-interval-' + intervalId;\n\n      this.off('dispose', disposeFn);\n\n      return intervalId;\n    };\n\n    /**\n     * Registers a component\n     *\n     * @param {String} name Name of the component to register\n     * @param {Object} comp The component to register\n     * @static\n     * @method registerComponent\n     */\n\n    Component.registerComponent = function registerComponent(name, comp) {\n      if (!Component.components_) {\n        Component.components_ = {};\n      }\n\n      Component.components_[name] = comp;\n      return comp;\n    };\n\n    /**\n     * Gets a component by name\n     *\n     * @param {String} name Name of the component to get\n     * @return {Component}\n     * @static\n     * @method getComponent\n     */\n\n    Component.getComponent = function getComponent(name) {\n      if (Component.components_ && Component.components_[name]) {\n        return Component.components_[name];\n      }\n\n      if (_globalWindow2['default'] && _globalWindow2['default'].videojs && _globalWindow2['default'].videojs[name]) {\n        _utilsLogJs2['default'].warn('The ' + name + ' component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)');\n        return _globalWindow2['default'].videojs[name];\n      }\n    };\n\n    /**\n     * Sets up the constructor using the supplied init method\n     * or uses the init of the parent object\n     *\n     * @param {Object} props An object of properties\n     * @static\n     * @deprecated\n     * @method extend\n     */\n\n    Component.extend = function extend(props) {\n      props = props || {};\n\n      _utilsLogJs2['default'].warn('Component.extend({}) has been deprecated, use videojs.extend(Component, {}) instead');\n\n      // Set up the constructor using the supplied init method\n      // or using the init of the parent object\n      // Make sure to check the unobfuscated version for external libs\n      var init = props.init || props.init || this.prototype.init || this.prototype.init || function () {};\n      // In Resig's simple class inheritance (previously used) the constructor\n      //  is a function that calls `this.init.apply(arguments)`\n      // However that would prevent us from using `ParentObject.call(this);`\n      //  in a Child constructor because the `this` in `this.init`\n      //  would still refer to the Child and cause an infinite loop.\n      // We would instead have to do\n      //    `ParentObject.prototype.init.apply(this, arguments);`\n      //  Bleh. We're not creating a _super() function, so it's good to keep\n      //  the parent constructor reference simple.\n      var subObj = function subObj() {\n        init.apply(this, arguments);\n      };\n\n      // Inherit from this object's prototype\n      subObj.prototype = Object.create(this.prototype);\n      // Reset the constructor property for subObj otherwise\n      // instances of subObj would have the constructor of the parent Object\n      subObj.prototype.constructor = subObj;\n\n      // Make the class extendable\n      subObj.extend = Component.extend;\n\n      // Extend subObj's prototype with functions and other properties from props\n      for (var _name in props) {\n        if (props.hasOwnProperty(_name)) {\n          subObj.prototype[_name] = props[_name];\n        }\n      }\n\n      return subObj;\n    };\n\n    return Component;\n  })();\n\n  Component.registerComponent('Component', Component);\n  exports['default'] = Component;\n  module.exports = exports['default'];\n\n},{\"./utils/dom.js\":143,\"./utils/events.js\":144,\"./utils/fn.js\":145,\"./utils/guid.js\":147,\"./utils/log.js\":148,\"./utils/merge-options.js\":149,\"./utils/to-title-case.js\":152,\"global/window\":2,\"object.assign\":45}],68:[function(_dereq_,module,exports){\n  /**\n   * @file audio-track-button.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _trackButtonJs = _dereq_('../track-button.js');\n\n  var _trackButtonJs2 = _interopRequireDefault(_trackButtonJs);\n\n  var _componentJs = _dereq_('../../component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  var _utilsFnJs = _dereq_('../../utils/fn.js');\n\n  var Fn = _interopRequireWildcard(_utilsFnJs);\n\n  var _audioTrackMenuItemJs = _dereq_('./audio-track-menu-item.js');\n\n  var _audioTrackMenuItemJs2 = _interopRequireDefault(_audioTrackMenuItemJs);\n\n  /**\n   * The base class for buttons that toggle specific text track types (e.g. subtitles)\n   *\n   * @param {Player|Object} player\n   * @param {Object=} options\n   * @extends TrackButton\n   * @class AudioTrackButton\n   */\n\n  var AudioTrackButton = (function (_TrackButton) {\n    _inherits(AudioTrackButton, _TrackButton);\n\n    function AudioTrackButton(player) {\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      _classCallCheck(this, AudioTrackButton);\n\n      options.tracks = player.audioTracks && player.audioTracks();\n\n      _TrackButton.call(this, player, options);\n\n      this.el_.setAttribute('aria-label', 'Audio Menu');\n    }\n\n    /**\n     * Allow sub components to stack CSS class names\n     *\n     * @return {String} The constructed class name\n     * @method buildCSSClass\n     */\n\n    AudioTrackButton.prototype.buildCSSClass = function buildCSSClass() {\n      return 'vjs-audio-button ' + _TrackButton.prototype.buildCSSClass.call(this);\n    };\n\n    /**\n     * Create a menu item for each audio track\n     *\n     * @return {Array} Array of menu items\n     * @method createItems\n     */\n\n    AudioTrackButton.prototype.createItems = function createItems() {\n      var items = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];\n\n      var tracks = this.player_.audioTracks && this.player_.audioTracks();\n\n      if (!tracks) {\n        return items;\n      }\n\n      for (var i = 0; i < tracks.length; i++) {\n        var track = tracks[i];\n\n        items.push(new _audioTrackMenuItemJs2['default'](this.player_, {\n          // MenuItem is selectable\n          'selectable': true,\n          'track': track\n        }));\n      }\n\n      return items;\n    };\n\n    return AudioTrackButton;\n  })(_trackButtonJs2['default']);\n\n  _componentJs2['default'].registerComponent('AudioTrackButton', AudioTrackButton);\n  exports['default'] = AudioTrackButton;\n  module.exports = exports['default'];\n\n},{\"../../component.js\":67,\"../../utils/fn.js\":145,\"../track-button.js\":98,\"./audio-track-menu-item.js\":69}],69:[function(_dereq_,module,exports){\n  /**\n   * @file audio-track-menu-item.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _menuMenuItemJs = _dereq_('../../menu/menu-item.js');\n\n  var _menuMenuItemJs2 = _interopRequireDefault(_menuMenuItemJs);\n\n  var _componentJs = _dereq_('../../component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  var _utilsFnJs = _dereq_('../../utils/fn.js');\n\n  var Fn = _interopRequireWildcard(_utilsFnJs);\n\n  /**\n   * The audio track menu item\n   *\n   * @param {Player|Object} player\n   * @param {Object=} options\n   * @extends MenuItem\n   * @class AudioTrackMenuItem\n   */\n\n  var AudioTrackMenuItem = (function (_MenuItem) {\n    _inherits(AudioTrackMenuItem, _MenuItem);\n\n    function AudioTrackMenuItem(player, options) {\n      var _this = this;\n\n      _classCallCheck(this, AudioTrackMenuItem);\n\n      var track = options.track;\n      var tracks = player.audioTracks();\n\n      // Modify options for parent MenuItem class's init.\n      options.label = track.label || track.language || 'Unknown';\n      options.selected = track.enabled;\n\n      _MenuItem.call(this, player, options);\n\n      this.track = track;\n\n      if (tracks) {\n        (function () {\n          var changeHandler = Fn.bind(_this, _this.handleTracksChange);\n\n          tracks.addEventListener('change', changeHandler);\n          _this.on('dispose', function () {\n            tracks.removeEventListener('change', changeHandler);\n          });\n        })();\n      }\n    }\n\n    /**\n     * Handle click on audio track\n     *\n     * @method handleClick\n     */\n\n    AudioTrackMenuItem.prototype.handleClick = function handleClick(event) {\n      var tracks = this.player_.audioTracks();\n\n      _MenuItem.prototype.handleClick.call(this, event);\n\n      if (!tracks) return;\n\n      for (var i = 0; i < tracks.length; i++) {\n        var track = tracks[i];\n\n        if (track === this.track) {\n          track.enabled = true;\n        }\n      }\n    };\n\n    /**\n     * Handle audio track change\n     *\n     * @method handleTracksChange\n     */\n\n    AudioTrackMenuItem.prototype.handleTracksChange = function handleTracksChange(event) {\n      this.selected(this.track.enabled);\n    };\n\n    return AudioTrackMenuItem;\n  })(_menuMenuItemJs2['default']);\n\n  _componentJs2['default'].registerComponent('AudioTrackMenuItem', AudioTrackMenuItem);\n  exports['default'] = AudioTrackMenuItem;\n  module.exports = exports['default'];\n\n},{\"../../component.js\":67,\"../../menu/menu-item.js\":110,\"../../utils/fn.js\":145}],70:[function(_dereq_,module,exports){\n  /**\n   * @file control-bar.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _componentJs = _dereq_('../component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n// Required children\n\n  var _playToggleJs = _dereq_('./play-toggle.js');\n\n  var _playToggleJs2 = _interopRequireDefault(_playToggleJs);\n\n  var _timeControlsCurrentTimeDisplayJs = _dereq_('./time-controls/current-time-display.js');\n\n  var _timeControlsCurrentTimeDisplayJs2 = _interopRequireDefault(_timeControlsCurrentTimeDisplayJs);\n\n  var _timeControlsDurationDisplayJs = _dereq_('./time-controls/duration-display.js');\n\n  var _timeControlsDurationDisplayJs2 = _interopRequireDefault(_timeControlsDurationDisplayJs);\n\n  var _timeControlsTimeDividerJs = _dereq_('./time-controls/time-divider.js');\n\n  var _timeControlsTimeDividerJs2 = _interopRequireDefault(_timeControlsTimeDividerJs);\n\n  var _timeControlsRemainingTimeDisplayJs = _dereq_('./time-controls/remaining-time-display.js');\n\n  var _timeControlsRemainingTimeDisplayJs2 = _interopRequireDefault(_timeControlsRemainingTimeDisplayJs);\n\n  var _liveDisplayJs = _dereq_('./live-display.js');\n\n  var _liveDisplayJs2 = _interopRequireDefault(_liveDisplayJs);\n\n  var _progressControlProgressControlJs = _dereq_('./progress-control/progress-control.js');\n\n  var _progressControlProgressControlJs2 = _interopRequireDefault(_progressControlProgressControlJs);\n\n  var _fullscreenToggleJs = _dereq_('./fullscreen-toggle.js');\n\n  var _fullscreenToggleJs2 = _interopRequireDefault(_fullscreenToggleJs);\n\n  var _volumeControlVolumeControlJs = _dereq_('./volume-control/volume-control.js');\n\n  var _volumeControlVolumeControlJs2 = _interopRequireDefault(_volumeControlVolumeControlJs);\n\n  var _volumeMenuButtonJs = _dereq_('./volume-menu-button.js');\n\n  var _volumeMenuButtonJs2 = _interopRequireDefault(_volumeMenuButtonJs);\n\n  var _muteToggleJs = _dereq_('./mute-toggle.js');\n\n  var _muteToggleJs2 = _interopRequireDefault(_muteToggleJs);\n\n  var _textTrackControlsChaptersButtonJs = _dereq_('./text-track-controls/chapters-button.js');\n\n  var _textTrackControlsChaptersButtonJs2 = _interopRequireDefault(_textTrackControlsChaptersButtonJs);\n\n  var _textTrackControlsDescriptionsButtonJs = _dereq_('./text-track-controls/descriptions-button.js');\n\n  var _textTrackControlsDescriptionsButtonJs2 = _interopRequireDefault(_textTrackControlsDescriptionsButtonJs);\n\n  var _textTrackControlsSubtitlesButtonJs = _dereq_('./text-track-controls/subtitles-button.js');\n\n  var _textTrackControlsSubtitlesButtonJs2 = _interopRequireDefault(_textTrackControlsSubtitlesButtonJs);\n\n  var _textTrackControlsCaptionsButtonJs = _dereq_('./text-track-controls/captions-button.js');\n\n  var _textTrackControlsCaptionsButtonJs2 = _interopRequireDefault(_textTrackControlsCaptionsButtonJs);\n\n  var _audioTrackControlsAudioTrackButtonJs = _dereq_('./audio-track-controls/audio-track-button.js');\n\n  var _audioTrackControlsAudioTrackButtonJs2 = _interopRequireDefault(_audioTrackControlsAudioTrackButtonJs);\n\n  var _playbackRateMenuPlaybackRateMenuButtonJs = _dereq_('./playback-rate-menu/playback-rate-menu-button.js');\n\n  var _playbackRateMenuPlaybackRateMenuButtonJs2 = _interopRequireDefault(_playbackRateMenuPlaybackRateMenuButtonJs);\n\n  var _spacerControlsCustomControlSpacerJs = _dereq_('./spacer-controls/custom-control-spacer.js');\n\n  var _spacerControlsCustomControlSpacerJs2 = _interopRequireDefault(_spacerControlsCustomControlSpacerJs);\n\n  /**\n   * Container of main controls\n   *\n   * @extends Component\n   * @class ControlBar\n   */\n\n  var ControlBar = (function (_Component) {\n    _inherits(ControlBar, _Component);\n\n    function ControlBar() {\n      _classCallCheck(this, ControlBar);\n\n      _Component.apply(this, arguments);\n    }\n\n    /**\n     * Create the component's DOM element\n     *\n     * @return {Element}\n     * @method createEl\n     */\n\n    ControlBar.prototype.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-control-bar',\n        dir: 'ltr'\n      }, {\n        'role': 'group' // The control bar is a group, so it can contain menuitems\n      });\n    };\n\n    return ControlBar;\n  })(_componentJs2['default']);\n\n  ControlBar.prototype.options_ = {\n    children: ['playToggle', 'volumeMenuButton', 'currentTimeDisplay', 'timeDivider', 'durationDisplay', 'progressControl', 'liveDisplay', 'remainingTimeDisplay', 'customControlSpacer', 'playbackRateMenuButton', 'chaptersButton', 'descriptionsButton', 'subtitlesButton', 'captionsButton', 'audioTrackButton', 'fullscreenToggle']\n  };\n\n  _componentJs2['default'].registerComponent('ControlBar', ControlBar);\n  exports['default'] = ControlBar;\n  module.exports = exports['default'];\n\n},{\"../component.js\":67,\"./audio-track-controls/audio-track-button.js\":68,\"./fullscreen-toggle.js\":71,\"./live-display.js\":72,\"./mute-toggle.js\":73,\"./play-toggle.js\":74,\"./playback-rate-menu/playback-rate-menu-button.js\":75,\"./progress-control/progress-control.js\":80,\"./spacer-controls/custom-control-spacer.js\":83,\"./text-track-controls/captions-button.js\":86,\"./text-track-controls/chapters-button.js\":87,\"./text-track-controls/descriptions-button.js\":89,\"./text-track-controls/subtitles-button.js\":91,\"./time-controls/current-time-display.js\":94,\"./time-controls/duration-display.js\":95,\"./time-controls/remaining-time-display.js\":96,\"./time-controls/time-divider.js\":97,\"./volume-control/volume-control.js\":100,\"./volume-menu-button.js\":102}],71:[function(_dereq_,module,exports){\n  /**\n   * @file fullscreen-toggle.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _buttonJs = _dereq_('../button.js');\n\n  var _buttonJs2 = _interopRequireDefault(_buttonJs);\n\n  var _componentJs = _dereq_('../component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  /**\n   * Toggle fullscreen video\n   *\n   * @extends Button\n   * @class FullscreenToggle\n   */\n\n  var FullscreenToggle = (function (_Button) {\n    _inherits(FullscreenToggle, _Button);\n\n    function FullscreenToggle() {\n      _classCallCheck(this, FullscreenToggle);\n\n      _Button.apply(this, arguments);\n    }\n\n    /**\n     * Allow sub components to stack CSS class names\n     *\n     * @return {String} The constructed class name\n     * @method buildCSSClass\n     */\n\n    FullscreenToggle.prototype.buildCSSClass = function buildCSSClass() {\n      return 'vjs-fullscreen-control ' + _Button.prototype.buildCSSClass.call(this);\n    };\n\n    /**\n     * Handles click for full screen\n     *\n     * @method handleClick\n     */\n\n    FullscreenToggle.prototype.handleClick = function handleClick() {\n      if (!this.player_.isFullscreen()) {\n        this.player_.requestFullscreen();\n        this.controlText('Non-Fullscreen');\n      } else {\n        this.player_.exitFullscreen();\n        this.controlText('Fullscreen');\n      }\n    };\n\n    return FullscreenToggle;\n  })(_buttonJs2['default']);\n\n  FullscreenToggle.prototype.controlText_ = 'Fullscreen';\n\n  _componentJs2['default'].registerComponent('FullscreenToggle', FullscreenToggle);\n  exports['default'] = FullscreenToggle;\n  module.exports = exports['default'];\n\n},{\"../button.js\":64,\"../component.js\":67}],72:[function(_dereq_,module,exports){\n  /**\n   * @file live-display.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _component = _dereq_('../component');\n\n  var _component2 = _interopRequireDefault(_component);\n\n  var _utilsDomJs = _dereq_('../utils/dom.js');\n\n  var Dom = _interopRequireWildcard(_utilsDomJs);\n\n  /**\n   * Displays the live indicator\n   * TODO - Future make it click to snap to live\n   *\n   * @extends Component\n   * @class LiveDisplay\n   */\n\n  var LiveDisplay = (function (_Component) {\n    _inherits(LiveDisplay, _Component);\n\n    function LiveDisplay(player, options) {\n      _classCallCheck(this, LiveDisplay);\n\n      _Component.call(this, player, options);\n\n      this.updateShowing();\n      this.on(this.player(), 'durationchange', this.updateShowing);\n    }\n\n    /**\n     * Create the component's DOM element\n     *\n     * @return {Element}\n     * @method createEl\n     */\n\n    LiveDisplay.prototype.createEl = function createEl() {\n      var el = _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-live-control vjs-control'\n      });\n\n      this.contentEl_ = Dom.createEl('div', {\n        className: 'vjs-live-display',\n        innerHTML: '<span class=\"vjs-control-text\">' + this.localize('Stream Type') + '</span>' + this.localize('LIVE')\n      }, {\n        'aria-live': 'off'\n      });\n\n      el.appendChild(this.contentEl_);\n      return el;\n    };\n\n    LiveDisplay.prototype.updateShowing = function updateShowing() {\n      if (this.player().duration() === Infinity) {\n        this.show();\n      } else {\n        this.hide();\n      }\n    };\n\n    return LiveDisplay;\n  })(_component2['default']);\n\n  _component2['default'].registerComponent('LiveDisplay', LiveDisplay);\n  exports['default'] = LiveDisplay;\n  module.exports = exports['default'];\n\n},{\"../component\":67,\"../utils/dom.js\":143}],73:[function(_dereq_,module,exports){\n  /**\n   * @file mute-toggle.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _button = _dereq_('../button');\n\n  var _button2 = _interopRequireDefault(_button);\n\n  var _component = _dereq_('../component');\n\n  var _component2 = _interopRequireDefault(_component);\n\n  var _utilsDomJs = _dereq_('../utils/dom.js');\n\n  var Dom = _interopRequireWildcard(_utilsDomJs);\n\n  /**\n   * A button component for muting the audio\n   *\n   * @param {Player|Object} player\n   * @param {Object=} options\n   * @extends Button\n   * @class MuteToggle\n   */\n\n  var MuteToggle = (function (_Button) {\n    _inherits(MuteToggle, _Button);\n\n    function MuteToggle(player, options) {\n      _classCallCheck(this, MuteToggle);\n\n      _Button.call(this, player, options);\n\n      this.on(player, 'volumechange', this.update);\n\n      // hide mute toggle if the current tech doesn't support volume control\n      if (player.tech_ && player.tech_['featuresVolumeControl'] === false) {\n        this.addClass('vjs-hidden');\n      }\n\n      this.on(player, 'loadstart', function () {\n        this.update(); // We need to update the button to account for a default muted state.\n\n        if (player.tech_['featuresVolumeControl'] === false) {\n          this.addClass('vjs-hidden');\n        } else {\n          this.removeClass('vjs-hidden');\n        }\n      });\n    }\n\n    /**\n     * Allow sub components to stack CSS class names\n     *\n     * @return {String} The constructed class name\n     * @method buildCSSClass\n     */\n\n    MuteToggle.prototype.buildCSSClass = function buildCSSClass() {\n      return 'vjs-mute-control ' + _Button.prototype.buildCSSClass.call(this);\n    };\n\n    /**\n     * Handle click on mute\n     *\n     * @method handleClick\n     */\n\n    MuteToggle.prototype.handleClick = function handleClick() {\n      this.player_.muted(this.player_.muted() ? false : true);\n    };\n\n    /**\n     * Update volume\n     *\n     * @method update\n     */\n\n    MuteToggle.prototype.update = function update() {\n      var vol = this.player_.volume(),\n        level = 3;\n\n      if (vol === 0 || this.player_.muted()) {\n        level = 0;\n      } else if (vol < 0.33) {\n        level = 1;\n      } else if (vol < 0.67) {\n        level = 2;\n      }\n\n      // Don't rewrite the button text if the actual text doesn't change.\n      // This causes unnecessary and confusing information for screen reader users.\n      // This check is needed because this function gets called every time the volume level is changed.\n      var toMute = this.player_.muted() ? 'Unmute' : 'Mute';\n      if (this.controlText() !== toMute) {\n        this.controlText(toMute);\n      }\n\n      /* TODO improve muted icon classes */\n      for (var i = 0; i < 4; i++) {\n        Dom.removeElClass(this.el_, 'vjs-vol-' + i);\n      }\n      Dom.addElClass(this.el_, 'vjs-vol-' + level);\n    };\n\n    return MuteToggle;\n  })(_button2['default']);\n\n  MuteToggle.prototype.controlText_ = 'Mute';\n\n  _component2['default'].registerComponent('MuteToggle', MuteToggle);\n  exports['default'] = MuteToggle;\n  module.exports = exports['default'];\n\n},{\"../button\":64,\"../component\":67,\"../utils/dom.js\":143}],74:[function(_dereq_,module,exports){\n  /**\n   * @file play-toggle.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _buttonJs = _dereq_('../button.js');\n\n  var _buttonJs2 = _interopRequireDefault(_buttonJs);\n\n  var _componentJs = _dereq_('../component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  /**\n   * Button to toggle between play and pause\n   *\n   * @param {Player|Object} player\n   * @param {Object=} options\n   * @extends Button\n   * @class PlayToggle\n   */\n\n  var PlayToggle = (function (_Button) {\n    _inherits(PlayToggle, _Button);\n\n    function PlayToggle(player, options) {\n      _classCallCheck(this, PlayToggle);\n\n      _Button.call(this, player, options);\n\n      this.on(player, 'play', this.handlePlay);\n      this.on(player, 'pause', this.handlePause);\n    }\n\n    /**\n     * Allow sub components to stack CSS class names\n     *\n     * @return {String} The constructed class name\n     * @method buildCSSClass\n     */\n\n    PlayToggle.prototype.buildCSSClass = function buildCSSClass() {\n      return 'vjs-play-control ' + _Button.prototype.buildCSSClass.call(this);\n    };\n\n    /**\n     * Handle click to toggle between play and pause\n     *\n     * @method handleClick\n     */\n\n    PlayToggle.prototype.handleClick = function handleClick() {\n      if (this.player_.paused()) {\n        this.player_.play();\n      } else {\n        this.player_.pause();\n      }\n    };\n\n    /**\n     * Add the vjs-playing class to the element so it can change appearance\n     *\n     * @method handlePlay\n     */\n\n    PlayToggle.prototype.handlePlay = function handlePlay() {\n      this.removeClass('vjs-paused');\n      this.addClass('vjs-playing');\n      this.controlText('Pause'); // change the button text to \"Pause\"\n    };\n\n    /**\n     * Add the vjs-paused class to the element so it can change appearance\n     *\n     * @method handlePause\n     */\n\n    PlayToggle.prototype.handlePause = function handlePause() {\n      this.removeClass('vjs-playing');\n      this.addClass('vjs-paused');\n      this.controlText('Play'); // change the button text to \"Play\"\n    };\n\n    return PlayToggle;\n  })(_buttonJs2['default']);\n\n  PlayToggle.prototype.controlText_ = 'Play';\n\n  _componentJs2['default'].registerComponent('PlayToggle', PlayToggle);\n  exports['default'] = PlayToggle;\n  module.exports = exports['default'];\n\n},{\"../button.js\":64,\"../component.js\":67}],75:[function(_dereq_,module,exports){\n  /**\n   * @file playback-rate-menu-button.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _menuMenuButtonJs = _dereq_('../../menu/menu-button.js');\n\n  var _menuMenuButtonJs2 = _interopRequireDefault(_menuMenuButtonJs);\n\n  var _menuMenuJs = _dereq_('../../menu/menu.js');\n\n  var _menuMenuJs2 = _interopRequireDefault(_menuMenuJs);\n\n  var _playbackRateMenuItemJs = _dereq_('./playback-rate-menu-item.js');\n\n  var _playbackRateMenuItemJs2 = _interopRequireDefault(_playbackRateMenuItemJs);\n\n  var _componentJs = _dereq_('../../component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  var _utilsDomJs = _dereq_('../../utils/dom.js');\n\n  var Dom = _interopRequireWildcard(_utilsDomJs);\n\n  /**\n   * The component for controlling the playback rate\n   *\n   * @param {Player|Object} player\n   * @param {Object=} options\n   * @extends MenuButton\n   * @class PlaybackRateMenuButton\n   */\n\n  var PlaybackRateMenuButton = (function (_MenuButton) {\n    _inherits(PlaybackRateMenuButton, _MenuButton);\n\n    function PlaybackRateMenuButton(player, options) {\n      _classCallCheck(this, PlaybackRateMenuButton);\n\n      _MenuButton.call(this, player, options);\n\n      this.updateVisibility();\n      this.updateLabel();\n\n      this.on(player, 'loadstart', this.updateVisibility);\n      this.on(player, 'ratechange', this.updateLabel);\n    }\n\n    /**\n     * Create the component's DOM element\n     *\n     * @return {Element}\n     * @method createEl\n     */\n\n    PlaybackRateMenuButton.prototype.createEl = function createEl() {\n      var el = _MenuButton.prototype.createEl.call(this);\n\n      this.labelEl_ = Dom.createEl('div', {\n        className: 'vjs-playback-rate-value',\n        innerHTML: 1.0\n      });\n\n      el.appendChild(this.labelEl_);\n\n      return el;\n    };\n\n    /**\n     * Allow sub components to stack CSS class names\n     *\n     * @return {String} The constructed class name\n     * @method buildCSSClass\n     */\n\n    PlaybackRateMenuButton.prototype.buildCSSClass = function buildCSSClass() {\n      return 'vjs-playback-rate ' + _MenuButton.prototype.buildCSSClass.call(this);\n    };\n\n    /**\n     * Create the playback rate menu\n     *\n     * @return {Menu} Menu object populated with items\n     * @method createMenu\n     */\n\n    PlaybackRateMenuButton.prototype.createMenu = function createMenu() {\n      var menu = new _menuMenuJs2['default'](this.player());\n      var rates = this.playbackRates();\n\n      if (rates) {\n        for (var i = rates.length - 1; i >= 0; i--) {\n          menu.addChild(new _playbackRateMenuItemJs2['default'](this.player(), { 'rate': rates[i] + 'x' }));\n        }\n      }\n\n      return menu;\n    };\n\n    /**\n     * Updates ARIA accessibility attributes\n     *\n     * @method updateARIAAttributes\n     */\n\n    PlaybackRateMenuButton.prototype.updateARIAAttributes = function updateARIAAttributes() {\n      // Current playback rate\n      this.el().setAttribute('aria-valuenow', this.player().playbackRate());\n    };\n\n    /**\n     * Handle menu item click\n     *\n     * @method handleClick\n     */\n\n    PlaybackRateMenuButton.prototype.handleClick = function handleClick() {\n      // select next rate option\n      var currentRate = this.player().playbackRate();\n      var rates = this.playbackRates();\n\n      // this will select first one if the last one currently selected\n      var newRate = rates[0];\n      for (var i = 0; i < rates.length; i++) {\n        if (rates[i] > currentRate) {\n          newRate = rates[i];\n          break;\n        }\n      }\n      this.player().playbackRate(newRate);\n    };\n\n    /**\n     * Get possible playback rates\n     *\n     * @return {Array} Possible playback rates\n     * @method playbackRates\n     */\n\n    PlaybackRateMenuButton.prototype.playbackRates = function playbackRates() {\n      return this.options_['playbackRates'] || this.options_.playerOptions && this.options_.playerOptions['playbackRates'];\n    };\n\n    /**\n     * Get whether playback rates is supported by the tech\n     * and an array of playback rates exists\n     *\n     * @return {Boolean} Whether changing playback rate is supported\n     * @method playbackRateSupported\n     */\n\n    PlaybackRateMenuButton.prototype.playbackRateSupported = function playbackRateSupported() {\n      return this.player().tech_ && this.player().tech_['featuresPlaybackRate'] && this.playbackRates() && this.playbackRates().length > 0;\n    };\n\n    /**\n     * Hide playback rate controls when they're no playback rate options to select\n     *\n     * @method updateVisibility\n     */\n\n    PlaybackRateMenuButton.prototype.updateVisibility = function updateVisibility() {\n      if (this.playbackRateSupported()) {\n        this.removeClass('vjs-hidden');\n      } else {\n        this.addClass('vjs-hidden');\n      }\n    };\n\n    /**\n     * Update button label when rate changed\n     *\n     * @method updateLabel\n     */\n\n    PlaybackRateMenuButton.prototype.updateLabel = function updateLabel() {\n      if (this.playbackRateSupported()) {\n        this.labelEl_.innerHTML = this.player().playbackRate() + 'x';\n      }\n    };\n\n    return PlaybackRateMenuButton;\n  })(_menuMenuButtonJs2['default']);\n\n  PlaybackRateMenuButton.prototype.controlText_ = 'Playback Rate';\n\n  _componentJs2['default'].registerComponent('PlaybackRateMenuButton', PlaybackRateMenuButton);\n  exports['default'] = PlaybackRateMenuButton;\n  module.exports = exports['default'];\n\n},{\"../../component.js\":67,\"../../menu/menu-button.js\":109,\"../../menu/menu.js\":111,\"../../utils/dom.js\":143,\"./playback-rate-menu-item.js\":76}],76:[function(_dereq_,module,exports){\n  /**\n   * @file playback-rate-menu-item.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _menuMenuItemJs = _dereq_('../../menu/menu-item.js');\n\n  var _menuMenuItemJs2 = _interopRequireDefault(_menuMenuItemJs);\n\n  var _componentJs = _dereq_('../../component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  /**\n   * The specific menu item type for selecting a playback rate\n   *\n   * @param {Player|Object} player\n   * @param {Object=} options\n   * @extends MenuItem\n   * @class PlaybackRateMenuItem\n   */\n\n  var PlaybackRateMenuItem = (function (_MenuItem) {\n    _inherits(PlaybackRateMenuItem, _MenuItem);\n\n    function PlaybackRateMenuItem(player, options) {\n      _classCallCheck(this, PlaybackRateMenuItem);\n\n      var label = options['rate'];\n      var rate = parseFloat(label, 10);\n\n      // Modify options for parent MenuItem class's init.\n      options['label'] = label;\n      options['selected'] = rate === 1;\n      _MenuItem.call(this, player, options);\n\n      this.label = label;\n      this.rate = rate;\n\n      this.on(player, 'ratechange', this.update);\n    }\n\n    /**\n     * Handle click on menu item\n     *\n     * @method handleClick\n     */\n\n    PlaybackRateMenuItem.prototype.handleClick = function handleClick() {\n      _MenuItem.prototype.handleClick.call(this);\n      this.player().playbackRate(this.rate);\n    };\n\n    /**\n     * Update playback rate with selected rate\n     *\n     * @method update\n     */\n\n    PlaybackRateMenuItem.prototype.update = function update() {\n      this.selected(this.player().playbackRate() === this.rate);\n    };\n\n    return PlaybackRateMenuItem;\n  })(_menuMenuItemJs2['default']);\n\n  PlaybackRateMenuItem.prototype.contentElType = 'button';\n\n  _componentJs2['default'].registerComponent('PlaybackRateMenuItem', PlaybackRateMenuItem);\n  exports['default'] = PlaybackRateMenuItem;\n  module.exports = exports['default'];\n\n},{\"../../component.js\":67,\"../../menu/menu-item.js\":110}],77:[function(_dereq_,module,exports){\n  /**\n   * @file load-progress-bar.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _componentJs = _dereq_('../../component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  var _utilsDomJs = _dereq_('../../utils/dom.js');\n\n  var Dom = _interopRequireWildcard(_utilsDomJs);\n\n  /**\n   * Shows load progress\n   *\n   * @param {Player|Object} player\n   * @param {Object=} options\n   * @extends Component\n   * @class LoadProgressBar\n   */\n\n  var LoadProgressBar = (function (_Component) {\n    _inherits(LoadProgressBar, _Component);\n\n    function LoadProgressBar(player, options) {\n      _classCallCheck(this, LoadProgressBar);\n\n      _Component.call(this, player, options);\n      this.on(player, 'progress', this.update);\n    }\n\n    /**\n     * Create the component's DOM element\n     *\n     * @return {Element}\n     * @method createEl\n     */\n\n    LoadProgressBar.prototype.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-load-progress',\n        innerHTML: '<span class=\"vjs-control-text\"><span>' + this.localize('Loaded') + '</span>: 0%</span>'\n      });\n    };\n\n    /**\n     * Update progress bar\n     *\n     * @method update\n     */\n\n    LoadProgressBar.prototype.update = function update() {\n      var buffered = this.player_.buffered();\n      var duration = this.player_.duration();\n      var bufferedEnd = this.player_.bufferedEnd();\n      var children = this.el_.children;\n\n      // get the percent width of a time compared to the total end\n      var percentify = function percentify(time, end) {\n        var percent = time / end || 0; // no NaN\n        return (percent >= 1 ? 1 : percent) * 100 + '%';\n      };\n\n      // update the width of the progress bar\n      this.el_.style.width = percentify(bufferedEnd, duration);\n\n      // add child elements to represent the individual buffered time ranges\n      for (var i = 0; i < buffered.length; i++) {\n        var start = buffered.start(i);\n        var end = buffered.end(i);\n        var part = children[i];\n\n        if (!part) {\n          part = this.el_.appendChild(Dom.createEl());\n        }\n\n        // set the percent based on the width of the progress bar (bufferedEnd)\n        part.style.left = percentify(start, bufferedEnd);\n        part.style.width = percentify(end - start, bufferedEnd);\n      }\n\n      // remove unused buffered range elements\n      for (var i = children.length; i > buffered.length; i--) {\n        this.el_.removeChild(children[i - 1]);\n      }\n    };\n\n    return LoadProgressBar;\n  })(_componentJs2['default']);\n\n  _componentJs2['default'].registerComponent('LoadProgressBar', LoadProgressBar);\n  exports['default'] = LoadProgressBar;\n  module.exports = exports['default'];\n\n},{\"../../component.js\":67,\"../../utils/dom.js\":143}],78:[function(_dereq_,module,exports){\n  /**\n   * @file mouse-time-display.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _globalWindow = _dereq_('global/window');\n\n  var _globalWindow2 = _interopRequireDefault(_globalWindow);\n\n  var _componentJs = _dereq_('../../component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  var _utilsDomJs = _dereq_('../../utils/dom.js');\n\n  var Dom = _interopRequireWildcard(_utilsDomJs);\n\n  var _utilsFnJs = _dereq_('../../utils/fn.js');\n\n  var Fn = _interopRequireWildcard(_utilsFnJs);\n\n  var _utilsFormatTimeJs = _dereq_('../../utils/format-time.js');\n\n  var _utilsFormatTimeJs2 = _interopRequireDefault(_utilsFormatTimeJs);\n\n  var _lodashCompatFunctionThrottle = _dereq_('lodash-compat/function/throttle');\n\n  var _lodashCompatFunctionThrottle2 = _interopRequireDefault(_lodashCompatFunctionThrottle);\n\n  /**\n   * The Mouse Time Display component shows the time you will seek to\n   * when hovering over the progress bar\n   *\n   * @param {Player|Object} player\n   * @param {Object=} options\n   * @extends Component\n   * @class MouseTimeDisplay\n   */\n\n  var MouseTimeDisplay = (function (_Component) {\n    _inherits(MouseTimeDisplay, _Component);\n\n    function MouseTimeDisplay(player, options) {\n      var _this = this;\n\n      _classCallCheck(this, MouseTimeDisplay);\n\n      _Component.call(this, player, options);\n\n      if (options.playerOptions && options.playerOptions.controlBar && options.playerOptions.controlBar.progressControl && options.playerOptions.controlBar.progressControl.keepTooltipsInside) {\n        this.keepTooltipsInside = options.playerOptions.controlBar.progressControl.keepTooltipsInside;\n      }\n\n      if (this.keepTooltipsInside) {\n        this.tooltip = Dom.createEl('div', { className: 'vjs-time-tooltip' });\n        this.el().appendChild(this.tooltip);\n        this.addClass('vjs-keep-tooltips-inside');\n      }\n\n      this.update(0, 0);\n\n      player.on('ready', function () {\n        _this.on(player.controlBar.progressControl.el(), 'mousemove', _lodashCompatFunctionThrottle2['default'](Fn.bind(_this, _this.handleMouseMove), 25));\n      });\n    }\n\n    /**\n     * Create the component's DOM element\n     *\n     * @return {Element}\n     * @method createEl\n     */\n\n    MouseTimeDisplay.prototype.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-mouse-display'\n      });\n    };\n\n    MouseTimeDisplay.prototype.handleMouseMove = function handleMouseMove(event) {\n      var duration = this.player_.duration();\n      var newTime = this.calculateDistance(event) * duration;\n      var position = event.pageX - Dom.findElPosition(this.el().parentNode).left;\n\n      this.update(newTime, position);\n    };\n\n    MouseTimeDisplay.prototype.update = function update(newTime, position) {\n      var time = _utilsFormatTimeJs2['default'](newTime, this.player_.duration());\n\n      this.el().style.left = position + 'px';\n      this.el().setAttribute('data-current-time', time);\n\n      if (this.keepTooltipsInside) {\n        var clampedPosition = this.clampPosition_(position);\n        var difference = position - clampedPosition + 1;\n        var tooltipWidth = parseFloat(_globalWindow2['default'].getComputedStyle(this.tooltip).width);\n        var tooltipWidthHalf = tooltipWidth / 2;\n\n        this.tooltip.innerHTML = time;\n        this.tooltip.style.right = '-' + (tooltipWidthHalf - difference) + 'px';\n      }\n    };\n\n    MouseTimeDisplay.prototype.calculateDistance = function calculateDistance(event) {\n      return Dom.getPointerPosition(this.el().parentNode, event).x;\n    };\n\n    /**\n     * This takes in a horizontal position for the bar and returns a clamped position.\n     * Clamped position means that it will keep the position greater than half the width\n     * of the tooltip and smaller than the player width minus half the width o the tooltip.\n     * It will only clamp the position if `keepTooltipsInside` option is set.\n     *\n     * @param {Number} position the position the bar wants to be\n     * @return {Number} newPosition the (potentially) clamped position\n     * @method clampPosition_\n     */\n\n    MouseTimeDisplay.prototype.clampPosition_ = function clampPosition_(position) {\n      if (!this.keepTooltipsInside) {\n        return position;\n      }\n\n      var playerWidth = parseFloat(_globalWindow2['default'].getComputedStyle(this.player().el()).width);\n      var tooltipWidth = parseFloat(_globalWindow2['default'].getComputedStyle(this.tooltip).width);\n      var tooltipWidthHalf = tooltipWidth / 2;\n      var actualPosition = position;\n\n      if (position < tooltipWidthHalf) {\n        actualPosition = Math.ceil(tooltipWidthHalf);\n      } else if (position > playerWidth - tooltipWidthHalf) {\n        actualPosition = Math.floor(playerWidth - tooltipWidthHalf);\n      }\n\n      return actualPosition;\n    };\n\n    return MouseTimeDisplay;\n  })(_componentJs2['default']);\n\n  _componentJs2['default'].registerComponent('MouseTimeDisplay', MouseTimeDisplay);\n  exports['default'] = MouseTimeDisplay;\n  module.exports = exports['default'];\n\n},{\"../../component.js\":67,\"../../utils/dom.js\":143,\"../../utils/fn.js\":145,\"../../utils/format-time.js\":146,\"global/window\":2,\"lodash-compat/function/throttle\":7}],79:[function(_dereq_,module,exports){\n  /**\n   * @file play-progress-bar.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _componentJs = _dereq_('../../component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  var _utilsFnJs = _dereq_('../../utils/fn.js');\n\n  var Fn = _interopRequireWildcard(_utilsFnJs);\n\n  var _utilsDomJs = _dereq_('../../utils/dom.js');\n\n  var Dom = _interopRequireWildcard(_utilsDomJs);\n\n  var _utilsFormatTimeJs = _dereq_('../../utils/format-time.js');\n\n  var _utilsFormatTimeJs2 = _interopRequireDefault(_utilsFormatTimeJs);\n\n  /**\n   * Shows play progress\n   *\n   * @param {Player|Object} player\n   * @param {Object=} options\n   * @extends Component\n   * @class PlayProgressBar\n   */\n\n  var PlayProgressBar = (function (_Component) {\n    _inherits(PlayProgressBar, _Component);\n\n    function PlayProgressBar(player, options) {\n      _classCallCheck(this, PlayProgressBar);\n\n      _Component.call(this, player, options);\n      this.updateDataAttr();\n      this.on(player, 'timeupdate', this.updateDataAttr);\n      player.ready(Fn.bind(this, this.updateDataAttr));\n\n      if (options.playerOptions && options.playerOptions.controlBar && options.playerOptions.controlBar.progressControl && options.playerOptions.controlBar.progressControl.keepTooltipsInside) {\n        this.keepTooltipsInside = options.playerOptions.controlBar.progressControl.keepTooltipsInside;\n      }\n\n      if (this.keepTooltipsInside) {\n        this.addClass('vjs-keep-tooltips-inside');\n      }\n    }\n\n    /**\n     * Create the component's DOM element\n     *\n     * @return {Element}\n     * @method createEl\n     */\n\n    PlayProgressBar.prototype.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-play-progress vjs-slider-bar',\n        innerHTML: '<span class=\"vjs-control-text\"><span>' + this.localize('Progress') + '</span>: 0%</span>'\n      });\n    };\n\n    PlayProgressBar.prototype.updateDataAttr = function updateDataAttr() {\n      var time = this.player_.scrubbing() ? this.player_.getCache().currentTime : this.player_.currentTime();\n      this.el_.setAttribute('data-current-time', _utilsFormatTimeJs2['default'](time, this.player_.duration()));\n    };\n\n    return PlayProgressBar;\n  })(_componentJs2['default']);\n\n  _componentJs2['default'].registerComponent('PlayProgressBar', PlayProgressBar);\n  exports['default'] = PlayProgressBar;\n  module.exports = exports['default'];\n\n},{\"../../component.js\":67,\"../../utils/dom.js\":143,\"../../utils/fn.js\":145,\"../../utils/format-time.js\":146}],80:[function(_dereq_,module,exports){\n  /**\n   * @file progress-control.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _componentJs = _dereq_('../../component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  var _seekBarJs = _dereq_('./seek-bar.js');\n\n  var _seekBarJs2 = _interopRequireDefault(_seekBarJs);\n\n  var _mouseTimeDisplayJs = _dereq_('./mouse-time-display.js');\n\n  var _mouseTimeDisplayJs2 = _interopRequireDefault(_mouseTimeDisplayJs);\n\n  /**\n   * The Progress Control component contains the seek bar, load progress,\n   * and play progress\n   *\n   * @param {Player|Object} player\n   * @param {Object=} options\n   * @extends Component\n   * @class ProgressControl\n   */\n\n  var ProgressControl = (function (_Component) {\n    _inherits(ProgressControl, _Component);\n\n    function ProgressControl() {\n      _classCallCheck(this, ProgressControl);\n\n      _Component.apply(this, arguments);\n    }\n\n    /**\n     * Create the component's DOM element\n     *\n     * @return {Element}\n     * @method createEl\n     */\n\n    ProgressControl.prototype.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-progress-control vjs-control'\n      });\n    };\n\n    return ProgressControl;\n  })(_componentJs2['default']);\n\n  ProgressControl.prototype.options_ = {\n    children: ['seekBar']\n  };\n\n  _componentJs2['default'].registerComponent('ProgressControl', ProgressControl);\n  exports['default'] = ProgressControl;\n  module.exports = exports['default'];\n\n},{\"../../component.js\":67,\"./mouse-time-display.js\":78,\"./seek-bar.js\":81}],81:[function(_dereq_,module,exports){\n  /**\n   * @file seek-bar.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _globalWindow = _dereq_('global/window');\n\n  var _globalWindow2 = _interopRequireDefault(_globalWindow);\n\n  var _sliderSliderJs = _dereq_('../../slider/slider.js');\n\n  var _sliderSliderJs2 = _interopRequireDefault(_sliderSliderJs);\n\n  var _componentJs = _dereq_('../../component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  var _loadProgressBarJs = _dereq_('./load-progress-bar.js');\n\n  var _loadProgressBarJs2 = _interopRequireDefault(_loadProgressBarJs);\n\n  var _playProgressBarJs = _dereq_('./play-progress-bar.js');\n\n  var _playProgressBarJs2 = _interopRequireDefault(_playProgressBarJs);\n\n  var _tooltipProgressBarJs = _dereq_('./tooltip-progress-bar.js');\n\n  var _tooltipProgressBarJs2 = _interopRequireDefault(_tooltipProgressBarJs);\n\n  var _utilsFnJs = _dereq_('../../utils/fn.js');\n\n  var Fn = _interopRequireWildcard(_utilsFnJs);\n\n  var _utilsFormatTimeJs = _dereq_('../../utils/format-time.js');\n\n  var _utilsFormatTimeJs2 = _interopRequireDefault(_utilsFormatTimeJs);\n\n  var _objectAssign = _dereq_('object.assign');\n\n  var _objectAssign2 = _interopRequireDefault(_objectAssign);\n\n  /**\n   * Seek Bar and holder for the progress bars\n   *\n   * @param {Player|Object} player\n   * @param {Object=} options\n   * @extends Slider\n   * @class SeekBar\n   */\n\n  var SeekBar = (function (_Slider) {\n    _inherits(SeekBar, _Slider);\n\n    function SeekBar(player, options) {\n      _classCallCheck(this, SeekBar);\n\n      _Slider.call(this, player, options);\n      this.on(player, 'timeupdate', this.updateProgress);\n      this.on(player, 'ended', this.updateProgress);\n      player.ready(Fn.bind(this, this.updateProgress));\n\n      if (options.playerOptions && options.playerOptions.controlBar && options.playerOptions.controlBar.progressControl && options.playerOptions.controlBar.progressControl.keepTooltipsInside) {\n        this.keepTooltipsInside = options.playerOptions.controlBar.progressControl.keepTooltipsInside;\n      }\n\n      if (this.keepTooltipsInside) {\n        this.tooltipProgressBar = this.addChild('TooltipProgressBar');\n      }\n    }\n\n    /**\n     * Create the component's DOM element\n     *\n     * @return {Element}\n     * @method createEl\n     */\n\n    SeekBar.prototype.createEl = function createEl() {\n      return _Slider.prototype.createEl.call(this, 'div', {\n        className: 'vjs-progress-holder'\n      }, {\n        'aria-label': 'progress bar'\n      });\n    };\n\n    /**\n     * Update ARIA accessibility attributes\n     *\n     * @method updateARIAAttributes\n     */\n\n    SeekBar.prototype.updateProgress = function updateProgress() {\n      this.updateAriaAttributes(this.el_);\n\n      if (this.keepTooltipsInside) {\n        this.updateAriaAttributes(this.tooltipProgressBar.el_);\n        this.tooltipProgressBar.el_.style.width = this.bar.el_.style.width;\n\n        var playerWidth = parseFloat(_globalWindow2['default'].getComputedStyle(this.player().el()).width);\n        var tooltipWidth = parseFloat(_globalWindow2['default'].getComputedStyle(this.tooltipProgressBar.tooltip).width);\n        var tooltipStyle = this.tooltipProgressBar.el().style;\n        tooltipStyle.maxWidth = Math.floor(playerWidth - tooltipWidth / 2) + 'px';\n        tooltipStyle.minWidth = Math.ceil(tooltipWidth / 2) + 'px';\n        tooltipStyle.right = '-' + tooltipWidth / 2 + 'px';\n      }\n    };\n\n    SeekBar.prototype.updateAriaAttributes = function updateAriaAttributes(el) {\n      // Allows for smooth scrubbing, when player can't keep up.\n      var time = this.player_.scrubbing() ? this.player_.getCache().currentTime : this.player_.currentTime();\n      el.setAttribute('aria-valuenow', (this.getPercent() * 100).toFixed(2)); // machine readable value of progress bar (percentage complete)\n      el.setAttribute('aria-valuetext', _utilsFormatTimeJs2['default'](time, this.player_.duration())); // human readable value of progress bar (time complete)\n    };\n\n    /**\n     * Get percentage of video played\n     *\n     * @return {Number} Percentage played\n     * @method getPercent\n     */\n\n    SeekBar.prototype.getPercent = function getPercent() {\n      var percent = this.player_.currentTime() / this.player_.duration();\n      return percent >= 1 ? 1 : percent;\n    };\n\n    /**\n     * Handle mouse down on seek bar\n     *\n     * @method handleMouseDown\n     */\n\n    SeekBar.prototype.handleMouseDown = function handleMouseDown(event) {\n      _Slider.prototype.handleMouseDown.call(this, event);\n\n      this.player_.scrubbing(true);\n\n      this.videoWasPlaying = !this.player_.paused();\n      this.player_.pause();\n    };\n\n    /**\n     * Handle mouse move on seek bar\n     *\n     * @method handleMouseMove\n     */\n\n    SeekBar.prototype.handleMouseMove = function handleMouseMove(event) {\n      var newTime = this.calculateDistance(event) * this.player_.duration();\n\n      // Don't let video end while scrubbing.\n      if (newTime === this.player_.duration()) {\n        newTime = newTime - 0.1;\n      }\n\n      // Set new time (tell player to seek to new time)\n      this.player_.currentTime(newTime);\n    };\n\n    /**\n     * Handle mouse up on seek bar\n     *\n     * @method handleMouseUp\n     */\n\n    SeekBar.prototype.handleMouseUp = function handleMouseUp(event) {\n      _Slider.prototype.handleMouseUp.call(this, event);\n\n      this.player_.scrubbing(false);\n      if (this.videoWasPlaying) {\n        this.player_.play();\n      }\n    };\n\n    /**\n     * Move more quickly fast forward for keyboard-only users\n     *\n     * @method stepForward\n     */\n\n    SeekBar.prototype.stepForward = function stepForward() {\n      this.player_.currentTime(this.player_.currentTime() + 5); // more quickly fast forward for keyboard-only users\n    };\n\n    /**\n     * Move more quickly rewind for keyboard-only users\n     *\n     * @method stepBack\n     */\n\n    SeekBar.prototype.stepBack = function stepBack() {\n      this.player_.currentTime(this.player_.currentTime() - 5); // more quickly rewind for keyboard-only users\n    };\n\n    return SeekBar;\n  })(_sliderSliderJs2['default']);\n\n  SeekBar.prototype.options_ = {\n    children: ['loadProgressBar', 'mouseTimeDisplay', 'playProgressBar'],\n    'barName': 'playProgressBar'\n  };\n\n  SeekBar.prototype.playerEvent = 'timeupdate';\n\n  _componentJs2['default'].registerComponent('SeekBar', SeekBar);\n  exports['default'] = SeekBar;\n  module.exports = exports['default'];\n\n},{\"../../component.js\":67,\"../../slider/slider.js\":119,\"../../utils/fn.js\":145,\"../../utils/format-time.js\":146,\"./load-progress-bar.js\":77,\"./play-progress-bar.js\":79,\"./tooltip-progress-bar.js\":82,\"global/window\":2,\"object.assign\":45}],82:[function(_dereq_,module,exports){\n  /**\n   * @file play-progress-bar.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _componentJs = _dereq_('../../component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  var _utilsFnJs = _dereq_('../../utils/fn.js');\n\n  var Fn = _interopRequireWildcard(_utilsFnJs);\n\n  var _utilsDomJs = _dereq_('../../utils/dom.js');\n\n  var Dom = _interopRequireWildcard(_utilsDomJs);\n\n  var _utilsFormatTimeJs = _dereq_('../../utils/format-time.js');\n\n  var _utilsFormatTimeJs2 = _interopRequireDefault(_utilsFormatTimeJs);\n\n  /**\n   * Shows play progress\n   *\n   * @param {Player|Object} player\n   * @param {Object=} options\n   * @extends Component\n   * @class PlayProgressBar\n   */\n\n  var TooltipProgressBar = (function (_Component) {\n    _inherits(TooltipProgressBar, _Component);\n\n    function TooltipProgressBar(player, options) {\n      _classCallCheck(this, TooltipProgressBar);\n\n      _Component.call(this, player, options);\n      this.updateDataAttr();\n      this.on(player, 'timeupdate', this.updateDataAttr);\n      player.ready(Fn.bind(this, this.updateDataAttr));\n    }\n\n    /**\n     * Create the component's DOM element\n     *\n     * @return {Element}\n     * @method createEl\n     */\n\n    TooltipProgressBar.prototype.createEl = function createEl() {\n      var el = _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-tooltip-progress-bar vjs-slider-bar',\n        innerHTML: '<div class=\"vjs-time-tooltip\"></div>\\n        <span class=\"vjs-control-text\"><span>' + this.localize('Progress') + '</span>: 0%</span>'\n      });\n\n      this.tooltip = el.querySelector('.vjs-time-tooltip');\n\n      return el;\n    };\n\n    TooltipProgressBar.prototype.updateDataAttr = function updateDataAttr() {\n      var time = this.player_.scrubbing() ? this.player_.getCache().currentTime : this.player_.currentTime();\n      var formattedTime = _utilsFormatTimeJs2['default'](time, this.player_.duration());\n      this.el_.setAttribute('data-current-time', formattedTime);\n      this.tooltip.innerHTML = formattedTime;\n    };\n\n    return TooltipProgressBar;\n  })(_componentJs2['default']);\n\n  _componentJs2['default'].registerComponent('TooltipProgressBar', TooltipProgressBar);\n  exports['default'] = TooltipProgressBar;\n  module.exports = exports['default'];\n\n},{\"../../component.js\":67,\"../../utils/dom.js\":143,\"../../utils/fn.js\":145,\"../../utils/format-time.js\":146}],83:[function(_dereq_,module,exports){\n  /**\n   * @file custom-control-spacer.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _spacerJs = _dereq_('./spacer.js');\n\n  var _spacerJs2 = _interopRequireDefault(_spacerJs);\n\n  var _componentJs = _dereq_('../../component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  /**\n   * Spacer specifically meant to be used as an insertion point for new plugins, etc.\n   *\n   * @extends Spacer\n   * @class CustomControlSpacer\n   */\n\n  var CustomControlSpacer = (function (_Spacer) {\n    _inherits(CustomControlSpacer, _Spacer);\n\n    function CustomControlSpacer() {\n      _classCallCheck(this, CustomControlSpacer);\n\n      _Spacer.apply(this, arguments);\n    }\n\n    /**\n     * Allow sub components to stack CSS class names\n     *\n     * @return {String} The constructed class name\n     * @method buildCSSClass\n     */\n\n    CustomControlSpacer.prototype.buildCSSClass = function buildCSSClass() {\n      return 'vjs-custom-control-spacer ' + _Spacer.prototype.buildCSSClass.call(this);\n    };\n\n    /**\n     * Create the component's DOM element\n     *\n     * @return {Element}\n     * @method createEl\n     */\n\n    CustomControlSpacer.prototype.createEl = function createEl() {\n      var el = _Spacer.prototype.createEl.call(this, {\n        className: this.buildCSSClass()\n      });\n\n      // No-flex/table-cell mode requires there be some content\n      // in the cell to fill the remaining space of the table.\n      el.innerHTML = '&nbsp;';\n      return el;\n    };\n\n    return CustomControlSpacer;\n  })(_spacerJs2['default']);\n\n  _componentJs2['default'].registerComponent('CustomControlSpacer', CustomControlSpacer);\n  exports['default'] = CustomControlSpacer;\n  module.exports = exports['default'];\n\n},{\"../../component.js\":67,\"./spacer.js\":84}],84:[function(_dereq_,module,exports){\n  /**\n   * @file spacer.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _componentJs = _dereq_('../../component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  /**\n   * Just an empty spacer element that can be used as an append point for plugins, etc.\n   * Also can be used to create space between elements when necessary.\n   *\n   * @extends Component\n   * @class Spacer\n   */\n\n  var Spacer = (function (_Component) {\n    _inherits(Spacer, _Component);\n\n    function Spacer() {\n      _classCallCheck(this, Spacer);\n\n      _Component.apply(this, arguments);\n    }\n\n    /**\n     * Allow sub components to stack CSS class names\n     *\n     * @return {String} The constructed class name\n     * @method buildCSSClass\n     */\n\n    Spacer.prototype.buildCSSClass = function buildCSSClass() {\n      return 'vjs-spacer ' + _Component.prototype.buildCSSClass.call(this);\n    };\n\n    /**\n     * Create the component's DOM element\n     *\n     * @return {Element}\n     * @method createEl\n     */\n\n    Spacer.prototype.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: this.buildCSSClass()\n      });\n    };\n\n    return Spacer;\n  })(_componentJs2['default']);\n\n  _componentJs2['default'].registerComponent('Spacer', Spacer);\n\n  exports['default'] = Spacer;\n  module.exports = exports['default'];\n\n},{\"../../component.js\":67}],85:[function(_dereq_,module,exports){\n  /**\n   * @file caption-settings-menu-item.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _textTrackMenuItemJs = _dereq_('./text-track-menu-item.js');\n\n  var _textTrackMenuItemJs2 = _interopRequireDefault(_textTrackMenuItemJs);\n\n  var _componentJs = _dereq_('../../component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  /**\n   * The menu item for caption track settings menu\n   *\n   * @param {Player|Object} player\n   * @param {Object=} options\n   * @extends TextTrackMenuItem\n   * @class CaptionSettingsMenuItem\n   */\n\n  var CaptionSettingsMenuItem = (function (_TextTrackMenuItem) {\n    _inherits(CaptionSettingsMenuItem, _TextTrackMenuItem);\n\n    function CaptionSettingsMenuItem(player, options) {\n      _classCallCheck(this, CaptionSettingsMenuItem);\n\n      options['track'] = {\n        'kind': options['kind'],\n        'player': player,\n        'label': options['kind'] + ' settings',\n        'selectable': false,\n        'default': false,\n        mode: 'disabled'\n      };\n\n      // CaptionSettingsMenuItem has no concept of 'selected'\n      options['selectable'] = false;\n\n      _TextTrackMenuItem.call(this, player, options);\n      this.addClass('vjs-texttrack-settings');\n      this.controlText(', opens ' + options['kind'] + ' settings dialog');\n    }\n\n    /**\n     * Handle click on menu item\n     *\n     * @method handleClick\n     */\n\n    CaptionSettingsMenuItem.prototype.handleClick = function handleClick() {\n      this.player().getChild('textTrackSettings').show();\n      this.player().getChild('textTrackSettings').el_.focus();\n    };\n\n    return CaptionSettingsMenuItem;\n  })(_textTrackMenuItemJs2['default']);\n\n  _componentJs2['default'].registerComponent('CaptionSettingsMenuItem', CaptionSettingsMenuItem);\n  exports['default'] = CaptionSettingsMenuItem;\n  module.exports = exports['default'];\n\n},{\"../../component.js\":67,\"./text-track-menu-item.js\":93}],86:[function(_dereq_,module,exports){\n  /**\n   * @file captions-button.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _textTrackButtonJs = _dereq_('./text-track-button.js');\n\n  var _textTrackButtonJs2 = _interopRequireDefault(_textTrackButtonJs);\n\n  var _componentJs = _dereq_('../../component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  var _captionSettingsMenuItemJs = _dereq_('./caption-settings-menu-item.js');\n\n  var _captionSettingsMenuItemJs2 = _interopRequireDefault(_captionSettingsMenuItemJs);\n\n  /**\n   * The button component for toggling and selecting captions\n   *\n   * @param {Object} player  Player object\n   * @param {Object=} options Object of option names and values\n   * @param {Function=} ready    Ready callback function\n   * @extends TextTrackButton\n   * @class CaptionsButton\n   */\n\n  var CaptionsButton = (function (_TextTrackButton) {\n    _inherits(CaptionsButton, _TextTrackButton);\n\n    function CaptionsButton(player, options, ready) {\n      _classCallCheck(this, CaptionsButton);\n\n      _TextTrackButton.call(this, player, options, ready);\n      this.el_.setAttribute('aria-label', 'Captions Menu');\n    }\n\n    /**\n     * Allow sub components to stack CSS class names\n     *\n     * @return {String} The constructed class name\n     * @method buildCSSClass\n     */\n\n    CaptionsButton.prototype.buildCSSClass = function buildCSSClass() {\n      return 'vjs-captions-button ' + _TextTrackButton.prototype.buildCSSClass.call(this);\n    };\n\n    /**\n     * Update caption menu items\n     *\n     * @method update\n     */\n\n    CaptionsButton.prototype.update = function update() {\n      var threshold = 2;\n      _TextTrackButton.prototype.update.call(this);\n\n      // if native, then threshold is 1 because no settings button\n      if (this.player().tech_ && this.player().tech_['featuresNativeTextTracks']) {\n        threshold = 1;\n      }\n\n      if (this.items && this.items.length > threshold) {\n        this.show();\n      } else {\n        this.hide();\n      }\n    };\n\n    /**\n     * Create caption menu items\n     *\n     * @return {Array} Array of menu items\n     * @method createItems\n     */\n\n    CaptionsButton.prototype.createItems = function createItems() {\n      var items = [];\n\n      if (!(this.player().tech_ && this.player().tech_['featuresNativeTextTracks'])) {\n        items.push(new _captionSettingsMenuItemJs2['default'](this.player_, { 'kind': this.kind_ }));\n      }\n\n      return _TextTrackButton.prototype.createItems.call(this, items);\n    };\n\n    return CaptionsButton;\n  })(_textTrackButtonJs2['default']);\n\n  CaptionsButton.prototype.kind_ = 'captions';\n  CaptionsButton.prototype.controlText_ = 'Captions';\n\n  _componentJs2['default'].registerComponent('CaptionsButton', CaptionsButton);\n  exports['default'] = CaptionsButton;\n  module.exports = exports['default'];\n\n},{\"../../component.js\":67,\"./caption-settings-menu-item.js\":85,\"./text-track-button.js\":92}],87:[function(_dereq_,module,exports){\n  /**\n   * @file chapters-button.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _textTrackButtonJs = _dereq_('./text-track-button.js');\n\n  var _textTrackButtonJs2 = _interopRequireDefault(_textTrackButtonJs);\n\n  var _componentJs = _dereq_('../../component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  var _textTrackMenuItemJs = _dereq_('./text-track-menu-item.js');\n\n  var _textTrackMenuItemJs2 = _interopRequireDefault(_textTrackMenuItemJs);\n\n  var _chaptersTrackMenuItemJs = _dereq_('./chapters-track-menu-item.js');\n\n  var _chaptersTrackMenuItemJs2 = _interopRequireDefault(_chaptersTrackMenuItemJs);\n\n  var _menuMenuJs = _dereq_('../../menu/menu.js');\n\n  var _menuMenuJs2 = _interopRequireDefault(_menuMenuJs);\n\n  var _utilsDomJs = _dereq_('../../utils/dom.js');\n\n  var Dom = _interopRequireWildcard(_utilsDomJs);\n\n  var _utilsFnJs = _dereq_('../../utils/fn.js');\n\n  var Fn = _interopRequireWildcard(_utilsFnJs);\n\n  var _utilsToTitleCaseJs = _dereq_('../../utils/to-title-case.js');\n\n  var _utilsToTitleCaseJs2 = _interopRequireDefault(_utilsToTitleCaseJs);\n\n  var _globalWindow = _dereq_('global/window');\n\n  var _globalWindow2 = _interopRequireDefault(_globalWindow);\n\n  /**\n   * The button component for toggling and selecting chapters\n   * Chapters act much differently than other text tracks\n   * Cues are navigation vs. other tracks of alternative languages\n   *\n   * @param {Object} player  Player object\n   * @param {Object=} options Object of option names and values\n   * @param {Function=} ready    Ready callback function\n   * @extends TextTrackButton\n   * @class ChaptersButton\n   */\n\n  var ChaptersButton = (function (_TextTrackButton) {\n    _inherits(ChaptersButton, _TextTrackButton);\n\n    function ChaptersButton(player, options, ready) {\n      _classCallCheck(this, ChaptersButton);\n\n      _TextTrackButton.call(this, player, options, ready);\n      this.el_.setAttribute('aria-label', 'Chapters Menu');\n    }\n\n    /**\n     * Allow sub components to stack CSS class names\n     *\n     * @return {String} The constructed class name\n     * @method buildCSSClass\n     */\n\n    ChaptersButton.prototype.buildCSSClass = function buildCSSClass() {\n      return 'vjs-chapters-button ' + _TextTrackButton.prototype.buildCSSClass.call(this);\n    };\n\n    /**\n     * Create a menu item for each text track\n     *\n     * @return {Array} Array of menu items\n     * @method createItems\n     */\n\n    ChaptersButton.prototype.createItems = function createItems() {\n      var items = [];\n\n      var tracks = this.player_.textTracks();\n\n      if (!tracks) {\n        return items;\n      }\n\n      for (var i = 0; i < tracks.length; i++) {\n        var track = tracks[i];\n        if (track['kind'] === this.kind_) {\n          items.push(new _textTrackMenuItemJs2['default'](this.player_, {\n            'track': track\n          }));\n        }\n      }\n\n      return items;\n    };\n\n    /**\n     * Create menu from chapter buttons\n     *\n     * @return {Menu} Menu of chapter buttons\n     * @method createMenu\n     */\n\n    ChaptersButton.prototype.createMenu = function createMenu() {\n      var _this = this;\n\n      var tracks = this.player_.textTracks() || [];\n      var chaptersTrack = undefined;\n      var items = this.items || [];\n\n      for (var i = tracks.length - 1; i >= 0; i--) {\n\n        // We will always choose the last track as our chaptersTrack\n        var track = tracks[i];\n\n        if (track['kind'] === this.kind_) {\n          chaptersTrack = track;\n\n          break;\n        }\n      }\n\n      var menu = this.menu;\n      if (menu === undefined) {\n        menu = new _menuMenuJs2['default'](this.player_);\n        var title = Dom.createEl('li', {\n          className: 'vjs-menu-title',\n          innerHTML: _utilsToTitleCaseJs2['default'](this.kind_),\n          tabIndex: -1\n        });\n        menu.children_.unshift(title);\n        Dom.insertElFirst(title, menu.contentEl());\n      } else {\n        // We will empty out the menu children each time because we want a\n        // fresh new menu child list each time\n        items.forEach(function (item) {\n          return menu.removeChild(item);\n        });\n        // Empty out the ChaptersButton menu items because we no longer need them\n        items = [];\n      }\n\n      if (chaptersTrack && chaptersTrack.cues == null) {\n        chaptersTrack['mode'] = 'hidden';\n\n        var remoteTextTrackEl = this.player_.remoteTextTrackEls().getTrackElementByTrack_(chaptersTrack);\n\n        if (remoteTextTrackEl) {\n          remoteTextTrackEl.addEventListener('load', function (event) {\n            return _this.update();\n          });\n        }\n      }\n\n      if (chaptersTrack && chaptersTrack.cues && chaptersTrack.cues.length > 0) {\n        var cues = chaptersTrack['cues'],\n          cue = undefined;\n\n        for (var i = 0, l = cues.length; i < l; i++) {\n          cue = cues[i];\n\n          var mi = new _chaptersTrackMenuItemJs2['default'](this.player_, {\n            'track': chaptersTrack,\n            'cue': cue\n          });\n\n          items.push(mi);\n\n          menu.addChild(mi);\n        }\n      }\n\n      if (items.length > 0) {\n        this.show();\n      }\n      // Assigning the value of items back to this.items for next iteration\n      this.items = items;\n      return menu;\n    };\n\n    return ChaptersButton;\n  })(_textTrackButtonJs2['default']);\n\n  ChaptersButton.prototype.kind_ = 'chapters';\n  ChaptersButton.prototype.controlText_ = 'Chapters';\n\n  _componentJs2['default'].registerComponent('ChaptersButton', ChaptersButton);\n  exports['default'] = ChaptersButton;\n  module.exports = exports['default'];\n\n},{\"../../component.js\":67,\"../../menu/menu.js\":111,\"../../utils/dom.js\":143,\"../../utils/fn.js\":145,\"../../utils/to-title-case.js\":152,\"./chapters-track-menu-item.js\":88,\"./text-track-button.js\":92,\"./text-track-menu-item.js\":93,\"global/window\":2}],88:[function(_dereq_,module,exports){\n  /**\n   * @file chapters-track-menu-item.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _menuMenuItemJs = _dereq_('../../menu/menu-item.js');\n\n  var _menuMenuItemJs2 = _interopRequireDefault(_menuMenuItemJs);\n\n  var _componentJs = _dereq_('../../component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  var _utilsFnJs = _dereq_('../../utils/fn.js');\n\n  var Fn = _interopRequireWildcard(_utilsFnJs);\n\n  /**\n   * The chapter track menu item\n   *\n   * @param {Player|Object} player\n   * @param {Object=} options\n   * @extends MenuItem\n   * @class ChaptersTrackMenuItem\n   */\n\n  var ChaptersTrackMenuItem = (function (_MenuItem) {\n    _inherits(ChaptersTrackMenuItem, _MenuItem);\n\n    function ChaptersTrackMenuItem(player, options) {\n      _classCallCheck(this, ChaptersTrackMenuItem);\n\n      var track = options['track'];\n      var cue = options['cue'];\n      var currentTime = player.currentTime();\n\n      // Modify options for parent MenuItem class's init.\n      options['label'] = cue.text;\n      options['selected'] = cue['startTime'] <= currentTime && currentTime < cue['endTime'];\n      _MenuItem.call(this, player, options);\n\n      this.track = track;\n      this.cue = cue;\n      track.addEventListener('cuechange', Fn.bind(this, this.update));\n    }\n\n    /**\n     * Handle click on menu item\n     *\n     * @method handleClick\n     */\n\n    ChaptersTrackMenuItem.prototype.handleClick = function handleClick() {\n      _MenuItem.prototype.handleClick.call(this);\n      this.player_.currentTime(this.cue.startTime);\n      this.update(this.cue.startTime);\n    };\n\n    /**\n     * Update chapter menu item\n     *\n     * @method update\n     */\n\n    ChaptersTrackMenuItem.prototype.update = function update() {\n      var cue = this.cue;\n      var currentTime = this.player_.currentTime();\n\n      // vjs.log(currentTime, cue.startTime);\n      this.selected(cue['startTime'] <= currentTime && currentTime < cue['endTime']);\n    };\n\n    return ChaptersTrackMenuItem;\n  })(_menuMenuItemJs2['default']);\n\n  _componentJs2['default'].registerComponent('ChaptersTrackMenuItem', ChaptersTrackMenuItem);\n  exports['default'] = ChaptersTrackMenuItem;\n  module.exports = exports['default'];\n\n},{\"../../component.js\":67,\"../../menu/menu-item.js\":110,\"../../utils/fn.js\":145}],89:[function(_dereq_,module,exports){\n  /**\n   * @file descriptions-button.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _textTrackButtonJs = _dereq_('./text-track-button.js');\n\n  var _textTrackButtonJs2 = _interopRequireDefault(_textTrackButtonJs);\n\n  var _componentJs = _dereq_('../../component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  var _utilsFnJs = _dereq_('../../utils/fn.js');\n\n  var Fn = _interopRequireWildcard(_utilsFnJs);\n\n  /**\n   * The button component for toggling and selecting descriptions\n   *\n   * @param {Object} player  Player object\n   * @param {Object=} options Object of option names and values\n   * @param {Function=} ready    Ready callback function\n   * @extends TextTrackButton\n   * @class DescriptionsButton\n   */\n\n  var DescriptionsButton = (function (_TextTrackButton) {\n    _inherits(DescriptionsButton, _TextTrackButton);\n\n    function DescriptionsButton(player, options, ready) {\n      var _this = this;\n\n      _classCallCheck(this, DescriptionsButton);\n\n      _TextTrackButton.call(this, player, options, ready);\n      this.el_.setAttribute('aria-label', 'Descriptions Menu');\n\n      var tracks = player.textTracks();\n\n      if (tracks) {\n        (function () {\n          var changeHandler = Fn.bind(_this, _this.handleTracksChange);\n\n          tracks.addEventListener('change', changeHandler);\n          _this.on('dispose', function () {\n            tracks.removeEventListener('change', changeHandler);\n          });\n        })();\n      }\n    }\n\n    /**\n     * Handle text track change\n     *\n     * @method handleTracksChange\n     */\n\n    DescriptionsButton.prototype.handleTracksChange = function handleTracksChange(event) {\n      var tracks = this.player().textTracks();\n      var disabled = false;\n\n      // Check whether a track of a different kind is showing\n      for (var i = 0, l = tracks.length; i < l; i++) {\n        var track = tracks[i];\n        if (track['kind'] !== this.kind_ && track['mode'] === 'showing') {\n          disabled = true;\n          break;\n        }\n      }\n\n      // If another track is showing, disable this menu button\n      if (disabled) {\n        this.disable();\n      } else {\n        this.enable();\n      }\n    };\n\n    /**\n     * Allow sub components to stack CSS class names\n     *\n     * @return {String} The constructed class name\n     * @method buildCSSClass\n     */\n\n    DescriptionsButton.prototype.buildCSSClass = function buildCSSClass() {\n      return 'vjs-descriptions-button ' + _TextTrackButton.prototype.buildCSSClass.call(this);\n    };\n\n    return DescriptionsButton;\n  })(_textTrackButtonJs2['default']);\n\n  DescriptionsButton.prototype.kind_ = 'descriptions';\n  DescriptionsButton.prototype.controlText_ = 'Descriptions';\n\n  _componentJs2['default'].registerComponent('DescriptionsButton', DescriptionsButton);\n  exports['default'] = DescriptionsButton;\n  module.exports = exports['default'];\n\n},{\"../../component.js\":67,\"../../utils/fn.js\":145,\"./text-track-button.js\":92}],90:[function(_dereq_,module,exports){\n  /**\n   * @file off-text-track-menu-item.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _textTrackMenuItemJs = _dereq_('./text-track-menu-item.js');\n\n  var _textTrackMenuItemJs2 = _interopRequireDefault(_textTrackMenuItemJs);\n\n  var _componentJs = _dereq_('../../component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  /**\n   * A special menu item for turning of a specific type of text track\n   *\n   * @param {Player|Object} player\n   * @param {Object=} options\n   * @extends TextTrackMenuItem\n   * @class OffTextTrackMenuItem\n   */\n\n  var OffTextTrackMenuItem = (function (_TextTrackMenuItem) {\n    _inherits(OffTextTrackMenuItem, _TextTrackMenuItem);\n\n    function OffTextTrackMenuItem(player, options) {\n      _classCallCheck(this, OffTextTrackMenuItem);\n\n      // Create pseudo track info\n      // Requires options['kind']\n      options['track'] = {\n        'kind': options['kind'],\n        'player': player,\n        'label': options['kind'] + ' off',\n        'default': false,\n        'mode': 'disabled'\n      };\n\n      // MenuItem is selectable\n      options['selectable'] = true;\n\n      _TextTrackMenuItem.call(this, player, options);\n      this.selected(true);\n    }\n\n    /**\n     * Handle text track change\n     *\n     * @param {Object} event Event object\n     * @method handleTracksChange\n     */\n\n    OffTextTrackMenuItem.prototype.handleTracksChange = function handleTracksChange(event) {\n      var tracks = this.player().textTracks();\n      var selected = true;\n\n      for (var i = 0, l = tracks.length; i < l; i++) {\n        var track = tracks[i];\n        if (track['kind'] === this.track['kind'] && track['mode'] === 'showing') {\n          selected = false;\n          break;\n        }\n      }\n\n      this.selected(selected);\n    };\n\n    return OffTextTrackMenuItem;\n  })(_textTrackMenuItemJs2['default']);\n\n  _componentJs2['default'].registerComponent('OffTextTrackMenuItem', OffTextTrackMenuItem);\n  exports['default'] = OffTextTrackMenuItem;\n  module.exports = exports['default'];\n\n},{\"../../component.js\":67,\"./text-track-menu-item.js\":93}],91:[function(_dereq_,module,exports){\n  /**\n   * @file subtitles-button.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _textTrackButtonJs = _dereq_('./text-track-button.js');\n\n  var _textTrackButtonJs2 = _interopRequireDefault(_textTrackButtonJs);\n\n  var _componentJs = _dereq_('../../component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  /**\n   * The button component for toggling and selecting subtitles\n   *\n   * @param {Object} player  Player object\n   * @param {Object=} options Object of option names and values\n   * @param {Function=} ready    Ready callback function\n   * @extends TextTrackButton\n   * @class SubtitlesButton\n   */\n\n  var SubtitlesButton = (function (_TextTrackButton) {\n    _inherits(SubtitlesButton, _TextTrackButton);\n\n    function SubtitlesButton(player, options, ready) {\n      _classCallCheck(this, SubtitlesButton);\n\n      _TextTrackButton.call(this, player, options, ready);\n      this.el_.setAttribute('aria-label', 'Subtitles Menu');\n    }\n\n    /**\n     * Allow sub components to stack CSS class names\n     *\n     * @return {String} The constructed class name\n     * @method buildCSSClass\n     */\n\n    SubtitlesButton.prototype.buildCSSClass = function buildCSSClass() {\n      return 'vjs-subtitles-button ' + _TextTrackButton.prototype.buildCSSClass.call(this);\n    };\n\n    return SubtitlesButton;\n  })(_textTrackButtonJs2['default']);\n\n  SubtitlesButton.prototype.kind_ = 'subtitles';\n  SubtitlesButton.prototype.controlText_ = 'Subtitles';\n\n  _componentJs2['default'].registerComponent('SubtitlesButton', SubtitlesButton);\n  exports['default'] = SubtitlesButton;\n  module.exports = exports['default'];\n\n},{\"../../component.js\":67,\"./text-track-button.js\":92}],92:[function(_dereq_,module,exports){\n  /**\n   * @file text-track-button.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _trackButtonJs = _dereq_('../track-button.js');\n\n  var _trackButtonJs2 = _interopRequireDefault(_trackButtonJs);\n\n  var _componentJs = _dereq_('../../component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  var _utilsFnJs = _dereq_('../../utils/fn.js');\n\n  var Fn = _interopRequireWildcard(_utilsFnJs);\n\n  var _textTrackMenuItemJs = _dereq_('./text-track-menu-item.js');\n\n  var _textTrackMenuItemJs2 = _interopRequireDefault(_textTrackMenuItemJs);\n\n  var _offTextTrackMenuItemJs = _dereq_('./off-text-track-menu-item.js');\n\n  var _offTextTrackMenuItemJs2 = _interopRequireDefault(_offTextTrackMenuItemJs);\n\n  /**\n   * The base class for buttons that toggle specific text track types (e.g. subtitles)\n   *\n   * @param {Player|Object} player\n   * @param {Object=} options\n   * @extends MenuButton\n   * @class TextTrackButton\n   */\n\n  var TextTrackButton = (function (_TrackButton) {\n    _inherits(TextTrackButton, _TrackButton);\n\n    function TextTrackButton(player) {\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      _classCallCheck(this, TextTrackButton);\n\n      options.tracks = player.textTracks();\n\n      _TrackButton.call(this, player, options);\n    }\n\n    /**\n     * Create a menu item for each text track\n     *\n     * @return {Array} Array of menu items\n     * @method createItems\n     */\n\n    TextTrackButton.prototype.createItems = function createItems() {\n      var items = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];\n\n      // Add an OFF menu item to turn all tracks off\n      items.push(new _offTextTrackMenuItemJs2['default'](this.player_, { 'kind': this.kind_ }));\n\n      var tracks = this.player_.textTracks();\n\n      if (!tracks) {\n        return items;\n      }\n\n      for (var i = 0; i < tracks.length; i++) {\n        var track = tracks[i];\n\n        // only add tracks that are of the appropriate kind and have a label\n        if (track['kind'] === this.kind_) {\n          items.push(new _textTrackMenuItemJs2['default'](this.player_, {\n            // MenuItem is selectable\n            'selectable': true,\n            'track': track\n          }));\n        }\n      }\n\n      return items;\n    };\n\n    return TextTrackButton;\n  })(_trackButtonJs2['default']);\n\n  _componentJs2['default'].registerComponent('TextTrackButton', TextTrackButton);\n  exports['default'] = TextTrackButton;\n  module.exports = exports['default'];\n\n},{\"../../component.js\":67,\"../../utils/fn.js\":145,\"../track-button.js\":98,\"./off-text-track-menu-item.js\":90,\"./text-track-menu-item.js\":93}],93:[function(_dereq_,module,exports){\n  /**\n   * @file text-track-menu-item.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _menuMenuItemJs = _dereq_('../../menu/menu-item.js');\n\n  var _menuMenuItemJs2 = _interopRequireDefault(_menuMenuItemJs);\n\n  var _componentJs = _dereq_('../../component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  var _utilsFnJs = _dereq_('../../utils/fn.js');\n\n  var Fn = _interopRequireWildcard(_utilsFnJs);\n\n  var _globalWindow = _dereq_('global/window');\n\n  var _globalWindow2 = _interopRequireDefault(_globalWindow);\n\n  var _globalDocument = _dereq_('global/document');\n\n  var _globalDocument2 = _interopRequireDefault(_globalDocument);\n\n  /**\n   * The specific menu item type for selecting a language within a text track kind\n   *\n   * @param {Player|Object} player\n   * @param {Object=} options\n   * @extends MenuItem\n   * @class TextTrackMenuItem\n   */\n\n  var TextTrackMenuItem = (function (_MenuItem) {\n    _inherits(TextTrackMenuItem, _MenuItem);\n\n    function TextTrackMenuItem(player, options) {\n      var _this = this;\n\n      _classCallCheck(this, TextTrackMenuItem);\n\n      var track = options['track'];\n      var tracks = player.textTracks();\n\n      // Modify options for parent MenuItem class's init.\n      options['label'] = track['label'] || track['language'] || 'Unknown';\n      options['selected'] = track['default'] || track['mode'] === 'showing';\n\n      _MenuItem.call(this, player, options);\n\n      this.track = track;\n\n      if (tracks) {\n        (function () {\n          var changeHandler = Fn.bind(_this, _this.handleTracksChange);\n\n          tracks.addEventListener('change', changeHandler);\n          _this.on('dispose', function () {\n            tracks.removeEventListener('change', changeHandler);\n          });\n        })();\n      }\n\n      // iOS7 doesn't dispatch change events to TextTrackLists when an\n      // associated track's mode changes. Without something like\n      // Object.observe() (also not present on iOS7), it's not\n      // possible to detect changes to the mode attribute and polyfill\n      // the change event. As a poor substitute, we manually dispatch\n      // change events whenever the controls modify the mode.\n      if (tracks && tracks.onchange === undefined) {\n        (function () {\n          var event = undefined;\n\n          _this.on(['tap', 'click'], function () {\n            if (typeof _globalWindow2['default'].Event !== 'object') {\n              // Android 2.3 throws an Illegal Constructor error for window.Event\n              try {\n                event = new _globalWindow2['default'].Event('change');\n              } catch (err) {}\n            }\n\n            if (!event) {\n              event = _globalDocument2['default'].createEvent('Event');\n              event.initEvent('change', true, true);\n            }\n\n            tracks.dispatchEvent(event);\n          });\n        })();\n      }\n    }\n\n    /**\n     * Handle click on text track\n     *\n     * @method handleClick\n     */\n\n    TextTrackMenuItem.prototype.handleClick = function handleClick(event) {\n      var kind = this.track['kind'];\n      var tracks = this.player_.textTracks();\n\n      _MenuItem.prototype.handleClick.call(this, event);\n\n      if (!tracks) return;\n\n      for (var i = 0; i < tracks.length; i++) {\n        var track = tracks[i];\n\n        if (track['kind'] !== kind) {\n          continue;\n        }\n\n        if (track === this.track) {\n          track['mode'] = 'showing';\n        } else {\n          track['mode'] = 'disabled';\n        }\n      }\n    };\n\n    /**\n     * Handle text track change\n     *\n     * @method handleTracksChange\n     */\n\n    TextTrackMenuItem.prototype.handleTracksChange = function handleTracksChange(event) {\n      this.selected(this.track['mode'] === 'showing');\n    };\n\n    return TextTrackMenuItem;\n  })(_menuMenuItemJs2['default']);\n\n  _componentJs2['default'].registerComponent('TextTrackMenuItem', TextTrackMenuItem);\n  exports['default'] = TextTrackMenuItem;\n  module.exports = exports['default'];\n\n},{\"../../component.js\":67,\"../../menu/menu-item.js\":110,\"../../utils/fn.js\":145,\"global/document\":1,\"global/window\":2}],94:[function(_dereq_,module,exports){\n  /**\n   * @file current-time-display.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _componentJs = _dereq_('../../component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  var _utilsDomJs = _dereq_('../../utils/dom.js');\n\n  var Dom = _interopRequireWildcard(_utilsDomJs);\n\n  var _utilsFormatTimeJs = _dereq_('../../utils/format-time.js');\n\n  var _utilsFormatTimeJs2 = _interopRequireDefault(_utilsFormatTimeJs);\n\n  /**\n   * Displays the current time\n   *\n   * @param {Player|Object} player\n   * @param {Object=} options\n   * @extends Component\n   * @class CurrentTimeDisplay\n   */\n\n  var CurrentTimeDisplay = (function (_Component) {\n    _inherits(CurrentTimeDisplay, _Component);\n\n    function CurrentTimeDisplay(player, options) {\n      _classCallCheck(this, CurrentTimeDisplay);\n\n      _Component.call(this, player, options);\n\n      this.on(player, 'timeupdate', this.updateContent);\n    }\n\n    /**\n     * Create the component's DOM element\n     *\n     * @return {Element}\n     * @method createEl\n     */\n\n    CurrentTimeDisplay.prototype.createEl = function createEl() {\n      var el = _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-current-time vjs-time-control vjs-control'\n      });\n\n      this.contentEl_ = Dom.createEl('div', {\n        className: 'vjs-current-time-display',\n        // label the current time for screen reader users\n        innerHTML: '<span class=\"vjs-control-text\">Current Time </span>' + '0:00'\n      }, {\n        // tell screen readers not to automatically read the time as it changes\n        'aria-live': 'off'\n      });\n\n      el.appendChild(this.contentEl_);\n      return el;\n    };\n\n    /**\n     * Update current time display\n     *\n     * @method updateContent\n     */\n\n    CurrentTimeDisplay.prototype.updateContent = function updateContent() {\n      // Allows for smooth scrubbing, when player can't keep up.\n      var time = this.player_.scrubbing() ? this.player_.getCache().currentTime : this.player_.currentTime();\n      var localizedText = this.localize('Current Time');\n      var formattedTime = _utilsFormatTimeJs2['default'](time, this.player_.duration());\n      if (formattedTime !== this.formattedTime_) {\n        this.formattedTime_ = formattedTime;\n        this.contentEl_.innerHTML = '<span class=\"vjs-control-text\">' + localizedText + '</span> ' + formattedTime;\n      }\n    };\n\n    return CurrentTimeDisplay;\n  })(_componentJs2['default']);\n\n  _componentJs2['default'].registerComponent('CurrentTimeDisplay', CurrentTimeDisplay);\n  exports['default'] = CurrentTimeDisplay;\n  module.exports = exports['default'];\n\n},{\"../../component.js\":67,\"../../utils/dom.js\":143,\"../../utils/format-time.js\":146}],95:[function(_dereq_,module,exports){\n  /**\n   * @file duration-display.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _componentJs = _dereq_('../../component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  var _utilsDomJs = _dereq_('../../utils/dom.js');\n\n  var Dom = _interopRequireWildcard(_utilsDomJs);\n\n  var _utilsFormatTimeJs = _dereq_('../../utils/format-time.js');\n\n  var _utilsFormatTimeJs2 = _interopRequireDefault(_utilsFormatTimeJs);\n\n  /**\n   * Displays the duration\n   *\n   * @param {Player|Object} player\n   * @param {Object=} options\n   * @extends Component\n   * @class DurationDisplay\n   */\n\n  var DurationDisplay = (function (_Component) {\n    _inherits(DurationDisplay, _Component);\n\n    function DurationDisplay(player, options) {\n      _classCallCheck(this, DurationDisplay);\n\n      _Component.call(this, player, options);\n\n      // this might need to be changed to 'durationchange' instead of 'timeupdate' eventually,\n      // however the durationchange event fires before this.player_.duration() is set,\n      // so the value cannot be written out using this method.\n      // Once the order of durationchange and this.player_.duration() being set is figured out,\n      // this can be updated.\n      this.on(player, 'timeupdate', this.updateContent);\n      this.on(player, 'loadedmetadata', this.updateContent);\n    }\n\n    /**\n     * Create the component's DOM element\n     *\n     * @return {Element}\n     * @method createEl\n     */\n\n    DurationDisplay.prototype.createEl = function createEl() {\n      var el = _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-duration vjs-time-control vjs-control'\n      });\n\n      this.contentEl_ = Dom.createEl('div', {\n        className: 'vjs-duration-display',\n        // label the duration time for screen reader users\n        innerHTML: '<span class=\"vjs-control-text\">' + this.localize('Duration Time') + '</span> 0:00'\n      }, {\n        // tell screen readers not to automatically read the time as it changes\n        'aria-live': 'off'\n      });\n\n      el.appendChild(this.contentEl_);\n      return el;\n    };\n\n    /**\n     * Update duration time display\n     *\n     * @method updateContent\n     */\n\n    DurationDisplay.prototype.updateContent = function updateContent() {\n      var duration = this.player_.duration();\n      if (duration && this.duration_ !== duration) {\n        this.duration_ = duration;\n        var localizedText = this.localize('Duration Time');\n        var formattedTime = _utilsFormatTimeJs2['default'](duration);\n        this.contentEl_.innerHTML = '<span class=\"vjs-control-text\">' + localizedText + '</span> ' + formattedTime; // label the duration time for screen reader users\n      }\n    };\n\n    return DurationDisplay;\n  })(_componentJs2['default']);\n\n  _componentJs2['default'].registerComponent('DurationDisplay', DurationDisplay);\n  exports['default'] = DurationDisplay;\n  module.exports = exports['default'];\n\n},{\"../../component.js\":67,\"../../utils/dom.js\":143,\"../../utils/format-time.js\":146}],96:[function(_dereq_,module,exports){\n  /**\n   * @file remaining-time-display.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _componentJs = _dereq_('../../component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  var _utilsDomJs = _dereq_('../../utils/dom.js');\n\n  var Dom = _interopRequireWildcard(_utilsDomJs);\n\n  var _utilsFormatTimeJs = _dereq_('../../utils/format-time.js');\n\n  var _utilsFormatTimeJs2 = _interopRequireDefault(_utilsFormatTimeJs);\n\n  /**\n   * Displays the time left in the video\n   *\n   * @param {Player|Object} player\n   * @param {Object=} options\n   * @extends Component\n   * @class RemainingTimeDisplay\n   */\n\n  var RemainingTimeDisplay = (function (_Component) {\n    _inherits(RemainingTimeDisplay, _Component);\n\n    function RemainingTimeDisplay(player, options) {\n      _classCallCheck(this, RemainingTimeDisplay);\n\n      _Component.call(this, player, options);\n\n      this.on(player, 'timeupdate', this.updateContent);\n    }\n\n    /**\n     * Create the component's DOM element\n     *\n     * @return {Element}\n     * @method createEl\n     */\n\n    RemainingTimeDisplay.prototype.createEl = function createEl() {\n      var el = _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-remaining-time vjs-time-control vjs-control'\n      });\n\n      this.contentEl_ = Dom.createEl('div', {\n        className: 'vjs-remaining-time-display',\n        // label the remaining time for screen reader users\n        innerHTML: '<span class=\"vjs-control-text\">' + this.localize('Remaining Time') + '</span> -0:00'\n      }, {\n        // tell screen readers not to automatically read the time as it changes\n        'aria-live': 'off'\n      });\n\n      el.appendChild(this.contentEl_);\n      return el;\n    };\n\n    /**\n     * Update remaining time display\n     *\n     * @method updateContent\n     */\n\n    RemainingTimeDisplay.prototype.updateContent = function updateContent() {\n      if (this.player_.duration()) {\n        var localizedText = this.localize('Remaining Time');\n        var formattedTime = _utilsFormatTimeJs2['default'](this.player_.remainingTime());\n        if (formattedTime !== this.formattedTime_) {\n          this.formattedTime_ = formattedTime;\n          this.contentEl_.innerHTML = '<span class=\"vjs-control-text\">' + localizedText + '</span> -' + formattedTime;\n        }\n      }\n\n      // Allows for smooth scrubbing, when player can't keep up.\n      // var time = (this.player_.scrubbing()) ? this.player_.getCache().currentTime : this.player_.currentTime();\n      // this.contentEl_.innerHTML = vjs.formatTime(time, this.player_.duration());\n    };\n\n    return RemainingTimeDisplay;\n  })(_componentJs2['default']);\n\n  _componentJs2['default'].registerComponent('RemainingTimeDisplay', RemainingTimeDisplay);\n  exports['default'] = RemainingTimeDisplay;\n  module.exports = exports['default'];\n\n},{\"../../component.js\":67,\"../../utils/dom.js\":143,\"../../utils/format-time.js\":146}],97:[function(_dereq_,module,exports){\n  /**\n   * @file time-divider.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _componentJs = _dereq_('../../component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  /**\n   * The separator between the current time and duration.\n   * Can be hidden if it's not needed in the design.\n   *\n   * @param {Player|Object} player\n   * @param {Object=} options\n   * @extends Component\n   * @class TimeDivider\n   */\n\n  var TimeDivider = (function (_Component) {\n    _inherits(TimeDivider, _Component);\n\n    function TimeDivider() {\n      _classCallCheck(this, TimeDivider);\n\n      _Component.apply(this, arguments);\n    }\n\n    /**\n     * Create the component's DOM element\n     *\n     * @return {Element}\n     * @method createEl\n     */\n\n    TimeDivider.prototype.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-time-control vjs-time-divider',\n        innerHTML: '<div><span>/</span></div>'\n      });\n    };\n\n    return TimeDivider;\n  })(_componentJs2['default']);\n\n  _componentJs2['default'].registerComponent('TimeDivider', TimeDivider);\n  exports['default'] = TimeDivider;\n  module.exports = exports['default'];\n\n},{\"../../component.js\":67}],98:[function(_dereq_,module,exports){\n  /**\n   * @file track-button.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _menuMenuButtonJs = _dereq_('../menu/menu-button.js');\n\n  var _menuMenuButtonJs2 = _interopRequireDefault(_menuMenuButtonJs);\n\n  var _componentJs = _dereq_('../component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  var _utilsFnJs = _dereq_('../utils/fn.js');\n\n  var Fn = _interopRequireWildcard(_utilsFnJs);\n\n  /**\n   * The base class for buttons that toggle specific text track types (e.g. subtitles)\n   *\n   * @param {Player|Object} player\n   * @param {Object=} options\n   * @extends MenuButton\n   * @class TrackButton\n   */\n\n  var TrackButton = (function (_MenuButton) {\n    _inherits(TrackButton, _MenuButton);\n\n    function TrackButton(player, options) {\n      _classCallCheck(this, TrackButton);\n\n      var tracks = options.tracks;\n\n      _MenuButton.call(this, player, options);\n\n      if (this.items.length <= 1) {\n        this.hide();\n      }\n\n      if (!tracks) {\n        return;\n      }\n\n      var updateHandler = Fn.bind(this, this.update);\n      tracks.addEventListener('removetrack', updateHandler);\n      tracks.addEventListener('addtrack', updateHandler);\n\n      this.player_.on('dispose', function () {\n        tracks.removeEventListener('removetrack', updateHandler);\n        tracks.removeEventListener('addtrack', updateHandler);\n      });\n    }\n\n    return TrackButton;\n  })(_menuMenuButtonJs2['default']);\n\n  _componentJs2['default'].registerComponent('TrackButton', TrackButton);\n  exports['default'] = TrackButton;\n  module.exports = exports['default'];\n\n},{\"../component.js\":67,\"../menu/menu-button.js\":109,\"../utils/fn.js\":145}],99:[function(_dereq_,module,exports){\n  /**\n   * @file volume-bar.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _sliderSliderJs = _dereq_('../../slider/slider.js');\n\n  var _sliderSliderJs2 = _interopRequireDefault(_sliderSliderJs);\n\n  var _componentJs = _dereq_('../../component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  var _utilsFnJs = _dereq_('../../utils/fn.js');\n\n  var Fn = _interopRequireWildcard(_utilsFnJs);\n\n// Required children\n\n  var _volumeLevelJs = _dereq_('./volume-level.js');\n\n  var _volumeLevelJs2 = _interopRequireDefault(_volumeLevelJs);\n\n  /**\n   * The bar that contains the volume level and can be clicked on to adjust the level\n   *\n   * @param {Player|Object} player\n   * @param {Object=} options\n   * @extends Slider\n   * @class VolumeBar\n   */\n\n  var VolumeBar = (function (_Slider) {\n    _inherits(VolumeBar, _Slider);\n\n    function VolumeBar(player, options) {\n      _classCallCheck(this, VolumeBar);\n\n      _Slider.call(this, player, options);\n      this.on(player, 'volumechange', this.updateARIAAttributes);\n      player.ready(Fn.bind(this, this.updateARIAAttributes));\n    }\n\n    /**\n     * Create the component's DOM element\n     *\n     * @return {Element}\n     * @method createEl\n     */\n\n    VolumeBar.prototype.createEl = function createEl() {\n      return _Slider.prototype.createEl.call(this, 'div', {\n        className: 'vjs-volume-bar vjs-slider-bar'\n      }, {\n        'aria-label': 'volume level'\n      });\n    };\n\n    /**\n     * Handle mouse move on volume bar\n     *\n     * @method handleMouseMove\n     */\n\n    VolumeBar.prototype.handleMouseMove = function handleMouseMove(event) {\n      this.checkMuted();\n      this.player_.volume(this.calculateDistance(event));\n    };\n\n    VolumeBar.prototype.checkMuted = function checkMuted() {\n      if (this.player_.muted()) {\n        this.player_.muted(false);\n      }\n    };\n\n    /**\n     * Get percent of volume level\n     *\n     * @retun {Number} Volume level percent\n     * @method getPercent\n     */\n\n    VolumeBar.prototype.getPercent = function getPercent() {\n      if (this.player_.muted()) {\n        return 0;\n      } else {\n        return this.player_.volume();\n      }\n    };\n\n    /**\n     * Increase volume level for keyboard users\n     *\n     * @method stepForward\n     */\n\n    VolumeBar.prototype.stepForward = function stepForward() {\n      this.checkMuted();\n      this.player_.volume(this.player_.volume() + 0.1);\n    };\n\n    /**\n     * Decrease volume level for keyboard users\n     *\n     * @method stepBack\n     */\n\n    VolumeBar.prototype.stepBack = function stepBack() {\n      this.checkMuted();\n      this.player_.volume(this.player_.volume() - 0.1);\n    };\n\n    /**\n     * Update ARIA accessibility attributes\n     *\n     * @method updateARIAAttributes\n     */\n\n    VolumeBar.prototype.updateARIAAttributes = function updateARIAAttributes() {\n      // Current value of volume bar as a percentage\n      var volume = (this.player_.volume() * 100).toFixed(2);\n      this.el_.setAttribute('aria-valuenow', volume);\n      this.el_.setAttribute('aria-valuetext', volume + '%');\n    };\n\n    return VolumeBar;\n  })(_sliderSliderJs2['default']);\n\n  VolumeBar.prototype.options_ = {\n    children: ['volumeLevel'],\n    'barName': 'volumeLevel'\n  };\n\n  VolumeBar.prototype.playerEvent = 'volumechange';\n\n  _componentJs2['default'].registerComponent('VolumeBar', VolumeBar);\n  exports['default'] = VolumeBar;\n  module.exports = exports['default'];\n\n},{\"../../component.js\":67,\"../../slider/slider.js\":119,\"../../utils/fn.js\":145,\"./volume-level.js\":101}],100:[function(_dereq_,module,exports){\n  /**\n   * @file volume-control.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _componentJs = _dereq_('../../component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n// Required children\n\n  var _volumeBarJs = _dereq_('./volume-bar.js');\n\n  var _volumeBarJs2 = _interopRequireDefault(_volumeBarJs);\n\n  /**\n   * The component for controlling the volume level\n   *\n   * @param {Player|Object} player\n   * @param {Object=} options\n   * @extends Component\n   * @class VolumeControl\n   */\n\n  var VolumeControl = (function (_Component) {\n    _inherits(VolumeControl, _Component);\n\n    function VolumeControl(player, options) {\n      _classCallCheck(this, VolumeControl);\n\n      _Component.call(this, player, options);\n\n      // hide volume controls when they're not supported by the current tech\n      if (player.tech_ && player.tech_['featuresVolumeControl'] === false) {\n        this.addClass('vjs-hidden');\n      }\n      this.on(player, 'loadstart', function () {\n        if (player.tech_['featuresVolumeControl'] === false) {\n          this.addClass('vjs-hidden');\n        } else {\n          this.removeClass('vjs-hidden');\n        }\n      });\n    }\n\n    /**\n     * Create the component's DOM element\n     *\n     * @return {Element}\n     * @method createEl\n     */\n\n    VolumeControl.prototype.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-volume-control vjs-control'\n      });\n    };\n\n    return VolumeControl;\n  })(_componentJs2['default']);\n\n  VolumeControl.prototype.options_ = {\n    children: ['volumeBar']\n  };\n\n  _componentJs2['default'].registerComponent('VolumeControl', VolumeControl);\n  exports['default'] = VolumeControl;\n  module.exports = exports['default'];\n\n},{\"../../component.js\":67,\"./volume-bar.js\":99}],101:[function(_dereq_,module,exports){\n  /**\n   * @file volume-level.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _componentJs = _dereq_('../../component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  /**\n   * Shows volume level\n   *\n   * @param {Player|Object} player\n   * @param {Object=} options\n   * @extends Component\n   * @class VolumeLevel\n   */\n\n  var VolumeLevel = (function (_Component) {\n    _inherits(VolumeLevel, _Component);\n\n    function VolumeLevel() {\n      _classCallCheck(this, VolumeLevel);\n\n      _Component.apply(this, arguments);\n    }\n\n    /**\n     * Create the component's DOM element\n     *\n     * @return {Element}\n     * @method createEl\n     */\n\n    VolumeLevel.prototype.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-volume-level',\n        innerHTML: '<span class=\"vjs-control-text\"></span>'\n      });\n    };\n\n    return VolumeLevel;\n  })(_componentJs2['default']);\n\n  _componentJs2['default'].registerComponent('VolumeLevel', VolumeLevel);\n  exports['default'] = VolumeLevel;\n  module.exports = exports['default'];\n\n},{\"../../component.js\":67}],102:[function(_dereq_,module,exports){\n  /**\n   * @file volume-menu-button.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _utilsFnJs = _dereq_('../utils/fn.js');\n\n  var Fn = _interopRequireWildcard(_utilsFnJs);\n\n  var _componentJs = _dereq_('../component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  var _popupPopupJs = _dereq_('../popup/popup.js');\n\n  var _popupPopupJs2 = _interopRequireDefault(_popupPopupJs);\n\n  var _popupPopupButtonJs = _dereq_('../popup/popup-button.js');\n\n  var _popupPopupButtonJs2 = _interopRequireDefault(_popupPopupButtonJs);\n\n  var _muteToggleJs = _dereq_('./mute-toggle.js');\n\n  var _muteToggleJs2 = _interopRequireDefault(_muteToggleJs);\n\n  var _volumeControlVolumeBarJs = _dereq_('./volume-control/volume-bar.js');\n\n  var _volumeControlVolumeBarJs2 = _interopRequireDefault(_volumeControlVolumeBarJs);\n\n  /**\n   * Button for volume popup\n   *\n   * @param {Player|Object} player\n   * @param {Object=} options\n   * @extends PopupButton\n   * @class VolumeMenuButton\n   */\n\n  var VolumeMenuButton = (function (_PopupButton) {\n    _inherits(VolumeMenuButton, _PopupButton);\n\n    function VolumeMenuButton(player) {\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      _classCallCheck(this, VolumeMenuButton);\n\n      // Default to inline\n      if (options.inline === undefined) {\n        options.inline = true;\n      }\n\n      // If the vertical option isn't passed at all, default to true.\n      if (options.vertical === undefined) {\n        // If an inline volumeMenuButton is used, we should default to using\n        // a horizontal slider for obvious reasons.\n        if (options.inline) {\n          options.vertical = false;\n        } else {\n          options.vertical = true;\n        }\n      }\n\n      // The vertical option needs to be set on the volumeBar as well,\n      // since that will need to be passed along to the VolumeBar constructor\n      options.volumeBar = options.volumeBar || {};\n      options.volumeBar.vertical = !!options.vertical;\n\n      _PopupButton.call(this, player, options);\n\n      // Same listeners as MuteToggle\n      this.on(player, 'volumechange', this.volumeUpdate);\n      this.on(player, 'loadstart', this.volumeUpdate);\n\n      // hide mute toggle if the current tech doesn't support volume control\n      function updateVisibility() {\n        if (player.tech_ && player.tech_['featuresVolumeControl'] === false) {\n          this.addClass('vjs-hidden');\n        } else {\n          this.removeClass('vjs-hidden');\n        }\n      }\n\n      updateVisibility.call(this);\n      this.on(player, 'loadstart', updateVisibility);\n\n      this.on(this.volumeBar, ['slideractive', 'focus'], function () {\n        this.addClass('vjs-slider-active');\n      });\n\n      this.on(this.volumeBar, ['sliderinactive', 'blur'], function () {\n        this.removeClass('vjs-slider-active');\n      });\n\n      this.on(this.volumeBar, ['focus'], function () {\n        this.addClass('vjs-lock-showing');\n      });\n\n      this.on(this.volumeBar, ['blur'], function () {\n        this.removeClass('vjs-lock-showing');\n      });\n    }\n\n    /**\n     * Allow sub components to stack CSS class names\n     *\n     * @return {String} The constructed class name\n     * @method buildCSSClass\n     */\n\n    VolumeMenuButton.prototype.buildCSSClass = function buildCSSClass() {\n      var orientationClass = '';\n      if (!!this.options_.vertical) {\n        orientationClass = 'vjs-volume-menu-button-vertical';\n      } else {\n        orientationClass = 'vjs-volume-menu-button-horizontal';\n      }\n\n      return 'vjs-volume-menu-button ' + _PopupButton.prototype.buildCSSClass.call(this) + ' ' + orientationClass;\n    };\n\n    /**\n     * Allow sub components to stack CSS class names\n     *\n     * @return {Popup} The volume popup button\n     * @method createPopup\n     */\n\n    VolumeMenuButton.prototype.createPopup = function createPopup() {\n      var popup = new _popupPopupJs2['default'](this.player_, {\n        contentElType: 'div'\n      });\n\n      var vb = new _volumeControlVolumeBarJs2['default'](this.player_, this.options_.volumeBar);\n\n      popup.addChild(vb);\n\n      this.menuContent = popup;\n      this.volumeBar = vb;\n\n      this.attachVolumeBarEvents();\n\n      return popup;\n    };\n\n    /**\n     * Handle click on volume popup and calls super\n     *\n     * @method handleClick\n     */\n\n    VolumeMenuButton.prototype.handleClick = function handleClick() {\n      _muteToggleJs2['default'].prototype.handleClick.call(this);\n      _PopupButton.prototype.handleClick.call(this);\n    };\n\n    VolumeMenuButton.prototype.attachVolumeBarEvents = function attachVolumeBarEvents() {\n      this.menuContent.on(['mousedown', 'touchdown'], Fn.bind(this, this.handleMouseDown));\n    };\n\n    VolumeMenuButton.prototype.handleMouseDown = function handleMouseDown(event) {\n      this.on(['mousemove', 'touchmove'], Fn.bind(this.volumeBar, this.volumeBar.handleMouseMove));\n      this.on(this.el_.ownerDocument, ['mouseup', 'touchend'], this.handleMouseUp);\n    };\n\n    VolumeMenuButton.prototype.handleMouseUp = function handleMouseUp(event) {\n      this.off(['mousemove', 'touchmove'], Fn.bind(this.volumeBar, this.volumeBar.handleMouseMove));\n    };\n\n    return VolumeMenuButton;\n  })(_popupPopupButtonJs2['default']);\n\n  VolumeMenuButton.prototype.volumeUpdate = _muteToggleJs2['default'].prototype.update;\n  VolumeMenuButton.prototype.controlText_ = 'Mute';\n\n  _componentJs2['default'].registerComponent('VolumeMenuButton', VolumeMenuButton);\n  exports['default'] = VolumeMenuButton;\n  module.exports = exports['default'];\n\n},{\"../component.js\":67,\"../popup/popup-button.js\":115,\"../popup/popup.js\":116,\"../utils/fn.js\":145,\"./mute-toggle.js\":73,\"./volume-control/volume-bar.js\":99}],103:[function(_dereq_,module,exports){\n  /**\n   * @file error-display.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _component = _dereq_('./component');\n\n  var _component2 = _interopRequireDefault(_component);\n\n  var _modalDialog = _dereq_('./modal-dialog');\n\n  var _modalDialog2 = _interopRequireDefault(_modalDialog);\n\n  var _utilsDom = _dereq_('./utils/dom');\n\n  var Dom = _interopRequireWildcard(_utilsDom);\n\n  var _utilsMergeOptions = _dereq_('./utils/merge-options');\n\n  var _utilsMergeOptions2 = _interopRequireDefault(_utilsMergeOptions);\n\n  /**\n   * Display that an error has occurred making the video unplayable.\n   *\n   * @extends ModalDialog\n   * @class ErrorDisplay\n   */\n\n  var ErrorDisplay = (function (_ModalDialog) {\n    _inherits(ErrorDisplay, _ModalDialog);\n\n    /**\n     * Constructor for error display modal.\n     *\n     * @param  {Player} player\n     * @param  {Object} [options]\n     */\n\n    function ErrorDisplay(player, options) {\n      _classCallCheck(this, ErrorDisplay);\n\n      _ModalDialog.call(this, player, options);\n      this.on(player, 'error', this.open);\n    }\n\n    /**\n     * Include the old class for backward-compatibility.\n     *\n     * This can be removed in 6.0.\n     *\n     * @method buildCSSClass\n     * @deprecated\n     * @return {String}\n     */\n\n    ErrorDisplay.prototype.buildCSSClass = function buildCSSClass() {\n      return 'vjs-error-display ' + _ModalDialog.prototype.buildCSSClass.call(this);\n    };\n\n    /**\n     * Generates the modal content based on the player error.\n     *\n     * @return {String|Null}\n     */\n\n    ErrorDisplay.prototype.content = function content() {\n      var error = this.player().error();\n      return error ? this.localize(error.message) : '';\n    };\n\n    return ErrorDisplay;\n  })(_modalDialog2['default']);\n\n  ErrorDisplay.prototype.options_ = _utilsMergeOptions2['default'](_modalDialog2['default'].prototype.options_, {\n    fillAlways: true,\n    temporary: false,\n    uncloseable: true\n  });\n\n  _component2['default'].registerComponent('ErrorDisplay', ErrorDisplay);\n  exports['default'] = ErrorDisplay;\n  module.exports = exports['default'];\n\n},{\"./component\":67,\"./modal-dialog\":112,\"./utils/dom\":143,\"./utils/merge-options\":149}],104:[function(_dereq_,module,exports){\n  /**\n   * @file event-target.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  var _utilsEventsJs = _dereq_('./utils/events.js');\n\n  var Events = _interopRequireWildcard(_utilsEventsJs);\n\n  var EventTarget = function EventTarget() {};\n\n  EventTarget.prototype.allowedEvents_ = {};\n\n  EventTarget.prototype.on = function (type, fn) {\n    // Remove the addEventListener alias before calling Events.on\n    // so we don't get into an infinite type loop\n    var ael = this.addEventListener;\n    this.addEventListener = function () {};\n    Events.on(this, type, fn);\n    this.addEventListener = ael;\n  };\n  EventTarget.prototype.addEventListener = EventTarget.prototype.on;\n\n  EventTarget.prototype.off = function (type, fn) {\n    Events.off(this, type, fn);\n  };\n  EventTarget.prototype.removeEventListener = EventTarget.prototype.off;\n\n  EventTarget.prototype.one = function (type, fn) {\n    // Remove the addEventListener alias before calling Events.on\n    // so we don't get into an infinite type loop\n    var ael = this.addEventListener;\n    this.addEventListener = function () {};\n    Events.one(this, type, fn);\n    this.addEventListener = ael;\n  };\n\n  EventTarget.prototype.trigger = function (event) {\n    var type = event.type || event;\n\n    if (typeof event === 'string') {\n      event = {\n        type: type\n      };\n    }\n    event = Events.fixEvent(event);\n\n    if (this.allowedEvents_[type] && this['on' + type]) {\n      this['on' + type](event);\n    }\n\n    Events.trigger(this, event);\n  };\n// The standard DOM EventTarget.dispatchEvent() is aliased to trigger()\n  EventTarget.prototype.dispatchEvent = EventTarget.prototype.trigger;\n\n  exports['default'] = EventTarget;\n  module.exports = exports['default'];\n\n},{\"./utils/events.js\":144}],105:[function(_dereq_,module,exports){\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  var _utilsLog = _dereq_('./utils/log');\n\n  var _utilsLog2 = _interopRequireDefault(_utilsLog);\n\n  /*\n   * @file extend.js\n   *\n   * A combination of node inherits and babel's inherits (after transpile).\n   * Both work the same but node adds `super_` to the subClass\n   * and Bable adds the superClass as __proto__. Both seem useful.\n   */\n  var _inherits = function _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n      throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n\n    if (superClass) {\n      // node\n      subClass.super_ = superClass;\n    }\n  };\n\n  /*\n   * Function for subclassing using the same inheritance that\n   * videojs uses internally\n   * ```js\n   * var Button = videojs.getComponent('Button');\n   * ```\n   * ```js\n   * var MyButton = videojs.extend(Button, {\n   *   constructor: function(player, options) {\n   *     Button.call(this, player, options);\n   *   },\n   *   onClick: function() {\n   *     // doSomething\n   *   }\n   * });\n   * ```\n   */\n  var extendFn = function extendFn(superClass) {\n    var subClassMethods = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    var subClass = function subClass() {\n      superClass.apply(this, arguments);\n    };\n    var methods = {};\n\n    if (typeof subClassMethods === 'object') {\n      if (typeof subClassMethods.init === 'function') {\n        _utilsLog2['default'].warn('Constructor logic via init() is deprecated; please use constructor() instead.');\n        subClassMethods.constructor = subClassMethods.init;\n      }\n      if (subClassMethods.constructor !== Object.prototype.constructor) {\n        subClass = subClassMethods.constructor;\n      }\n      methods = subClassMethods;\n    } else if (typeof subClassMethods === 'function') {\n      subClass = subClassMethods;\n    }\n\n    _inherits(subClass, superClass);\n\n    // Extend subObj's prototype with functions and other properties from props\n    for (var name in methods) {\n      if (methods.hasOwnProperty(name)) {\n        subClass.prototype[name] = methods[name];\n      }\n    }\n\n    return subClass;\n  };\n\n  exports['default'] = extendFn;\n  module.exports = exports['default'];\n\n},{\"./utils/log\":148}],106:[function(_dereq_,module,exports){\n  /**\n   * @file fullscreen-api.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  var _globalDocument = _dereq_('global/document');\n\n  var _globalDocument2 = _interopRequireDefault(_globalDocument);\n\n  /*\n   * Store the browser-specific methods for the fullscreen API\n   * @type {Object|undefined}\n   * @private\n   */\n  var FullscreenApi = {};\n\n// browser API methods\n// map approach from Screenful.js - https://github.com/sindresorhus/screenfull.js\n  var apiMap = [\n// Spec: https://dvcs.w3.org/hg/fullscreen/raw-file/tip/Overview.html\n    ['requestFullscreen', 'exitFullscreen', 'fullscreenElement', 'fullscreenEnabled', 'fullscreenchange', 'fullscreenerror'],\n// WebKit\n    ['webkitRequestFullscreen', 'webkitExitFullscreen', 'webkitFullscreenElement', 'webkitFullscreenEnabled', 'webkitfullscreenchange', 'webkitfullscreenerror'],\n// Old WebKit (Safari 5.1)\n    ['webkitRequestFullScreen', 'webkitCancelFullScreen', 'webkitCurrentFullScreenElement', 'webkitCancelFullScreen', 'webkitfullscreenchange', 'webkitfullscreenerror'],\n// Mozilla\n    ['mozRequestFullScreen', 'mozCancelFullScreen', 'mozFullScreenElement', 'mozFullScreenEnabled', 'mozfullscreenchange', 'mozfullscreenerror'],\n// Microsoft\n    ['msRequestFullscreen', 'msExitFullscreen', 'msFullscreenElement', 'msFullscreenEnabled', 'MSFullscreenChange', 'MSFullscreenError']];\n\n  var specApi = apiMap[0];\n  var browserApi = undefined;\n\n// determine the supported set of functions\n  for (var i = 0; i < apiMap.length; i++) {\n    // check for exitFullscreen function\n    if (apiMap[i][1] in _globalDocument2['default']) {\n      browserApi = apiMap[i];\n      break;\n    }\n  }\n\n// map the browser API names to the spec API names\n  if (browserApi) {\n    for (var i = 0; i < browserApi.length; i++) {\n      FullscreenApi[specApi[i]] = browserApi[i];\n    }\n  }\n\n  exports['default'] = FullscreenApi;\n  module.exports = exports['default'];\n\n},{\"global/document\":1}],107:[function(_dereq_,module,exports){\n  /**\n   * @file loading-spinner.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _component = _dereq_('./component');\n\n  var _component2 = _interopRequireDefault(_component);\n\n  /* Loading Spinner\n   ================================================================================ */\n  /**\n   * Loading spinner for waiting events\n   *\n   * @extends Component\n   * @class LoadingSpinner\n   */\n\n  var LoadingSpinner = (function (_Component) {\n    _inherits(LoadingSpinner, _Component);\n\n    function LoadingSpinner() {\n      _classCallCheck(this, LoadingSpinner);\n\n      _Component.apply(this, arguments);\n    }\n\n    /**\n     * Create the component's DOM element\n     *\n     * @method createEl\n     */\n\n    LoadingSpinner.prototype.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-loading-spinner',\n        dir: 'ltr'\n      });\n    };\n\n    return LoadingSpinner;\n  })(_component2['default']);\n\n  _component2['default'].registerComponent('LoadingSpinner', LoadingSpinner);\n  exports['default'] = LoadingSpinner;\n  module.exports = exports['default'];\n\n},{\"./component\":67}],108:[function(_dereq_,module,exports){\n  /**\n   * @file media-error.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  var _objectAssign = _dereq_('object.assign');\n\n  var _objectAssign2 = _interopRequireDefault(_objectAssign);\n\n  /*\n   * Custom MediaError to mimic the HTML5 MediaError\n   *\n   * @param {Number} code The media error code\n   */\n  var MediaError = function MediaError(code) {\n    if (typeof code === 'number') {\n      this.code = code;\n    } else if (typeof code === 'string') {\n      // default code is zero, so this is a custom error\n      this.message = code;\n    } else if (typeof code === 'object') {\n      // object\n      _objectAssign2['default'](this, code);\n    }\n\n    if (!this.message) {\n      this.message = MediaError.defaultMessages[this.code] || '';\n    }\n  };\n\n  /*\n   * The error code that refers two one of the defined\n   * MediaError types\n   *\n   * @type {Number}\n   */\n  MediaError.prototype.code = 0;\n\n  /*\n   * An optional message to be shown with the error.\n   * Message is not part of the HTML5 video spec\n   * but allows for more informative custom errors.\n   *\n   * @type {String}\n   */\n  MediaError.prototype.message = '';\n\n  /*\n   * An optional status code that can be set by plugins\n   * to allow even more detail about the error.\n   * For example the HLS plugin might provide the specific\n   * HTTP status code that was returned when the error\n   * occurred, then allowing a custom error overlay\n   * to display more information.\n   *\n   * @type {Array}\n   */\n  MediaError.prototype.status = null;\n\n  MediaError.errorTypes = ['MEDIA_ERR_CUSTOM', // = 0\n    'MEDIA_ERR_ABORTED', // = 1\n    'MEDIA_ERR_NETWORK', // = 2\n    'MEDIA_ERR_DECODE', // = 3\n    'MEDIA_ERR_SRC_NOT_SUPPORTED', // = 4\n    'MEDIA_ERR_ENCRYPTED' // = 5\n  ];\n\n  MediaError.defaultMessages = {\n    1: 'You aborted the media playback',\n    2: 'A network error caused the media download to fail part-way.',\n    3: 'The media playback was aborted due to a corruption problem or because the media used features your browser did not support.',\n    4: 'The media could not be loaded, either because the server or network failed or because the format is not supported.',\n    5: 'The media is encrypted and we do not have the keys to decrypt it.'\n  };\n\n// Add types as properties on MediaError\n// e.g. MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED = 4;\n  for (var errNum = 0; errNum < MediaError.errorTypes.length; errNum++) {\n    MediaError[MediaError.errorTypes[errNum]] = errNum;\n    // values should be accessible on both the class and instance\n    MediaError.prototype[MediaError.errorTypes[errNum]] = errNum;\n  }\n\n  exports['default'] = MediaError;\n  module.exports = exports['default'];\n\n},{\"object.assign\":45}],109:[function(_dereq_,module,exports){\n  /**\n   * @file menu-button.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _clickableComponentJs = _dereq_('../clickable-component.js');\n\n  var _clickableComponentJs2 = _interopRequireDefault(_clickableComponentJs);\n\n  var _componentJs = _dereq_('../component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  var _menuJs = _dereq_('./menu.js');\n\n  var _menuJs2 = _interopRequireDefault(_menuJs);\n\n  var _utilsDomJs = _dereq_('../utils/dom.js');\n\n  var Dom = _interopRequireWildcard(_utilsDomJs);\n\n  var _utilsFnJs = _dereq_('../utils/fn.js');\n\n  var Fn = _interopRequireWildcard(_utilsFnJs);\n\n  var _utilsToTitleCaseJs = _dereq_('../utils/to-title-case.js');\n\n  var _utilsToTitleCaseJs2 = _interopRequireDefault(_utilsToTitleCaseJs);\n\n  /**\n   * A button class with a popup menu\n   *\n   * @param {Player|Object} player\n   * @param {Object=} options\n   * @extends Button\n   * @class MenuButton\n   */\n\n  var MenuButton = (function (_ClickableComponent) {\n    _inherits(MenuButton, _ClickableComponent);\n\n    function MenuButton(player) {\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      _classCallCheck(this, MenuButton);\n\n      _ClickableComponent.call(this, player, options);\n\n      this.update();\n\n      this.enabled_ = true;\n\n      this.el_.setAttribute('aria-haspopup', 'true');\n      this.el_.setAttribute('role', 'menuitem');\n      this.on('keydown', this.handleSubmenuKeyPress);\n    }\n\n    /**\n     * Update menu\n     *\n     * @method update\n     */\n\n    MenuButton.prototype.update = function update() {\n      var menu = this.createMenu();\n\n      if (this.menu) {\n        this.removeChild(this.menu);\n      }\n\n      this.menu = menu;\n      this.addChild(menu);\n\n      /**\n       * Track the state of the menu button\n       *\n       * @type {Boolean}\n       * @private\n       */\n      this.buttonPressed_ = false;\n      this.el_.setAttribute('aria-expanded', 'false');\n\n      if (this.items && this.items.length === 0) {\n        this.hide();\n      } else if (this.items && this.items.length > 1) {\n        this.show();\n      }\n    };\n\n    /**\n     * Create menu\n     *\n     * @return {Menu} The constructed menu\n     * @method createMenu\n     */\n\n    MenuButton.prototype.createMenu = function createMenu() {\n      var menu = new _menuJs2['default'](this.player_);\n\n      // Add a title list item to the top\n      if (this.options_.title) {\n        var title = Dom.createEl('li', {\n          className: 'vjs-menu-title',\n          innerHTML: _utilsToTitleCaseJs2['default'](this.options_.title),\n          tabIndex: -1\n        });\n        menu.children_.unshift(title);\n        Dom.insertElFirst(title, menu.contentEl());\n      }\n\n      this.items = this['createItems']();\n\n      if (this.items) {\n        // Add menu items to the menu\n        for (var i = 0; i < this.items.length; i++) {\n          menu.addItem(this.items[i]);\n        }\n      }\n\n      return menu;\n    };\n\n    /**\n     * Create the list of menu items. Specific to each subclass.\n     *\n     * @method createItems\n     */\n\n    MenuButton.prototype.createItems = function createItems() {};\n\n    /**\n     * Create the component's DOM element\n     *\n     * @return {Element}\n     * @method createEl\n     */\n\n    MenuButton.prototype.createEl = function createEl() {\n      return _ClickableComponent.prototype.createEl.call(this, 'div', {\n        className: this.buildCSSClass()\n      });\n    };\n\n    /**\n     * Allow sub components to stack CSS class names\n     *\n     * @return {String} The constructed class name\n     * @method buildCSSClass\n     */\n\n    MenuButton.prototype.buildCSSClass = function buildCSSClass() {\n      var menuButtonClass = 'vjs-menu-button';\n\n      // If the inline option is passed, we want to use different styles altogether.\n      if (this.options_.inline === true) {\n        menuButtonClass += '-inline';\n      } else {\n        menuButtonClass += '-popup';\n      }\n\n      return 'vjs-menu-button ' + menuButtonClass + ' ' + _ClickableComponent.prototype.buildCSSClass.call(this);\n    };\n\n    /**\n     * When you click the button it adds focus, which\n     * will show the menu indefinitely.\n     * So we'll remove focus when the mouse leaves the button.\n     * Focus is needed for tab navigation.\n     * Allow sub components to stack CSS class names\n     *\n     * @method handleClick\n     */\n\n    MenuButton.prototype.handleClick = function handleClick() {\n      this.one('mouseout', Fn.bind(this, function () {\n        this.menu.unlockShowing();\n        this.el_.blur();\n      }));\n      if (this.buttonPressed_) {\n        this.unpressButton();\n      } else {\n        this.pressButton();\n      }\n    };\n\n    /**\n     * Handle key press on menu\n     *\n     * @param {Object} event Key press event\n     * @method handleKeyPress\n     */\n\n    MenuButton.prototype.handleKeyPress = function handleKeyPress(event) {\n\n      // Escape (27) key or Tab (9) key unpress the 'button'\n      if (event.which === 27 || event.which === 9) {\n        if (this.buttonPressed_) {\n          this.unpressButton();\n        }\n        // Don't preventDefault for Tab key - we still want to lose focus\n        if (event.which !== 9) {\n          event.preventDefault();\n        }\n        // Up (38) key or Down (40) key press the 'button'\n      } else if (event.which === 38 || event.which === 40) {\n        if (!this.buttonPressed_) {\n          this.pressButton();\n          event.preventDefault();\n        }\n      } else {\n        _ClickableComponent.prototype.handleKeyPress.call(this, event);\n      }\n    };\n\n    /**\n     * Handle key press on submenu\n     *\n     * @param {Object} event Key press event\n     * @method handleSubmenuKeyPress\n     */\n\n    MenuButton.prototype.handleSubmenuKeyPress = function handleSubmenuKeyPress(event) {\n\n      // Escape (27) key or Tab (9) key unpress the 'button'\n      if (event.which === 27 || event.which === 9) {\n        if (this.buttonPressed_) {\n          this.unpressButton();\n        }\n        // Don't preventDefault for Tab key - we still want to lose focus\n        if (event.which !== 9) {\n          event.preventDefault();\n        }\n      }\n    };\n\n    /**\n     * Makes changes based on button pressed\n     *\n     * @method pressButton\n     */\n\n    MenuButton.prototype.pressButton = function pressButton() {\n      if (this.enabled_) {\n        this.buttonPressed_ = true;\n        this.menu.lockShowing();\n        this.el_.setAttribute('aria-expanded', 'true');\n        this.menu.focus(); // set the focus into the submenu\n      }\n    };\n\n    /**\n     * Makes changes based on button unpressed\n     *\n     * @method unpressButton\n     */\n\n    MenuButton.prototype.unpressButton = function unpressButton() {\n      if (this.enabled_) {\n        this.buttonPressed_ = false;\n        this.menu.unlockShowing();\n        this.el_.setAttribute('aria-expanded', 'false');\n        this.el_.focus(); // Set focus back to this menu button\n      }\n    };\n\n    /**\n     * Disable the menu button\n     *\n     * @return {Component}\n     * @method disable\n     */\n\n    MenuButton.prototype.disable = function disable() {\n      // Unpress, but don't force focus on this button\n      this.buttonPressed_ = false;\n      this.menu.unlockShowing();\n      this.el_.setAttribute('aria-expanded', 'false');\n\n      this.enabled_ = false;\n\n      return _ClickableComponent.prototype.disable.call(this);\n    };\n\n    /**\n     * Enable the menu button\n     *\n     * @return {Component}\n     * @method disable\n     */\n\n    MenuButton.prototype.enable = function enable() {\n      this.enabled_ = true;\n\n      return _ClickableComponent.prototype.enable.call(this);\n    };\n\n    return MenuButton;\n  })(_clickableComponentJs2['default']);\n\n  _componentJs2['default'].registerComponent('MenuButton', MenuButton);\n  exports['default'] = MenuButton;\n  module.exports = exports['default'];\n\n},{\"../clickable-component.js\":65,\"../component.js\":67,\"../utils/dom.js\":143,\"../utils/fn.js\":145,\"../utils/to-title-case.js\":152,\"./menu.js\":111}],110:[function(_dereq_,module,exports){\n  /**\n   * @file menu-item.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _clickableComponentJs = _dereq_('../clickable-component.js');\n\n  var _clickableComponentJs2 = _interopRequireDefault(_clickableComponentJs);\n\n  var _componentJs = _dereq_('../component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  var _objectAssign = _dereq_('object.assign');\n\n  var _objectAssign2 = _interopRequireDefault(_objectAssign);\n\n  /**\n   * The component for a menu item. `<li>`\n   *\n   * @param {Player|Object} player\n   * @param {Object=} options\n   * @extends Button\n   * @class MenuItem\n   */\n\n  var MenuItem = (function (_ClickableComponent) {\n    _inherits(MenuItem, _ClickableComponent);\n\n    function MenuItem(player, options) {\n      _classCallCheck(this, MenuItem);\n\n      _ClickableComponent.call(this, player, options);\n\n      this.selectable = options['selectable'];\n\n      this.selected(options['selected']);\n\n      if (this.selectable) {\n        // TODO: May need to be either menuitemcheckbox or menuitemradio,\n        //       and may need logical grouping of menu items.\n        this.el_.setAttribute('role', 'menuitemcheckbox');\n      } else {\n        this.el_.setAttribute('role', 'menuitem');\n      }\n    }\n\n    /**\n     * Create the component's DOM element\n     *\n     * @param {String=} type Desc\n     * @param {Object=} props Desc\n     * @return {Element}\n     * @method createEl\n     */\n\n    MenuItem.prototype.createEl = function createEl(type, props, attrs) {\n      return _ClickableComponent.prototype.createEl.call(this, 'li', _objectAssign2['default']({\n        className: 'vjs-menu-item',\n        innerHTML: this.localize(this.options_['label']),\n        tabIndex: -1\n      }, props), attrs);\n    };\n\n    /**\n     * Handle a click on the menu item, and set it to selected\n     *\n     * @method handleClick\n     */\n\n    MenuItem.prototype.handleClick = function handleClick() {\n      this.selected(true);\n    };\n\n    /**\n     * Set this menu item as selected or not\n     *\n     * @param  {Boolean} selected\n     * @method selected\n     */\n\n    MenuItem.prototype.selected = function selected(_selected) {\n      if (this.selectable) {\n        if (_selected) {\n          this.addClass('vjs-selected');\n          this.el_.setAttribute('aria-checked', 'true');\n          // aria-checked isn't fully supported by browsers/screen readers,\n          // so indicate selected state to screen reader in the control text.\n          this.controlText(', selected');\n        } else {\n          this.removeClass('vjs-selected');\n          this.el_.setAttribute('aria-checked', 'false');\n          // Indicate un-selected state to screen reader\n          // Note that a space clears out the selected state text\n          this.controlText(' ');\n        }\n      }\n    };\n\n    return MenuItem;\n  })(_clickableComponentJs2['default']);\n\n  _componentJs2['default'].registerComponent('MenuItem', MenuItem);\n  exports['default'] = MenuItem;\n  module.exports = exports['default'];\n\n},{\"../clickable-component.js\":65,\"../component.js\":67,\"object.assign\":45}],111:[function(_dereq_,module,exports){\n  /**\n   * @file menu.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _componentJs = _dereq_('../component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  var _utilsDomJs = _dereq_('../utils/dom.js');\n\n  var Dom = _interopRequireWildcard(_utilsDomJs);\n\n  var _utilsFnJs = _dereq_('../utils/fn.js');\n\n  var Fn = _interopRequireWildcard(_utilsFnJs);\n\n  var _utilsEventsJs = _dereq_('../utils/events.js');\n\n  var Events = _interopRequireWildcard(_utilsEventsJs);\n\n  /**\n   * The Menu component is used to build pop up menus, including subtitle and\n   * captions selection menus.\n   *\n   * @extends Component\n   * @class Menu\n   */\n\n  var Menu = (function (_Component) {\n    _inherits(Menu, _Component);\n\n    function Menu(player, options) {\n      _classCallCheck(this, Menu);\n\n      _Component.call(this, player, options);\n\n      this.focusedChild_ = -1;\n\n      this.on('keydown', this.handleKeyPress);\n    }\n\n    /**\n     * Add a menu item to the menu\n     *\n     * @param {Object|String} component Component or component type to add\n     * @method addItem\n     */\n\n    Menu.prototype.addItem = function addItem(component) {\n      this.addChild(component);\n      component.on('click', Fn.bind(this, function () {\n        this.unlockShowing();\n        //TODO: Need to set keyboard focus back to the menuButton\n      }));\n    };\n\n    /**\n     * Create the component's DOM element\n     *\n     * @return {Element}\n     * @method createEl\n     */\n\n    Menu.prototype.createEl = function createEl() {\n      var contentElType = this.options_.contentElType || 'ul';\n      this.contentEl_ = Dom.createEl(contentElType, {\n        className: 'vjs-menu-content'\n      });\n      this.contentEl_.setAttribute('role', 'menu');\n      var el = _Component.prototype.createEl.call(this, 'div', {\n        append: this.contentEl_,\n        className: 'vjs-menu'\n      });\n      el.setAttribute('role', 'presentation');\n      el.appendChild(this.contentEl_);\n\n      // Prevent clicks from bubbling up. Needed for Menu Buttons,\n      // where a click on the parent is significant\n      Events.on(el, 'click', function (event) {\n        event.preventDefault();\n        event.stopImmediatePropagation();\n      });\n\n      return el;\n    };\n\n    /**\n     * Handle key press for menu\n     *\n     * @param {Object} event Event object\n     * @method handleKeyPress\n     */\n\n    Menu.prototype.handleKeyPress = function handleKeyPress(event) {\n      if (event.which === 37 || event.which === 40) {\n        // Left and Down Arrows\n        event.preventDefault();\n        this.stepForward();\n      } else if (event.which === 38 || event.which === 39) {\n        // Up and Right Arrows\n        event.preventDefault();\n        this.stepBack();\n      }\n    };\n\n    /**\n     * Move to next (lower) menu item for keyboard users\n     *\n     * @method stepForward\n     */\n\n    Menu.prototype.stepForward = function stepForward() {\n      var stepChild = 0;\n\n      if (this.focusedChild_ !== undefined) {\n        stepChild = this.focusedChild_ + 1;\n      }\n      this.focus(stepChild);\n    };\n\n    /**\n     * Move to previous (higher) menu item for keyboard users\n     *\n     * @method stepBack\n     */\n\n    Menu.prototype.stepBack = function stepBack() {\n      var stepChild = 0;\n\n      if (this.focusedChild_ !== undefined) {\n        stepChild = this.focusedChild_ - 1;\n      }\n      this.focus(stepChild);\n    };\n\n    /**\n     * Set focus on a menu item in the menu\n     *\n     * @param {Object|String} item Index of child item set focus on\n     * @method focus\n     */\n\n    Menu.prototype.focus = function focus() {\n      var item = arguments.length <= 0 || arguments[0] === undefined ? 0 : arguments[0];\n\n      var children = this.children().slice();\n      var haveTitle = children.length && children[0].className && /vjs-menu-title/.test(children[0].className);\n\n      if (haveTitle) {\n        children.shift();\n      }\n\n      if (children.length > 0) {\n        if (item < 0) {\n          item = 0;\n        } else if (item >= children.length) {\n          item = children.length - 1;\n        }\n\n        this.focusedChild_ = item;\n\n        children[item].el_.focus();\n      }\n    };\n\n    return Menu;\n  })(_componentJs2['default']);\n\n  _componentJs2['default'].registerComponent('Menu', Menu);\n  exports['default'] = Menu;\n  module.exports = exports['default'];\n\n},{\"../component.js\":67,\"../utils/dom.js\":143,\"../utils/events.js\":144,\"../utils/fn.js\":145}],112:[function(_dereq_,module,exports){\n  /**\n   * @file modal-dialog.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _utilsDom = _dereq_('./utils/dom');\n\n  var Dom = _interopRequireWildcard(_utilsDom);\n\n  var _utilsFn = _dereq_('./utils/fn');\n\n  var Fn = _interopRequireWildcard(_utilsFn);\n\n  var _utilsLog = _dereq_('./utils/log');\n\n  var _utilsLog2 = _interopRequireDefault(_utilsLog);\n\n  var _component = _dereq_('./component');\n\n  var _component2 = _interopRequireDefault(_component);\n\n  var _closeButton = _dereq_('./close-button');\n\n  var _closeButton2 = _interopRequireDefault(_closeButton);\n\n  var MODAL_CLASS_NAME = 'vjs-modal-dialog';\n  var ESC = 27;\n\n  /**\n   * The `ModalDialog` displays over the video and its controls, which blocks\n   * interaction with the player until it is closed.\n   *\n   * Modal dialogs include a \"Close\" button and will close when that button\n   * is activated - or when ESC is pressed anywhere.\n   *\n   * @extends Component\n   * @class ModalDialog\n   */\n\n  var ModalDialog = (function (_Component) {\n    _inherits(ModalDialog, _Component);\n\n    /**\n     * Constructor for modals.\n     *\n     * @param  {Player} player\n     * @param  {Object} [options]\n     * @param  {Mixed} [options.content=undefined]\n     *         Provide customized content for this modal.\n     *\n     * @param  {String} [options.description]\n     *         A text description for the modal, primarily for accessibility.\n     *\n     * @param  {Boolean} [options.fillAlways=false]\n     *         Normally, modals are automatically filled only the first time\n     *         they open. This tells the modal to refresh its content\n     *         every time it opens.\n     *\n     * @param  {String} [options.label]\n     *         A text label for the modal, primarily for accessibility.\n     *\n     * @param  {Boolean} [options.temporary=true]\n     *         If `true`, the modal can only be opened once; it will be\n     *         disposed as soon as it's closed.\n     *\n     * @param  {Boolean} [options.uncloseable=false]\n     *         If `true`, the user will not be able to close the modal\n     *         through the UI in the normal ways. Programmatic closing is\n     *         still possible.\n     *\n     */\n\n    function ModalDialog(player, options) {\n      _classCallCheck(this, ModalDialog);\n\n      _Component.call(this, player, options);\n      this.opened_ = this.hasBeenOpened_ = this.hasBeenFilled_ = false;\n\n      this.closeable(!this.options_.uncloseable);\n      this.content(this.options_.content);\n\n      // Make sure the contentEl is defined AFTER any children are initialized\n      // because we only want the contents of the modal in the contentEl\n      // (not the UI elements like the close button).\n      this.contentEl_ = Dom.createEl('div', {\n        className: MODAL_CLASS_NAME + '-content'\n      }, {\n        role: 'document'\n      });\n\n      this.descEl_ = Dom.createEl('p', {\n        className: MODAL_CLASS_NAME + '-description vjs-offscreen',\n        id: this.el().getAttribute('aria-describedby')\n      });\n\n      Dom.textContent(this.descEl_, this.description());\n      this.el_.appendChild(this.descEl_);\n      this.el_.appendChild(this.contentEl_);\n    }\n\n    /*\n     * Modal dialog default options.\n     *\n     * @type {Object}\n     * @private\n     */\n\n    /**\n     * Create the modal's DOM element\n     *\n     * @method createEl\n     * @return {Element}\n     */\n\n    ModalDialog.prototype.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: this.buildCSSClass(),\n        tabIndex: -1\n      }, {\n        'aria-describedby': this.id() + '_description',\n        'aria-hidden': 'true',\n        'aria-label': this.label(),\n        role: 'dialog'\n      });\n    };\n\n    /**\n     * Build the modal's CSS class.\n     *\n     * @method buildCSSClass\n     * @return {String}\n     */\n\n    ModalDialog.prototype.buildCSSClass = function buildCSSClass() {\n      return MODAL_CLASS_NAME + ' vjs-hidden ' + _Component.prototype.buildCSSClass.call(this);\n    };\n\n    /**\n     * Handles key presses on the document, looking for ESC, which closes\n     * the modal.\n     *\n     * @method handleKeyPress\n     * @param  {Event} e\n     */\n\n    ModalDialog.prototype.handleKeyPress = function handleKeyPress(e) {\n      if (e.which === ESC && this.closeable()) {\n        this.close();\n      }\n    };\n\n    /**\n     * Returns the label string for this modal. Primarily used for accessibility.\n     *\n     * @return {String}\n     */\n\n    ModalDialog.prototype.label = function label() {\n      return this.options_.label || this.localize('Modal Window');\n    };\n\n    /**\n     * Returns the description string for this modal. Primarily used for\n     * accessibility.\n     *\n     * @return {String}\n     */\n\n    ModalDialog.prototype.description = function description() {\n      var desc = this.options_.description || this.localize('This is a modal window.');\n\n      // Append a universal closeability message if the modal is closeable.\n      if (this.closeable()) {\n        desc += ' ' + this.localize('This modal can be closed by pressing the Escape key or activating the close button.');\n      }\n\n      return desc;\n    };\n\n    /**\n     * Opens the modal.\n     *\n     * @method open\n     * @return {ModalDialog}\n     */\n\n    ModalDialog.prototype.open = function open() {\n      if (!this.opened_) {\n        var player = this.player();\n\n        this.trigger('beforemodalopen');\n        this.opened_ = true;\n\n        // Fill content if the modal has never opened before and\n        // never been filled.\n        if (this.options_.fillAlways || !this.hasBeenOpened_ && !this.hasBeenFilled_) {\n          this.fill();\n        }\n\n        // If the player was playing, pause it and take note of its previously\n        // playing state.\n        this.wasPlaying_ = !player.paused();\n\n        if (this.wasPlaying_) {\n          player.pause();\n        }\n\n        if (this.closeable()) {\n          this.on(this.el_.ownerDocument, 'keydown', Fn.bind(this, this.handleKeyPress));\n        }\n\n        player.controls(false);\n        this.show();\n        this.el().setAttribute('aria-hidden', 'false');\n        this.trigger('modalopen');\n        this.hasBeenOpened_ = true;\n      }\n      return this;\n    };\n\n    /**\n     * Whether or not the modal is opened currently.\n     *\n     * @method opened\n     * @param  {Boolean} [value]\n     *         If given, it will open (`true`) or close (`false`) the modal.\n     *\n     * @return {Boolean}\n     */\n\n    ModalDialog.prototype.opened = function opened(value) {\n      if (typeof value === 'boolean') {\n        this[value ? 'open' : 'close']();\n      }\n      return this.opened_;\n    };\n\n    /**\n     * Closes the modal.\n     *\n     * @method close\n     * @return {ModalDialog}\n     */\n\n    ModalDialog.prototype.close = function close() {\n      if (this.opened_) {\n        var player = this.player();\n\n        this.trigger('beforemodalclose');\n        this.opened_ = false;\n\n        if (this.wasPlaying_) {\n          player.play();\n        }\n\n        if (this.closeable()) {\n          this.off(this.el_.ownerDocument, 'keydown', Fn.bind(this, this.handleKeyPress));\n        }\n\n        player.controls(true);\n        this.hide();\n        this.el().setAttribute('aria-hidden', 'true');\n        this.trigger('modalclose');\n\n        if (this.options_.temporary) {\n          this.dispose();\n        }\n      }\n      return this;\n    };\n\n    /**\n     * Whether or not the modal is closeable via the UI.\n     *\n     * @method closeable\n     * @param  {Boolean} [value]\n     *         If given as a Boolean, it will set the `closeable` option.\n     *\n     * @return {Boolean}\n     */\n\n    ModalDialog.prototype.closeable = function closeable(value) {\n      if (typeof value === 'boolean') {\n        var closeable = this.closeable_ = !!value;\n        var _close = this.getChild('closeButton');\n\n        // If this is being made closeable and has no close button, add one.\n        if (closeable && !_close) {\n\n          // The close button should be a child of the modal - not its\n          // content element, so temporarily change the content element.\n          var temp = this.contentEl_;\n          this.contentEl_ = this.el_;\n          _close = this.addChild('closeButton');\n          this.contentEl_ = temp;\n          this.on(_close, 'close', this.close);\n        }\n\n        // If this is being made uncloseable and has a close button, remove it.\n        if (!closeable && _close) {\n          this.off(_close, 'close', this.close);\n          this.removeChild(_close);\n          _close.dispose();\n        }\n      }\n      return this.closeable_;\n    };\n\n    /**\n     * Fill the modal's content element with the modal's \"content\" option.\n     *\n     * The content element will be emptied before this change takes place.\n     *\n     * @method fill\n     * @return {ModalDialog}\n     */\n\n    ModalDialog.prototype.fill = function fill() {\n      return this.fillWith(this.content());\n    };\n\n    /**\n     * Fill the modal's content element with arbitrary content.\n     *\n     * The content element will be emptied before this change takes place.\n     *\n     * @method fillWith\n     * @param  {Mixed} [content]\n     *         The same rules apply to this as apply to the `content` option.\n     *\n     * @return {ModalDialog}\n     */\n\n    ModalDialog.prototype.fillWith = function fillWith(content) {\n      var contentEl = this.contentEl();\n      var parentEl = contentEl.parentNode;\n      var nextSiblingEl = contentEl.nextSibling;\n\n      this.trigger('beforemodalfill');\n      this.hasBeenFilled_ = true;\n\n      // Detach the content element from the DOM before performing\n      // manipulation to avoid modifying the live DOM multiple times.\n      parentEl.removeChild(contentEl);\n      this.empty();\n      Dom.insertContent(contentEl, content);\n      this.trigger('modalfill');\n\n      // Re-inject the re-filled content element.\n      if (nextSiblingEl) {\n        parentEl.insertBefore(contentEl, nextSiblingEl);\n      } else {\n        parentEl.appendChild(contentEl);\n      }\n\n      return this;\n    };\n\n    /**\n     * Empties the content element.\n     *\n     * This happens automatically anytime the modal is filled.\n     *\n     * @method empty\n     * @return {ModalDialog}\n     */\n\n    ModalDialog.prototype.empty = function empty() {\n      this.trigger('beforemodalempty');\n      Dom.emptyEl(this.contentEl());\n      this.trigger('modalempty');\n      return this;\n    };\n\n    /**\n     * Gets or sets the modal content, which gets normalized before being\n     * rendered into the DOM.\n     *\n     * This does not update the DOM or fill the modal, but it is called during\n     * that process.\n     *\n     * @method content\n     * @param  {Mixed} [value]\n     *         If defined, sets the internal content value to be used on the\n     *         next call(s) to `fill`. This value is normalized before being\n     *         inserted. To \"clear\" the internal content value, pass `null`.\n     *\n     * @return {Mixed}\n     */\n\n    ModalDialog.prototype.content = function content(value) {\n      if (typeof value !== 'undefined') {\n        this.content_ = value;\n      }\n      return this.content_;\n    };\n\n    return ModalDialog;\n  })(_component2['default']);\n\n  ModalDialog.prototype.options_ = {\n    temporary: true\n  };\n\n  _component2['default'].registerComponent('ModalDialog', ModalDialog);\n  exports['default'] = ModalDialog;\n  module.exports = exports['default'];\n\n},{\"./close-button\":66,\"./component\":67,\"./utils/dom\":143,\"./utils/fn\":145,\"./utils/log\":148}],113:[function(_dereq_,module,exports){\n  /**\n   * @file player.js\n   */\n// Subclasses Component\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _componentJs = _dereq_('./component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  var _globalDocument = _dereq_('global/document');\n\n  var _globalDocument2 = _interopRequireDefault(_globalDocument);\n\n  var _globalWindow = _dereq_('global/window');\n\n  var _globalWindow2 = _interopRequireDefault(_globalWindow);\n\n  var _utilsEventsJs = _dereq_('./utils/events.js');\n\n  var Events = _interopRequireWildcard(_utilsEventsJs);\n\n  var _utilsDomJs = _dereq_('./utils/dom.js');\n\n  var Dom = _interopRequireWildcard(_utilsDomJs);\n\n  var _utilsFnJs = _dereq_('./utils/fn.js');\n\n  var Fn = _interopRequireWildcard(_utilsFnJs);\n\n  var _utilsGuidJs = _dereq_('./utils/guid.js');\n\n  var Guid = _interopRequireWildcard(_utilsGuidJs);\n\n  var _utilsBrowserJs = _dereq_('./utils/browser.js');\n\n  var browser = _interopRequireWildcard(_utilsBrowserJs);\n\n  var _utilsLogJs = _dereq_('./utils/log.js');\n\n  var _utilsLogJs2 = _interopRequireDefault(_utilsLogJs);\n\n  var _utilsToTitleCaseJs = _dereq_('./utils/to-title-case.js');\n\n  var _utilsToTitleCaseJs2 = _interopRequireDefault(_utilsToTitleCaseJs);\n\n  var _utilsTimeRangesJs = _dereq_('./utils/time-ranges.js');\n\n  var _utilsBufferJs = _dereq_('./utils/buffer.js');\n\n  var _utilsStylesheetJs = _dereq_('./utils/stylesheet.js');\n\n  var stylesheet = _interopRequireWildcard(_utilsStylesheetJs);\n\n  var _fullscreenApiJs = _dereq_('./fullscreen-api.js');\n\n  var _fullscreenApiJs2 = _interopRequireDefault(_fullscreenApiJs);\n\n  var _mediaErrorJs = _dereq_('./media-error.js');\n\n  var _mediaErrorJs2 = _interopRequireDefault(_mediaErrorJs);\n\n  var _safeJsonParseTuple = _dereq_('safe-json-parse/tuple');\n\n  var _safeJsonParseTuple2 = _interopRequireDefault(_safeJsonParseTuple);\n\n  var _objectAssign = _dereq_('object.assign');\n\n  var _objectAssign2 = _interopRequireDefault(_objectAssign);\n\n  var _utilsMergeOptionsJs = _dereq_('./utils/merge-options.js');\n\n  var _utilsMergeOptionsJs2 = _interopRequireDefault(_utilsMergeOptionsJs);\n\n  var _tracksTextTrackListConverterJs = _dereq_('./tracks/text-track-list-converter.js');\n\n  var _tracksTextTrackListConverterJs2 = _interopRequireDefault(_tracksTextTrackListConverterJs);\n\n  var _tracksAudioTrackListJs = _dereq_('./tracks/audio-track-list.js');\n\n  var _tracksAudioTrackListJs2 = _interopRequireDefault(_tracksAudioTrackListJs);\n\n  var _tracksVideoTrackListJs = _dereq_('./tracks/video-track-list.js');\n\n  var _tracksVideoTrackListJs2 = _interopRequireDefault(_tracksVideoTrackListJs);\n\n// Include required child components (importing also registers them)\n\n  var _techLoaderJs = _dereq_('./tech/loader.js');\n\n  var _techLoaderJs2 = _interopRequireDefault(_techLoaderJs);\n\n  var _posterImageJs = _dereq_('./poster-image.js');\n\n  var _posterImageJs2 = _interopRequireDefault(_posterImageJs);\n\n  var _tracksTextTrackDisplayJs = _dereq_('./tracks/text-track-display.js');\n\n  var _tracksTextTrackDisplayJs2 = _interopRequireDefault(_tracksTextTrackDisplayJs);\n\n  var _loadingSpinnerJs = _dereq_('./loading-spinner.js');\n\n  var _loadingSpinnerJs2 = _interopRequireDefault(_loadingSpinnerJs);\n\n  var _bigPlayButtonJs = _dereq_('./big-play-button.js');\n\n  var _bigPlayButtonJs2 = _interopRequireDefault(_bigPlayButtonJs);\n\n  var _controlBarControlBarJs = _dereq_('./control-bar/control-bar.js');\n\n  var _controlBarControlBarJs2 = _interopRequireDefault(_controlBarControlBarJs);\n\n  var _errorDisplayJs = _dereq_('./error-display.js');\n\n  var _errorDisplayJs2 = _interopRequireDefault(_errorDisplayJs);\n\n  var _tracksTextTrackSettingsJs = _dereq_('./tracks/text-track-settings.js');\n\n  var _tracksTextTrackSettingsJs2 = _interopRequireDefault(_tracksTextTrackSettingsJs);\n\n  var _modalDialog = _dereq_('./modal-dialog');\n\n  var _modalDialog2 = _interopRequireDefault(_modalDialog);\n\n// Require html5 tech, at least for disposing the original video tag\n\n  var _techTechJs = _dereq_('./tech/tech.js');\n\n  var _techTechJs2 = _interopRequireDefault(_techTechJs);\n\n  var _techHtml5Js = _dereq_('./tech/html5.js');\n\n  var _techHtml5Js2 = _interopRequireDefault(_techHtml5Js);\n\n  /**\n   * An instance of the `Player` class is created when any of the Video.js setup methods are used to initialize a video.\n   * ```js\n   * var myPlayer = videojs('example_video_1');\n   * ```\n   * In the following example, the `data-setup` attribute tells the Video.js library to create a player instance when the library is ready.\n   * ```html\n   * <video id=\"example_video_1\" data-setup='{}' controls>\n   *   <source src=\"my-source.mp4\" type=\"video/mp4\">\n   * </video>\n   * ```\n   * After an instance has been created it can be accessed globally using `Video('example_video_1')`.\n   *\n   * @param {Element} tag        The original video tag used for configuring options\n   * @param {Object=} options    Object of option names and values\n   * @param {Function=} ready    Ready callback function\n   * @extends Component\n   * @class Player\n   */\n\n  var Player = (function (_Component) {\n    _inherits(Player, _Component);\n\n    /**\n     * player's constructor function\n     *\n     * @constructs\n     * @method init\n     * @param {Element} tag        The original video tag used for configuring options\n     * @param {Object=} options    Player options\n     * @param {Function=} ready    Ready callback function\n     */\n\n    function Player(tag, options, ready) {\n      var _this = this;\n\n      _classCallCheck(this, Player);\n\n      // Make sure tag ID exists\n      tag.id = tag.id || 'vjs_video_' + Guid.newGUID();\n\n      // Set Options\n      // The options argument overrides options set in the video tag\n      // which overrides globally set options.\n      // This latter part coincides with the load order\n      // (tag must exist before Player)\n      options = _objectAssign2['default'](Player.getTagSettings(tag), options);\n\n      // Delay the initialization of children because we need to set up\n      // player properties first, and can't use `this` before `super()`\n      options.initChildren = false;\n\n      // Same with creating the element\n      options.createEl = false;\n\n      // we don't want the player to report touch activity on itself\n      // see enableTouchActivity in Component\n      options.reportTouchActivity = false;\n\n      // Run base component initializing with new options\n      _Component.call(this, null, options, ready);\n\n      // if the global option object was accidentally blown away by\n      // someone, bail early with an informative error\n      if (!this.options_ || !this.options_.techOrder || !this.options_.techOrder.length) {\n        throw new Error('No techOrder specified. Did you overwrite ' + 'videojs.options instead of just changing the ' + 'properties you want to override?');\n      }\n\n      this.tag = tag; // Store the original tag used to set options\n\n      // Store the tag attributes used to restore html5 element\n      this.tagAttributes = tag && Dom.getElAttributes(tag);\n\n      // Update current language\n      this.language(this.options_.language);\n\n      // Update Supported Languages\n      if (options.languages) {\n        (function () {\n          // Normalise player option languages to lowercase\n          var languagesToLower = {};\n\n          Object.getOwnPropertyNames(options.languages).forEach(function (name) {\n            languagesToLower[name.toLowerCase()] = options.languages[name];\n          });\n          _this.languages_ = languagesToLower;\n        })();\n      } else {\n        this.languages_ = Player.prototype.options_.languages;\n      }\n\n      // Cache for video property values.\n      this.cache_ = {};\n\n      // Set poster\n      this.poster_ = options.poster || '';\n\n      // Set controls\n      this.controls_ = !!options.controls;\n\n      // Original tag settings stored in options\n      // now remove immediately so native controls don't flash.\n      // May be turned back on by HTML5 tech if nativeControlsForTouch is true\n      tag.controls = false;\n\n      /*\n       * Store the internal state of scrubbing\n       *\n       * @private\n       * @return {Boolean} True if the user is scrubbing\n       */\n      this.scrubbing_ = false;\n\n      this.el_ = this.createEl();\n\n      // We also want to pass the original player options to each component and plugin\n      // as well so they don't need to reach back into the player for options later.\n      // We also need to do another copy of this.options_ so we don't end up with\n      // an infinite loop.\n      var playerOptionsCopy = _utilsMergeOptionsJs2['default'](this.options_);\n\n      // Load plugins\n      if (options.plugins) {\n        (function () {\n          var plugins = options.plugins;\n\n          Object.getOwnPropertyNames(plugins).forEach(function (name) {\n            if (typeof this[name] === 'function') {\n              this[name](plugins[name]);\n            } else {\n              _utilsLogJs2['default'].error('Unable to find plugin:', name);\n            }\n          }, _this);\n        })();\n      }\n\n      this.options_.playerOptions = playerOptionsCopy;\n\n      this.initChildren();\n\n      // Set isAudio based on whether or not an audio tag was used\n      this.isAudio(tag.nodeName.toLowerCase() === 'audio');\n\n      // Update controls className. Can't do this when the controls are initially\n      // set because the element doesn't exist yet.\n      if (this.controls()) {\n        this.addClass('vjs-controls-enabled');\n      } else {\n        this.addClass('vjs-controls-disabled');\n      }\n\n      // Set ARIA label and region role depending on player type\n      this.el_.setAttribute('role', 'region');\n      if (this.isAudio()) {\n        this.el_.setAttribute('aria-label', 'audio player');\n      } else {\n        this.el_.setAttribute('aria-label', 'video player');\n      }\n\n      if (this.isAudio()) {\n        this.addClass('vjs-audio');\n      }\n\n      if (this.flexNotSupported_()) {\n        this.addClass('vjs-no-flex');\n      }\n\n      // TODO: Make this smarter. Toggle user state between touching/mousing\n      // using events, since devices can have both touch and mouse events.\n      // if (browser.TOUCH_ENABLED) {\n      //   this.addClass('vjs-touch-enabled');\n      // }\n\n      // iOS Safari has broken hover handling\n      if (!browser.IS_IOS) {\n        this.addClass('vjs-workinghover');\n      }\n\n      // Make player easily findable by ID\n      Player.players[this.id_] = this;\n\n      // When the player is first initialized, trigger activity so components\n      // like the control bar show themselves if needed\n      this.userActive(true);\n      this.reportUserActivity();\n      this.listenForUserActivity_();\n\n      this.on('fullscreenchange', this.handleFullscreenChange_);\n      this.on('stageclick', this.handleStageClick_);\n    }\n\n    /*\n     * Global player list\n     *\n     * @type {Object}\n     */\n\n    /**\n     * Destroys the video player and does any necessary cleanup\n     * ```js\n     *     myPlayer.dispose();\n     * ```\n     * This is especially helpful if you are dynamically adding and removing videos\n     * to/from the DOM.\n     *\n     * @method dispose\n     */\n\n    Player.prototype.dispose = function dispose() {\n      this.trigger('dispose');\n      // prevent dispose from being called twice\n      this.off('dispose');\n\n      if (this.styleEl_ && this.styleEl_.parentNode) {\n        this.styleEl_.parentNode.removeChild(this.styleEl_);\n      }\n\n      // Kill reference to this player\n      Player.players[this.id_] = null;\n      if (this.tag && this.tag.player) {\n        this.tag.player = null;\n      }\n      if (this.el_ && this.el_.player) {\n        this.el_.player = null;\n      }\n\n      if (this.tech_) {\n        this.tech_.dispose();\n      }\n\n      _Component.prototype.dispose.call(this);\n    };\n\n    /**\n     * Create the component's DOM element\n     *\n     * @return {Element}\n     * @method createEl\n     */\n\n    Player.prototype.createEl = function createEl() {\n      var el = this.el_ = _Component.prototype.createEl.call(this, 'div');\n      var tag = this.tag;\n\n      // Remove width/height attrs from tag so CSS can make it 100% width/height\n      tag.removeAttribute('width');\n      tag.removeAttribute('height');\n\n      // Copy over all the attributes from the tag, including ID and class\n      // ID will now reference player box, not the video tag\n      var attrs = Dom.getElAttributes(tag);\n\n      Object.getOwnPropertyNames(attrs).forEach(function (attr) {\n        // workaround so we don't totally break IE7\n        // http://stackoverflow.com/questions/3653444/css-styles-not-applied-on-dynamic-elements-in-internet-explorer-7\n        if (attr === 'class') {\n          el.className = attrs[attr];\n        } else {\n          el.setAttribute(attr, attrs[attr]);\n        }\n      });\n\n      // Update tag id/class for use as HTML5 playback tech\n      // Might think we should do this after embedding in container so .vjs-tech class\n      // doesn't flash 100% width/height, but class only applies with .video-js parent\n      tag.playerId = tag.id;\n      tag.id += '_html5_api';\n      tag.className = 'vjs-tech';\n\n      // Make player findable on elements\n      tag.player = el.player = this;\n      // Default state of video is paused\n      this.addClass('vjs-paused');\n\n      // Add a style element in the player that we'll use to set the width/height\n      // of the player in a way that's still overrideable by CSS, just like the\n      // video element\n      if (_globalWindow2['default'].VIDEOJS_NO_DYNAMIC_STYLE !== true) {\n        this.styleEl_ = stylesheet.createStyleElement('vjs-styles-dimensions');\n        var defaultsStyleEl = Dom.$('.vjs-styles-defaults');\n        var head = Dom.$('head');\n        head.insertBefore(this.styleEl_, defaultsStyleEl ? defaultsStyleEl.nextSibling : head.firstChild);\n      }\n\n      // Pass in the width/height/aspectRatio options which will update the style el\n      this.width(this.options_.width);\n      this.height(this.options_.height);\n      this.fluid(this.options_.fluid);\n      this.aspectRatio(this.options_.aspectRatio);\n\n      // Hide any links within the video/audio tag, because IE doesn't hide them completely.\n      var links = tag.getElementsByTagName('a');\n      for (var i = 0; i < links.length; i++) {\n        var linkEl = links.item(i);\n        Dom.addElClass(linkEl, 'vjs-hidden');\n        linkEl.setAttribute('hidden', 'hidden');\n      }\n\n      // insertElFirst seems to cause the networkState to flicker from 3 to 2, so\n      // keep track of the original for later so we can know if the source originally failed\n      tag.initNetworkState_ = tag.networkState;\n\n      // Wrap video tag in div (el/box) container\n      if (tag.parentNode) {\n        tag.parentNode.insertBefore(el, tag);\n      }\n\n      // insert the tag as the first child of the player element\n      // then manually add it to the children array so that this.addChild\n      // will work properly for other components\n      Dom.insertElFirst(tag, el); // Breaks iPhone, fixed in HTML5 setup.\n      this.children_.unshift(tag);\n\n      this.el_ = el;\n\n      return el;\n    };\n\n    /**\n     * Get/set player width\n     *\n     * @param {Number=} value Value for width\n     * @return {Number} Width when getting\n     * @method width\n     */\n\n    Player.prototype.width = function width(value) {\n      return this.dimension('width', value);\n    };\n\n    /**\n     * Get/set player height\n     *\n     * @param {Number=} value Value for height\n     * @return {Number} Height when getting\n     * @method height\n     */\n\n    Player.prototype.height = function height(value) {\n      return this.dimension('height', value);\n    };\n\n    /**\n     * Get/set dimension for player\n     *\n     * @param {String} dimension Either width or height\n     * @param {Number=} value Value for dimension\n     * @return {Component}\n     * @method dimension\n     */\n\n    Player.prototype.dimension = function dimension(_dimension, value) {\n      var privDimension = _dimension + '_';\n\n      if (value === undefined) {\n        return this[privDimension] || 0;\n      }\n\n      if (value === '') {\n        // If an empty string is given, reset the dimension to be automatic\n        this[privDimension] = undefined;\n      } else {\n        var parsedVal = parseFloat(value);\n\n        if (isNaN(parsedVal)) {\n          _utilsLogJs2['default'].error('Improper value \"' + value + '\" supplied for for ' + _dimension);\n          return this;\n        }\n\n        this[privDimension] = parsedVal;\n      }\n\n      this.updateStyleEl_();\n      return this;\n    };\n\n    /**\n     * Add/remove the vjs-fluid class\n     *\n     * @param {Boolean} bool Value of true adds the class, value of false removes the class\n     * @method fluid\n     */\n\n    Player.prototype.fluid = function fluid(bool) {\n      if (bool === undefined) {\n        return !!this.fluid_;\n      }\n\n      this.fluid_ = !!bool;\n\n      if (bool) {\n        this.addClass('vjs-fluid');\n      } else {\n        this.removeClass('vjs-fluid');\n      }\n    };\n\n    /**\n     * Get/Set the aspect ratio\n     *\n     * @param {String=} ratio Aspect ratio for player\n     * @return aspectRatio\n     * @method aspectRatio\n     */\n\n    Player.prototype.aspectRatio = function aspectRatio(ratio) {\n      if (ratio === undefined) {\n        return this.aspectRatio_;\n      }\n\n      // Check for width:height format\n      if (!/^\\d+\\:\\d+$/.test(ratio)) {\n        throw new Error('Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.');\n      }\n      this.aspectRatio_ = ratio;\n\n      // We're assuming if you set an aspect ratio you want fluid mode,\n      // because in fixed mode you could calculate width and height yourself.\n      this.fluid(true);\n\n      this.updateStyleEl_();\n    };\n\n    /**\n     * Update styles of the player element (height, width and aspect ratio)\n     *\n     * @method updateStyleEl_\n     */\n\n    Player.prototype.updateStyleEl_ = function updateStyleEl_() {\n      if (_globalWindow2['default'].VIDEOJS_NO_DYNAMIC_STYLE === true) {\n        var _width = typeof this.width_ === 'number' ? this.width_ : this.options_.width;\n        var _height = typeof this.height_ === 'number' ? this.height_ : this.options_.height;\n        var techEl = this.tech_ && this.tech_.el();\n\n        if (techEl) {\n          if (_width >= 0) {\n            techEl.width = _width;\n          }\n          if (_height >= 0) {\n            techEl.height = _height;\n          }\n        }\n\n        return;\n      }\n\n      var width = undefined;\n      var height = undefined;\n      var aspectRatio = undefined;\n      var idClass = undefined;\n\n      // The aspect ratio is either used directly or to calculate width and height.\n      if (this.aspectRatio_ !== undefined && this.aspectRatio_ !== 'auto') {\n        // Use any aspectRatio that's been specifically set\n        aspectRatio = this.aspectRatio_;\n      } else if (this.videoWidth()) {\n        // Otherwise try to get the aspect ratio from the video metadata\n        aspectRatio = this.videoWidth() + ':' + this.videoHeight();\n      } else {\n        // Or use a default. The video element's is 2:1, but 16:9 is more common.\n        aspectRatio = '16:9';\n      }\n\n      // Get the ratio as a decimal we can use to calculate dimensions\n      var ratioParts = aspectRatio.split(':');\n      var ratioMultiplier = ratioParts[1] / ratioParts[0];\n\n      if (this.width_ !== undefined) {\n        // Use any width that's been specifically set\n        width = this.width_;\n      } else if (this.height_ !== undefined) {\n        // Or calulate the width from the aspect ratio if a height has been set\n        width = this.height_ / ratioMultiplier;\n      } else {\n        // Or use the video's metadata, or use the video el's default of 300\n        width = this.videoWidth() || 300;\n      }\n\n      if (this.height_ !== undefined) {\n        // Use any height that's been specifically set\n        height = this.height_;\n      } else {\n        // Otherwise calculate the height from the ratio and the width\n        height = width * ratioMultiplier;\n      }\n\n      // Ensure the CSS class is valid by starting with an alpha character\n      if (/^[^a-zA-Z]/.test(this.id())) {\n        idClass = 'dimensions-' + this.id();\n      } else {\n        idClass = this.id() + '-dimensions';\n      }\n\n      // Ensure the right class is still on the player for the style element\n      this.addClass(idClass);\n\n      stylesheet.setTextContent(this.styleEl_, '\\n      .' + idClass + ' {\\n        width: ' + width + 'px;\\n        height: ' + height + 'px;\\n      }\\n\\n      .' + idClass + '.vjs-fluid {\\n        padding-top: ' + ratioMultiplier * 100 + '%;\\n      }\\n    ');\n    };\n\n    /**\n     * Load the Media Playback Technology (tech)\n     * Load/Create an instance of playback technology including element and API methods\n     * And append playback element in player div.\n     *\n     * @param {String} techName Name of the playback technology\n     * @param {String} source Video source\n     * @method loadTech_\n     * @private\n     */\n\n    Player.prototype.loadTech_ = function loadTech_(techName, source) {\n\n      // Pause and remove current playback technology\n      if (this.tech_) {\n        this.unloadTech_();\n      }\n\n      // get rid of the HTML5 video tag as soon as we are using another tech\n      if (techName !== 'Html5' && this.tag) {\n        _techTechJs2['default'].getTech('Html5').disposeMediaElement(this.tag);\n        this.tag.player = null;\n        this.tag = null;\n      }\n\n      this.techName_ = techName;\n\n      // Turn off API access because we're loading a new tech that might load asynchronously\n      this.isReady_ = false;\n\n      // Grab tech-specific options from player options and add source and parent element to use.\n      var techOptions = _objectAssign2['default']({\n        'nativeControlsForTouch': this.options_.nativeControlsForTouch,\n        'source': source,\n        'playerId': this.id(),\n        'techId': this.id() + '_' + techName + '_api',\n        'videoTracks': this.videoTracks_,\n        'textTracks': this.textTracks_,\n        'audioTracks': this.audioTracks_,\n        'autoplay': this.options_.autoplay,\n        'preload': this.options_.preload,\n        'loop': this.options_.loop,\n        'muted': this.options_.muted,\n        'poster': this.poster(),\n        'language': this.language(),\n        'vtt.js': this.options_['vtt.js']\n      }, this.options_[techName.toLowerCase()]);\n\n      if (this.tag) {\n        techOptions.tag = this.tag;\n      }\n\n      if (source) {\n        this.currentType_ = source.type;\n        if (source.src === this.cache_.src && this.cache_.currentTime > 0) {\n          techOptions.startTime = this.cache_.currentTime;\n        }\n\n        this.cache_.src = source.src;\n      }\n\n      // Initialize tech instance\n      var techComponent = _techTechJs2['default'].getTech(techName);\n      // Support old behavior of techs being registered as components.\n      // Remove once that deprecated behavior is removed.\n      if (!techComponent) {\n        techComponent = _componentJs2['default'].getComponent(techName);\n      }\n      this.tech_ = new techComponent(techOptions);\n\n      // player.triggerReady is always async, so don't need this to be async\n      this.tech_.ready(Fn.bind(this, this.handleTechReady_), true);\n\n      _tracksTextTrackListConverterJs2['default'].jsonToTextTracks(this.textTracksJson_ || [], this.tech_);\n\n      // Listen to all HTML5-defined events and trigger them on the player\n      this.on(this.tech_, 'loadstart', this.handleTechLoadStart_);\n      this.on(this.tech_, 'waiting', this.handleTechWaiting_);\n      this.on(this.tech_, 'canplay', this.handleTechCanPlay_);\n      this.on(this.tech_, 'canplaythrough', this.handleTechCanPlayThrough_);\n      this.on(this.tech_, 'playing', this.handleTechPlaying_);\n      this.on(this.tech_, 'ended', this.handleTechEnded_);\n      this.on(this.tech_, 'seeking', this.handleTechSeeking_);\n      this.on(this.tech_, 'seeked', this.handleTechSeeked_);\n      this.on(this.tech_, 'play', this.handleTechPlay_);\n      this.on(this.tech_, 'firstplay', this.handleTechFirstPlay_);\n      this.on(this.tech_, 'pause', this.handleTechPause_);\n      this.on(this.tech_, 'progress', this.handleTechProgress_);\n      this.on(this.tech_, 'durationchange', this.handleTechDurationChange_);\n      this.on(this.tech_, 'fullscreenchange', this.handleTechFullscreenChange_);\n      this.on(this.tech_, 'error', this.handleTechError_);\n      this.on(this.tech_, 'suspend', this.handleTechSuspend_);\n      this.on(this.tech_, 'abort', this.handleTechAbort_);\n      this.on(this.tech_, 'emptied', this.handleTechEmptied_);\n      this.on(this.tech_, 'stalled', this.handleTechStalled_);\n      this.on(this.tech_, 'loadedmetadata', this.handleTechLoadedMetaData_);\n      this.on(this.tech_, 'loadeddata', this.handleTechLoadedData_);\n      this.on(this.tech_, 'timeupdate', this.handleTechTimeUpdate_);\n      this.on(this.tech_, 'ratechange', this.handleTechRateChange_);\n      this.on(this.tech_, 'volumechange', this.handleTechVolumeChange_);\n      this.on(this.tech_, 'texttrackchange', this.handleTechTextTrackChange_);\n      this.on(this.tech_, 'loadedmetadata', this.updateStyleEl_);\n      this.on(this.tech_, 'posterchange', this.handleTechPosterChange_);\n\n      this.usingNativeControls(this.techGet_('controls'));\n\n      if (this.controls() && !this.usingNativeControls()) {\n        this.addTechControlsListeners_();\n      }\n\n      // Add the tech element in the DOM if it was not already there\n      // Make sure to not insert the original video element if using Html5\n      if (this.tech_.el().parentNode !== this.el() && (techName !== 'Html5' || !this.tag)) {\n        Dom.insertElFirst(this.tech_.el(), this.el());\n      }\n\n      // Get rid of the original video tag reference after the first tech is loaded\n      if (this.tag) {\n        this.tag.player = null;\n        this.tag = null;\n      }\n    };\n\n    /**\n     * Unload playback technology\n     *\n     * @method unloadTech_\n     * @private\n     */\n\n    Player.prototype.unloadTech_ = function unloadTech_() {\n      // Save the current text tracks so that we can reuse the same text tracks with the next tech\n      this.videoTracks_ = this.videoTracks();\n      this.textTracks_ = this.textTracks();\n      this.audioTracks_ = this.audioTracks();\n      this.textTracksJson_ = _tracksTextTrackListConverterJs2['default'].textTracksToJson(this.tech_);\n\n      this.isReady_ = false;\n\n      this.tech_.dispose();\n\n      this.tech_ = false;\n    };\n\n    /**\n     * Return a reference to the current tech.\n     * It will only return a reference to the tech if given an object with the\n     * `IWillNotUseThisInPlugins` property on it. This is try and prevent misuse\n     * of techs by plugins.\n     *\n     * @param {Object}\n     * @return {Object} The Tech\n     * @method tech\n     */\n\n    Player.prototype.tech = function tech(safety) {\n      if (safety && safety.IWillNotUseThisInPlugins) {\n        return this.tech_;\n      }\n      var errorText = '\\n      Please make sure that you are not using this inside of a plugin.\\n      To disable this alert and error, please pass in an object with\\n      `IWillNotUseThisInPlugins` to the `tech` method. See\\n      https://github.com/videojs/video.js/issues/2617 for more info.\\n    ';\n      _globalWindow2['default'].alert(errorText);\n      throw new Error(errorText);\n    };\n\n    /**\n     * Set up click and touch listeners for the playback element\n     *\n     * On desktops, a click on the video itself will toggle playback,\n     * on a mobile device a click on the video toggles controls.\n     * (toggling controls is done by toggling the user state between active and\n     * inactive)\n     * A tap can signal that a user has become active, or has become inactive\n     * e.g. a quick tap on an iPhone movie should reveal the controls. Another\n     * quick tap should hide them again (signaling the user is in an inactive\n     * viewing state)\n     * In addition to this, we still want the user to be considered inactive after\n     * a few seconds of inactivity.\n     * Note: the only part of iOS interaction we can't mimic with this setup\n     * is a touch and hold on the video element counting as activity in order to\n     * keep the controls showing, but that shouldn't be an issue. A touch and hold\n     * on any controls will still keep the user active\n     *\n     * @private\n     * @method addTechControlsListeners_\n     */\n\n    Player.prototype.addTechControlsListeners_ = function addTechControlsListeners_() {\n      // Make sure to remove all the previous listeners in case we are called multiple times.\n      this.removeTechControlsListeners_();\n\n      // Some browsers (Chrome & IE) don't trigger a click on a flash swf, but do\n      // trigger mousedown/up.\n      // http://stackoverflow.com/questions/1444562/javascript-onclick-event-over-flash-object\n      // Any touch events are set to block the mousedown event from happening\n      this.on(this.tech_, 'mousedown', this.handleTechClick_);\n\n      // If the controls were hidden we don't want that to change without a tap event\n      // so we'll check if the controls were already showing before reporting user\n      // activity\n      this.on(this.tech_, 'touchstart', this.handleTechTouchStart_);\n      this.on(this.tech_, 'touchmove', this.handleTechTouchMove_);\n      this.on(this.tech_, 'touchend', this.handleTechTouchEnd_);\n\n      // The tap listener needs to come after the touchend listener because the tap\n      // listener cancels out any reportedUserActivity when setting userActive(false)\n      this.on(this.tech_, 'tap', this.handleTechTap_);\n    };\n\n    /**\n     * Remove the listeners used for click and tap controls. This is needed for\n     * toggling to controls disabled, where a tap/touch should do nothing.\n     *\n     * @method removeTechControlsListeners_\n     * @private\n     */\n\n    Player.prototype.removeTechControlsListeners_ = function removeTechControlsListeners_() {\n      // We don't want to just use `this.off()` because there might be other needed\n      // listeners added by techs that extend this.\n      this.off(this.tech_, 'tap', this.handleTechTap_);\n      this.off(this.tech_, 'touchstart', this.handleTechTouchStart_);\n      this.off(this.tech_, 'touchmove', this.handleTechTouchMove_);\n      this.off(this.tech_, 'touchend', this.handleTechTouchEnd_);\n      this.off(this.tech_, 'mousedown', this.handleTechClick_);\n    };\n\n    /**\n     * Player waits for the tech to be ready\n     *\n     * @method handleTechReady_\n     * @private\n     */\n\n    Player.prototype.handleTechReady_ = function handleTechReady_() {\n      this.triggerReady();\n\n      // Keep the same volume as before\n      if (this.cache_.volume) {\n        this.techCall_('setVolume', this.cache_.volume);\n      }\n\n      // Look if the tech found a higher resolution poster while loading\n      this.handleTechPosterChange_();\n\n      // Update the duration if available\n      this.handleTechDurationChange_();\n\n      // Chrome and Safari both have issues with autoplay.\n      // In Safari (5.1.1), when we move the video element into the container div, autoplay doesn't work.\n      // In Chrome (15), if you have autoplay + a poster + no controls, the video gets hidden (but audio plays)\n      // This fixes both issues. Need to wait for API, so it updates displays correctly\n      if (this.src() && this.tag && this.options_.autoplay && this.paused()) {\n        try {\n          delete this.tag.poster; // Chrome Fix. Fixed in Chrome v16.\n        } catch (e) {\n          _utilsLogJs2['default']('deleting tag.poster throws in some browsers', e);\n        }\n        this.play();\n      }\n    };\n\n    /**\n     * Fired when the user agent begins looking for media data\n     *\n     * @private\n     * @method handleTechLoadStart_\n     */\n\n    Player.prototype.handleTechLoadStart_ = function handleTechLoadStart_() {\n      // TODO: Update to use `emptied` event instead. See #1277.\n\n      this.removeClass('vjs-ended');\n\n      // reset the error state\n      this.error(null);\n\n      // If it's already playing we want to trigger a firstplay event now.\n      // The firstplay event relies on both the play and loadstart events\n      // which can happen in any order for a new source\n      if (!this.paused()) {\n        this.trigger('loadstart');\n        this.trigger('firstplay');\n      } else {\n        // reset the hasStarted state\n        this.hasStarted(false);\n        this.trigger('loadstart');\n      }\n    };\n\n    /**\n     * Add/remove the vjs-has-started class\n     *\n     * @param {Boolean} hasStarted The value of true adds the class the value of false remove the class\n     * @return {Boolean} Boolean value if has started\n     * @private\n     * @method hasStarted\n     */\n\n    Player.prototype.hasStarted = function hasStarted(_hasStarted) {\n      if (_hasStarted !== undefined) {\n        // only update if this is a new value\n        if (this.hasStarted_ !== _hasStarted) {\n          this.hasStarted_ = _hasStarted;\n          if (_hasStarted) {\n            this.addClass('vjs-has-started');\n            // trigger the firstplay event if this newly has played\n            this.trigger('firstplay');\n          } else {\n            this.removeClass('vjs-has-started');\n          }\n        }\n        return this;\n      }\n      return !!this.hasStarted_;\n    };\n\n    /**\n     * Fired whenever the media begins or resumes playback\n     *\n     * @private\n     * @method handleTechPlay_\n     */\n\n    Player.prototype.handleTechPlay_ = function handleTechPlay_() {\n      this.removeClass('vjs-ended');\n      this.removeClass('vjs-paused');\n      this.addClass('vjs-playing');\n\n      // hide the poster when the user hits play\n      // https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-play\n      this.hasStarted(true);\n\n      this.trigger('play');\n    };\n\n    /**\n     * Fired whenever the media begins waiting\n     *\n     * @private\n     * @method handleTechWaiting_\n     */\n\n    Player.prototype.handleTechWaiting_ = function handleTechWaiting_() {\n      var _this2 = this;\n\n      this.addClass('vjs-waiting');\n      this.trigger('waiting');\n      this.one('timeupdate', function () {\n        return _this2.removeClass('vjs-waiting');\n      });\n    };\n\n    /**\n     * A handler for events that signal that waiting has ended\n     * which is not consistent between browsers. See #1351\n     *\n     * @private\n     * @method handleTechCanPlay_\n     */\n\n    Player.prototype.handleTechCanPlay_ = function handleTechCanPlay_() {\n      this.removeClass('vjs-waiting');\n      this.trigger('canplay');\n    };\n\n    /**\n     * A handler for events that signal that waiting has ended\n     * which is not consistent between browsers. See #1351\n     *\n     * @private\n     * @method handleTechCanPlayThrough_\n     */\n\n    Player.prototype.handleTechCanPlayThrough_ = function handleTechCanPlayThrough_() {\n      this.removeClass('vjs-waiting');\n      this.trigger('canplaythrough');\n    };\n\n    /**\n     * A handler for events that signal that waiting has ended\n     * which is not consistent between browsers. See #1351\n     *\n     * @private\n     * @method handleTechPlaying_\n     */\n\n    Player.prototype.handleTechPlaying_ = function handleTechPlaying_() {\n      this.removeClass('vjs-waiting');\n      this.trigger('playing');\n    };\n\n    /**\n     * Fired whenever the player is jumping to a new time\n     *\n     * @private\n     * @method handleTechSeeking_\n     */\n\n    Player.prototype.handleTechSeeking_ = function handleTechSeeking_() {\n      this.addClass('vjs-seeking');\n      this.trigger('seeking');\n    };\n\n    /**\n     * Fired when the player has finished jumping to a new time\n     *\n     * @private\n     * @method handleTechSeeked_\n     */\n\n    Player.prototype.handleTechSeeked_ = function handleTechSeeked_() {\n      this.removeClass('vjs-seeking');\n      this.trigger('seeked');\n    };\n\n    /**\n     * Fired the first time a video is played\n     * Not part of the HLS spec, and we're not sure if this is the best\n     * implementation yet, so use sparingly. If you don't have a reason to\n     * prevent playback, use `myPlayer.one('play');` instead.\n     *\n     * @private\n     * @method handleTechFirstPlay_\n     */\n\n    Player.prototype.handleTechFirstPlay_ = function handleTechFirstPlay_() {\n      //If the first starttime attribute is specified\n      //then we will start at the given offset in seconds\n      if (this.options_.starttime) {\n        this.currentTime(this.options_.starttime);\n      }\n\n      this.addClass('vjs-has-started');\n      this.trigger('firstplay');\n    };\n\n    /**\n     * Fired whenever the media has been paused\n     *\n     * @private\n     * @method handleTechPause_\n     */\n\n    Player.prototype.handleTechPause_ = function handleTechPause_() {\n      this.removeClass('vjs-playing');\n      this.addClass('vjs-paused');\n      this.trigger('pause');\n    };\n\n    /**\n     * Fired while the user agent is downloading media data\n     *\n     * @private\n     * @method handleTechProgress_\n     */\n\n    Player.prototype.handleTechProgress_ = function handleTechProgress_() {\n      this.trigger('progress');\n    };\n\n    /**\n     * Fired when the end of the media resource is reached (currentTime == duration)\n     *\n     * @private\n     * @method handleTechEnded_\n     */\n\n    Player.prototype.handleTechEnded_ = function handleTechEnded_() {\n      this.addClass('vjs-ended');\n      if (this.options_.loop) {\n        this.currentTime(0);\n        this.play();\n      } else if (!this.paused()) {\n        this.pause();\n      }\n\n      this.trigger('ended');\n    };\n\n    /**\n     * Fired when the duration of the media resource is first known or changed\n     *\n     * @private\n     * @method handleTechDurationChange_\n     */\n\n    Player.prototype.handleTechDurationChange_ = function handleTechDurationChange_() {\n      this.duration(this.techGet_('duration'));\n    };\n\n    /**\n     * Handle a click on the media element to play/pause\n     *\n     * @param {Object=} event Event object\n     * @private\n     * @method handleTechClick_\n     */\n\n    Player.prototype.handleTechClick_ = function handleTechClick_(event) {\n      // We're using mousedown to detect clicks thanks to Flash, but mousedown\n      // will also be triggered with right-clicks, so we need to prevent that\n      if (event.button !== 0) return;\n\n      // When controls are disabled a click should not toggle playback because\n      // the click is considered a control\n      if (this.controls()) {\n        if (this.paused()) {\n          this.play();\n        } else {\n          this.pause();\n        }\n      }\n    };\n\n    /**\n     * Handle a tap on the media element. It will toggle the user\n     * activity state, which hides and shows the controls.\n     *\n     * @private\n     * @method handleTechTap_\n     */\n\n    Player.prototype.handleTechTap_ = function handleTechTap_() {\n      this.userActive(!this.userActive());\n    };\n\n    /**\n     * Handle touch to start\n     *\n     * @private\n     * @method handleTechTouchStart_\n     */\n\n    Player.prototype.handleTechTouchStart_ = function handleTechTouchStart_() {\n      this.userWasActive = this.userActive();\n    };\n\n    /**\n     * Handle touch to move\n     *\n     * @private\n     * @method handleTechTouchMove_\n     */\n\n    Player.prototype.handleTechTouchMove_ = function handleTechTouchMove_() {\n      if (this.userWasActive) {\n        this.reportUserActivity();\n      }\n    };\n\n    /**\n     * Handle touch to end\n     *\n     * @private\n     * @method handleTechTouchEnd_\n     */\n\n    Player.prototype.handleTechTouchEnd_ = function handleTechTouchEnd_(event) {\n      // Stop the mouse events from also happening\n      event.preventDefault();\n    };\n\n    /**\n     * Fired when the player switches in or out of fullscreen mode\n     *\n     * @private\n     * @method handleFullscreenChange_\n     */\n\n    Player.prototype.handleFullscreenChange_ = function handleFullscreenChange_() {\n      if (this.isFullscreen()) {\n        this.addClass('vjs-fullscreen');\n      } else {\n        this.removeClass('vjs-fullscreen');\n      }\n    };\n\n    /**\n     * native click events on the SWF aren't triggered on IE11, Win8.1RT\n     * use stageclick events triggered from inside the SWF instead\n     *\n     * @private\n     * @method handleStageClick_\n     */\n\n    Player.prototype.handleStageClick_ = function handleStageClick_() {\n      this.reportUserActivity();\n    };\n\n    /**\n     * Handle Tech Fullscreen Change\n     *\n     * @private\n     * @method handleTechFullscreenChange_\n     */\n\n    Player.prototype.handleTechFullscreenChange_ = function handleTechFullscreenChange_(event, data) {\n      if (data) {\n        this.isFullscreen(data.isFullscreen);\n      }\n      this.trigger('fullscreenchange');\n    };\n\n    /**\n     * Fires when an error occurred during the loading of an audio/video\n     *\n     * @private\n     * @method handleTechError_\n     */\n\n    Player.prototype.handleTechError_ = function handleTechError_() {\n      var error = this.tech_.error();\n      this.error(error && error.code);\n    };\n\n    /**\n     * Fires when the browser is intentionally not getting media data\n     *\n     * @private\n     * @method handleTechSuspend_\n     */\n\n    Player.prototype.handleTechSuspend_ = function handleTechSuspend_() {\n      this.trigger('suspend');\n    };\n\n    /**\n     * Fires when the loading of an audio/video is aborted\n     *\n     * @private\n     * @method handleTechAbort_\n     */\n\n    Player.prototype.handleTechAbort_ = function handleTechAbort_() {\n      this.trigger('abort');\n    };\n\n    /**\n     * Fires when the current playlist is empty\n     *\n     * @private\n     * @method handleTechEmptied_\n     */\n\n    Player.prototype.handleTechEmptied_ = function handleTechEmptied_() {\n      this.trigger('emptied');\n    };\n\n    /**\n     * Fires when the browser is trying to get media data, but data is not available\n     *\n     * @private\n     * @method handleTechStalled_\n     */\n\n    Player.prototype.handleTechStalled_ = function handleTechStalled_() {\n      this.trigger('stalled');\n    };\n\n    /**\n     * Fires when the browser has loaded meta data for the audio/video\n     *\n     * @private\n     * @method handleTechLoadedMetaData_\n     */\n\n    Player.prototype.handleTechLoadedMetaData_ = function handleTechLoadedMetaData_() {\n      this.trigger('loadedmetadata');\n    };\n\n    /**\n     * Fires when the browser has loaded the current frame of the audio/video\n     *\n     * @private\n     * @method handleTechLoadedData_\n     */\n\n    Player.prototype.handleTechLoadedData_ = function handleTechLoadedData_() {\n      this.trigger('loadeddata');\n    };\n\n    /**\n     * Fires when the current playback position has changed\n     *\n     * @private\n     * @method handleTechTimeUpdate_\n     */\n\n    Player.prototype.handleTechTimeUpdate_ = function handleTechTimeUpdate_() {\n      this.trigger('timeupdate');\n    };\n\n    /**\n     * Fires when the playing speed of the audio/video is changed\n     *\n     * @private\n     * @method handleTechRateChange_\n     */\n\n    Player.prototype.handleTechRateChange_ = function handleTechRateChange_() {\n      this.trigger('ratechange');\n    };\n\n    /**\n     * Fires when the volume has been changed\n     *\n     * @private\n     * @method handleTechVolumeChange_\n     */\n\n    Player.prototype.handleTechVolumeChange_ = function handleTechVolumeChange_() {\n      this.trigger('volumechange');\n    };\n\n    /**\n     * Fires when the text track has been changed\n     *\n     * @private\n     * @method handleTechTextTrackChange_\n     */\n\n    Player.prototype.handleTechTextTrackChange_ = function handleTechTextTrackChange_() {\n      this.trigger('texttrackchange');\n    };\n\n    /**\n     * Get object for cached values.\n     *\n     * @return {Object}\n     * @method getCache\n     */\n\n    Player.prototype.getCache = function getCache() {\n      return this.cache_;\n    };\n\n    /**\n     * Pass values to the playback tech\n     *\n     * @param {String=} method Method\n     * @param {Object=} arg Argument\n     * @private\n     * @method techCall_\n     */\n\n    Player.prototype.techCall_ = function techCall_(method, arg) {\n      // If it's not ready yet, call method when it is\n      if (this.tech_ && !this.tech_.isReady_) {\n        this.tech_.ready(function () {\n          this[method](arg);\n        }, true);\n\n        // Otherwise call method now\n      } else {\n        try {\n          this.tech_[method](arg);\n        } catch (e) {\n          _utilsLogJs2['default'](e);\n          throw e;\n        }\n      }\n    };\n\n    /**\n     * Get calls can't wait for the tech, and sometimes don't need to.\n     *\n     * @param {String} method Tech method\n     * @return {Method}\n     * @private\n     * @method techGet_\n     */\n\n    Player.prototype.techGet_ = function techGet_(method) {\n      if (this.tech_ && this.tech_.isReady_) {\n\n        // Flash likes to die and reload when you hide or reposition it.\n        // In these cases the object methods go away and we get errors.\n        // When that happens we'll catch the errors and inform tech that it's not ready any more.\n        try {\n          return this.tech_[method]();\n        } catch (e) {\n          // When building additional tech libs, an expected method may not be defined yet\n          if (this.tech_[method] === undefined) {\n            _utilsLogJs2['default']('Video.js: ' + method + ' method not defined for ' + this.techName_ + ' playback technology.', e);\n          } else {\n            // When a method isn't available on the object it throws a TypeError\n            if (e.name === 'TypeError') {\n              _utilsLogJs2['default']('Video.js: ' + method + ' unavailable on ' + this.techName_ + ' playback technology element.', e);\n              this.tech_.isReady_ = false;\n            } else {\n              _utilsLogJs2['default'](e);\n            }\n          }\n          throw e;\n        }\n      }\n\n      return;\n    };\n\n    /**\n     * start media playback\n     * ```js\n     *     myPlayer.play();\n     * ```\n     *\n     * @return {Player} self\n     * @method play\n     */\n\n    Player.prototype.play = function play() {\n      this.techCall_('play');\n      return this;\n    };\n\n    /**\n     * Pause the video playback\n     * ```js\n     *     myPlayer.pause();\n     * ```\n     *\n     * @return {Player} self\n     * @method pause\n     */\n\n    Player.prototype.pause = function pause() {\n      this.techCall_('pause');\n      return this;\n    };\n\n    /**\n     * Check if the player is paused\n     * ```js\n     *     var isPaused = myPlayer.paused();\n     *     var isPlaying = !myPlayer.paused();\n     * ```\n     *\n     * @return {Boolean} false if the media is currently playing, or true otherwise\n     * @method paused\n     */\n\n    Player.prototype.paused = function paused() {\n      // The initial state of paused should be true (in Safari it's actually false)\n      return this.techGet_('paused') === false ? false : true;\n    };\n\n    /**\n     * Returns whether or not the user is \"scrubbing\". Scrubbing is when the user\n     * has clicked the progress bar handle and is dragging it along the progress bar.\n     *\n     * @param  {Boolean} isScrubbing   True/false the user is scrubbing\n     * @return {Boolean}               The scrubbing status when getting\n     * @return {Object}                The player when setting\n     * @method scrubbing\n     */\n\n    Player.prototype.scrubbing = function scrubbing(isScrubbing) {\n      if (isScrubbing !== undefined) {\n        this.scrubbing_ = !!isScrubbing;\n\n        if (isScrubbing) {\n          this.addClass('vjs-scrubbing');\n        } else {\n          this.removeClass('vjs-scrubbing');\n        }\n\n        return this;\n      }\n\n      return this.scrubbing_;\n    };\n\n    /**\n     * Get or set the current time (in seconds)\n     * ```js\n     *     // get\n     *     var whereYouAt = myPlayer.currentTime();\n     *     // set\n     *     myPlayer.currentTime(120); // 2 minutes into the video\n     * ```\n     *\n     * @param  {Number|String=} seconds The time to seek to\n     * @return {Number}        The time in seconds, when not setting\n     * @return {Player}    self, when the current time is set\n     * @method currentTime\n     */\n\n    Player.prototype.currentTime = function currentTime(seconds) {\n      if (seconds !== undefined) {\n\n        this.techCall_('setCurrentTime', seconds);\n\n        return this;\n      }\n\n      // cache last currentTime and return. default to 0 seconds\n      //\n      // Caching the currentTime is meant to prevent a massive amount of reads on the tech's\n      // currentTime when scrubbing, but may not provide much performance benefit afterall.\n      // Should be tested. Also something has to read the actual current time or the cache will\n      // never get updated.\n      return this.cache_.currentTime = this.techGet_('currentTime') || 0;\n    };\n\n    /**\n     * Get the length in time of the video in seconds\n     * ```js\n     *     var lengthOfVideo = myPlayer.duration();\n     * ```\n     * **NOTE**: The video must have started loading before the duration can be\n     * known, and in the case of Flash, may not be known until the video starts\n     * playing.\n     *\n     * @param {Number} seconds Duration when setting\n     * @return {Number} The duration of the video in seconds when getting\n     * @method duration\n     */\n\n    Player.prototype.duration = function duration(seconds) {\n      if (seconds === undefined) {\n        return this.cache_.duration || 0;\n      }\n\n      seconds = parseFloat(seconds) || 0;\n\n      // Standardize on Inifity for signaling video is live\n      if (seconds < 0) {\n        seconds = Infinity;\n      }\n\n      if (seconds !== this.cache_.duration) {\n        // Cache the last set value for optimized scrubbing (esp. Flash)\n        this.cache_.duration = seconds;\n\n        if (seconds === Infinity) {\n          this.addClass('vjs-live');\n        } else {\n          this.removeClass('vjs-live');\n        }\n\n        this.trigger('durationchange');\n      }\n\n      return this;\n    };\n\n    /**\n     * Calculates how much time is left.\n     * ```js\n     *     var timeLeft = myPlayer.remainingTime();\n     * ```\n     * Not a native video element function, but useful\n     *\n     * @return {Number} The time remaining in seconds\n     * @method remainingTime\n     */\n\n    Player.prototype.remainingTime = function remainingTime() {\n      return this.duration() - this.currentTime();\n    };\n\n    // http://dev.w3.org/html5/spec/video.html#dom-media-buffered\n    // Buffered returns a timerange object.\n    // Kind of like an array of portions of the video that have been downloaded.\n\n    /**\n     * Get a TimeRange object with the times of the video that have been downloaded\n     * If you just want the percent of the video that's been downloaded,\n     * use bufferedPercent.\n     * ```js\n     *     // Number of different ranges of time have been buffered. Usually 1.\n     *     numberOfRanges = bufferedTimeRange.length,\n     *     // Time in seconds when the first range starts. Usually 0.\n     *     firstRangeStart = bufferedTimeRange.start(0),\n     *     // Time in seconds when the first range ends\n     *     firstRangeEnd = bufferedTimeRange.end(0),\n     *     // Length in seconds of the first time range\n     *     firstRangeLength = firstRangeEnd - firstRangeStart;\n     * ```\n     *\n     * @return {Object} A mock TimeRange object (following HTML spec)\n     * @method buffered\n     */\n\n    Player.prototype.buffered = function buffered() {\n      var buffered = this.techGet_('buffered');\n\n      if (!buffered || !buffered.length) {\n        buffered = _utilsTimeRangesJs.createTimeRange(0, 0);\n      }\n\n      return buffered;\n    };\n\n    /**\n     * Get the percent (as a decimal) of the video that's been downloaded\n     * ```js\n     *     var howMuchIsDownloaded = myPlayer.bufferedPercent();\n     * ```\n     * 0 means none, 1 means all.\n     * (This method isn't in the HTML5 spec, but it's very convenient)\n     *\n     * @return {Number} A decimal between 0 and 1 representing the percent\n     * @method bufferedPercent\n     */\n\n    Player.prototype.bufferedPercent = function bufferedPercent() {\n      return _utilsBufferJs.bufferedPercent(this.buffered(), this.duration());\n    };\n\n    /**\n     * Get the ending time of the last buffered time range\n     * This is used in the progress bar to encapsulate all time ranges.\n     *\n     * @return {Number} The end of the last buffered time range\n     * @method bufferedEnd\n     */\n\n    Player.prototype.bufferedEnd = function bufferedEnd() {\n      var buffered = this.buffered(),\n        duration = this.duration(),\n        end = buffered.end(buffered.length - 1);\n\n      if (end > duration) {\n        end = duration;\n      }\n\n      return end;\n    };\n\n    /**\n     * Get or set the current volume of the media\n     * ```js\n     *     // get\n     *     var howLoudIsIt = myPlayer.volume();\n     *     // set\n     *     myPlayer.volume(0.5); // Set volume to half\n     * ```\n     * 0 is off (muted), 1.0 is all the way up, 0.5 is half way.\n     *\n     * @param  {Number} percentAsDecimal The new volume as a decimal percent\n     * @return {Number}              The current volume when getting\n     * @return {Player}              self when setting\n     * @method volume\n     */\n\n    Player.prototype.volume = function volume(percentAsDecimal) {\n      var vol = undefined;\n\n      if (percentAsDecimal !== undefined) {\n        vol = Math.max(0, Math.min(1, parseFloat(percentAsDecimal))); // Force value to between 0 and 1\n        this.cache_.volume = vol;\n        this.techCall_('setVolume', vol);\n\n        return this;\n      }\n\n      // Default to 1 when returning current volume.\n      vol = parseFloat(this.techGet_('volume'));\n      return isNaN(vol) ? 1 : vol;\n    };\n\n    /**\n     * Get the current muted state, or turn mute on or off\n     * ```js\n     *     // get\n     *     var isVolumeMuted = myPlayer.muted();\n     *     // set\n     *     myPlayer.muted(true); // mute the volume\n     * ```\n     *\n     * @param  {Boolean=} muted True to mute, false to unmute\n     * @return {Boolean} True if mute is on, false if not when getting\n     * @return {Player} self when setting mute\n     * @method muted\n     */\n\n    Player.prototype.muted = function muted(_muted) {\n      if (_muted !== undefined) {\n        this.techCall_('setMuted', _muted);\n        return this;\n      }\n      return this.techGet_('muted') || false; // Default to false\n    };\n\n    // Check if current tech can support native fullscreen\n    // (e.g. with built in controls like iOS, so not our flash swf)\n    /**\n     * Check to see if fullscreen is supported\n     *\n     * @return {Boolean}\n     * @method supportsFullScreen\n     */\n\n    Player.prototype.supportsFullScreen = function supportsFullScreen() {\n      return this.techGet_('supportsFullScreen') || false;\n    };\n\n    /**\n     * Check if the player is in fullscreen mode\n     * ```js\n     *     // get\n     *     var fullscreenOrNot = myPlayer.isFullscreen();\n     *     // set\n     *     myPlayer.isFullscreen(true); // tell the player it's in fullscreen\n     * ```\n     * NOTE: As of the latest HTML5 spec, isFullscreen is no longer an official\n     * property and instead document.fullscreenElement is used. But isFullscreen is\n     * still a valuable property for internal player workings.\n     *\n     * @param  {Boolean=} isFS Update the player's fullscreen state\n     * @return {Boolean} true if fullscreen false if not when getting\n     * @return {Player} self when setting\n     * @method isFullscreen\n     */\n\n    Player.prototype.isFullscreen = function isFullscreen(isFS) {\n      if (isFS !== undefined) {\n        this.isFullscreen_ = !!isFS;\n        return this;\n      }\n      return !!this.isFullscreen_;\n    };\n\n    /**\n     * Increase the size of the video to full screen\n     * ```js\n     *     myPlayer.requestFullscreen();\n     * ```\n     * In some browsers, full screen is not supported natively, so it enters\n     * \"full window mode\", where the video fills the browser window.\n     * In browsers and devices that support native full screen, sometimes the\n     * browser's default controls will be shown, and not the Video.js custom skin.\n     * This includes most mobile devices (iOS, Android) and older versions of\n     * Safari.\n     *\n     * @return {Player} self\n     * @method requestFullscreen\n     */\n\n    Player.prototype.requestFullscreen = function requestFullscreen() {\n      var fsApi = _fullscreenApiJs2['default'];\n\n      this.isFullscreen(true);\n\n      if (fsApi.requestFullscreen) {\n        // the browser supports going fullscreen at the element level so we can\n        // take the controls fullscreen as well as the video\n\n        // Trigger fullscreenchange event after change\n        // We have to specifically add this each time, and remove\n        // when canceling fullscreen. Otherwise if there's multiple\n        // players on a page, they would all be reacting to the same fullscreen\n        // events\n        Events.on(_globalDocument2['default'], fsApi.fullscreenchange, Fn.bind(this, function documentFullscreenChange(e) {\n          this.isFullscreen(_globalDocument2['default'][fsApi.fullscreenElement]);\n\n          // If cancelling fullscreen, remove event listener.\n          if (this.isFullscreen() === false) {\n            Events.off(_globalDocument2['default'], fsApi.fullscreenchange, documentFullscreenChange);\n          }\n\n          this.trigger('fullscreenchange');\n        }));\n\n        this.el_[fsApi.requestFullscreen]();\n      } else if (this.tech_.supportsFullScreen()) {\n        // we can't take the video.js controls fullscreen but we can go fullscreen\n        // with native controls\n        this.techCall_('enterFullScreen');\n      } else {\n        // fullscreen isn't supported so we'll just stretch the video element to\n        // fill the viewport\n        this.enterFullWindow();\n        this.trigger('fullscreenchange');\n      }\n\n      return this;\n    };\n\n    /**\n     * Return the video to its normal size after having been in full screen mode\n     * ```js\n     *     myPlayer.exitFullscreen();\n     * ```\n     *\n     * @return {Player} self\n     * @method exitFullscreen\n     */\n\n    Player.prototype.exitFullscreen = function exitFullscreen() {\n      var fsApi = _fullscreenApiJs2['default'];\n      this.isFullscreen(false);\n\n      // Check for browser element fullscreen support\n      if (fsApi.requestFullscreen) {\n        _globalDocument2['default'][fsApi.exitFullscreen]();\n      } else if (this.tech_.supportsFullScreen()) {\n        this.techCall_('exitFullScreen');\n      } else {\n        this.exitFullWindow();\n        this.trigger('fullscreenchange');\n      }\n\n      return this;\n    };\n\n    /**\n     * When fullscreen isn't supported we can stretch the video container to as wide as the browser will let us.\n     *\n     * @method enterFullWindow\n     */\n\n    Player.prototype.enterFullWindow = function enterFullWindow() {\n      this.isFullWindow = true;\n\n      // Storing original doc overflow value to return to when fullscreen is off\n      this.docOrigOverflow = _globalDocument2['default'].documentElement.style.overflow;\n\n      // Add listener for esc key to exit fullscreen\n      Events.on(_globalDocument2['default'], 'keydown', Fn.bind(this, this.fullWindowOnEscKey));\n\n      // Hide any scroll bars\n      _globalDocument2['default'].documentElement.style.overflow = 'hidden';\n\n      // Apply fullscreen styles\n      Dom.addElClass(_globalDocument2['default'].body, 'vjs-full-window');\n\n      this.trigger('enterFullWindow');\n    };\n\n    /**\n     * Check for call to either exit full window or full screen on ESC key\n     *\n     * @param {String} event Event to check for key press\n     * @method fullWindowOnEscKey\n     */\n\n    Player.prototype.fullWindowOnEscKey = function fullWindowOnEscKey(event) {\n      if (event.keyCode === 27) {\n        if (this.isFullscreen() === true) {\n          this.exitFullscreen();\n        } else {\n          this.exitFullWindow();\n        }\n      }\n    };\n\n    /**\n     * Exit full window\n     *\n     * @method exitFullWindow\n     */\n\n    Player.prototype.exitFullWindow = function exitFullWindow() {\n      this.isFullWindow = false;\n      Events.off(_globalDocument2['default'], 'keydown', this.fullWindowOnEscKey);\n\n      // Unhide scroll bars.\n      _globalDocument2['default'].documentElement.style.overflow = this.docOrigOverflow;\n\n      // Remove fullscreen styles\n      Dom.removeElClass(_globalDocument2['default'].body, 'vjs-full-window');\n\n      // Resize the box, controller, and poster to original sizes\n      // this.positionAll();\n      this.trigger('exitFullWindow');\n    };\n\n    /**\n     * Check whether the player can play a given mimetype\n     *\n     * @param {String} type The mimetype to check\n     * @return {String} 'probably', 'maybe', or '' (empty string)\n     * @method canPlayType\n     */\n\n    Player.prototype.canPlayType = function canPlayType(type) {\n      var can = undefined;\n\n      // Loop through each playback technology in the options order\n      for (var i = 0, j = this.options_.techOrder; i < j.length; i++) {\n        var techName = _utilsToTitleCaseJs2['default'](j[i]);\n        var tech = _techTechJs2['default'].getTech(techName);\n\n        // Support old behavior of techs being registered as components.\n        // Remove once that deprecated behavior is removed.\n        if (!tech) {\n          tech = _componentJs2['default'].getComponent(techName);\n        }\n\n        // Check if the current tech is defined before continuing\n        if (!tech) {\n          _utilsLogJs2['default'].error('The \"' + techName + '\" tech is undefined. Skipped browser support check for that tech.');\n          continue;\n        }\n\n        // Check if the browser supports this technology\n        if (tech.isSupported()) {\n          can = tech.canPlayType(type);\n\n          if (can) {\n            return can;\n          }\n        }\n      }\n\n      return '';\n    };\n\n    /**\n     * Select source based on tech-order or source-order\n     * Uses source-order selection if `options.sourceOrder` is truthy. Otherwise,\n     * defaults to tech-order selection\n     *\n     * @param {Array} sources The sources for a media asset\n     * @return {Object|Boolean} Object of source and tech order, otherwise false\n     * @method selectSource\n     */\n\n    Player.prototype.selectSource = function selectSource(sources) {\n      // Get only the techs specified in `techOrder` that exist and are supported by the\n      // current platform\n      var techs = this.options_.techOrder.map(_utilsToTitleCaseJs2['default']).map(function (techName) {\n        // `Component.getComponent(...)` is for support of old behavior of techs\n        // being registered as components.\n        // Remove once that deprecated behavior is removed.\n        return [techName, _techTechJs2['default'].getTech(techName) || _componentJs2['default'].getComponent(techName)];\n      }).filter(function (_ref) {\n        var techName = _ref[0];\n        var tech = _ref[1];\n\n        // Check if the current tech is defined before continuing\n        if (tech) {\n          // Check if the browser supports this technology\n          return tech.isSupported();\n        }\n\n        _utilsLogJs2['default'].error('The \"' + techName + '\" tech is undefined. Skipped browser support check for that tech.');\n        return false;\n      });\n\n      // Iterate over each `innerArray` element once per `outerArray` element and execute\n      // `tester` with both. If `tester` returns a non-falsy value, exit early and return\n      // that value.\n      var findFirstPassingTechSourcePair = function findFirstPassingTechSourcePair(outerArray, innerArray, tester) {\n        var found = undefined;\n\n        outerArray.some(function (outerChoice) {\n          return innerArray.some(function (innerChoice) {\n            found = tester(outerChoice, innerChoice);\n\n            if (found) {\n              return true;\n            }\n          });\n        });\n\n        return found;\n      };\n\n      var foundSourceAndTech = undefined;\n      var flip = function flip(fn) {\n        return function (a, b) {\n          return fn(b, a);\n        };\n      };\n      var finder = function finder(_ref2, source) {\n        var techName = _ref2[0];\n        var tech = _ref2[1];\n\n        if (tech.canPlaySource(source)) {\n          return { source: source, tech: techName };\n        }\n      };\n\n      // Depending on the truthiness of `options.sourceOrder`, we swap the order of techs and sources\n      // to select from them based on their priority.\n      if (this.options_.sourceOrder) {\n        // Source-first ordering\n        foundSourceAndTech = findFirstPassingTechSourcePair(sources, techs, flip(finder));\n      } else {\n        // Tech-first ordering\n        foundSourceAndTech = findFirstPassingTechSourcePair(techs, sources, finder);\n      }\n\n      return foundSourceAndTech || false;\n    };\n\n    /**\n     * The source function updates the video source\n     * There are three types of variables you can pass as the argument.\n     * **URL String**: A URL to the the video file. Use this method if you are sure\n     * the current playback technology (HTML5/Flash) can support the source you\n     * provide. Currently only MP4 files can be used in both HTML5 and Flash.\n     * ```js\n     *     myPlayer.src(\"http://www.example.com/path/to/video.mp4\");\n     * ```\n     * **Source Object (or element):* * A javascript object containing information\n     * about the source file. Use this method if you want the player to determine if\n     * it can support the file using the type information.\n     * ```js\n     *     myPlayer.src({ type: \"video/mp4\", src: \"http://www.example.com/path/to/video.mp4\" });\n     * ```\n     * **Array of Source Objects:* * To provide multiple versions of the source so\n     * that it can be played using HTML5 across browsers you can use an array of\n     * source objects. Video.js will detect which version is supported and load that\n     * file.\n     * ```js\n     *     myPlayer.src([\n     *       { type: \"video/mp4\", src: \"http://www.example.com/path/to/video.mp4\" },\n     *       { type: \"video/webm\", src: \"http://www.example.com/path/to/video.webm\" },\n     *       { type: \"video/ogg\", src: \"http://www.example.com/path/to/video.ogv\" }\n     *     ]);\n     * ```\n     *\n     * @param  {String|Object|Array=} source The source URL, object, or array of sources\n     * @return {String} The current video source when getting\n     * @return {String} The player when setting\n     * @method src\n     */\n\n    Player.prototype.src = function src(source) {\n      if (source === undefined) {\n        return this.techGet_('src');\n      }\n\n      var currentTech = _techTechJs2['default'].getTech(this.techName_);\n      // Support old behavior of techs being registered as components.\n      // Remove once that deprecated behavior is removed.\n      if (!currentTech) {\n        currentTech = _componentJs2['default'].getComponent(this.techName_);\n      }\n\n      // case: Array of source objects to choose from and pick the best to play\n      if (Array.isArray(source)) {\n        this.sourceList_(source);\n\n        // case: URL String (http://myvideo...)\n      } else if (typeof source === 'string') {\n        // create a source object from the string\n        this.src({ src: source });\n\n        // case: Source object { src: '', type: '' ... }\n      } else if (source instanceof Object) {\n        // check if the source has a type and the loaded tech cannot play the source\n        // if there's no type we'll just try the current tech\n        if (source.type && !currentTech.canPlaySource(source)) {\n          // create a source list with the current source and send through\n          // the tech loop to check for a compatible technology\n          this.sourceList_([source]);\n        } else {\n          this.cache_.src = source.src;\n          this.currentType_ = source.type || '';\n\n          // wait until the tech is ready to set the source\n          this.ready(function () {\n\n            // The setSource tech method was added with source handlers\n            // so older techs won't support it\n            // We need to check the direct prototype for the case where subclasses\n            // of the tech do not support source handlers\n            if (currentTech.prototype.hasOwnProperty('setSource')) {\n              this.techCall_('setSource', source);\n            } else {\n              this.techCall_('src', source.src);\n            }\n\n            if (this.options_.preload === 'auto') {\n              this.load();\n            }\n\n            if (this.options_.autoplay) {\n              this.play();\n            }\n\n            // Set the source synchronously if possible (#2326)\n          }, true);\n        }\n      }\n\n      return this;\n    };\n\n    /**\n     * Handle an array of source objects\n     *\n     * @param  {Array} sources Array of source objects\n     * @private\n     * @method sourceList_\n     */\n\n    Player.prototype.sourceList_ = function sourceList_(sources) {\n      var sourceTech = this.selectSource(sources);\n\n      if (sourceTech) {\n        if (sourceTech.tech === this.techName_) {\n          // if this technology is already loaded, set the source\n          this.src(sourceTech.source);\n        } else {\n          // load this technology with the chosen source\n          this.loadTech_(sourceTech.tech, sourceTech.source);\n        }\n      } else {\n        // We need to wrap this in a timeout to give folks a chance to add error event handlers\n        this.setTimeout(function () {\n          this.error({ code: 4, message: this.localize(this.options_.notSupportedMessage) });\n        }, 0);\n\n        // we could not find an appropriate tech, but let's still notify the delegate that this is it\n        // this needs a better comment about why this is needed\n        this.triggerReady();\n      }\n    };\n\n    /**\n     * Begin loading the src data.\n     *\n     * @return {Player} Returns the player\n     * @method load\n     */\n\n    Player.prototype.load = function load() {\n      this.techCall_('load');\n      return this;\n    };\n\n    /**\n     * Reset the player. Loads the first tech in the techOrder,\n     * and calls `reset` on the tech`.\n     *\n     * @return {Player} Returns the player\n     * @method reset\n     */\n\n    Player.prototype.reset = function reset() {\n      this.loadTech_(_utilsToTitleCaseJs2['default'](this.options_.techOrder[0]), null);\n      this.techCall_('reset');\n      return this;\n    };\n\n    /**\n     * Returns the fully qualified URL of the current source value e.g. http://mysite.com/video.mp4\n     * Can be used in conjuction with `currentType` to assist in rebuilding the current source object.\n     *\n     * @return {String} The current source\n     * @method currentSrc\n     */\n\n    Player.prototype.currentSrc = function currentSrc() {\n      return this.techGet_('currentSrc') || this.cache_.src || '';\n    };\n\n    /**\n     * Get the current source type e.g. video/mp4\n     * This can allow you rebuild the current source object so that you could load the same\n     * source and tech later\n     *\n     * @return {String} The source MIME type\n     * @method currentType\n     */\n\n    Player.prototype.currentType = function currentType() {\n      return this.currentType_ || '';\n    };\n\n    /**\n     * Get or set the preload attribute\n     *\n     * @param {Boolean} value Boolean to determine if preload should be used\n     * @return {String} The preload attribute value when getting\n     * @return {Player} Returns the player when setting\n     * @method preload\n     */\n\n    Player.prototype.preload = function preload(value) {\n      if (value !== undefined) {\n        this.techCall_('setPreload', value);\n        this.options_.preload = value;\n        return this;\n      }\n      return this.techGet_('preload');\n    };\n\n    /**\n     * Get or set the autoplay attribute.\n     *\n     * @param {Boolean} value Boolean to determine if video should autoplay\n     * @return {String} The autoplay attribute value when getting\n     * @return {Player} Returns the player when setting\n     * @method autoplay\n     */\n\n    Player.prototype.autoplay = function autoplay(value) {\n      if (value !== undefined) {\n        this.techCall_('setAutoplay', value);\n        this.options_.autoplay = value;\n        return this;\n      }\n      return this.techGet_('autoplay', value);\n    };\n\n    /**\n     * Get or set the loop attribute on the video element.\n     *\n     * @param {Boolean} value Boolean to determine if video should loop\n     * @return {String} The loop attribute value when getting\n     * @return {Player} Returns the player when setting\n     * @method loop\n     */\n\n    Player.prototype.loop = function loop(value) {\n      if (value !== undefined) {\n        this.techCall_('setLoop', value);\n        this.options_['loop'] = value;\n        return this;\n      }\n      return this.techGet_('loop');\n    };\n\n    /**\n     * Get or set the poster image source url\n     *\n     * ##### EXAMPLE:\n     * ```js\n     *     // get\n     *     var currentPoster = myPlayer.poster();\n     *     // set\n     *     myPlayer.poster('http://example.com/myImage.jpg');\n     * ```\n     *\n     * @param  {String=} src Poster image source URL\n     * @return {String} poster URL when getting\n     * @return {Player} self when setting\n     * @method poster\n     */\n\n    Player.prototype.poster = function poster(src) {\n      if (src === undefined) {\n        return this.poster_;\n      }\n\n      // The correct way to remove a poster is to set as an empty string\n      // other falsey values will throw errors\n      if (!src) {\n        src = '';\n      }\n\n      // update the internal poster variable\n      this.poster_ = src;\n\n      // update the tech's poster\n      this.techCall_('setPoster', src);\n\n      // alert components that the poster has been set\n      this.trigger('posterchange');\n\n      return this;\n    };\n\n    /**\n     * Some techs (e.g. YouTube) can provide a poster source in an\n     * asynchronous way. We want the poster component to use this\n     * poster source so that it covers up the tech's controls.\n     * (YouTube's play button). However we only want to use this\n     * soruce if the player user hasn't set a poster through\n     * the normal APIs.\n     *\n     * @private\n     * @method handleTechPosterChange_\n     */\n\n    Player.prototype.handleTechPosterChange_ = function handleTechPosterChange_() {\n      if (!this.poster_ && this.tech_ && this.tech_.poster) {\n        this.poster_ = this.tech_.poster() || '';\n\n        // Let components know the poster has changed\n        this.trigger('posterchange');\n      }\n    };\n\n    /**\n     * Get or set whether or not the controls are showing.\n     *\n     * @param  {Boolean} bool Set controls to showing or not\n     * @return {Boolean}    Controls are showing\n     * @method controls\n     */\n\n    Player.prototype.controls = function controls(bool) {\n      if (bool !== undefined) {\n        bool = !!bool; // force boolean\n        // Don't trigger a change event unless it actually changed\n        if (this.controls_ !== bool) {\n          this.controls_ = bool;\n\n          if (this.usingNativeControls()) {\n            this.techCall_('setControls', bool);\n          }\n\n          if (bool) {\n            this.removeClass('vjs-controls-disabled');\n            this.addClass('vjs-controls-enabled');\n            this.trigger('controlsenabled');\n\n            if (!this.usingNativeControls()) {\n              this.addTechControlsListeners_();\n            }\n          } else {\n            this.removeClass('vjs-controls-enabled');\n            this.addClass('vjs-controls-disabled');\n            this.trigger('controlsdisabled');\n\n            if (!this.usingNativeControls()) {\n              this.removeTechControlsListeners_();\n            }\n          }\n        }\n        return this;\n      }\n      return !!this.controls_;\n    };\n\n    /**\n     * Toggle native controls on/off. Native controls are the controls built into\n     * devices (e.g. default iPhone controls), Flash, or other techs\n     * (e.g. Vimeo Controls)\n     * **This should only be set by the current tech, because only the tech knows\n     * if it can support native controls**\n     *\n     * @param  {Boolean} bool    True signals that native controls are on\n     * @return {Player}      Returns the player\n     * @private\n     * @method usingNativeControls\n     */\n\n    Player.prototype.usingNativeControls = function usingNativeControls(bool) {\n      if (bool !== undefined) {\n        bool = !!bool; // force boolean\n        // Don't trigger a change event unless it actually changed\n        if (this.usingNativeControls_ !== bool) {\n          this.usingNativeControls_ = bool;\n          if (bool) {\n            this.addClass('vjs-using-native-controls');\n\n            /**\n             * player is using the native device controls\n             *\n             * @event usingnativecontrols\n             * @memberof Player\n             * @instance\n             * @private\n             */\n            this.trigger('usingnativecontrols');\n          } else {\n            this.removeClass('vjs-using-native-controls');\n\n            /**\n             * player is using the custom HTML controls\n             *\n             * @event usingcustomcontrols\n             * @memberof Player\n             * @instance\n             * @private\n             */\n            this.trigger('usingcustomcontrols');\n          }\n        }\n        return this;\n      }\n      return !!this.usingNativeControls_;\n    };\n\n    /**\n     * Set or get the current MediaError\n     *\n     * @param  {*} err A MediaError or a String/Number to be turned into a MediaError\n     * @return {MediaError|null}     when getting\n     * @return {Player}              when setting\n     * @method error\n     */\n\n    Player.prototype.error = function error(err) {\n      if (err === undefined) {\n        return this.error_ || null;\n      }\n\n      // restoring to default\n      if (err === null) {\n        this.error_ = err;\n        this.removeClass('vjs-error');\n        this.errorDisplay.close();\n        return this;\n      }\n\n      // error instance\n      if (err instanceof _mediaErrorJs2['default']) {\n        this.error_ = err;\n      } else {\n        this.error_ = new _mediaErrorJs2['default'](err);\n      }\n\n      // add the vjs-error classname to the player\n      this.addClass('vjs-error');\n\n      // log the name of the error type and any message\n      // ie8 just logs \"[object object]\" if you just log the error object\n      _utilsLogJs2['default'].error('(CODE:' + this.error_.code + ' ' + _mediaErrorJs2['default'].errorTypes[this.error_.code] + ')', this.error_.message, this.error_);\n\n      // fire an error event on the player\n      this.trigger('error');\n\n      return this;\n    };\n\n    /**\n     * Returns whether or not the player is in the \"ended\" state.\n     *\n     * @return {Boolean} True if the player is in the ended state, false if not.\n     * @method ended\n     */\n\n    Player.prototype.ended = function ended() {\n      return this.techGet_('ended');\n    };\n\n    /**\n     * Returns whether or not the player is in the \"seeking\" state.\n     *\n     * @return {Boolean} True if the player is in the seeking state, false if not.\n     * @method seeking\n     */\n\n    Player.prototype.seeking = function seeking() {\n      return this.techGet_('seeking');\n    };\n\n    /**\n     * Returns the TimeRanges of the media that are currently available\n     * for seeking to.\n     *\n     * @return {TimeRanges} the seekable intervals of the media timeline\n     * @method seekable\n     */\n\n    Player.prototype.seekable = function seekable() {\n      return this.techGet_('seekable');\n    };\n\n    /**\n     * Report user activity\n     *\n     * @param {Object} event Event object\n     * @method reportUserActivity\n     */\n\n    Player.prototype.reportUserActivity = function reportUserActivity(event) {\n      this.userActivity_ = true;\n    };\n\n    /**\n     * Get/set if user is active\n     *\n     * @param {Boolean} bool Value when setting\n     * @return {Boolean} Value if user is active user when getting\n     * @method userActive\n     */\n\n    Player.prototype.userActive = function userActive(bool) {\n      if (bool !== undefined) {\n        bool = !!bool;\n        if (bool !== this.userActive_) {\n          this.userActive_ = bool;\n          if (bool) {\n            // If the user was inactive and is now active we want to reset the\n            // inactivity timer\n            this.userActivity_ = true;\n            this.removeClass('vjs-user-inactive');\n            this.addClass('vjs-user-active');\n            this.trigger('useractive');\n          } else {\n            // We're switching the state to inactive manually, so erase any other\n            // activity\n            this.userActivity_ = false;\n\n            // Chrome/Safari/IE have bugs where when you change the cursor it can\n            // trigger a mousemove event. This causes an issue when you're hiding\n            // the cursor when the user is inactive, and a mousemove signals user\n            // activity. Making it impossible to go into inactive mode. Specifically\n            // this happens in fullscreen when we really need to hide the cursor.\n            //\n            // When this gets resolved in ALL browsers it can be removed\n            // https://code.google.com/p/chromium/issues/detail?id=103041\n            if (this.tech_) {\n              this.tech_.one('mousemove', function (e) {\n                e.stopPropagation();\n                e.preventDefault();\n              });\n            }\n\n            this.removeClass('vjs-user-active');\n            this.addClass('vjs-user-inactive');\n            this.trigger('userinactive');\n          }\n        }\n        return this;\n      }\n      return this.userActive_;\n    };\n\n    /**\n     * Listen for user activity based on timeout value\n     *\n     * @private\n     * @method listenForUserActivity_\n     */\n\n    Player.prototype.listenForUserActivity_ = function listenForUserActivity_() {\n      var mouseInProgress = undefined,\n        lastMoveX = undefined,\n        lastMoveY = undefined;\n\n      var handleActivity = Fn.bind(this, this.reportUserActivity);\n\n      var handleMouseMove = function handleMouseMove(e) {\n        // #1068 - Prevent mousemove spamming\n        // Chrome Bug: https://code.google.com/p/chromium/issues/detail?id=366970\n        if (e.screenX !== lastMoveX || e.screenY !== lastMoveY) {\n          lastMoveX = e.screenX;\n          lastMoveY = e.screenY;\n          handleActivity();\n        }\n      };\n\n      var handleMouseDown = function handleMouseDown() {\n        handleActivity();\n        // For as long as the they are touching the device or have their mouse down,\n        // we consider them active even if they're not moving their finger or mouse.\n        // So we want to continue to update that they are active\n        this.clearInterval(mouseInProgress);\n        // Setting userActivity=true now and setting the interval to the same time\n        // as the activityCheck interval (250) should ensure we never miss the\n        // next activityCheck\n        mouseInProgress = this.setInterval(handleActivity, 250);\n      };\n\n      var handleMouseUp = function handleMouseUp(event) {\n        handleActivity();\n        // Stop the interval that maintains activity if the mouse/touch is down\n        this.clearInterval(mouseInProgress);\n      };\n\n      // Any mouse movement will be considered user activity\n      this.on('mousedown', handleMouseDown);\n      this.on('mousemove', handleMouseMove);\n      this.on('mouseup', handleMouseUp);\n\n      // Listen for keyboard navigation\n      // Shouldn't need to use inProgress interval because of key repeat\n      this.on('keydown', handleActivity);\n      this.on('keyup', handleActivity);\n\n      // Run an interval every 250 milliseconds instead of stuffing everything into\n      // the mousemove/touchmove function itself, to prevent performance degradation.\n      // `this.reportUserActivity` simply sets this.userActivity_ to true, which\n      // then gets picked up by this loop\n      // http://ejohn.org/blog/learning-from-twitter/\n      var inactivityTimeout = undefined;\n      var activityCheck = this.setInterval(function () {\n        // Check to see if mouse/touch activity has happened\n        if (this.userActivity_) {\n          // Reset the activity tracker\n          this.userActivity_ = false;\n\n          // If the user state was inactive, set the state to active\n          this.userActive(true);\n\n          // Clear any existing inactivity timeout to start the timer over\n          this.clearTimeout(inactivityTimeout);\n\n          var timeout = this.options_['inactivityTimeout'];\n          if (timeout > 0) {\n            // In <timeout> milliseconds, if no more activity has occurred the\n            // user will be considered inactive\n            inactivityTimeout = this.setTimeout(function () {\n              // Protect against the case where the inactivityTimeout can trigger just\n              // before the next user activity is picked up by the activityCheck loop\n              // causing a flicker\n              if (!this.userActivity_) {\n                this.userActive(false);\n              }\n            }, timeout);\n          }\n        }\n      }, 250);\n    };\n\n    /**\n     * Gets or sets the current playback rate.  A playback rate of\n     * 1.0 represents normal speed and 0.5 would indicate half-speed\n     * playback, for instance.\n     * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-playbackrate\n     *\n     * @param  {Number} rate    New playback rate to set.\n     * @return {Number}         Returns the new playback rate when setting\n     * @return {Number}         Returns the current playback rate when getting\n     * @method playbackRate\n     */\n\n    Player.prototype.playbackRate = function playbackRate(rate) {\n      if (rate !== undefined) {\n        this.techCall_('setPlaybackRate', rate);\n        return this;\n      }\n\n      if (this.tech_ && this.tech_['featuresPlaybackRate']) {\n        return this.techGet_('playbackRate');\n      } else {\n        return 1.0;\n      }\n    };\n\n    /**\n     * Gets or sets the audio flag\n     *\n     * @param  {Boolean} bool    True signals that this is an audio player.\n     * @return {Boolean}         Returns true if player is audio, false if not when getting\n     * @return {Player}      Returns the player if setting\n     * @private\n     * @method isAudio\n     */\n\n    Player.prototype.isAudio = function isAudio(bool) {\n      if (bool !== undefined) {\n        this.isAudio_ = !!bool;\n        return this;\n      }\n\n      return !!this.isAudio_;\n    };\n\n    /**\n     * Returns the current state of network activity for the element, from\n     * the codes in the list below.\n     * - NETWORK_EMPTY (numeric value 0)\n     *   The element has not yet been initialised. All attributes are in\n     *   their initial states.\n     * - NETWORK_IDLE (numeric value 1)\n     *   The element's resource selection algorithm is active and has\n     *   selected a resource, but it is not actually using the network at\n     *   this time.\n     * - NETWORK_LOADING (numeric value 2)\n     *   The user agent is actively trying to download data.\n     * - NETWORK_NO_SOURCE (numeric value 3)\n     *   The element's resource selection algorithm is active, but it has\n     *   not yet found a resource to use.\n     *\n     * @see https://html.spec.whatwg.org/multipage/embedded-content.html#network-states\n     * @return {Number} the current network activity state\n     * @method networkState\n     */\n\n    Player.prototype.networkState = function networkState() {\n      return this.techGet_('networkState');\n    };\n\n    /**\n     * Returns a value that expresses the current state of the element\n     * with respect to rendering the current playback position, from the\n     * codes in the list below.\n     * - HAVE_NOTHING (numeric value 0)\n     *   No information regarding the media resource is available.\n     * - HAVE_METADATA (numeric value 1)\n     *   Enough of the resource has been obtained that the duration of the\n     *   resource is available.\n     * - HAVE_CURRENT_DATA (numeric value 2)\n     *   Data for the immediate current playback position is available.\n     * - HAVE_FUTURE_DATA (numeric value 3)\n     *   Data for the immediate current playback position is available, as\n     *   well as enough data for the user agent to advance the current\n     *   playback position in the direction of playback.\n     * - HAVE_ENOUGH_DATA (numeric value 4)\n     *   The user agent estimates that enough data is available for\n     *   playback to proceed uninterrupted.\n     *\n     * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-readystate\n     * @return {Number} the current playback rendering state\n     * @method readyState\n     */\n\n    Player.prototype.readyState = function readyState() {\n      return this.techGet_('readyState');\n    };\n\n    /**\n     * Get a video track list\n     * @link https://html.spec.whatwg.org/multipage/embedded-content.html#videotracklist\n     *\n     * @return {VideoTrackList} thes current video track list\n     * @method videoTracks\n     */\n\n    Player.prototype.videoTracks = function videoTracks() {\n      // if we have not yet loadTech_, we create videoTracks_\n      // these will be passed to the tech during loading\n      if (!this.tech_) {\n        this.videoTracks_ = this.videoTracks_ || new _tracksVideoTrackListJs2['default']();\n        return this.videoTracks_;\n      }\n\n      return this.tech_.videoTracks();\n    };\n\n    /**\n     * Get an audio track list\n     * @link https://html.spec.whatwg.org/multipage/embedded-content.html#audiotracklist\n     *\n     * @return {AudioTrackList} thes current audio track list\n     * @method audioTracks\n     */\n\n    Player.prototype.audioTracks = function audioTracks() {\n      // if we have not yet loadTech_, we create videoTracks_\n      // these will be passed to the tech during loading\n      if (!this.tech_) {\n        this.audioTracks_ = this.audioTracks_ || new _tracksAudioTrackListJs2['default']();\n        return this.audioTracks_;\n      }\n\n      return this.tech_.audioTracks();\n    };\n\n    /*\n     * Text tracks are tracks of timed text events.\n     * Captions - text displayed over the video for the hearing impaired\n     * Subtitles - text displayed over the video for those who don't understand language in the video\n     * Chapters - text displayed in a menu allowing the user to jump to particular points (chapters) in the video\n     * Descriptions (not supported yet) - audio descriptions that are read back to the user by a screen reading device\n     */\n\n    /**\n     * Get an array of associated text tracks. captions, subtitles, chapters, descriptions\n     * http://www.w3.org/html/wg/drafts/html/master/embedded-content-0.html#dom-media-texttracks\n     *\n     * @return {Array}           Array of track objects\n     * @method textTracks\n     */\n\n    Player.prototype.textTracks = function textTracks() {\n      // cannot use techGet_ directly because it checks to see whether the tech is ready.\n      // Flash is unlikely to be ready in time but textTracks should still work.\n      return this.tech_ && this.tech_['textTracks']();\n    };\n\n    /**\n     * Get an array of remote text tracks\n     *\n     * @return {Array}\n     * @method remoteTextTracks\n     */\n\n    Player.prototype.remoteTextTracks = function remoteTextTracks() {\n      return this.tech_ && this.tech_['remoteTextTracks']();\n    };\n\n    /**\n     * Get an array of remote html track elements\n     *\n     * @return {HTMLTrackElement[]}\n     * @method remoteTextTrackEls\n     */\n\n    Player.prototype.remoteTextTrackEls = function remoteTextTrackEls() {\n      return this.tech_ && this.tech_['remoteTextTrackEls']();\n    };\n\n    /**\n     * Add a text track\n     * In addition to the W3C settings we allow adding additional info through options.\n     * http://www.w3.org/html/wg/drafts/html/master/embedded-content-0.html#dom-media-addtexttrack\n     *\n     * @param {String}  kind        Captions, subtitles, chapters, descriptions, or metadata\n     * @param {String=} label       Optional label\n     * @param {String=} language    Optional language\n     * @method addTextTrack\n     */\n\n    Player.prototype.addTextTrack = function addTextTrack(kind, label, language) {\n      return this.tech_ && this.tech_['addTextTrack'](kind, label, language);\n    };\n\n    /**\n     * Add a remote text track\n     *\n     * @param {Object} options    Options for remote text track\n     * @method addRemoteTextTrack\n     */\n\n    Player.prototype.addRemoteTextTrack = function addRemoteTextTrack(options) {\n      return this.tech_ && this.tech_['addRemoteTextTrack'](options);\n    };\n\n    /**\n     * Remove a remote text track\n     *\n     * @param {Object} track    Remote text track to remove\n     * @method removeRemoteTextTrack\n     */\n      // destructure the input into an object with a track argument, defaulting to arguments[0]\n      // default the whole argument to an empty object if nothing was passed in\n\n    Player.prototype.removeRemoteTextTrack = function removeRemoteTextTrack() {\n      var _ref3 = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n      var _ref3$track = _ref3.track;\n      var track = _ref3$track === undefined ? arguments[0] : _ref3$track;\n      // jshint ignore:line\n      this.tech_ && this.tech_['removeRemoteTextTrack'](track);\n    };\n\n    /**\n     * Get video width\n     *\n     * @return {Number} Video width\n     * @method videoWidth\n     */\n\n    Player.prototype.videoWidth = function videoWidth() {\n      return this.tech_ && this.tech_.videoWidth && this.tech_.videoWidth() || 0;\n    };\n\n    /**\n     * Get video height\n     *\n     * @return {Number} Video height\n     * @method videoHeight\n     */\n\n    Player.prototype.videoHeight = function videoHeight() {\n      return this.tech_ && this.tech_.videoHeight && this.tech_.videoHeight() || 0;\n    };\n\n    // Methods to add support for\n    // initialTime: function(){ return this.techCall_('initialTime'); },\n    // startOffsetTime: function(){ return this.techCall_('startOffsetTime'); },\n    // played: function(){ return this.techCall_('played'); },\n    // defaultPlaybackRate: function(){ return this.techCall_('defaultPlaybackRate'); },\n    // defaultMuted: function(){ return this.techCall_('defaultMuted'); }\n\n    /**\n     * The player's language code\n     * NOTE: The language should be set in the player options if you want the\n     * the controls to be built with a specific language. Changing the lanugage\n     * later will not update controls text.\n     *\n     * @param {String} code  The locale string\n     * @return {String}      The locale string when getting\n     * @return {Player}      self when setting\n     * @method language\n     */\n\n    Player.prototype.language = function language(code) {\n      if (code === undefined) {\n        return this.language_;\n      }\n\n      this.language_ = ('' + code).toLowerCase();\n      return this;\n    };\n\n    /**\n     * Get the player's language dictionary\n     * Merge every time, because a newly added plugin might call videojs.addLanguage() at any time\n     * Languages specified directly in the player options have precedence\n     *\n     * @return {Array} Array of languages\n     * @method languages\n     */\n\n    Player.prototype.languages = function languages() {\n      return _utilsMergeOptionsJs2['default'](Player.prototype.options_.languages, this.languages_);\n    };\n\n    /**\n     * Converts track info to JSON\n     *\n     * @return {Object} JSON object of options\n     * @method toJSON\n     */\n\n    Player.prototype.toJSON = function toJSON() {\n      var options = _utilsMergeOptionsJs2['default'](this.options_);\n      var tracks = options.tracks;\n\n      options.tracks = [];\n\n      for (var i = 0; i < tracks.length; i++) {\n        var track = tracks[i];\n\n        // deep merge tracks and null out player so no circular references\n        track = _utilsMergeOptionsJs2['default'](track);\n        track.player = undefined;\n        options.tracks[i] = track;\n      }\n\n      return options;\n    };\n\n    /**\n     * Creates a simple modal dialog (an instance of the `ModalDialog`\n     * component) that immediately overlays the player with arbitrary\n     * content and removes itself when closed.\n     *\n     * @param {String|Function|Element|Array|Null} content\n     *        Same as `ModalDialog#content`'s param of the same name.\n     *\n     *        The most straight-forward usage is to provide a string or DOM\n     *        element.\n     *\n     * @param {Object} [options]\n     *        Extra options which will be passed on to the `ModalDialog`.\n     *\n     * @return {ModalDialog}\n     */\n\n    Player.prototype.createModal = function createModal(content, options) {\n      var player = this;\n\n      options = options || {};\n      options.content = content || '';\n\n      var modal = new _modalDialog2['default'](player, options);\n\n      player.addChild(modal);\n      modal.on('dispose', function () {\n        player.removeChild(modal);\n      });\n\n      return modal.open();\n    };\n\n    /**\n     * Gets tag settings\n     *\n     * @param {Element} tag The player tag\n     * @return {Array} An array of sources and track objects\n     * @static\n     * @method getTagSettings\n     */\n\n    Player.getTagSettings = function getTagSettings(tag) {\n      var baseOptions = {\n        'sources': [],\n        'tracks': []\n      };\n\n      var tagOptions = Dom.getElAttributes(tag);\n      var dataSetup = tagOptions['data-setup'];\n\n      // Check if data-setup attr exists.\n      if (dataSetup !== null) {\n        // Parse options JSON\n\n        var _safeParseTuple = _safeJsonParseTuple2['default'](dataSetup || '{}');\n\n        var err = _safeParseTuple[0];\n        var data = _safeParseTuple[1];\n\n        if (err) {\n          _utilsLogJs2['default'].error(err);\n        }\n        _objectAssign2['default'](tagOptions, data);\n      }\n\n      _objectAssign2['default'](baseOptions, tagOptions);\n\n      // Get tag children settings\n      if (tag.hasChildNodes()) {\n        var children = tag.childNodes;\n\n        for (var i = 0, j = children.length; i < j; i++) {\n          var child = children[i];\n          // Change case needed: http://ejohn.org/blog/nodename-case-sensitivity/\n          var childName = child.nodeName.toLowerCase();\n          if (childName === 'source') {\n            baseOptions.sources.push(Dom.getElAttributes(child));\n          } else if (childName === 'track') {\n            baseOptions.tracks.push(Dom.getElAttributes(child));\n          }\n        }\n      }\n\n      return baseOptions;\n    };\n\n    return Player;\n  })(_componentJs2['default']);\n\n  Player.players = {};\n\n  var navigator = _globalWindow2['default'].navigator;\n  /*\n   * Player instance options, surfaced using options\n   * options = Player.prototype.options_\n   * Make changes in options, not here.\n   *\n   * @type {Object}\n   * @private\n   */\n  Player.prototype.options_ = {\n    // Default order of fallback technology\n    techOrder: ['html5', 'flash'],\n    // techOrder: ['flash','html5'],\n\n    html5: {},\n    flash: {},\n\n    // defaultVolume: 0.85,\n    defaultVolume: 0.00, // The freakin seaguls are driving me crazy!\n\n    // default inactivity timeout\n    inactivityTimeout: 2000,\n\n    // default playback rates\n    playbackRates: [],\n    // Add playback rate selection by adding rates\n    // 'playbackRates': [0.5, 1, 1.5, 2],\n\n    // Included control sets\n    children: ['mediaLoader', 'posterImage', 'textTrackDisplay', 'loadingSpinner', 'bigPlayButton', 'controlBar', 'errorDisplay', 'textTrackSettings'],\n\n    language: _globalDocument2['default'].getElementsByTagName('html')[0].getAttribute('lang') || navigator.languages && navigator.languages[0] || navigator.userLanguage || navigator.language || 'en',\n\n    // locales and their language translations\n    languages: {},\n\n    // Default message to show when a video cannot be played.\n    notSupportedMessage: 'No compatible source was found for this media.'\n  };\n\n  /**\n   * Fired when the player has initial duration and dimension information\n   *\n   * @event loadedmetadata\n   */\n  Player.prototype.handleLoadedMetaData_;\n\n  /**\n   * Fired when the player has downloaded data at the current playback position\n   *\n   * @event loadeddata\n   */\n  Player.prototype.handleLoadedData_;\n\n  /**\n   * Fired when the user is active, e.g. moves the mouse over the player\n   *\n   * @event useractive\n   */\n  Player.prototype.handleUserActive_;\n\n  /**\n   * Fired when the user is inactive, e.g. a short delay after the last mouse move or control interaction\n   *\n   * @event userinactive\n   */\n  Player.prototype.handleUserInactive_;\n\n  /**\n   * Fired when the current playback position has changed *\n   * During playback this is fired every 15-250 milliseconds, depending on the\n   * playback technology in use.\n   *\n   * @event timeupdate\n   */\n  Player.prototype.handleTimeUpdate_;\n\n  /**\n   * Fired when video playback ends\n   *\n   * @event ended\n   */\n  Player.prototype.handleTechEnded_;\n\n  /**\n   * Fired when the volume changes\n   *\n   * @event volumechange\n   */\n  Player.prototype.handleVolumeChange_;\n\n  /**\n   * Fired when an error occurs\n   *\n   * @event error\n   */\n  Player.prototype.handleError_;\n\n  Player.prototype.flexNotSupported_ = function () {\n    var elem = _globalDocument2['default'].createElement('i');\n\n    // Note: We don't actually use flexBasis (or flexOrder), but it's one of the more\n    // common flex features that we can rely on when checking for flex support.\n    return !('flexBasis' in elem.style || 'webkitFlexBasis' in elem.style || 'mozFlexBasis' in elem.style || 'msFlexBasis' in elem.style || 'msFlexOrder' in elem.style) /* IE10-specific (2012 flex spec)  */;\n  };\n\n  _componentJs2['default'].registerComponent('Player', Player);\n  exports['default'] = Player;\n  module.exports = exports['default'];\n// If empty string, make it a parsable json object.\n\n},{\"./big-play-button.js\":63,\"./component.js\":67,\"./control-bar/control-bar.js\":70,\"./error-display.js\":103,\"./fullscreen-api.js\":106,\"./loading-spinner.js\":107,\"./media-error.js\":108,\"./modal-dialog\":112,\"./poster-image.js\":117,\"./tech/html5.js\":122,\"./tech/loader.js\":123,\"./tech/tech.js\":124,\"./tracks/audio-track-list.js\":125,\"./tracks/text-track-display.js\":130,\"./tracks/text-track-list-converter.js\":131,\"./tracks/text-track-settings.js\":133,\"./tracks/video-track-list.js\":138,\"./utils/browser.js\":140,\"./utils/buffer.js\":141,\"./utils/dom.js\":143,\"./utils/events.js\":144,\"./utils/fn.js\":145,\"./utils/guid.js\":147,\"./utils/log.js\":148,\"./utils/merge-options.js\":149,\"./utils/stylesheet.js\":150,\"./utils/time-ranges.js\":151,\"./utils/to-title-case.js\":152,\"global/document\":1,\"global/window\":2,\"object.assign\":45,\"safe-json-parse/tuple\":54}],114:[function(_dereq_,module,exports){\n  /**\n   * @file plugins.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  var _playerJs = _dereq_('./player.js');\n\n  var _playerJs2 = _interopRequireDefault(_playerJs);\n\n  /**\n   * The method for registering a video.js plugin\n   *\n   * @param  {String} name The name of the plugin\n   * @param  {Function} init The function that is run when the player inits\n   * @method plugin\n   */\n  var plugin = function plugin(name, init) {\n    _playerJs2['default'].prototype[name] = init;\n  };\n\n  exports['default'] = plugin;\n  module.exports = exports['default'];\n\n},{\"./player.js\":113}],115:[function(_dereq_,module,exports){\n  /**\n   * @file popup-button.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _clickableComponentJs = _dereq_('../clickable-component.js');\n\n  var _clickableComponentJs2 = _interopRequireDefault(_clickableComponentJs);\n\n  var _componentJs = _dereq_('../component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  var _popupJs = _dereq_('./popup.js');\n\n  var _popupJs2 = _interopRequireDefault(_popupJs);\n\n  var _utilsDomJs = _dereq_('../utils/dom.js');\n\n  var Dom = _interopRequireWildcard(_utilsDomJs);\n\n  var _utilsFnJs = _dereq_('../utils/fn.js');\n\n  var Fn = _interopRequireWildcard(_utilsFnJs);\n\n  var _utilsToTitleCaseJs = _dereq_('../utils/to-title-case.js');\n\n  var _utilsToTitleCaseJs2 = _interopRequireDefault(_utilsToTitleCaseJs);\n\n  /**\n   * A button class with a popup control\n   *\n   * @param {Player|Object} player\n   * @param {Object=} options\n   * @extends ClickableComponent\n   * @class PopupButton\n   */\n\n  var PopupButton = (function (_ClickableComponent) {\n    _inherits(PopupButton, _ClickableComponent);\n\n    function PopupButton(player) {\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      _classCallCheck(this, PopupButton);\n\n      _ClickableComponent.call(this, player, options);\n\n      this.update();\n    }\n\n    /**\n     * Update popup\n     *\n     * @method update\n     */\n\n    PopupButton.prototype.update = function update() {\n      var popup = this.createPopup();\n\n      if (this.popup) {\n        this.removeChild(this.popup);\n      }\n\n      this.popup = popup;\n      this.addChild(popup);\n\n      if (this.items && this.items.length === 0) {\n        this.hide();\n      } else if (this.items && this.items.length > 1) {\n        this.show();\n      }\n    };\n\n    /**\n     * Create popup - Override with specific functionality for component\n     *\n     * @return {Popup} The constructed popup\n     * @method createPopup\n     */\n\n    PopupButton.prototype.createPopup = function createPopup() {};\n\n    /**\n     * Create the component's DOM element\n     *\n     * @return {Element}\n     * @method createEl\n     */\n\n    PopupButton.prototype.createEl = function createEl() {\n      return _ClickableComponent.prototype.createEl.call(this, 'div', {\n        className: this.buildCSSClass()\n      });\n    };\n\n    /**\n     * Allow sub components to stack CSS class names\n     *\n     * @return {String} The constructed class name\n     * @method buildCSSClass\n     */\n\n    PopupButton.prototype.buildCSSClass = function buildCSSClass() {\n      var menuButtonClass = 'vjs-menu-button';\n\n      // If the inline option is passed, we want to use different styles altogether.\n      if (this.options_.inline === true) {\n        menuButtonClass += '-inline';\n      } else {\n        menuButtonClass += '-popup';\n      }\n\n      return 'vjs-menu-button ' + menuButtonClass + ' ' + _ClickableComponent.prototype.buildCSSClass.call(this);\n    };\n\n    return PopupButton;\n  })(_clickableComponentJs2['default']);\n\n  _componentJs2['default'].registerComponent('PopupButton', PopupButton);\n  exports['default'] = PopupButton;\n  module.exports = exports['default'];\n\n},{\"../clickable-component.js\":65,\"../component.js\":67,\"../utils/dom.js\":143,\"../utils/fn.js\":145,\"../utils/to-title-case.js\":152,\"./popup.js\":116}],116:[function(_dereq_,module,exports){\n  /**\n   * @file popup.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _componentJs = _dereq_('../component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  var _utilsDomJs = _dereq_('../utils/dom.js');\n\n  var Dom = _interopRequireWildcard(_utilsDomJs);\n\n  var _utilsFnJs = _dereq_('../utils/fn.js');\n\n  var Fn = _interopRequireWildcard(_utilsFnJs);\n\n  var _utilsEventsJs = _dereq_('../utils/events.js');\n\n  var Events = _interopRequireWildcard(_utilsEventsJs);\n\n  /**\n   * The Popup component is used to build pop up controls.\n   *\n   * @extends Component\n   * @class Popup\n   */\n\n  var Popup = (function (_Component) {\n    _inherits(Popup, _Component);\n\n    function Popup() {\n      _classCallCheck(this, Popup);\n\n      _Component.apply(this, arguments);\n    }\n\n    /**\n     * Add a popup item to the popup\n     *\n     * @param {Object|String} component Component or component type to add\n     * @method addItem\n     */\n\n    Popup.prototype.addItem = function addItem(component) {\n      this.addChild(component);\n      component.on('click', Fn.bind(this, function () {\n        this.unlockShowing();\n      }));\n    };\n\n    /**\n     * Create the component's DOM element\n     *\n     * @return {Element}\n     * @method createEl\n     */\n\n    Popup.prototype.createEl = function createEl() {\n      var contentElType = this.options_.contentElType || 'ul';\n      this.contentEl_ = Dom.createEl(contentElType, {\n        className: 'vjs-menu-content'\n      });\n      var el = _Component.prototype.createEl.call(this, 'div', {\n        append: this.contentEl_,\n        className: 'vjs-menu'\n      });\n      el.appendChild(this.contentEl_);\n\n      // Prevent clicks from bubbling up. Needed for Popup Buttons,\n      // where a click on the parent is significant\n      Events.on(el, 'click', function (event) {\n        event.preventDefault();\n        event.stopImmediatePropagation();\n      });\n\n      return el;\n    };\n\n    return Popup;\n  })(_componentJs2['default']);\n\n  _componentJs2['default'].registerComponent('Popup', Popup);\n  exports['default'] = Popup;\n  module.exports = exports['default'];\n\n},{\"../component.js\":67,\"../utils/dom.js\":143,\"../utils/events.js\":144,\"../utils/fn.js\":145}],117:[function(_dereq_,module,exports){\n  /**\n   * @file poster-image.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _clickableComponentJs = _dereq_('./clickable-component.js');\n\n  var _clickableComponentJs2 = _interopRequireDefault(_clickableComponentJs);\n\n  var _componentJs = _dereq_('./component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  var _utilsFnJs = _dereq_('./utils/fn.js');\n\n  var Fn = _interopRequireWildcard(_utilsFnJs);\n\n  var _utilsDomJs = _dereq_('./utils/dom.js');\n\n  var Dom = _interopRequireWildcard(_utilsDomJs);\n\n  var _utilsBrowserJs = _dereq_('./utils/browser.js');\n\n  var browser = _interopRequireWildcard(_utilsBrowserJs);\n\n  /**\n   * The component that handles showing the poster image.\n   *\n   * @param {Player|Object} player\n   * @param {Object=} options\n   * @extends Button\n   * @class PosterImage\n   */\n\n  var PosterImage = (function (_ClickableComponent) {\n    _inherits(PosterImage, _ClickableComponent);\n\n    function PosterImage(player, options) {\n      _classCallCheck(this, PosterImage);\n\n      _ClickableComponent.call(this, player, options);\n\n      this.update();\n      player.on('posterchange', Fn.bind(this, this.update));\n    }\n\n    /**\n     * Clean up the poster image\n     *\n     * @method dispose\n     */\n\n    PosterImage.prototype.dispose = function dispose() {\n      this.player().off('posterchange', this.update);\n      _ClickableComponent.prototype.dispose.call(this);\n    };\n\n    /**\n     * Create the poster's image element\n     *\n     * @return {Element}\n     * @method createEl\n     */\n\n    PosterImage.prototype.createEl = function createEl() {\n      var el = Dom.createEl('div', {\n        className: 'vjs-poster',\n\n        // Don't want poster to be tabbable.\n        tabIndex: -1\n      });\n\n      // To ensure the poster image resizes while maintaining its original aspect\n      // ratio, use a div with `background-size` when available. For browsers that\n      // do not support `background-size` (e.g. IE8), fall back on using a regular\n      // img element.\n      if (!browser.BACKGROUND_SIZE_SUPPORTED) {\n        this.fallbackImg_ = Dom.createEl('img');\n        el.appendChild(this.fallbackImg_);\n      }\n\n      return el;\n    };\n\n    /**\n     * Event handler for updates to the player's poster source\n     *\n     * @method update\n     */\n\n    PosterImage.prototype.update = function update() {\n      var url = this.player().poster();\n\n      this.setSrc(url);\n\n      // If there's no poster source we should display:none on this component\n      // so it's not still clickable or right-clickable\n      if (url) {\n        this.show();\n      } else {\n        this.hide();\n      }\n    };\n\n    /**\n     * Set the poster source depending on the display method\n     *\n     * @param {String} url The URL to the poster source\n     * @method setSrc\n     */\n\n    PosterImage.prototype.setSrc = function setSrc(url) {\n      if (this.fallbackImg_) {\n        this.fallbackImg_.src = url;\n      } else {\n        var backgroundImage = '';\n        // Any falsey values should stay as an empty string, otherwise\n        // this will throw an extra error\n        if (url) {\n          backgroundImage = 'url(\"' + url + '\")';\n        }\n\n        this.el_.style.backgroundImage = backgroundImage;\n      }\n    };\n\n    /**\n     * Event handler for clicks on the poster image\n     *\n     * @method handleClick\n     */\n\n    PosterImage.prototype.handleClick = function handleClick() {\n      // We don't want a click to trigger playback when controls are disabled\n      // but CSS should be hiding the poster to prevent that from happening\n      if (this.player_.paused()) {\n        this.player_.play();\n      } else {\n        this.player_.pause();\n      }\n    };\n\n    return PosterImage;\n  })(_clickableComponentJs2['default']);\n\n  _componentJs2['default'].registerComponent('PosterImage', PosterImage);\n  exports['default'] = PosterImage;\n  module.exports = exports['default'];\n\n},{\"./clickable-component.js\":65,\"./component.js\":67,\"./utils/browser.js\":140,\"./utils/dom.js\":143,\"./utils/fn.js\":145}],118:[function(_dereq_,module,exports){\n  /**\n   * @file setup.js\n   *\n   * Functions for automatically setting up a player\n   * based on the data-setup attribute of the video tag\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  var _utilsEventsJs = _dereq_('./utils/events.js');\n\n  var Events = _interopRequireWildcard(_utilsEventsJs);\n\n  var _globalDocument = _dereq_('global/document');\n\n  var _globalDocument2 = _interopRequireDefault(_globalDocument);\n\n  var _globalWindow = _dereq_('global/window');\n\n  var _globalWindow2 = _interopRequireDefault(_globalWindow);\n\n  var _windowLoaded = false;\n  var videojs = undefined;\n\n// Automatically set up any tags that have a data-setup attribute\n  var autoSetup = function autoSetup() {\n    // One day, when we stop supporting IE8, go back to this, but in the meantime...*hack hack hack*\n    // var vids = Array.prototype.slice.call(document.getElementsByTagName('video'));\n    // var audios = Array.prototype.slice.call(document.getElementsByTagName('audio'));\n    // var mediaEls = vids.concat(audios);\n\n    // Because IE8 doesn't support calling slice on a node list, we need to loop through each list of elements\n    // to build up a new, combined list of elements.\n    var vids = _globalDocument2['default'].getElementsByTagName('video');\n    var audios = _globalDocument2['default'].getElementsByTagName('audio');\n    var mediaEls = [];\n    if (vids && vids.length > 0) {\n      for (var i = 0, e = vids.length; i < e; i++) {\n        mediaEls.push(vids[i]);\n      }\n    }\n    if (audios && audios.length > 0) {\n      for (var i = 0, e = audios.length; i < e; i++) {\n        mediaEls.push(audios[i]);\n      }\n    }\n\n    // Check if any media elements exist\n    if (mediaEls && mediaEls.length > 0) {\n\n      for (var i = 0, e = mediaEls.length; i < e; i++) {\n        var mediaEl = mediaEls[i];\n\n        // Check if element exists, has getAttribute func.\n        // IE seems to consider typeof el.getAttribute == 'object' instead of 'function' like expected, at least when loading the player immediately.\n        if (mediaEl && mediaEl.getAttribute) {\n\n          // Make sure this player hasn't already been set up.\n          if (mediaEl['player'] === undefined) {\n            var options = mediaEl.getAttribute('data-setup');\n\n            // Check if data-setup attr exists.\n            // We only auto-setup if they've added the data-setup attr.\n            if (options !== null) {\n              // Create new video.js instance.\n              var player = videojs(mediaEl);\n            }\n          }\n\n          // If getAttribute isn't defined, we need to wait for the DOM.\n        } else {\n          autoSetupTimeout(1);\n          break;\n        }\n      }\n\n      // No videos were found, so keep looping unless page is finished loading.\n    } else if (!_windowLoaded) {\n      autoSetupTimeout(1);\n    }\n  };\n\n// Pause to let the DOM keep processing\n  var autoSetupTimeout = function autoSetupTimeout(wait, vjs) {\n    if (vjs) {\n      videojs = vjs;\n    }\n\n    setTimeout(autoSetup, wait);\n  };\n\n  if (_globalDocument2['default'].readyState === 'complete') {\n    _windowLoaded = true;\n  } else {\n    Events.one(_globalWindow2['default'], 'load', function () {\n      _windowLoaded = true;\n    });\n  }\n\n  var hasLoaded = function hasLoaded() {\n    return _windowLoaded;\n  };\n\n  exports.autoSetup = autoSetup;\n  exports.autoSetupTimeout = autoSetupTimeout;\n  exports.hasLoaded = hasLoaded;\n\n},{\"./utils/events.js\":144,\"global/document\":1,\"global/window\":2}],119:[function(_dereq_,module,exports){\n  /**\n   * @file slider.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _componentJs = _dereq_('../component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  var _utilsDomJs = _dereq_('../utils/dom.js');\n\n  var Dom = _interopRequireWildcard(_utilsDomJs);\n\n  var _objectAssign = _dereq_('object.assign');\n\n  var _objectAssign2 = _interopRequireDefault(_objectAssign);\n\n  /**\n   * The base functionality for sliders like the volume bar and seek bar\n   *\n   * @param {Player|Object} player\n   * @param {Object=} options\n   * @extends Component\n   * @class Slider\n   */\n\n  var Slider = (function (_Component) {\n    _inherits(Slider, _Component);\n\n    function Slider(player, options) {\n      _classCallCheck(this, Slider);\n\n      _Component.call(this, player, options);\n\n      // Set property names to bar to match with the child Slider class is looking for\n      this.bar = this.getChild(this.options_.barName);\n\n      // Set a horizontal or vertical class on the slider depending on the slider type\n      this.vertical(!!this.options_.vertical);\n\n      this.on('mousedown', this.handleMouseDown);\n      this.on('touchstart', this.handleMouseDown);\n      this.on('focus', this.handleFocus);\n      this.on('blur', this.handleBlur);\n      this.on('click', this.handleClick);\n\n      this.on(player, 'controlsvisible', this.update);\n      this.on(player, this.playerEvent, this.update);\n    }\n\n    /**\n     * Create the component's DOM element\n     *\n     * @param {String} type Type of element to create\n     * @param {Object=} props List of properties in Object form\n     * @return {Element}\n     * @method createEl\n     */\n\n    Slider.prototype.createEl = function createEl(type) {\n      var props = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n      var attributes = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n      // Add the slider element class to all sub classes\n      props.className = props.className + ' vjs-slider';\n      props = _objectAssign2['default']({\n        tabIndex: 0\n      }, props);\n\n      attributes = _objectAssign2['default']({\n        'role': 'slider',\n        'aria-valuenow': 0,\n        'aria-valuemin': 0,\n        'aria-valuemax': 100,\n        tabIndex: 0\n      }, attributes);\n\n      return _Component.prototype.createEl.call(this, type, props, attributes);\n    };\n\n    /**\n     * Handle mouse down on slider\n     *\n     * @param {Object} event Mouse down event object\n     * @method handleMouseDown\n     */\n\n    Slider.prototype.handleMouseDown = function handleMouseDown(event) {\n      var doc = this.bar.el_.ownerDocument;\n\n      event.preventDefault();\n      Dom.blockTextSelection();\n\n      this.addClass('vjs-sliding');\n      this.trigger('slideractive');\n\n      this.on(doc, 'mousemove', this.handleMouseMove);\n      this.on(doc, 'mouseup', this.handleMouseUp);\n      this.on(doc, 'touchmove', this.handleMouseMove);\n      this.on(doc, 'touchend', this.handleMouseUp);\n\n      this.handleMouseMove(event);\n    };\n\n    /**\n     * To be overridden by a subclass\n     *\n     * @method handleMouseMove\n     */\n\n    Slider.prototype.handleMouseMove = function handleMouseMove() {};\n\n    /**\n     * Handle mouse up on Slider\n     *\n     * @method handleMouseUp\n     */\n\n    Slider.prototype.handleMouseUp = function handleMouseUp() {\n      var doc = this.bar.el_.ownerDocument;\n\n      Dom.unblockTextSelection();\n\n      this.removeClass('vjs-sliding');\n      this.trigger('sliderinactive');\n\n      this.off(doc, 'mousemove', this.handleMouseMove);\n      this.off(doc, 'mouseup', this.handleMouseUp);\n      this.off(doc, 'touchmove', this.handleMouseMove);\n      this.off(doc, 'touchend', this.handleMouseUp);\n\n      this.update();\n    };\n\n    /**\n     * Update slider\n     *\n     * @method update\n     */\n\n    Slider.prototype.update = function update() {\n      // In VolumeBar init we have a setTimeout for update that pops and update to the end of the\n      // execution stack. The player is destroyed before then update will cause an error\n      if (!this.el_) return;\n\n      // If scrubbing, we could use a cached value to make the handle keep up with the user's mouse.\n      // On HTML5 browsers scrubbing is really smooth, but some flash players are slow, so we might want to utilize this later.\n      // var progress =  (this.player_.scrubbing()) ? this.player_.getCache().currentTime / this.player_.duration() : this.player_.currentTime() / this.player_.duration();\n      var progress = this.getPercent();\n      var bar = this.bar;\n\n      // If there's no bar...\n      if (!bar) return;\n\n      // Protect against no duration and other division issues\n      if (typeof progress !== 'number' || progress !== progress || progress < 0 || progress === Infinity) {\n        progress = 0;\n      }\n\n      // Convert to a percentage for setting\n      var percentage = (progress * 100).toFixed(2) + '%';\n\n      // Set the new bar width or height\n      if (this.vertical()) {\n        bar.el().style.height = percentage;\n      } else {\n        bar.el().style.width = percentage;\n      }\n    };\n\n    /**\n     * Calculate distance for slider\n     *\n     * @param {Object} event Event object\n     * @method calculateDistance\n     */\n\n    Slider.prototype.calculateDistance = function calculateDistance(event) {\n      var position = Dom.getPointerPosition(this.el_, event);\n      if (this.vertical()) {\n        return position.y;\n      }\n      return position.x;\n    };\n\n    /**\n     * Handle on focus for slider\n     *\n     * @method handleFocus\n     */\n\n    Slider.prototype.handleFocus = function handleFocus() {\n      this.on(this.bar.el_.ownerDocument, 'keydown', this.handleKeyPress);\n    };\n\n    /**\n     * Handle key press for slider\n     *\n     * @param {Object} event Event object\n     * @method handleKeyPress\n     */\n\n    Slider.prototype.handleKeyPress = function handleKeyPress(event) {\n      if (event.which === 37 || event.which === 40) {\n        // Left and Down Arrows\n        event.preventDefault();\n        this.stepBack();\n      } else if (event.which === 38 || event.which === 39) {\n        // Up and Right Arrows\n        event.preventDefault();\n        this.stepForward();\n      }\n    };\n\n    /**\n     * Handle on blur for slider\n     *\n     * @method handleBlur\n     */\n\n    Slider.prototype.handleBlur = function handleBlur() {\n      this.off(this.bar.el_.ownerDocument, 'keydown', this.handleKeyPress);\n    };\n\n    /**\n     * Listener for click events on slider, used to prevent clicks\n     *   from bubbling up to parent elements like button menus.\n     *\n     * @param {Object} event Event object\n     * @method handleClick\n     */\n\n    Slider.prototype.handleClick = function handleClick(event) {\n      event.stopImmediatePropagation();\n      event.preventDefault();\n    };\n\n    /**\n     * Get/set if slider is horizontal for vertical\n     *\n     * @param {Boolean} bool True if slider is vertical, false is horizontal\n     * @return {Boolean} True if slider is vertical, false is horizontal\n     * @method vertical\n     */\n\n    Slider.prototype.vertical = function vertical(bool) {\n      if (bool === undefined) {\n        return this.vertical_ || false;\n      }\n\n      this.vertical_ = !!bool;\n\n      if (this.vertical_) {\n        this.addClass('vjs-slider-vertical');\n      } else {\n        this.addClass('vjs-slider-horizontal');\n      }\n\n      return this;\n    };\n\n    return Slider;\n  })(_componentJs2['default']);\n\n  _componentJs2['default'].registerComponent('Slider', Slider);\n  exports['default'] = Slider;\n  module.exports = exports['default'];\n\n},{\"../component.js\":67,\"../utils/dom.js\":143,\"object.assign\":45}],120:[function(_dereq_,module,exports){\n  /**\n   * @file flash-rtmp.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n  function FlashRtmpDecorator(Flash) {\n    Flash.streamingFormats = {\n      'rtmp/mp4': 'MP4',\n      'rtmp/flv': 'FLV'\n    };\n\n    Flash.streamFromParts = function (connection, stream) {\n      return connection + '&' + stream;\n    };\n\n    Flash.streamToParts = function (src) {\n      var parts = {\n        connection: '',\n        stream: ''\n      };\n\n      if (!src) return parts;\n\n      // Look for the normal URL separator we expect, '&'.\n      // If found, we split the URL into two pieces around the\n      // first '&'.\n      var connEnd = src.search(/&(?!\\w+=)/);\n      var streamBegin = undefined;\n      if (connEnd !== -1) {\n        streamBegin = connEnd + 1;\n      } else {\n        // If there's not a '&', we use the last '/' as the delimiter.\n        connEnd = streamBegin = src.lastIndexOf('/') + 1;\n        if (connEnd === 0) {\n          // really, there's not a '/'?\n          connEnd = streamBegin = src.length;\n        }\n      }\n      parts.connection = src.substring(0, connEnd);\n      parts.stream = src.substring(streamBegin, src.length);\n\n      return parts;\n    };\n\n    Flash.isStreamingType = function (srcType) {\n      return srcType in Flash.streamingFormats;\n    };\n\n    // RTMP has four variations, any string starting\n    // with one of these protocols should be valid\n    Flash.RTMP_RE = /^rtmp[set]?:\\/\\//i;\n\n    Flash.isStreamingSrc = function (src) {\n      return Flash.RTMP_RE.test(src);\n    };\n\n    /**\n     * A source handler for RTMP urls\n     * @type {Object}\n     */\n    Flash.rtmpSourceHandler = {};\n\n    /**\n     * Check if Flash can play the given videotype\n     * @param  {String} type    The mimetype to check\n     * @return {String}         'probably', 'maybe', or '' (empty string)\n     */\n    Flash.rtmpSourceHandler.canPlayType = function (type) {\n      if (Flash.isStreamingType(type)) {\n        return 'maybe';\n      }\n\n      return '';\n    };\n\n    /**\n     * Check if Flash can handle the source natively\n     * @param  {Object} source  The source object\n     * @return {String}         'probably', 'maybe', or '' (empty string)\n     */\n    Flash.rtmpSourceHandler.canHandleSource = function (source) {\n      var can = Flash.rtmpSourceHandler.canPlayType(source.type);\n\n      if (can) {\n        return can;\n      }\n\n      if (Flash.isStreamingSrc(source.src)) {\n        return 'maybe';\n      }\n\n      return '';\n    };\n\n    /**\n     * Pass the source to the flash object\n     * Adaptive source handlers will have more complicated workflows before passing\n     * video data to the video element\n     * @param  {Object} source   The source object\n     * @param  {Flash}  tech     The instance of the Flash tech\n     * @param  {Object} options  The options to pass to the source\n     */\n    Flash.rtmpSourceHandler.handleSource = function (source, tech, options) {\n      var srcParts = Flash.streamToParts(source.src);\n\n      tech['setRtmpConnection'](srcParts.connection);\n      tech['setRtmpStream'](srcParts.stream);\n    };\n\n    // Register the native source handler\n    Flash.registerSourceHandler(Flash.rtmpSourceHandler);\n\n    return Flash;\n  }\n\n  exports['default'] = FlashRtmpDecorator;\n  module.exports = exports['default'];\n\n},{}],121:[function(_dereq_,module,exports){\n  /**\n   * @file flash.js\n   * VideoJS-SWF - Custom Flash Player with HTML5-ish API\n   * https://github.com/zencoder/video-js-swf\n   * Not using setupTriggers. Using global onEvent func to distribute events\n   */\n\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _tech = _dereq_('./tech');\n\n  var _tech2 = _interopRequireDefault(_tech);\n\n  var _utilsDomJs = _dereq_('../utils/dom.js');\n\n  var Dom = _interopRequireWildcard(_utilsDomJs);\n\n  var _utilsUrlJs = _dereq_('../utils/url.js');\n\n  var Url = _interopRequireWildcard(_utilsUrlJs);\n\n  var _utilsTimeRangesJs = _dereq_('../utils/time-ranges.js');\n\n  var _flashRtmp = _dereq_('./flash-rtmp');\n\n  var _flashRtmp2 = _interopRequireDefault(_flashRtmp);\n\n  var _component = _dereq_('../component');\n\n  var _component2 = _interopRequireDefault(_component);\n\n  var _globalWindow = _dereq_('global/window');\n\n  var _globalWindow2 = _interopRequireDefault(_globalWindow);\n\n  var _objectAssign = _dereq_('object.assign');\n\n  var _objectAssign2 = _interopRequireDefault(_objectAssign);\n\n  var navigator = _globalWindow2['default'].navigator;\n  /**\n   * Flash Media Controller - Wrapper for fallback SWF API\n   *\n   * @param {Object=} options Object of option names and values\n   * @param {Function=} ready Ready callback function\n   * @extends Tech\n   * @class Flash\n   */\n\n  var Flash = (function (_Tech) {\n    _inherits(Flash, _Tech);\n\n    function Flash(options, ready) {\n      _classCallCheck(this, Flash);\n\n      _Tech.call(this, options, ready);\n\n      // Set the source when ready\n      if (options.source) {\n        this.ready(function () {\n          this.setSource(options.source);\n        }, true);\n      }\n\n      // Having issues with Flash reloading on certain page actions (hide/resize/fullscreen) in certain browsers\n      // This allows resetting the playhead when we catch the reload\n      if (options.startTime) {\n        this.ready(function () {\n          this.load();\n          this.play();\n          this.currentTime(options.startTime);\n        }, true);\n      }\n\n      // Add global window functions that the swf expects\n      // A 4.x workflow we weren't able to solve for in 5.0\n      // because of the need to hard code these functions\n      // into the swf for security reasons\n      _globalWindow2['default'].videojs = _globalWindow2['default'].videojs || {};\n      _globalWindow2['default'].videojs.Flash = _globalWindow2['default'].videojs.Flash || {};\n      _globalWindow2['default'].videojs.Flash.onReady = Flash.onReady;\n      _globalWindow2['default'].videojs.Flash.onEvent = Flash.onEvent;\n      _globalWindow2['default'].videojs.Flash.onError = Flash.onError;\n\n      this.on('seeked', function () {\n        this.lastSeekTarget_ = undefined;\n      });\n    }\n\n    // Create setters and getters for attributes\n\n    /**\n     * Create the component's DOM element\n     *\n     * @return {Element}\n     * @method createEl\n     */\n\n    Flash.prototype.createEl = function createEl() {\n      var options = this.options_;\n\n      // If video.js is hosted locally you should also set the location\n      // for the hosted swf, which should be relative to the page (not video.js)\n      // Otherwise this adds a CDN url.\n      // The CDN also auto-adds a swf URL for that specific version.\n      if (!options.swf) {\n        options.swf = '//vjs.zencdn.net/swf/5.0.1/video-js.swf';\n      }\n\n      // Generate ID for swf object\n      var objId = options.techId;\n\n      // Merge default flashvars with ones passed in to init\n      var flashVars = _objectAssign2['default']({\n\n        // SWF Callback Functions\n        'readyFunction': 'videojs.Flash.onReady',\n        'eventProxyFunction': 'videojs.Flash.onEvent',\n        'errorEventProxyFunction': 'videojs.Flash.onError',\n\n        // Player Settings\n        'autoplay': options.autoplay,\n        'preload': options.preload,\n        'loop': options.loop,\n        'muted': options.muted\n\n      }, options.flashVars);\n\n      // Merge default parames with ones passed in\n      var params = _objectAssign2['default']({\n        'wmode': 'opaque', // Opaque is needed to overlay controls, but can affect playback performance\n        'bgcolor': '#000000' // Using bgcolor prevents a white flash when the object is loading\n      }, options.params);\n\n      // Merge default attributes with ones passed in\n      var attributes = _objectAssign2['default']({\n        'id': objId,\n        'name': objId, // Both ID and Name needed or swf to identify itself\n        'class': 'vjs-tech'\n      }, options.attributes);\n\n      this.el_ = Flash.embed(options.swf, flashVars, params, attributes);\n      this.el_.tech = this;\n\n      return this.el_;\n    };\n\n    /**\n     * Play for flash tech\n     *\n     * @method play\n     */\n\n    Flash.prototype.play = function play() {\n      if (this.ended()) {\n        this.setCurrentTime(0);\n      }\n      this.el_.vjs_play();\n    };\n\n    /**\n     * Pause for flash tech\n     *\n     * @method pause\n     */\n\n    Flash.prototype.pause = function pause() {\n      this.el_.vjs_pause();\n    };\n\n    /**\n     * Get/set video\n     *\n     * @param {Object=} src Source object\n     * @return {Object}\n     * @method src\n     */\n\n    Flash.prototype.src = function src(_src) {\n      if (_src === undefined) {\n        return this.currentSrc();\n      }\n\n      // Setting src through `src` not `setSrc` will be deprecated\n      return this.setSrc(_src);\n    };\n\n    /**\n     * Set video\n     *\n     * @param {Object=} src Source object\n     * @deprecated\n     * @method setSrc\n     */\n\n    Flash.prototype.setSrc = function setSrc(src) {\n      // Make sure source URL is absolute.\n      src = Url.getAbsoluteURL(src);\n      this.el_.vjs_src(src);\n\n      // Currently the SWF doesn't autoplay if you load a source later.\n      // e.g. Load player w/ no source, wait 2s, set src.\n      if (this.autoplay()) {\n        var tech = this;\n        this.setTimeout(function () {\n          tech.play();\n        }, 0);\n      }\n    };\n\n    /**\n     * Returns true if the tech is currently seeking.\n     * @return {boolean} true if seeking\n     */\n\n    Flash.prototype.seeking = function seeking() {\n      return this.lastSeekTarget_ !== undefined;\n    };\n\n    /**\n     * Set current time\n     *\n     * @param {Number} time Current time of video\n     * @method setCurrentTime\n     */\n\n    Flash.prototype.setCurrentTime = function setCurrentTime(time) {\n      var seekable = this.seekable();\n      if (seekable.length) {\n        // clamp to the current seekable range\n        time = time > seekable.start(0) ? time : seekable.start(0);\n        time = time < seekable.end(seekable.length - 1) ? time : seekable.end(seekable.length - 1);\n\n        this.lastSeekTarget_ = time;\n        this.trigger('seeking');\n        this.el_.vjs_setProperty('currentTime', time);\n        _Tech.prototype.setCurrentTime.call(this);\n      }\n    };\n\n    /**\n     * Get current time\n     *\n     * @param {Number=} time Current time of video\n     * @return {Number} Current time\n     * @method currentTime\n     */\n\n    Flash.prototype.currentTime = function currentTime(time) {\n      // when seeking make the reported time keep up with the requested time\n      // by reading the time we're seeking to\n      if (this.seeking()) {\n        return this.lastSeekTarget_ || 0;\n      }\n      return this.el_.vjs_getProperty('currentTime');\n    };\n\n    /**\n     * Get current source\n     *\n     * @method currentSrc\n     */\n\n    Flash.prototype.currentSrc = function currentSrc() {\n      if (this.currentSource_) {\n        return this.currentSource_.src;\n      } else {\n        return this.el_.vjs_getProperty('currentSrc');\n      }\n    };\n\n    /**\n     * Load media into player\n     *\n     * @method load\n     */\n\n    Flash.prototype.load = function load() {\n      this.el_.vjs_load();\n    };\n\n    /**\n     * Get poster\n     *\n     * @method poster\n     */\n\n    Flash.prototype.poster = function poster() {\n      this.el_.vjs_getProperty('poster');\n    };\n\n    /**\n     * Poster images are not handled by the Flash tech so make this a no-op\n     *\n     * @method setPoster\n     */\n\n    Flash.prototype.setPoster = function setPoster() {};\n\n    /**\n     * Determine if can seek in media\n     *\n     * @return {TimeRangeObject}\n     * @method seekable\n     */\n\n    Flash.prototype.seekable = function seekable() {\n      var duration = this.duration();\n      if (duration === 0) {\n        return _utilsTimeRangesJs.createTimeRange();\n      }\n      return _utilsTimeRangesJs.createTimeRange(0, duration);\n    };\n\n    /**\n     * Get buffered time range\n     *\n     * @return {TimeRangeObject}\n     * @method buffered\n     */\n\n    Flash.prototype.buffered = function buffered() {\n      var ranges = this.el_.vjs_getProperty('buffered');\n      if (ranges.length === 0) {\n        return _utilsTimeRangesJs.createTimeRange();\n      }\n      return _utilsTimeRangesJs.createTimeRange(ranges[0][0], ranges[0][1]);\n    };\n\n    /**\n     * Get fullscreen support -\n     * Flash does not allow fullscreen through javascript\n     * so always returns false\n     *\n     * @return {Boolean} false\n     * @method supportsFullScreen\n     */\n\n    Flash.prototype.supportsFullScreen = function supportsFullScreen() {\n      return false; // Flash does not allow fullscreen through javascript\n    };\n\n    /**\n     * Request to enter fullscreen\n     * Flash does not allow fullscreen through javascript\n     * so always returns false\n     *\n     * @return {Boolean} false\n     * @method enterFullScreen\n     */\n\n    Flash.prototype.enterFullScreen = function enterFullScreen() {\n      return false;\n    };\n\n    return Flash;\n  })(_tech2['default']);\n\n  var _api = Flash.prototype;\n  var _readWrite = 'rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted'.split(',');\n  var _readOnly = 'networkState,readyState,initialTime,duration,startOffsetTime,paused,ended,videoWidth,videoHeight'.split(',');\n\n  function _createSetter(attr) {\n    var attrUpper = attr.charAt(0).toUpperCase() + attr.slice(1);\n    _api['set' + attrUpper] = function (val) {\n      return this.el_.vjs_setProperty(attr, val);\n    };\n  }\n  function _createGetter(attr) {\n    _api[attr] = function () {\n      return this.el_.vjs_getProperty(attr);\n    };\n  }\n\n// Create getter and setters for all read/write attributes\n  for (var i = 0; i < _readWrite.length; i++) {\n    _createGetter(_readWrite[i]);\n    _createSetter(_readWrite[i]);\n  }\n\n// Create getters for read-only attributes\n  for (var i = 0; i < _readOnly.length; i++) {\n    _createGetter(_readOnly[i]);\n  }\n\n  /* Flash Support Testing -------------------------------------------------------- */\n\n  Flash.isSupported = function () {\n    return Flash.version()[0] >= 10;\n    // return swfobject.hasFlashPlayerVersion('10');\n  };\n\n// Add Source Handler pattern functions to this tech\n  _tech2['default'].withSourceHandlers(Flash);\n\n  /*\n   * The default native source handler.\n   * This simply passes the source to the video element. Nothing fancy.\n   *\n   * @param  {Object} source   The source object\n   * @param  {Flash} tech  The instance of the Flash tech\n   */\n  Flash.nativeSourceHandler = {};\n\n  /**\n   * Check if Flash can play the given videotype\n   * @param  {String} type    The mimetype to check\n   * @return {String}         'probably', 'maybe', or '' (empty string)\n   */\n  Flash.nativeSourceHandler.canPlayType = function (type) {\n    if (type in Flash.formats) {\n      return 'maybe';\n    }\n\n    return '';\n  };\n\n  /*\n   * Check Flash can handle the source natively\n   *\n   * @param  {Object} source  The source object\n   * @return {String}         'probably', 'maybe', or '' (empty string)\n   */\n  Flash.nativeSourceHandler.canHandleSource = function (source) {\n    var type;\n\n    function guessMimeType(src) {\n      var ext = Url.getFileExtension(src);\n      if (ext) {\n        return 'video/' + ext;\n      }\n      return '';\n    }\n\n    if (!source.type) {\n      type = guessMimeType(source.src);\n    } else {\n      // Strip code information from the type because we don't get that specific\n      type = source.type.replace(/;.*/, '').toLowerCase();\n    }\n\n    return Flash.nativeSourceHandler.canPlayType(type);\n  };\n\n  /*\n   * Pass the source to the flash object\n   * Adaptive source handlers will have more complicated workflows before passing\n   * video data to the video element\n   *\n   * @param  {Object} source   The source object\n   * @param  {Flash}  tech     The instance of the Flash tech\n   * @param  {Object} options  The options to pass to the source\n   */\n  Flash.nativeSourceHandler.handleSource = function (source, tech, options) {\n    tech.setSrc(source.src);\n  };\n\n  /*\n   * Clean up the source handler when disposing the player or switching sources..\n   * (no cleanup is needed when supporting the format natively)\n   */\n  Flash.nativeSourceHandler.dispose = function () {};\n\n// Register the native source handler\n  Flash.registerSourceHandler(Flash.nativeSourceHandler);\n\n  Flash.formats = {\n    'video/flv': 'FLV',\n    'video/x-flv': 'FLV',\n    'video/mp4': 'MP4',\n    'video/m4v': 'MP4'\n  };\n\n  Flash.onReady = function (currSwf) {\n    var el = Dom.getEl(currSwf);\n    var tech = el && el.tech;\n\n    // if there is no el then the tech has been disposed\n    // and the tech element was removed from the player div\n    if (tech && tech.el()) {\n      // check that the flash object is really ready\n      Flash.checkReady(tech);\n    }\n  };\n\n// The SWF isn't always ready when it says it is. Sometimes the API functions still need to be added to the object.\n// If it's not ready, we set a timeout to check again shortly.\n  Flash.checkReady = function (tech) {\n    // stop worrying if the tech has been disposed\n    if (!tech.el()) {\n      return;\n    }\n\n    // check if API property exists\n    if (tech.el().vjs_getProperty) {\n      // tell tech it's ready\n      tech.triggerReady();\n    } else {\n      // wait longer\n      this.setTimeout(function () {\n        Flash['checkReady'](tech);\n      }, 50);\n    }\n  };\n\n// Trigger events from the swf on the player\n  Flash.onEvent = function (swfID, eventName) {\n    var tech = Dom.getEl(swfID).tech;\n    tech.trigger(eventName);\n  };\n\n// Log errors from the swf\n  Flash.onError = function (swfID, err) {\n    var tech = Dom.getEl(swfID).tech;\n\n    // trigger MEDIA_ERR_SRC_NOT_SUPPORTED\n    if (err === 'srcnotfound') {\n      return tech.error(4);\n    }\n\n    // trigger a custom error\n    tech.error('FLASH: ' + err);\n  };\n\n// Flash Version Check\n  Flash.version = function () {\n    var version = '0,0,0';\n\n    // IE\n    try {\n      version = new _globalWindow2['default'].ActiveXObject('ShockwaveFlash.ShockwaveFlash').GetVariable('$version').replace(/\\D+/g, ',').match(/^,?(.+),?$/)[1];\n\n      // other browsers\n    } catch (e) {\n      try {\n        if (navigator.mimeTypes['application/x-shockwave-flash'].enabledPlugin) {\n          version = (navigator.plugins['Shockwave Flash 2.0'] || navigator.plugins['Shockwave Flash']).description.replace(/\\D+/g, ',').match(/^,?(.+),?$/)[1];\n        }\n      } catch (err) {}\n    }\n    return version.split(',');\n  };\n\n// Flash embedding method. Only used in non-iframe mode\n  Flash.embed = function (swf, flashVars, params, attributes) {\n    var code = Flash.getEmbedCode(swf, flashVars, params, attributes);\n\n    // Get element by embedding code and retrieving created element\n    var obj = Dom.createEl('div', { innerHTML: code }).childNodes[0];\n\n    return obj;\n  };\n\n  Flash.getEmbedCode = function (swf, flashVars, params, attributes) {\n    var objTag = '<object type=\"application/x-shockwave-flash\" ';\n    var flashVarsString = '';\n    var paramsString = '';\n    var attrsString = '';\n\n    // Convert flash vars to string\n    if (flashVars) {\n      Object.getOwnPropertyNames(flashVars).forEach(function (key) {\n        flashVarsString += key + '=' + flashVars[key] + '&amp;';\n      });\n    }\n\n    // Add swf, flashVars, and other default params\n    params = _objectAssign2['default']({\n      'movie': swf,\n      'flashvars': flashVarsString,\n      'allowScriptAccess': 'always', // Required to talk to swf\n      'allowNetworking': 'all' // All should be default, but having security issues.\n    }, params);\n\n    // Create param tags string\n    Object.getOwnPropertyNames(params).forEach(function (key) {\n      paramsString += '<param name=\"' + key + '\" value=\"' + params[key] + '\" />';\n    });\n\n    attributes = _objectAssign2['default']({\n      // Add swf to attributes (need both for IE and Others to work)\n      'data': swf,\n\n      // Default to 100% width/height\n      'width': '100%',\n      'height': '100%'\n\n    }, attributes);\n\n    // Create Attributes string\n    Object.getOwnPropertyNames(attributes).forEach(function (key) {\n      attrsString += key + '=\"' + attributes[key] + '\" ';\n    });\n\n    return '' + objTag + attrsString + '>' + paramsString + '</object>';\n  };\n\n// Run Flash through the RTMP decorator\n  _flashRtmp2['default'](Flash);\n\n  _component2['default'].registerComponent('Flash', Flash);\n  _tech2['default'].registerTech('Flash', Flash);\n  exports['default'] = Flash;\n  module.exports = exports['default'];\n\n},{\"../component\":67,\"../utils/dom.js\":143,\"../utils/time-ranges.js\":151,\"../utils/url.js\":153,\"./flash-rtmp\":120,\"./tech\":124,\"global/window\":2,\"object.assign\":45}],122:[function(_dereq_,module,exports){\n  /**\n   * @file html5.js\n   * HTML5 Media Controller - Wrapper for HTML5 Media API\n   */\n\n  'use strict';\n\n  exports.__esModule = true;\n\n  var _templateObject = _taggedTemplateLiteralLoose(['Text Tracks are being loaded from another origin but the crossorigin attribute isn\\'t used. \\n            This may prevent text tracks from loading.'], ['Text Tracks are being loaded from another origin but the crossorigin attribute isn\\'t used. \\n            This may prevent text tracks from loading.']);\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  function _taggedTemplateLiteralLoose(strings, raw) { strings.raw = raw; return strings; }\n\n  var _techJs = _dereq_('./tech.js');\n\n  var _techJs2 = _interopRequireDefault(_techJs);\n\n  var _component = _dereq_('../component');\n\n  var _component2 = _interopRequireDefault(_component);\n\n  var _utilsDomJs = _dereq_('../utils/dom.js');\n\n  var Dom = _interopRequireWildcard(_utilsDomJs);\n\n  var _utilsUrlJs = _dereq_('../utils/url.js');\n\n  var Url = _interopRequireWildcard(_utilsUrlJs);\n\n  var _utilsFnJs = _dereq_('../utils/fn.js');\n\n  var Fn = _interopRequireWildcard(_utilsFnJs);\n\n  var _utilsLogJs = _dereq_('../utils/log.js');\n\n  var _utilsLogJs2 = _interopRequireDefault(_utilsLogJs);\n\n  var _tsml = _dereq_('tsml');\n\n  var _tsml2 = _interopRequireDefault(_tsml);\n\n  var _srcJsTracksTextTrackJs = _dereq_('../../../src/js/tracks/text-track.js');\n\n  var _srcJsTracksTextTrackJs2 = _interopRequireDefault(_srcJsTracksTextTrackJs);\n\n  var _utilsBrowserJs = _dereq_('../utils/browser.js');\n\n  var browser = _interopRequireWildcard(_utilsBrowserJs);\n\n  var _globalDocument = _dereq_('global/document');\n\n  var _globalDocument2 = _interopRequireDefault(_globalDocument);\n\n  var _globalWindow = _dereq_('global/window');\n\n  var _globalWindow2 = _interopRequireDefault(_globalWindow);\n\n  var _objectAssign = _dereq_('object.assign');\n\n  var _objectAssign2 = _interopRequireDefault(_objectAssign);\n\n  var _utilsMergeOptionsJs = _dereq_('../utils/merge-options.js');\n\n  var _utilsMergeOptionsJs2 = _interopRequireDefault(_utilsMergeOptionsJs);\n\n  var _utilsToTitleCaseJs = _dereq_('../utils/to-title-case.js');\n\n  var _utilsToTitleCaseJs2 = _interopRequireDefault(_utilsToTitleCaseJs);\n\n  /**\n   * HTML5 Media Controller - Wrapper for HTML5 Media API\n   *\n   * @param {Object=} options Object of option names and values\n   * @param {Function=} ready Ready callback function\n   * @extends Tech\n   * @class Html5\n   */\n\n  var Html5 = (function (_Tech) {\n    _inherits(Html5, _Tech);\n\n    function Html5(options, ready) {\n      var _this = this;\n\n      _classCallCheck(this, Html5);\n\n      _Tech.call(this, options, ready);\n\n      var source = options.source;\n      var crossoriginTracks = false;\n\n      // Set the source if one is provided\n      // 1) Check if the source is new (if not, we want to keep the original so playback isn't interrupted)\n      // 2) Check to see if the network state of the tag was failed at init, and if so, reset the source\n      // anyway so the error gets fired.\n      if (source && (this.el_.currentSrc !== source.src || options.tag && options.tag.initNetworkState_ === 3)) {\n        this.setSource(source);\n      } else {\n        this.handleLateInit_(this.el_);\n      }\n\n      if (this.el_.hasChildNodes()) {\n\n        var nodes = this.el_.childNodes;\n        var nodesLength = nodes.length;\n        var removeNodes = [];\n\n        while (nodesLength--) {\n          var node = nodes[nodesLength];\n          var nodeName = node.nodeName.toLowerCase();\n\n          if (nodeName === 'track') {\n            if (!this.featuresNativeTextTracks) {\n              // Empty video tag tracks so the built-in player doesn't use them also.\n              // This may not be fast enough to stop HTML5 browsers from reading the tags\n              // so we'll need to turn off any default tracks if we're manually doing\n              // captions and subtitles. videoElement.textTracks\n              removeNodes.push(node);\n            } else {\n              // store HTMLTrackElement and TextTrack to remote list\n              this.remoteTextTrackEls().addTrackElement_(node);\n              this.remoteTextTracks().addTrack_(node.track);\n              if (!crossoriginTracks && !this.el_.hasAttribute('crossorigin') && Url.isCrossOrigin(node.src)) {\n                crossoriginTracks = true;\n              }\n            }\n          }\n        }\n\n        for (var i = 0; i < removeNodes.length; i++) {\n          this.el_.removeChild(removeNodes[i]);\n        }\n      }\n\n      var trackTypes = ['audio', 'video'];\n\n      // ProxyNativeTextTracks\n      trackTypes.forEach(function (type) {\n        var capitalType = _utilsToTitleCaseJs2['default'](type);\n\n        if (!_this['featuresNative' + capitalType + 'Tracks']) {\n          return;\n        }\n        var tl = _this.el()[type + 'Tracks'];\n\n        if (tl && tl.addEventListener) {\n          tl.addEventListener('change', Fn.bind(_this, _this['handle' + capitalType + 'TrackChange_']));\n          tl.addEventListener('addtrack', Fn.bind(_this, _this['handle' + capitalType + 'TrackAdd_']));\n          tl.addEventListener('removetrack', Fn.bind(_this, _this['handle' + capitalType + 'TrackRemove_']));\n        }\n      });\n\n      if (this.featuresNativeTextTracks) {\n        if (crossoriginTracks) {\n          _utilsLogJs2['default'].warn(_tsml2['default'](_templateObject));\n        }\n\n        this.handleTextTrackChange_ = Fn.bind(this, this.handleTextTrackChange);\n        this.handleTextTrackAdd_ = Fn.bind(this, this.handleTextTrackAdd);\n        this.handleTextTrackRemove_ = Fn.bind(this, this.handleTextTrackRemove);\n        this.proxyNativeTextTracks_();\n      }\n\n      // Determine if native controls should be used\n      // Our goal should be to get the custom controls on mobile solid everywhere\n      // so we can remove this all together. Right now this will block custom\n      // controls on touch enabled laptops like the Chrome Pixel\n      if (browser.TOUCH_ENABLED && options.nativeControlsForTouch === true || browser.IS_IPHONE || browser.IS_NATIVE_ANDROID) {\n        this.setControls(true);\n      }\n\n      this.triggerReady();\n    }\n\n    /* HTML5 Support Testing ---------------------------------------------------- */\n\n    /*\n     * Element for testing browser HTML5 video capabilities\n     *\n     * @type {Element}\n     * @constant\n     * @private\n     */\n\n    /**\n     * Dispose of html5 media element\n     *\n     * @method dispose\n     */\n\n    Html5.prototype.dispose = function dispose() {\n      var _this2 = this;\n\n      // Un-ProxyNativeTracks\n      ['audio', 'video', 'text'].forEach(function (type) {\n        var capitalType = _utilsToTitleCaseJs2['default'](type);\n        var tl = _this2.el_[type + 'Tracks'];\n\n        if (tl && tl.removeEventListener) {\n          tl.removeEventListener('change', _this2['handle' + capitalType + 'TrackChange_']);\n          tl.removeEventListener('addtrack', _this2['handle' + capitalType + 'TrackAdd_']);\n          tl.removeEventListener('removetrack', _this2['handle' + capitalType + 'TrackRemove_']);\n        }\n      });\n\n      Html5.disposeMediaElement(this.el_);\n      // tech will handle clearing of the emulated track list\n      _Tech.prototype.dispose.call(this);\n    };\n\n    /**\n     * Create the component's DOM element\n     *\n     * @return {Element}\n     * @method createEl\n     */\n\n    Html5.prototype.createEl = function createEl() {\n      var el = this.options_.tag;\n\n      // Check if this browser supports moving the element into the box.\n      // On the iPhone video will break if you move the element,\n      // So we have to create a brand new element.\n      if (!el || this['movingMediaElementInDOM'] === false) {\n\n        // If the original tag is still there, clone and remove it.\n        if (el) {\n          var clone = el.cloneNode(true);\n          el.parentNode.insertBefore(clone, el);\n          Html5.disposeMediaElement(el);\n          el = clone;\n        } else {\n          el = _globalDocument2['default'].createElement('video');\n\n          // determine if native controls should be used\n          var tagAttributes = this.options_.tag && Dom.getElAttributes(this.options_.tag);\n          var attributes = _utilsMergeOptionsJs2['default']({}, tagAttributes);\n          if (!browser.TOUCH_ENABLED || this.options_.nativeControlsForTouch !== true) {\n            delete attributes.controls;\n          }\n\n          Dom.setElAttributes(el, _objectAssign2['default'](attributes, {\n            id: this.options_.techId,\n            'class': 'vjs-tech'\n          }));\n        }\n      }\n\n      // Update specific tag settings, in case they were overridden\n      var settingsAttrs = ['autoplay', 'preload', 'loop', 'muted'];\n      for (var i = settingsAttrs.length - 1; i >= 0; i--) {\n        var attr = settingsAttrs[i];\n        var overwriteAttrs = {};\n        if (typeof this.options_[attr] !== 'undefined') {\n          overwriteAttrs[attr] = this.options_[attr];\n        }\n        Dom.setElAttributes(el, overwriteAttrs);\n      }\n\n      return el;\n      // jenniisawesome = true;\n    };\n\n    // If we're loading the playback object after it has started loading\n    // or playing the video (often with autoplay on) then the loadstart event\n    // has already fired and we need to fire it manually because many things\n    // rely on it.\n\n    Html5.prototype.handleLateInit_ = function handleLateInit_(el) {\n      var _this3 = this;\n\n      if (el.networkState === 0 || el.networkState === 3) {\n        // The video element hasn't started loading the source yet\n        // or didn't find a source\n        return;\n      }\n\n      if (el.readyState === 0) {\n        var _ret = (function () {\n          // NetworkState is set synchronously BUT loadstart is fired at the\n          // end of the current stack, usually before setInterval(fn, 0).\n          // So at this point we know loadstart may have already fired or is\n          // about to fire, and either way the player hasn't seen it yet.\n          // We don't want to fire loadstart prematurely here and cause a\n          // double loadstart so we'll wait and see if it happens between now\n          // and the next loop, and fire it if not.\n          // HOWEVER, we also want to make sure it fires before loadedmetadata\n          // which could also happen between now and the next loop, so we'll\n          // watch for that also.\n          var loadstartFired = false;\n          var setLoadstartFired = function setLoadstartFired() {\n            loadstartFired = true;\n          };\n          _this3.on('loadstart', setLoadstartFired);\n\n          var triggerLoadstart = function triggerLoadstart() {\n            // We did miss the original loadstart. Make sure the player\n            // sees loadstart before loadedmetadata\n            if (!loadstartFired) {\n              this.trigger('loadstart');\n            }\n          };\n          _this3.on('loadedmetadata', triggerLoadstart);\n\n          _this3.ready(function () {\n            this.off('loadstart', setLoadstartFired);\n            this.off('loadedmetadata', triggerLoadstart);\n\n            if (!loadstartFired) {\n              // We did miss the original native loadstart. Fire it now.\n              this.trigger('loadstart');\n            }\n          });\n\n          return {\n            v: undefined\n          };\n        })();\n\n        if (typeof _ret === 'object') return _ret.v;\n      }\n\n      // From here on we know that loadstart already fired and we missed it.\n      // The other readyState events aren't as much of a problem if we double\n      // them, so not going to go to as much trouble as loadstart to prevent\n      // that unless we find reason to.\n      var eventsToTrigger = ['loadstart'];\n\n      // loadedmetadata: newly equal to HAVE_METADATA (1) or greater\n      eventsToTrigger.push('loadedmetadata');\n\n      // loadeddata: newly increased to HAVE_CURRENT_DATA (2) or greater\n      if (el.readyState >= 2) {\n        eventsToTrigger.push('loadeddata');\n      }\n\n      // canplay: newly increased to HAVE_FUTURE_DATA (3) or greater\n      if (el.readyState >= 3) {\n        eventsToTrigger.push('canplay');\n      }\n\n      // canplaythrough: newly equal to HAVE_ENOUGH_DATA (4)\n      if (el.readyState >= 4) {\n        eventsToTrigger.push('canplaythrough');\n      }\n\n      // We still need to give the player time to add event listeners\n      this.ready(function () {\n        eventsToTrigger.forEach(function (type) {\n          this.trigger(type);\n        }, this);\n      });\n    };\n\n    Html5.prototype.proxyNativeTextTracks_ = function proxyNativeTextTracks_() {\n      var tt = this.el().textTracks;\n\n      if (tt) {\n        // Add tracks - if player is initialised after DOM loaded, textTracks\n        // will not trigger addtrack\n        for (var i = 0; i < tt.length; i++) {\n          this.textTracks().addTrack_(tt[i]);\n        }\n\n        if (tt.addEventListener) {\n          tt.addEventListener('change', this.handleTextTrackChange_);\n          tt.addEventListener('addtrack', this.handleTextTrackAdd_);\n          tt.addEventListener('removetrack', this.handleTextTrackRemove_);\n        }\n      }\n    };\n\n    Html5.prototype.handleTextTrackChange = function handleTextTrackChange(e) {\n      var tt = this.textTracks();\n      this.textTracks().trigger({\n        type: 'change',\n        target: tt,\n        currentTarget: tt,\n        srcElement: tt\n      });\n    };\n\n    Html5.prototype.handleTextTrackAdd = function handleTextTrackAdd(e) {\n      this.textTracks().addTrack_(e.track);\n    };\n\n    Html5.prototype.handleTextTrackRemove = function handleTextTrackRemove(e) {\n      this.textTracks().removeTrack_(e.track);\n    };\n\n    Html5.prototype.handleVideoTrackChange_ = function handleVideoTrackChange_(e) {\n      var vt = this.videoTracks();\n      this.videoTracks().trigger({\n        type: 'change',\n        target: vt,\n        currentTarget: vt,\n        srcElement: vt\n      });\n    };\n\n    Html5.prototype.handleVideoTrackAdd_ = function handleVideoTrackAdd_(e) {\n      this.videoTracks().addTrack_(e.track);\n    };\n\n    Html5.prototype.handleVideoTrackRemove_ = function handleVideoTrackRemove_(e) {\n      this.videoTracks().removeTrack_(e.track);\n    };\n\n    Html5.prototype.handleAudioTrackChange_ = function handleAudioTrackChange_(e) {\n      var audioTrackList = this.audioTracks();\n      this.audioTracks().trigger({\n        type: 'change',\n        target: audioTrackList,\n        currentTarget: audioTrackList,\n        srcElement: audioTrackList\n      });\n    };\n\n    Html5.prototype.handleAudioTrackAdd_ = function handleAudioTrackAdd_(e) {\n      this.audioTracks().addTrack_(e.track);\n    };\n\n    Html5.prototype.handleAudioTrackRemove_ = function handleAudioTrackRemove_(e) {\n      this.audioTracks().removeTrack_(e.track);\n    };\n\n    /**\n     * Play for html5 tech\n     *\n     * @method play\n     */\n\n    Html5.prototype.play = function play() {\n      this.el_.play();\n    };\n\n    /**\n     * Pause for html5 tech\n     *\n     * @method pause\n     */\n\n    Html5.prototype.pause = function pause() {\n      this.el_.pause();\n    };\n\n    /**\n     * Paused for html5 tech\n     *\n     * @return {Boolean}\n     * @method paused\n     */\n\n    Html5.prototype.paused = function paused() {\n      return this.el_.paused;\n    };\n\n    /**\n     * Get current time\n     *\n     * @return {Number}\n     * @method currentTime\n     */\n\n    Html5.prototype.currentTime = function currentTime() {\n      return this.el_.currentTime;\n    };\n\n    /**\n     * Set current time\n     *\n     * @param {Number} seconds Current time of video\n     * @method setCurrentTime\n     */\n\n    Html5.prototype.setCurrentTime = function setCurrentTime(seconds) {\n      try {\n        this.el_.currentTime = seconds;\n      } catch (e) {\n        _utilsLogJs2['default'](e, 'Video is not ready. (Video.js)');\n        // this.warning(VideoJS.warnings.videoNotReady);\n      }\n    };\n\n    /**\n     * Get duration\n     *\n     * @return {Number}\n     * @method duration\n     */\n\n    Html5.prototype.duration = function duration() {\n      return this.el_.duration || 0;\n    };\n\n    /**\n     * Get a TimeRange object that represents the intersection\n     * of the time ranges for which the user agent has all\n     * relevant media\n     *\n     * @return {TimeRangeObject}\n     * @method buffered\n     */\n\n    Html5.prototype.buffered = function buffered() {\n      return this.el_.buffered;\n    };\n\n    /**\n     * Get volume level\n     *\n     * @return {Number}\n     * @method volume\n     */\n\n    Html5.prototype.volume = function volume() {\n      return this.el_.volume;\n    };\n\n    /**\n     * Set volume level\n     *\n     * @param {Number} percentAsDecimal Volume percent as a decimal\n     * @method setVolume\n     */\n\n    Html5.prototype.setVolume = function setVolume(percentAsDecimal) {\n      this.el_.volume = percentAsDecimal;\n    };\n\n    /**\n     * Get if muted\n     *\n     * @return {Boolean}\n     * @method muted\n     */\n\n    Html5.prototype.muted = function muted() {\n      return this.el_.muted;\n    };\n\n    /**\n     * Set muted\n     *\n     * @param {Boolean} If player is to be muted or note\n     * @method setMuted\n     */\n\n    Html5.prototype.setMuted = function setMuted(muted) {\n      this.el_.muted = muted;\n    };\n\n    /**\n     * Get player width\n     *\n     * @return {Number}\n     * @method width\n     */\n\n    Html5.prototype.width = function width() {\n      return this.el_.offsetWidth;\n    };\n\n    /**\n     * Get player height\n     *\n     * @return {Number}\n     * @method height\n     */\n\n    Html5.prototype.height = function height() {\n      return this.el_.offsetHeight;\n    };\n\n    /**\n     * Get if there is fullscreen support\n     *\n     * @return {Boolean}\n     * @method supportsFullScreen\n     */\n\n    Html5.prototype.supportsFullScreen = function supportsFullScreen() {\n      if (typeof this.el_.webkitEnterFullScreen === 'function') {\n        var userAgent = _globalWindow2['default'].navigator.userAgent;\n        // Seems to be broken in Chromium/Chrome && Safari in Leopard\n        if (/Android/.test(userAgent) || !/Chrome|Mac OS X 10.5/.test(userAgent)) {\n          return true;\n        }\n      }\n      return false;\n    };\n\n    /**\n     * Request to enter fullscreen\n     *\n     * @method enterFullScreen\n     */\n\n    Html5.prototype.enterFullScreen = function enterFullScreen() {\n      var video = this.el_;\n\n      if ('webkitDisplayingFullscreen' in video) {\n        this.one('webkitbeginfullscreen', function () {\n          this.one('webkitendfullscreen', function () {\n            this.trigger('fullscreenchange', { isFullscreen: false });\n          });\n\n          this.trigger('fullscreenchange', { isFullscreen: true });\n        });\n      }\n\n      if (video.paused && video.networkState <= video.HAVE_METADATA) {\n        // attempt to prime the video element for programmatic access\n        // this isn't necessary on the desktop but shouldn't hurt\n        this.el_.play();\n\n        // playing and pausing synchronously during the transition to fullscreen\n        // can get iOS ~6.1 devices into a play/pause loop\n        this.setTimeout(function () {\n          video.pause();\n          video.webkitEnterFullScreen();\n        }, 0);\n      } else {\n        video.webkitEnterFullScreen();\n      }\n    };\n\n    /**\n     * Request to exit fullscreen\n     *\n     * @method exitFullScreen\n     */\n\n    Html5.prototype.exitFullScreen = function exitFullScreen() {\n      this.el_.webkitExitFullScreen();\n    };\n\n    /**\n     * Get/set video\n     *\n     * @param {Object=} src Source object\n     * @return {Object}\n     * @method src\n     */\n\n    Html5.prototype.src = function src(_src) {\n      if (_src === undefined) {\n        return this.el_.src;\n      } else {\n        // Setting src through `src` instead of `setSrc` will be deprecated\n        this.setSrc(_src);\n      }\n    };\n\n    /**\n     * Set video\n     *\n     * @param {Object} src Source object\n     * @deprecated\n     * @method setSrc\n     */\n\n    Html5.prototype.setSrc = function setSrc(src) {\n      this.el_.src = src;\n    };\n\n    /**\n     * Load media into player\n     *\n     * @method load\n     */\n\n    Html5.prototype.load = function load() {\n      this.el_.load();\n    };\n\n    /**\n     * Reset the tech. Removes all sources and calls `load`.\n     *\n     * @method reset\n     */\n\n    Html5.prototype.reset = function reset() {\n      Html5.resetMediaElement(this.el_);\n    };\n\n    /**\n     * Get current source\n     *\n     * @return {Object}\n     * @method currentSrc\n     */\n\n    Html5.prototype.currentSrc = function currentSrc() {\n      if (this.currentSource_) {\n        return this.currentSource_.src;\n      } else {\n        return this.el_.currentSrc;\n      }\n    };\n\n    /**\n     * Get poster\n     *\n     * @return {String}\n     * @method poster\n     */\n\n    Html5.prototype.poster = function poster() {\n      return this.el_.poster;\n    };\n\n    /**\n     * Set poster\n     *\n     * @param {String} val URL to poster image\n     * @method\n     */\n\n    Html5.prototype.setPoster = function setPoster(val) {\n      this.el_.poster = val;\n    };\n\n    /**\n     * Get preload attribute\n     *\n     * @return {String}\n     * @method preload\n     */\n\n    Html5.prototype.preload = function preload() {\n      return this.el_.preload;\n    };\n\n    /**\n     * Set preload attribute\n     *\n     * @param {String} val Value for preload attribute\n     * @method setPreload\n     */\n\n    Html5.prototype.setPreload = function setPreload(val) {\n      this.el_.preload = val;\n    };\n\n    /**\n     * Get autoplay attribute\n     *\n     * @return {String}\n     * @method autoplay\n     */\n\n    Html5.prototype.autoplay = function autoplay() {\n      return this.el_.autoplay;\n    };\n\n    /**\n     * Set autoplay attribute\n     *\n     * @param {String} val Value for preload attribute\n     * @method setAutoplay\n     */\n\n    Html5.prototype.setAutoplay = function setAutoplay(val) {\n      this.el_.autoplay = val;\n    };\n\n    /**\n     * Get controls attribute\n     *\n     * @return {String}\n     * @method controls\n     */\n\n    Html5.prototype.controls = function controls() {\n      return this.el_.controls;\n    };\n\n    /**\n     * Set controls attribute\n     *\n     * @param {String} val Value for controls attribute\n     * @method setControls\n     */\n\n    Html5.prototype.setControls = function setControls(val) {\n      this.el_.controls = !!val;\n    };\n\n    /**\n     * Get loop attribute\n     *\n     * @return {String}\n     * @method loop\n     */\n\n    Html5.prototype.loop = function loop() {\n      return this.el_.loop;\n    };\n\n    /**\n     * Set loop attribute\n     *\n     * @param {String} val Value for loop attribute\n     * @method setLoop\n     */\n\n    Html5.prototype.setLoop = function setLoop(val) {\n      this.el_.loop = val;\n    };\n\n    /**\n     * Get error value\n     *\n     * @return {String}\n     * @method error\n     */\n\n    Html5.prototype.error = function error() {\n      return this.el_.error;\n    };\n\n    /**\n     * Get whether or not the player is in the \"seeking\" state\n     *\n     * @return {Boolean}\n     * @method seeking\n     */\n\n    Html5.prototype.seeking = function seeking() {\n      return this.el_.seeking;\n    };\n\n    /**\n     * Get a TimeRanges object that represents the\n     * ranges of the media resource to which it is possible\n     * for the user agent to seek.\n     *\n     * @return {TimeRangeObject}\n     * @method seekable\n     */\n\n    Html5.prototype.seekable = function seekable() {\n      return this.el_.seekable;\n    };\n\n    /**\n     * Get if video ended\n     *\n     * @return {Boolean}\n     * @method ended\n     */\n\n    Html5.prototype.ended = function ended() {\n      return this.el_.ended;\n    };\n\n    /**\n     * Get the value of the muted content attribute\n     * This attribute has no dynamic effect, it only\n     * controls the default state of the element\n     *\n     * @return {Boolean}\n     * @method defaultMuted\n     */\n\n    Html5.prototype.defaultMuted = function defaultMuted() {\n      return this.el_.defaultMuted;\n    };\n\n    /**\n     * Get desired speed at which the media resource is to play\n     *\n     * @return {Number}\n     * @method playbackRate\n     */\n\n    Html5.prototype.playbackRate = function playbackRate() {\n      return this.el_.playbackRate;\n    };\n\n    /**\n     * Returns a TimeRanges object that represents the ranges of the\n     * media resource that the user agent has played.\n     * @return {TimeRangeObject} the range of points on the media\n     * timeline that has been reached through normal playback\n     * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-played\n     */\n\n    Html5.prototype.played = function played() {\n      return this.el_.played;\n    };\n\n    /**\n     * Set desired speed at which the media resource is to play\n     *\n     * @param {Number} val Speed at which the media resource is to play\n     * @method setPlaybackRate\n     */\n\n    Html5.prototype.setPlaybackRate = function setPlaybackRate(val) {\n      this.el_.playbackRate = val;\n    };\n\n    /**\n     * Get the current state of network activity for the element, from\n     * the list below\n     * NETWORK_EMPTY (numeric value 0)\n     * NETWORK_IDLE (numeric value 1)\n     * NETWORK_LOADING (numeric value 2)\n     * NETWORK_NO_SOURCE (numeric value 3)\n     *\n     * @return {Number}\n     * @method networkState\n     */\n\n    Html5.prototype.networkState = function networkState() {\n      return this.el_.networkState;\n    };\n\n    /**\n     * Get a value that expresses the current state of the element\n     * with respect to rendering the current playback position, from\n     * the codes in the list below\n     * HAVE_NOTHING (numeric value 0)\n     * HAVE_METADATA (numeric value 1)\n     * HAVE_CURRENT_DATA (numeric value 2)\n     * HAVE_FUTURE_DATA (numeric value 3)\n     * HAVE_ENOUGH_DATA (numeric value 4)\n     *\n     * @return {Number}\n     * @method readyState\n     */\n\n    Html5.prototype.readyState = function readyState() {\n      return this.el_.readyState;\n    };\n\n    /**\n     * Get width of video\n     *\n     * @return {Number}\n     * @method videoWidth\n     */\n\n    Html5.prototype.videoWidth = function videoWidth() {\n      return this.el_.videoWidth;\n    };\n\n    /**\n     * Get height of video\n     *\n     * @return {Number}\n     * @method videoHeight\n     */\n\n    Html5.prototype.videoHeight = function videoHeight() {\n      return this.el_.videoHeight;\n    };\n\n    /**\n     * Get text tracks\n     *\n     * @return {TextTrackList}\n     * @method textTracks\n     */\n\n    Html5.prototype.textTracks = function textTracks() {\n      return _Tech.prototype.textTracks.call(this);\n    };\n\n    /**\n     * Creates and returns a text track object\n     *\n     * @param {String} kind Text track kind (subtitles, captions, descriptions\n     *                                       chapters and metadata)\n     * @param {String=} label Label to identify the text track\n     * @param {String=} language Two letter language abbreviation\n     * @return {TextTrackObject}\n     * @method addTextTrack\n     */\n\n    Html5.prototype.addTextTrack = function addTextTrack(kind, label, language) {\n      if (!this['featuresNativeTextTracks']) {\n        return _Tech.prototype.addTextTrack.call(this, kind, label, language);\n      }\n\n      return this.el_.addTextTrack(kind, label, language);\n    };\n\n    /**\n     * Creates a remote text track object and returns a html track element\n     *\n     * @param {Object} options The object should contain values for\n     * kind, language, label and src (location of the WebVTT file)\n     * @return {HTMLTrackElement}\n     * @method addRemoteTextTrack\n     */\n\n    Html5.prototype.addRemoteTextTrack = function addRemoteTextTrack() {\n      var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n      if (!this['featuresNativeTextTracks']) {\n        return _Tech.prototype.addRemoteTextTrack.call(this, options);\n      }\n\n      var htmlTrackElement = _globalDocument2['default'].createElement('track');\n\n      if (options.kind) {\n        htmlTrackElement.kind = options.kind;\n      }\n      if (options.label) {\n        htmlTrackElement.label = options.label;\n      }\n      if (options.language || options.srclang) {\n        htmlTrackElement.srclang = options.language || options.srclang;\n      }\n      if (options['default']) {\n        htmlTrackElement['default'] = options['default'];\n      }\n      if (options.id) {\n        htmlTrackElement.id = options.id;\n      }\n      if (options.src) {\n        htmlTrackElement.src = options.src;\n      }\n\n      this.el().appendChild(htmlTrackElement);\n\n      // store HTMLTrackElement and TextTrack to remote list\n      this.remoteTextTrackEls().addTrackElement_(htmlTrackElement);\n      this.remoteTextTracks().addTrack_(htmlTrackElement.track);\n\n      return htmlTrackElement;\n    };\n\n    /**\n     * Remove remote text track from TextTrackList object\n     *\n     * @param {TextTrackObject} track Texttrack object to remove\n     * @method removeRemoteTextTrack\n     */\n\n    Html5.prototype.removeRemoteTextTrack = function removeRemoteTextTrack(track) {\n      if (!this['featuresNativeTextTracks']) {\n        return _Tech.prototype.removeRemoteTextTrack.call(this, track);\n      }\n\n      var tracks = undefined,\n        i = undefined;\n\n      var trackElement = this.remoteTextTrackEls().getTrackElementByTrack_(track);\n\n      // remove HTMLTrackElement and TextTrack from remote list\n      this.remoteTextTrackEls().removeTrackElement_(trackElement);\n      this.remoteTextTracks().removeTrack_(track);\n\n      tracks = this.$$('track');\n\n      i = tracks.length;\n      while (i--) {\n        if (track === tracks[i] || track === tracks[i].track) {\n          this.el().removeChild(tracks[i]);\n        }\n      }\n    };\n\n    return Html5;\n  })(_techJs2['default']);\n\n  Html5.TEST_VID = _globalDocument2['default'].createElement('video');\n  var track = _globalDocument2['default'].createElement('track');\n  track.kind = 'captions';\n  track.srclang = 'en';\n  track.label = 'English';\n  Html5.TEST_VID.appendChild(track);\n\n  /*\n   * Check if HTML5 video is supported by this browser/device\n   *\n   * @return {Boolean}\n   */\n  Html5.isSupported = function () {\n    // IE9 with no Media Player is a LIAR! (#984)\n    try {\n      Html5.TEST_VID['volume'] = 0.5;\n    } catch (e) {\n      return false;\n    }\n\n    return !!Html5.TEST_VID.canPlayType;\n  };\n\n// Add Source Handler pattern functions to this tech\n  _techJs2['default'].withSourceHandlers(Html5);\n\n  /*\n   * The default native source handler.\n   * This simply passes the source to the video element. Nothing fancy.\n   *\n   * @param  {Object} source   The source object\n   * @param  {Html5} tech  The instance of the HTML5 tech\n   */\n  Html5.nativeSourceHandler = {};\n\n  /*\n   * Check if the video element can play the given videotype\n   *\n   * @param  {String} type    The mimetype to check\n   * @return {String}         'probably', 'maybe', or '' (empty string)\n   */\n  Html5.nativeSourceHandler.canPlayType = function (type) {\n    // IE9 on Windows 7 without MediaPlayer throws an error here\n    // https://github.com/videojs/video.js/issues/519\n    try {\n      return Html5.TEST_VID.canPlayType(type);\n    } catch (e) {\n      return '';\n    }\n  };\n\n  /*\n   * Check if the video element can handle the source natively\n   *\n   * @param  {Object} source  The source object\n   * @return {String}         'probably', 'maybe', or '' (empty string)\n   */\n  Html5.nativeSourceHandler.canHandleSource = function (source) {\n    var match, ext;\n\n    // If a type was provided we should rely on that\n    if (source.type) {\n      return Html5.nativeSourceHandler.canPlayType(source.type);\n    } else if (source.src) {\n      // If no type, fall back to checking 'video/[EXTENSION]'\n      ext = Url.getFileExtension(source.src);\n\n      return Html5.nativeSourceHandler.canPlayType('video/' + ext);\n    }\n\n    return '';\n  };\n\n  /*\n   * Pass the source to the video element\n   * Adaptive source handlers will have more complicated workflows before passing\n   * video data to the video element\n   *\n   * @param  {Object} source   The source object\n   * @param  {Html5}  tech     The instance of the Html5 tech\n   * @param  {Object} options  The options to pass to the source\n   */\n  Html5.nativeSourceHandler.handleSource = function (source, tech, options) {\n    tech.setSrc(source.src);\n  };\n\n  /*\n   * Clean up the source handler when disposing the player or switching sources..\n   * (no cleanup is needed when supporting the format natively)\n   */\n  Html5.nativeSourceHandler.dispose = function () {};\n\n// Register the native source handler\n  Html5.registerSourceHandler(Html5.nativeSourceHandler);\n\n  /*\n   * Check if the volume can be changed in this browser/device.\n   * Volume cannot be changed in a lot of mobile devices.\n   * Specifically, it can't be changed from 1 on iOS.\n   *\n   * @return {Boolean}\n   */\n  Html5.canControlVolume = function () {\n    // IE will error if Windows Media Player not installed #3315\n    try {\n      var volume = Html5.TEST_VID.volume;\n      Html5.TEST_VID.volume = volume / 2 + 0.1;\n      return volume !== Html5.TEST_VID.volume;\n    } catch (e) {\n      return false;\n    }\n  };\n\n  /*\n   * Check if playbackRate is supported in this browser/device.\n   *\n   * @return {Boolean}\n   */\n  Html5.canControlPlaybackRate = function () {\n    // Playback rate API is implemented in Android Chrome, but doesn't do anything\n    // https://github.com/videojs/video.js/issues/3180\n    if (browser.IS_ANDROID && browser.IS_CHROME) {\n      return false;\n    }\n    // IE will error if Windows Media Player not installed #3315\n    try {\n      var playbackRate = Html5.TEST_VID.playbackRate;\n      Html5.TEST_VID.playbackRate = playbackRate / 2 + 0.1;\n      return playbackRate !== Html5.TEST_VID.playbackRate;\n    } catch (e) {\n      return false;\n    }\n  };\n\n  /*\n   * Check to see if native text tracks are supported by this browser/device\n   *\n   * @return {Boolean}\n   */\n  Html5.supportsNativeTextTracks = function () {\n    var supportsTextTracks;\n\n    // Figure out native text track support\n    // If mode is a number, we cannot change it because it'll disappear from view.\n    // Browsers with numeric modes include IE10 and older (<=2013) samsung android models.\n    // Firefox isn't playing nice either with modifying the mode\n    // TODO: Investigate firefox: https://github.com/videojs/video.js/issues/1862\n    supportsTextTracks = !!Html5.TEST_VID.textTracks;\n    if (supportsTextTracks && Html5.TEST_VID.textTracks.length > 0) {\n      supportsTextTracks = typeof Html5.TEST_VID.textTracks[0]['mode'] !== 'number';\n    }\n    if (supportsTextTracks && browser.IS_FIREFOX) {\n      supportsTextTracks = false;\n    }\n    if (supportsTextTracks && !('onremovetrack' in Html5.TEST_VID.textTracks)) {\n      supportsTextTracks = false;\n    }\n\n    return supportsTextTracks;\n  };\n\n  /*\n   * Check to see if native video tracks are supported by this browser/device\n   *\n   * @return {Boolean}\n   */\n  Html5.supportsNativeVideoTracks = function () {\n    var supportsVideoTracks = !!Html5.TEST_VID.videoTracks;\n    return supportsVideoTracks;\n  };\n\n  /*\n   * Check to see if native audio tracks are supported by this browser/device\n   *\n   * @return {Boolean}\n   */\n  Html5.supportsNativeAudioTracks = function () {\n    var supportsAudioTracks = !!Html5.TEST_VID.audioTracks;\n    return supportsAudioTracks;\n  };\n\n  /**\n   * An array of events available on the Html5 tech.\n   *\n   * @private\n   * @type {Array}\n   */\n  Html5.Events = ['loadstart', 'suspend', 'abort', 'error', 'emptied', 'stalled', 'loadedmetadata', 'loadeddata', 'canplay', 'canplaythrough', 'playing', 'waiting', 'seeking', 'seeked', 'ended', 'durationchange', 'timeupdate', 'progress', 'play', 'pause', 'ratechange', 'volumechange'];\n\n  /*\n   * Set the tech's volume control support status\n   *\n   * @type {Boolean}\n   */\n  Html5.prototype['featuresVolumeControl'] = Html5.canControlVolume();\n\n  /*\n   * Set the tech's playbackRate support status\n   *\n   * @type {Boolean}\n   */\n  Html5.prototype['featuresPlaybackRate'] = Html5.canControlPlaybackRate();\n\n  /*\n   * Set the tech's status on moving the video element.\n   * In iOS, if you move a video element in the DOM, it breaks video playback.\n   *\n   * @type {Boolean}\n   */\n  Html5.prototype['movingMediaElementInDOM'] = !browser.IS_IOS;\n\n  /*\n   * Set the the tech's fullscreen resize support status.\n   * HTML video is able to automatically resize when going to fullscreen.\n   * (No longer appears to be used. Can probably be removed.)\n   */\n  Html5.prototype['featuresFullscreenResize'] = true;\n\n  /*\n   * Set the tech's progress event support status\n   * (this disables the manual progress events of the Tech)\n   */\n  Html5.prototype['featuresProgressEvents'] = true;\n\n  /*\n   * Sets the tech's status on native text track support\n   *\n   * @type {Boolean}\n   */\n  Html5.prototype['featuresNativeTextTracks'] = Html5.supportsNativeTextTracks();\n\n  /**\n   * Sets the tech's status on native text track support\n   *\n   * @type {Boolean}\n   */\n  Html5.prototype['featuresNativeVideoTracks'] = Html5.supportsNativeVideoTracks();\n\n  /**\n   * Sets the tech's status on native audio track support\n   *\n   * @type {Boolean}\n   */\n  Html5.prototype['featuresNativeAudioTracks'] = Html5.supportsNativeAudioTracks();\n\n// HTML5 Feature detection and Device Fixes --------------------------------- //\n  var canPlayType = undefined;\n  var mpegurlRE = /^application\\/(?:x-|vnd\\.apple\\.)mpegurl/i;\n  var mp4RE = /^video\\/mp4/i;\n\n  Html5.patchCanPlayType = function () {\n    // Android 4.0 and above can play HLS to some extent but it reports being unable to do so\n    if (browser.ANDROID_VERSION >= 4.0) {\n      if (!canPlayType) {\n        canPlayType = Html5.TEST_VID.constructor.prototype.canPlayType;\n      }\n\n      Html5.TEST_VID.constructor.prototype.canPlayType = function (type) {\n        if (type && mpegurlRE.test(type)) {\n          return 'maybe';\n        }\n        return canPlayType.call(this, type);\n      };\n    }\n\n    // Override Android 2.2 and less canPlayType method which is broken\n    if (browser.IS_OLD_ANDROID) {\n      if (!canPlayType) {\n        canPlayType = Html5.TEST_VID.constructor.prototype.canPlayType;\n      }\n\n      Html5.TEST_VID.constructor.prototype.canPlayType = function (type) {\n        if (type && mp4RE.test(type)) {\n          return 'maybe';\n        }\n        return canPlayType.call(this, type);\n      };\n    }\n  };\n\n  Html5.unpatchCanPlayType = function () {\n    var r = Html5.TEST_VID.constructor.prototype.canPlayType;\n    Html5.TEST_VID.constructor.prototype.canPlayType = canPlayType;\n    canPlayType = null;\n    return r;\n  };\n\n// by default, patch the video element\n  Html5.patchCanPlayType();\n\n  Html5.disposeMediaElement = function (el) {\n    if (!el) {\n      return;\n    }\n\n    if (el.parentNode) {\n      el.parentNode.removeChild(el);\n    }\n\n    // remove any child track or source nodes to prevent their loading\n    while (el.hasChildNodes()) {\n      el.removeChild(el.firstChild);\n    }\n\n    // remove any src reference. not setting `src=''` because that causes a warning\n    // in firefox\n    el.removeAttribute('src');\n\n    // force the media element to update its loading state by calling load()\n    // however IE on Windows 7N has a bug that throws an error so need a try/catch (#793)\n    if (typeof el.load === 'function') {\n      // wrapping in an iife so it's not deoptimized (#1060#discussion_r10324473)\n      (function () {\n        try {\n          el.load();\n        } catch (e) {\n          // not supported\n        }\n      })();\n    }\n  };\n\n  Html5.resetMediaElement = function (el) {\n    if (!el) {\n      return;\n    }\n\n    var sources = el.querySelectorAll('source');\n    var i = sources.length;\n    while (i--) {\n      el.removeChild(sources[i]);\n    }\n\n    // remove any src reference.\n    // not setting `src=''` because that throws an error\n    el.removeAttribute('src');\n\n    if (typeof el.load === 'function') {\n      // wrapping in an iife so it's not deoptimized (#1060#discussion_r10324473)\n      (function () {\n        try {\n          el.load();\n        } catch (e) {}\n      })();\n    }\n  };\n\n  _component2['default'].registerComponent('Html5', Html5);\n  _techJs2['default'].registerTech('Html5', Html5);\n  exports['default'] = Html5;\n  module.exports = exports['default'];\n\n},{\"../../../src/js/tracks/text-track.js\":134,\"../component\":67,\"../utils/browser.js\":140,\"../utils/dom.js\":143,\"../utils/fn.js\":145,\"../utils/log.js\":148,\"../utils/merge-options.js\":149,\"../utils/to-title-case.js\":152,\"../utils/url.js\":153,\"./tech.js\":124,\"global/document\":1,\"global/window\":2,\"object.assign\":45,\"tsml\":55}],123:[function(_dereq_,module,exports){\n  /**\n   * @file loader.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _componentJs = _dereq_('../component.js');\n\n  var _componentJs2 = _interopRequireDefault(_componentJs);\n\n  var _techJs = _dereq_('./tech.js');\n\n  var _techJs2 = _interopRequireDefault(_techJs);\n\n  var _globalWindow = _dereq_('global/window');\n\n  var _globalWindow2 = _interopRequireDefault(_globalWindow);\n\n  var _utilsToTitleCaseJs = _dereq_('../utils/to-title-case.js');\n\n  var _utilsToTitleCaseJs2 = _interopRequireDefault(_utilsToTitleCaseJs);\n\n  /**\n   * The Media Loader is the component that decides which playback technology to load\n   * when the player is initialized.\n   *\n   * @param {Object} player  Main Player\n   * @param {Object=} options Object of option names and values\n   * @param {Function=} ready    Ready callback function\n   * @extends Component\n   * @class MediaLoader\n   */\n\n  var MediaLoader = (function (_Component) {\n    _inherits(MediaLoader, _Component);\n\n    function MediaLoader(player, options, ready) {\n      _classCallCheck(this, MediaLoader);\n\n      _Component.call(this, player, options, ready);\n\n      // If there are no sources when the player is initialized,\n      // load the first supported playback technology.\n\n      if (!options.playerOptions['sources'] || options.playerOptions['sources'].length === 0) {\n        for (var i = 0, j = options.playerOptions['techOrder']; i < j.length; i++) {\n          var techName = _utilsToTitleCaseJs2['default'](j[i]);\n          var tech = _techJs2['default'].getTech(techName);\n          // Support old behavior of techs being registered as components.\n          // Remove once that deprecated behavior is removed.\n          if (!techName) {\n            tech = _componentJs2['default'].getComponent(techName);\n          }\n\n          // Check if the browser supports this technology\n          if (tech && tech.isSupported()) {\n            player.loadTech_(techName);\n            break;\n          }\n        }\n      } else {\n        // // Loop through playback technologies (HTML5, Flash) and check for support.\n        // // Then load the best source.\n        // // A few assumptions here:\n        // //   All playback technologies respect preload false.\n        player.src(options.playerOptions['sources']);\n      }\n    }\n\n    return MediaLoader;\n  })(_componentJs2['default']);\n\n  _componentJs2['default'].registerComponent('MediaLoader', MediaLoader);\n  exports['default'] = MediaLoader;\n  module.exports = exports['default'];\n\n},{\"../component.js\":67,\"../utils/to-title-case.js\":152,\"./tech.js\":124,\"global/window\":2}],124:[function(_dereq_,module,exports){\n  /**\n   * @file tech.js\n   * Media Technology Controller - Base class for media playback\n   * technology controllers like Flash and HTML5\n   */\n\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _component = _dereq_('../component');\n\n  var _component2 = _interopRequireDefault(_component);\n\n  var _tracksHtmlTrackElement = _dereq_('../tracks/html-track-element');\n\n  var _tracksHtmlTrackElement2 = _interopRequireDefault(_tracksHtmlTrackElement);\n\n  var _tracksHtmlTrackElementList = _dereq_('../tracks/html-track-element-list');\n\n  var _tracksHtmlTrackElementList2 = _interopRequireDefault(_tracksHtmlTrackElementList);\n\n  var _utilsMergeOptionsJs = _dereq_('../utils/merge-options.js');\n\n  var _utilsMergeOptionsJs2 = _interopRequireDefault(_utilsMergeOptionsJs);\n\n  var _tracksTextTrack = _dereq_('../tracks/text-track');\n\n  var _tracksTextTrack2 = _interopRequireDefault(_tracksTextTrack);\n\n  var _tracksTextTrackList = _dereq_('../tracks/text-track-list');\n\n  var _tracksTextTrackList2 = _interopRequireDefault(_tracksTextTrackList);\n\n  var _tracksVideoTrack = _dereq_('../tracks/video-track');\n\n  var _tracksVideoTrack2 = _interopRequireDefault(_tracksVideoTrack);\n\n  var _tracksVideoTrackList = _dereq_('../tracks/video-track-list');\n\n  var _tracksVideoTrackList2 = _interopRequireDefault(_tracksVideoTrackList);\n\n  var _tracksAudioTrackList = _dereq_('../tracks/audio-track-list');\n\n  var _tracksAudioTrackList2 = _interopRequireDefault(_tracksAudioTrackList);\n\n  var _tracksAudioTrack = _dereq_('../tracks/audio-track');\n\n  var _tracksAudioTrack2 = _interopRequireDefault(_tracksAudioTrack);\n\n  var _utilsFnJs = _dereq_('../utils/fn.js');\n\n  var Fn = _interopRequireWildcard(_utilsFnJs);\n\n  var _utilsLogJs = _dereq_('../utils/log.js');\n\n  var _utilsLogJs2 = _interopRequireDefault(_utilsLogJs);\n\n  var _utilsTimeRangesJs = _dereq_('../utils/time-ranges.js');\n\n  var _utilsBufferJs = _dereq_('../utils/buffer.js');\n\n  var _mediaErrorJs = _dereq_('../media-error.js');\n\n  var _mediaErrorJs2 = _interopRequireDefault(_mediaErrorJs);\n\n  var _globalWindow = _dereq_('global/window');\n\n  var _globalWindow2 = _interopRequireDefault(_globalWindow);\n\n  var _globalDocument = _dereq_('global/document');\n\n  var _globalDocument2 = _interopRequireDefault(_globalDocument);\n\n  /**\n   * Base class for media (HTML5 Video, Flash) controllers\n   *\n   * @param {Object=} options Options object\n   * @param {Function=} ready Ready callback function\n   * @extends Component\n   * @class Tech\n   */\n\n  var Tech = (function (_Component) {\n    _inherits(Tech, _Component);\n\n    function Tech() {\n      var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n      var ready = arguments.length <= 1 || arguments[1] === undefined ? function () {} : arguments[1];\n\n      _classCallCheck(this, Tech);\n\n      // we don't want the tech to report user activity automatically.\n      // This is done manually in addControlsListeners\n      options.reportTouchActivity = false;\n      _Component.call(this, null, options, ready);\n\n      // keep track of whether the current source has played at all to\n      // implement a very limited played()\n      this.hasStarted_ = false;\n      this.on('playing', function () {\n        this.hasStarted_ = true;\n      });\n      this.on('loadstart', function () {\n        this.hasStarted_ = false;\n      });\n\n      this.textTracks_ = options.textTracks;\n      this.videoTracks_ = options.videoTracks;\n      this.audioTracks_ = options.audioTracks;\n\n      // Manually track progress in cases where the browser/flash player doesn't report it.\n      if (!this.featuresProgressEvents) {\n        this.manualProgressOn();\n      }\n\n      // Manually track timeupdates in cases where the browser/flash player doesn't report it.\n      if (!this.featuresTimeupdateEvents) {\n        this.manualTimeUpdatesOn();\n      }\n\n      if (options.nativeCaptions === false || options.nativeTextTracks === false) {\n        this.featuresNativeTextTracks = false;\n      }\n\n      if (!this.featuresNativeTextTracks) {\n        this.on('ready', this.emulateTextTracks);\n      }\n\n      this.initTextTrackListeners();\n      this.initTrackListeners();\n\n      // Turn on component tap events\n      this.emitTapEvents();\n    }\n\n    /**\n     * List of associated text tracks\n     *\n     * @type {TextTrackList}\n     * @private\n     */\n\n    /* Fallbacks for unsupported event types\n     ================================================================================ */\n    // Manually trigger progress events based on changes to the buffered amount\n    // Many flash players and older HTML5 browsers don't send progress or progress-like events\n    /**\n     * Turn on progress events\n     *\n     * @method manualProgressOn\n     */\n\n    Tech.prototype.manualProgressOn = function manualProgressOn() {\n      this.on('durationchange', this.onDurationChange);\n\n      this.manualProgress = true;\n\n      // Trigger progress watching when a source begins loading\n      this.one('ready', this.trackProgress);\n    };\n\n    /**\n     * Turn off progress events\n     *\n     * @method manualProgressOff\n     */\n\n    Tech.prototype.manualProgressOff = function manualProgressOff() {\n      this.manualProgress = false;\n      this.stopTrackingProgress();\n\n      this.off('durationchange', this.onDurationChange);\n    };\n\n    /**\n     * Track progress\n     *\n     * @method trackProgress\n     */\n\n    Tech.prototype.trackProgress = function trackProgress() {\n      this.stopTrackingProgress();\n      this.progressInterval = this.setInterval(Fn.bind(this, function () {\n        // Don't trigger unless buffered amount is greater than last time\n\n        var numBufferedPercent = this.bufferedPercent();\n\n        if (this.bufferedPercent_ !== numBufferedPercent) {\n          this.trigger('progress');\n        }\n\n        this.bufferedPercent_ = numBufferedPercent;\n\n        if (numBufferedPercent === 1) {\n          this.stopTrackingProgress();\n        }\n      }), 500);\n    };\n\n    /**\n     * Update duration\n     *\n     * @method onDurationChange\n     */\n\n    Tech.prototype.onDurationChange = function onDurationChange() {\n      this.duration_ = this.duration();\n    };\n\n    /**\n     * Create and get TimeRange object for buffering\n     *\n     * @return {TimeRangeObject}\n     * @method buffered\n     */\n\n    Tech.prototype.buffered = function buffered() {\n      return _utilsTimeRangesJs.createTimeRange(0, 0);\n    };\n\n    /**\n     * Get buffered percent\n     *\n     * @return {Number}\n     * @method bufferedPercent\n     */\n\n    Tech.prototype.bufferedPercent = function bufferedPercent() {\n      return _utilsBufferJs.bufferedPercent(this.buffered(), this.duration_);\n    };\n\n    /**\n     * Stops tracking progress by clearing progress interval\n     *\n     * @method stopTrackingProgress\n     */\n\n    Tech.prototype.stopTrackingProgress = function stopTrackingProgress() {\n      this.clearInterval(this.progressInterval);\n    };\n\n    /*! Time Tracking -------------------------------------------------------------- */\n    /**\n     * Set event listeners for on play and pause and tracking current time\n     *\n     * @method manualTimeUpdatesOn\n     */\n\n    Tech.prototype.manualTimeUpdatesOn = function manualTimeUpdatesOn() {\n      this.manualTimeUpdates = true;\n\n      this.on('play', this.trackCurrentTime);\n      this.on('pause', this.stopTrackingCurrentTime);\n    };\n\n    /**\n     * Remove event listeners for on play and pause and tracking current time\n     *\n     * @method manualTimeUpdatesOff\n     */\n\n    Tech.prototype.manualTimeUpdatesOff = function manualTimeUpdatesOff() {\n      this.manualTimeUpdates = false;\n      this.stopTrackingCurrentTime();\n      this.off('play', this.trackCurrentTime);\n      this.off('pause', this.stopTrackingCurrentTime);\n    };\n\n    /**\n     * Tracks current time\n     *\n     * @method trackCurrentTime\n     */\n\n    Tech.prototype.trackCurrentTime = function trackCurrentTime() {\n      if (this.currentTimeInterval) {\n        this.stopTrackingCurrentTime();\n      }\n      this.currentTimeInterval = this.setInterval(function () {\n        this.trigger({ type: 'timeupdate', target: this, manuallyTriggered: true });\n      }, 250); // 42 = 24 fps // 250 is what Webkit uses // FF uses 15\n    };\n\n    /**\n     * Turn off play progress tracking (when paused or dragging)\n     *\n     * @method stopTrackingCurrentTime\n     */\n\n    Tech.prototype.stopTrackingCurrentTime = function stopTrackingCurrentTime() {\n      this.clearInterval(this.currentTimeInterval);\n\n      // #1002 - if the video ends right before the next timeupdate would happen,\n      // the progress bar won't make it all the way to the end\n      this.trigger({ type: 'timeupdate', target: this, manuallyTriggered: true });\n    };\n\n    /**\n     * Turn off any manual progress or timeupdate tracking\n     *\n     * @method dispose\n     */\n\n    Tech.prototype.dispose = function dispose() {\n\n      // clear out all tracks because we can't reuse them between techs\n      this.clearTracks(['audio', 'video', 'text']);\n\n      // Turn off any manual progress or timeupdate tracking\n      if (this.manualProgress) {\n        this.manualProgressOff();\n      }\n\n      if (this.manualTimeUpdates) {\n        this.manualTimeUpdatesOff();\n      }\n\n      _Component.prototype.dispose.call(this);\n    };\n\n    /**\n     * clear out a track list, or multiple track lists\n     *\n     * Note: Techs without source handlers should call this between\n     * sources for video & audio tracks, as usually you don't want\n     * to use them between tracks and we have no automatic way to do\n     * it for you\n     *\n     * @method clearTracks\n     * @param {Array|String} types type(s) of track lists to empty\n     */\n\n    Tech.prototype.clearTracks = function clearTracks(types) {\n      var _this = this;\n\n      types = [].concat(types);\n      // clear out all tracks because we can't reuse them between techs\n      types.forEach(function (type) {\n        var list = _this[type + 'Tracks']() || [];\n        var i = list.length;\n        while (i--) {\n          var track = list[i];\n          if (type === 'text') {\n            _this.removeRemoteTextTrack(track);\n          }\n          list.removeTrack_(track);\n        }\n      });\n    };\n\n    /**\n     * Reset the tech. Removes all sources and resets readyState.\n     *\n     * @method reset\n     */\n\n    Tech.prototype.reset = function reset() {};\n\n    /**\n     * When invoked without an argument, returns a MediaError object\n     * representing the current error state of the player or null if\n     * there is no error. When invoked with an argument, set the current\n     * error state of the player.\n     * @param {MediaError=} err    Optional an error object\n     * @return {MediaError}        the current error object or null\n     * @method error\n     */\n\n    Tech.prototype.error = function error(err) {\n      if (err !== undefined) {\n        if (err instanceof _mediaErrorJs2['default']) {\n          this.error_ = err;\n        } else {\n          this.error_ = new _mediaErrorJs2['default'](err);\n        }\n        this.trigger('error');\n      }\n      return this.error_;\n    };\n\n    /**\n     * Return the time ranges that have been played through for the\n     * current source. This implementation is incomplete. It does not\n     * track the played time ranges, only whether the source has played\n     * at all or not.\n     * @return {TimeRangeObject} a single time range if this video has\n     * played or an empty set of ranges if not.\n     * @method played\n     */\n\n    Tech.prototype.played = function played() {\n      if (this.hasStarted_) {\n        return _utilsTimeRangesJs.createTimeRange(0, 0);\n      }\n      return _utilsTimeRangesJs.createTimeRange();\n    };\n\n    /**\n     * Set current time\n     *\n     * @method setCurrentTime\n     */\n\n    Tech.prototype.setCurrentTime = function setCurrentTime() {\n      // improve the accuracy of manual timeupdates\n      if (this.manualTimeUpdates) {\n        this.trigger({ type: 'timeupdate', target: this, manuallyTriggered: true });\n      }\n    };\n\n    /**\n     * Initialize texttrack listeners\n     *\n     * @method initTextTrackListeners\n     */\n\n    Tech.prototype.initTextTrackListeners = function initTextTrackListeners() {\n      var textTrackListChanges = Fn.bind(this, function () {\n        this.trigger('texttrackchange');\n      });\n\n      var tracks = this.textTracks();\n\n      if (!tracks) return;\n\n      tracks.addEventListener('removetrack', textTrackListChanges);\n      tracks.addEventListener('addtrack', textTrackListChanges);\n\n      this.on('dispose', Fn.bind(this, function () {\n        tracks.removeEventListener('removetrack', textTrackListChanges);\n        tracks.removeEventListener('addtrack', textTrackListChanges);\n      }));\n    };\n\n    /**\n     * Initialize audio and video track listeners\n     *\n     * @method initTrackListeners\n     */\n\n    Tech.prototype.initTrackListeners = function initTrackListeners() {\n      var _this2 = this;\n\n      var trackTypes = ['video', 'audio'];\n\n      trackTypes.forEach(function (type) {\n        var trackListChanges = function trackListChanges() {\n          _this2.trigger(type + 'trackchange');\n        };\n\n        var tracks = _this2[type + 'Tracks']();\n\n        tracks.addEventListener('removetrack', trackListChanges);\n        tracks.addEventListener('addtrack', trackListChanges);\n\n        _this2.on('dispose', function () {\n          tracks.removeEventListener('removetrack', trackListChanges);\n          tracks.removeEventListener('addtrack', trackListChanges);\n        });\n      });\n    };\n\n    /**\n     * Emulate texttracks\n     *\n     * @method emulateTextTracks\n     */\n\n    Tech.prototype.emulateTextTracks = function emulateTextTracks() {\n      var _this3 = this;\n\n      var tracks = this.textTracks();\n      if (!tracks) {\n        return;\n      }\n\n      if (!_globalWindow2['default']['WebVTT'] && this.el().parentNode != null) {\n        (function () {\n          var script = _globalDocument2['default'].createElement('script');\n          script.src = _this3.options_['vtt.js'] || 'https://cdn.rawgit.com/gkatsev/vtt.js/vjs-v0.12.1/dist/vtt.min.js';\n          script.onload = function () {\n            _this3.trigger('vttjsloaded');\n          };\n          script.onerror = function () {\n            _this3.trigger('vttjserror');\n          };\n          _this3.on('dispose', function () {\n            script.onload = null;\n            script.onerror = null;\n          });\n          // but have not loaded yet and we set it to true before the inject so that\n          // we don't overwrite the injected window.WebVTT if it loads right away\n          _globalWindow2['default']['WebVTT'] = true;\n          _this3.el().parentNode.appendChild(script);\n        })();\n      }\n\n      var updateDisplay = function updateDisplay() {\n        return _this3.trigger('texttrackchange');\n      };\n      var textTracksChanges = function textTracksChanges() {\n        updateDisplay();\n\n        for (var i = 0; i < tracks.length; i++) {\n          var track = tracks[i];\n          track.removeEventListener('cuechange', updateDisplay);\n          if (track.mode === 'showing') {\n            track.addEventListener('cuechange', updateDisplay);\n          }\n        }\n      };\n\n      textTracksChanges();\n      tracks.addEventListener('change', textTracksChanges);\n\n      this.on('dispose', function () {\n        tracks.removeEventListener('change', textTracksChanges);\n      });\n    };\n\n    /**\n     * Get videotracks\n     *\n     * @returns {VideoTrackList}\n     * @method videoTracks\n     */\n\n    Tech.prototype.videoTracks = function videoTracks() {\n      this.videoTracks_ = this.videoTracks_ || new _tracksVideoTrackList2['default']();\n      return this.videoTracks_;\n    };\n\n    /**\n     * Get audiotracklist\n     *\n     * @returns {AudioTrackList}\n     * @method audioTracks\n     */\n\n    Tech.prototype.audioTracks = function audioTracks() {\n      this.audioTracks_ = this.audioTracks_ || new _tracksAudioTrackList2['default']();\n      return this.audioTracks_;\n    };\n\n    /*\n     * Provide default methods for text tracks.\n     *\n     * Html5 tech overrides these.\n     */\n\n    /**\n     * Get texttracks\n     *\n     * @returns {TextTrackList}\n     * @method textTracks\n     */\n\n    Tech.prototype.textTracks = function textTracks() {\n      this.textTracks_ = this.textTracks_ || new _tracksTextTrackList2['default']();\n      return this.textTracks_;\n    };\n\n    /**\n     * Get remote texttracks\n     *\n     * @returns {TextTrackList}\n     * @method remoteTextTracks\n     */\n\n    Tech.prototype.remoteTextTracks = function remoteTextTracks() {\n      this.remoteTextTracks_ = this.remoteTextTracks_ || new _tracksTextTrackList2['default']();\n      return this.remoteTextTracks_;\n    };\n\n    /**\n     * Get remote htmltrackelements\n     *\n     * @returns {HTMLTrackElementList}\n     * @method remoteTextTrackEls\n     */\n\n    Tech.prototype.remoteTextTrackEls = function remoteTextTrackEls() {\n      this.remoteTextTrackEls_ = this.remoteTextTrackEls_ || new _tracksHtmlTrackElementList2['default']();\n      return this.remoteTextTrackEls_;\n    };\n\n    /**\n     * Creates and returns a remote text track object\n     *\n     * @param {String} kind Text track kind (subtitles, captions, descriptions\n     *                                       chapters and metadata)\n     * @param {String=} label Label to identify the text track\n     * @param {String=} language Two letter language abbreviation\n     * @return {TextTrackObject}\n     * @method addTextTrack\n     */\n\n    Tech.prototype.addTextTrack = function addTextTrack(kind, label, language) {\n      if (!kind) {\n        throw new Error('TextTrack kind is required but was not provided');\n      }\n\n      return createTrackHelper(this, kind, label, language);\n    };\n\n    /**\n     * Creates a remote text track object and returns a emulated html track element\n     *\n     * @param {Object} options The object should contain values for\n     * kind, language, label and src (location of the WebVTT file)\n     * @return {HTMLTrackElement}\n     * @method addRemoteTextTrack\n     */\n\n    Tech.prototype.addRemoteTextTrack = function addRemoteTextTrack(options) {\n      var track = _utilsMergeOptionsJs2['default'](options, {\n        tech: this\n      });\n\n      var htmlTrackElement = new _tracksHtmlTrackElement2['default'](track);\n\n      // store HTMLTrackElement and TextTrack to remote list\n      this.remoteTextTrackEls().addTrackElement_(htmlTrackElement);\n      this.remoteTextTracks().addTrack_(htmlTrackElement.track);\n\n      // must come after remoteTextTracks()\n      this.textTracks().addTrack_(htmlTrackElement.track);\n\n      return htmlTrackElement;\n    };\n\n    /**\n     * Remove remote texttrack\n     *\n     * @param {TextTrackObject} track Texttrack to remove\n     * @method removeRemoteTextTrack\n     */\n\n    Tech.prototype.removeRemoteTextTrack = function removeRemoteTextTrack(track) {\n      this.textTracks().removeTrack_(track);\n\n      var trackElement = this.remoteTextTrackEls().getTrackElementByTrack_(track);\n\n      // remove HTMLTrackElement and TextTrack from remote list\n      this.remoteTextTrackEls().removeTrackElement_(trackElement);\n      this.remoteTextTracks().removeTrack_(track);\n    };\n\n    /**\n     * Provide a default setPoster method for techs\n     * Poster support for techs should be optional, so we don't want techs to\n     * break if they don't have a way to set a poster.\n     *\n     * @method setPoster\n     */\n\n    Tech.prototype.setPoster = function setPoster() {};\n\n    /*\n     * Check if the tech can support the given type\n     *\n     * The base tech does not support any type, but source handlers might\n     * overwrite this.\n     *\n     * @param  {String} type    The mimetype to check\n     * @return {String}         'probably', 'maybe', or '' (empty string)\n     */\n\n    Tech.prototype.canPlayType = function canPlayType() {\n      return '';\n    };\n\n    /*\n     * Return whether the argument is a Tech or not.\n     * Can be passed either a Class like `Html5` or a instance like `player.tech_`\n     *\n     * @param {Object} component An item to check\n     * @return {Boolean}         Whether it is a tech or not\n     */\n\n    Tech.isTech = function isTech(component) {\n      return component.prototype instanceof Tech || component instanceof Tech || component === Tech;\n    };\n\n    /**\n     * Registers a Tech\n     *\n     * @param {String} name Name of the Tech to register\n     * @param {Object} tech The tech to register\n     * @static\n     * @method registerComponent\n     */\n\n    Tech.registerTech = function registerTech(name, tech) {\n      if (!Tech.techs_) {\n        Tech.techs_ = {};\n      }\n\n      if (!Tech.isTech(tech)) {\n        throw new Error('Tech ' + name + ' must be a Tech');\n      }\n\n      Tech.techs_[name] = tech;\n      return tech;\n    };\n\n    /**\n     * Gets a component by name\n     *\n     * @param {String} name Name of the component to get\n     * @return {Component}\n     * @static\n     * @method getComponent\n     */\n\n    Tech.getTech = function getTech(name) {\n      if (Tech.techs_ && Tech.techs_[name]) {\n        return Tech.techs_[name];\n      }\n\n      if (_globalWindow2['default'] && _globalWindow2['default'].videojs && _globalWindow2['default'].videojs[name]) {\n        _utilsLogJs2['default'].warn('The ' + name + ' tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)');\n        return _globalWindow2['default'].videojs[name];\n      }\n    };\n\n    return Tech;\n  })(_component2['default']);\n\n  Tech.prototype.textTracks_;\n\n  /**\n   * List of associated audio tracks\n   *\n   * @type {AudioTrackList}\n   * @private\n   */\n  Tech.prototype.audioTracks_;\n\n  /**\n   * List of associated video tracks\n   *\n   * @type {VideoTrackList}\n   * @private\n   */\n  Tech.prototype.videoTracks_;\n\n  var createTrackHelper = function createTrackHelper(self, kind, label, language) {\n    var options = arguments.length <= 4 || arguments[4] === undefined ? {} : arguments[4];\n\n    var tracks = self.textTracks();\n\n    options.kind = kind;\n\n    if (label) {\n      options.label = label;\n    }\n    if (language) {\n      options.language = language;\n    }\n    options.tech = self;\n\n    var track = new _tracksTextTrack2['default'](options);\n    tracks.addTrack_(track);\n\n    return track;\n  };\n\n  Tech.prototype.featuresVolumeControl = true;\n\n// Resizing plugins using request fullscreen reloads the plugin\n  Tech.prototype.featuresFullscreenResize = false;\n  Tech.prototype.featuresPlaybackRate = false;\n\n// Optional events that we can manually mimic with timers\n// currently not triggered by video-js-swf\n  Tech.prototype.featuresProgressEvents = false;\n  Tech.prototype.featuresTimeupdateEvents = false;\n\n  Tech.prototype.featuresNativeTextTracks = false;\n\n  /*\n   * A functional mixin for techs that want to use the Source Handler pattern.\n   *\n   * ##### EXAMPLE:\n   *\n   *   Tech.withSourceHandlers.call(MyTech);\n   *\n   */\n  Tech.withSourceHandlers = function (_Tech) {\n    /*\n     * Register a source handler\n     * Source handlers are scripts for handling specific formats.\n     * The source handler pattern is used for adaptive formats (HLS, DASH) that\n     * manually load video data and feed it into a Source Buffer (Media Source Extensions)\n     * @param  {Function} handler  The source handler\n     * @param  {Boolean}  first    Register it before any existing handlers\n     */\n    _Tech.registerSourceHandler = function (handler, index) {\n      var handlers = _Tech.sourceHandlers;\n\n      if (!handlers) {\n        handlers = _Tech.sourceHandlers = [];\n      }\n\n      if (index === undefined) {\n        // add to the end of the list\n        index = handlers.length;\n      }\n\n      handlers.splice(index, 0, handler);\n    };\n\n    /*\n     * Check if the tech can support the given type\n     * @param  {String} type    The mimetype to check\n     * @return {String}         'probably', 'maybe', or '' (empty string)\n     */\n    _Tech.canPlayType = function (type) {\n      var handlers = _Tech.sourceHandlers || [];\n      var can = undefined;\n\n      for (var i = 0; i < handlers.length; i++) {\n        can = handlers[i].canPlayType(type);\n\n        if (can) {\n          return can;\n        }\n      }\n\n      return '';\n    };\n\n    /*\n     * Return the first source handler that supports the source\n     * TODO: Answer question: should 'probably' be prioritized over 'maybe'\n     * @param  {Object} source The source object\n     * @returns {Object}       The first source handler that supports the source\n     * @returns {null}         Null if no source handler is found\n     */\n    _Tech.selectSourceHandler = function (source) {\n      var handlers = _Tech.sourceHandlers || [];\n      var can = undefined;\n\n      for (var i = 0; i < handlers.length; i++) {\n        can = handlers[i].canHandleSource(source);\n\n        if (can) {\n          return handlers[i];\n        }\n      }\n\n      return null;\n    };\n\n    /*\n     * Check if the tech can support the given source\n     * @param  {Object} srcObj  The source object\n     * @return {String}         'probably', 'maybe', or '' (empty string)\n     */\n    _Tech.canPlaySource = function (srcObj) {\n      var sh = _Tech.selectSourceHandler(srcObj);\n\n      if (sh) {\n        return sh.canHandleSource(srcObj);\n      }\n\n      return '';\n    };\n\n    /*\n     * When using a source handler, prefer its implementation of\n     * any function normally provided by the tech.\n     */\n    var deferrable = ['seekable', 'duration'];\n\n    deferrable.forEach(function (fnName) {\n      var originalFn = this[fnName];\n\n      if (typeof originalFn !== 'function') {\n        return;\n      }\n\n      this[fnName] = function () {\n        if (this.sourceHandler_ && this.sourceHandler_[fnName]) {\n          return this.sourceHandler_[fnName].apply(this.sourceHandler_, arguments);\n        }\n        return originalFn.apply(this, arguments);\n      };\n    }, _Tech.prototype);\n\n    /*\n     * Create a function for setting the source using a source object\n     * and source handlers.\n     * Should never be called unless a source handler was found.\n     * @param {Object} source  A source object with src and type keys\n     * @return {Tech} self\n     */\n    _Tech.prototype.setSource = function (source) {\n      var sh = _Tech.selectSourceHandler(source);\n\n      if (!sh) {\n        // Fall back to a native source hander when unsupported sources are\n        // deliberately set\n        if (_Tech.nativeSourceHandler) {\n          sh = _Tech.nativeSourceHandler;\n        } else {\n          _utilsLogJs2['default'].error('No source hander found for the current source.');\n        }\n      }\n\n      // Dispose any existing source handler\n      this.disposeSourceHandler();\n      this.off('dispose', this.disposeSourceHandler);\n\n      // if we have a source and get another one\n      // then we are loading something new\n      // than clear all of our current tracks\n      if (this.currentSource_) {\n        this.clearTracks(['audio', 'video']);\n\n        this.currentSource_ = null;\n      }\n\n      if (sh !== _Tech.nativeSourceHandler) {\n\n        this.currentSource_ = source;\n\n        // Catch if someone replaced the src without calling setSource.\n        // If they do, set currentSource_ to null and dispose our source handler.\n        this.off(this.el_, 'loadstart', _Tech.prototype.firstLoadStartListener_);\n        this.off(this.el_, 'loadstart', _Tech.prototype.successiveLoadStartListener_);\n        this.one(this.el_, 'loadstart', _Tech.prototype.firstLoadStartListener_);\n      }\n\n      this.sourceHandler_ = sh.handleSource(source, this, this.options_);\n      this.on('dispose', this.disposeSourceHandler);\n\n      return this;\n    };\n\n    // On the first loadstart after setSource\n    _Tech.prototype.firstLoadStartListener_ = function () {\n      this.one(this.el_, 'loadstart', _Tech.prototype.successiveLoadStartListener_);\n    };\n\n    // On successive loadstarts when setSource has not been called again\n    _Tech.prototype.successiveLoadStartListener_ = function () {\n      this.currentSource_ = null;\n      this.disposeSourceHandler();\n      this.one(this.el_, 'loadstart', _Tech.prototype.successiveLoadStartListener_);\n    };\n\n    /*\n     * Clean up any existing source handler\n     */\n    _Tech.prototype.disposeSourceHandler = function () {\n      if (this.sourceHandler_ && this.sourceHandler_.dispose) {\n        this.off(this.el_, 'loadstart', _Tech.prototype.firstLoadStartListener_);\n        this.off(this.el_, 'loadstart', _Tech.prototype.successiveLoadStartListener_);\n        this.sourceHandler_.dispose();\n        this.sourceHandler_ = null;\n      }\n    };\n  };\n\n  _component2['default'].registerComponent('Tech', Tech);\n// Old name for Tech\n  _component2['default'].registerComponent('MediaTechController', Tech);\n  Tech.registerTech('Tech', Tech);\n  exports['default'] = Tech;\n  module.exports = exports['default'];\n\n},{\"../component\":67,\"../media-error.js\":108,\"../tracks/audio-track\":126,\"../tracks/audio-track-list\":125,\"../tracks/html-track-element\":128,\"../tracks/html-track-element-list\":127,\"../tracks/text-track\":134,\"../tracks/text-track-list\":132,\"../tracks/video-track\":139,\"../tracks/video-track-list\":138,\"../utils/buffer.js\":141,\"../utils/fn.js\":145,\"../utils/log.js\":148,\"../utils/merge-options.js\":149,\"../utils/time-ranges.js\":151,\"global/document\":1,\"global/window\":2}],125:[function(_dereq_,module,exports){\n  /**\n   * @file audio-track-list.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _trackList = _dereq_('./track-list');\n\n  var _trackList2 = _interopRequireDefault(_trackList);\n\n  var _utilsBrowserJs = _dereq_('../utils/browser.js');\n\n  var browser = _interopRequireWildcard(_utilsBrowserJs);\n\n  var _globalDocument = _dereq_('global/document');\n\n  var _globalDocument2 = _interopRequireDefault(_globalDocument);\n\n  /**\n   * anywhere we call this function we diverge from the spec\n   * as we only support one enabled audiotrack at a time\n   *\n   * @param {Array|AudioTrackList} list list to work on\n   * @param {AudioTrack} track the track to skip\n   */\n  var disableOthers = function disableOthers(list, track) {\n    for (var i = 0; i < list.length; i++) {\n      if (track.id === list[i].id) {\n        continue;\n      }\n      // another audio track is enabled, disable it\n      list[i].enabled = false;\n    }\n  };\n  /**\n   * A list of possible audio tracks. All functionality is in the\n   * base class Tracklist and the spec for AudioTrackList is located at:\n   * @link https://html.spec.whatwg.org/multipage/embedded-content.html#audiotracklist\n   *\n   * interface AudioTrackList : EventTarget {\n *   readonly attribute unsigned long length;\n *   getter AudioTrack (unsigned long index);\n *   AudioTrack? getTrackById(DOMString id);\n *\n *   attribute EventHandler onchange;\n *   attribute EventHandler onaddtrack;\n *   attribute EventHandler onremovetrack;\n * };\n   *\n   * @param {AudioTrack[]} tracks a list of audio tracks to instantiate the list with\n   * @extends TrackList\n   * @class AudioTrackList\n   */\n\n  var AudioTrackList = (function (_TrackList) {\n    _inherits(AudioTrackList, _TrackList);\n\n    function AudioTrackList() {\n      var tracks = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];\n\n      _classCallCheck(this, AudioTrackList);\n\n      var list = undefined;\n\n      // make sure only 1 track is enabled\n      // sorted from last index to first index\n      for (var i = tracks.length - 1; i >= 0; i--) {\n        if (tracks[i].enabled) {\n          disableOthers(tracks, tracks[i]);\n          break;\n        }\n      }\n\n      // IE8 forces us to implement inheritance ourselves\n      // as it does not support Object.defineProperty properly\n      if (browser.IS_IE8) {\n        list = _globalDocument2['default'].createElement('custom');\n        for (var prop in _trackList2['default'].prototype) {\n          if (prop !== 'constructor') {\n            list[prop] = _trackList2['default'].prototype[prop];\n          }\n        }\n        for (var prop in AudioTrackList.prototype) {\n          if (prop !== 'constructor') {\n            list[prop] = AudioTrackList.prototype[prop];\n          }\n        }\n      }\n\n      list = _TrackList.call(this, tracks, list);\n      list.changing_ = false;\n\n      return list;\n    }\n\n    AudioTrackList.prototype.addTrack_ = function addTrack_(track) {\n      var _this = this;\n\n      if (track.enabled) {\n        disableOthers(this, track);\n      }\n\n      _TrackList.prototype.addTrack_.call(this, track);\n      // native tracks don't have this\n      if (!track.addEventListener) {\n        return;\n      }\n\n      track.addEventListener('enabledchange', function () {\n        // when we are disabling other tracks (since we don't support\n        // more than one track at a time) we will set changing_\n        // to true so that we don't trigger additional change events\n        if (_this.changing_) {\n          return;\n        }\n        _this.changing_ = true;\n        disableOthers(_this, track);\n        _this.changing_ = false;\n        _this.trigger('change');\n      });\n    };\n\n    AudioTrackList.prototype.addTrack = function addTrack(track) {\n      this.addTrack_(track);\n    };\n\n    AudioTrackList.prototype.removeTrack = function removeTrack(track) {\n      _TrackList.prototype.removeTrack_.call(this, track);\n    };\n\n    return AudioTrackList;\n  })(_trackList2['default']);\n\n  exports['default'] = AudioTrackList;\n  module.exports = exports['default'];\n\n},{\"../utils/browser.js\":140,\"./track-list\":136,\"global/document\":1}],126:[function(_dereq_,module,exports){\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _trackEnums = _dereq_('./track-enums');\n\n  var _track = _dereq_('./track');\n\n  var _track2 = _interopRequireDefault(_track);\n\n  var _utilsMergeOptions = _dereq_('../utils/merge-options');\n\n  var _utilsMergeOptions2 = _interopRequireDefault(_utilsMergeOptions);\n\n  var _utilsBrowserJs = _dereq_('../utils/browser.js');\n\n  var browser = _interopRequireWildcard(_utilsBrowserJs);\n\n  /**\n   * A single audio text track as defined in:\n   * @link https://html.spec.whatwg.org/multipage/embedded-content.html#audiotrack\n   *\n   * interface AudioTrack {\n *   readonly attribute DOMString id;\n *   readonly attribute DOMString kind;\n *   readonly attribute DOMString label;\n *   readonly attribute DOMString language;\n *   attribute boolean enabled;\n * };\n   *\n   * @param {Object=} options Object of option names and values\n   * @class AudioTrack\n   */\n\n  var AudioTrack = (function (_Track) {\n    _inherits(AudioTrack, _Track);\n\n    function AudioTrack() {\n      var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n      _classCallCheck(this, AudioTrack);\n\n      var settings = _utilsMergeOptions2['default'](options, {\n        kind: _trackEnums.AudioTrackKind[options.kind] || ''\n      });\n      // on IE8 this will be a document element\n      // for every other browser this will be a normal object\n      var track = _Track.call(this, settings);\n      var enabled = false;\n\n      if (browser.IS_IE8) {\n        for (var prop in AudioTrack.prototype) {\n          if (prop !== 'constructor') {\n            track[prop] = AudioTrack.prototype[prop];\n          }\n        }\n      }\n\n      Object.defineProperty(track, 'enabled', {\n        get: function get() {\n          return enabled;\n        },\n        set: function set(newEnabled) {\n          // an invalid or unchanged value\n          if (typeof newEnabled !== 'boolean' || newEnabled === enabled) {\n            return;\n          }\n          enabled = newEnabled;\n          this.trigger('enabledchange');\n        }\n      });\n\n      // if the user sets this track to selected then\n      // set selected to that true value otherwise\n      // we keep it false\n      if (settings.enabled) {\n        track.enabled = settings.enabled;\n      }\n      track.loaded_ = true;\n\n      return track;\n    }\n\n    return AudioTrack;\n  })(_track2['default']);\n\n  exports['default'] = AudioTrack;\n  module.exports = exports['default'];\n\n},{\"../utils/browser.js\":140,\"../utils/merge-options\":149,\"./track\":137,\"./track-enums\":135}],127:[function(_dereq_,module,exports){\n  /**\n   * @file html-track-element-list.js\n   */\n\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  var _utilsBrowserJs = _dereq_('../utils/browser.js');\n\n  var browser = _interopRequireWildcard(_utilsBrowserJs);\n\n  var _globalDocument = _dereq_('global/document');\n\n  var _globalDocument2 = _interopRequireDefault(_globalDocument);\n\n  var HtmlTrackElementList = (function () {\n    function HtmlTrackElementList() {\n      var trackElements = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];\n\n      _classCallCheck(this, HtmlTrackElementList);\n\n      var list = this;\n\n      if (browser.IS_IE8) {\n        list = _globalDocument2['default'].createElement('custom');\n\n        for (var prop in HtmlTrackElementList.prototype) {\n          if (prop !== 'constructor') {\n            list[prop] = HtmlTrackElementList.prototype[prop];\n          }\n        }\n      }\n\n      list.trackElements_ = [];\n\n      Object.defineProperty(list, 'length', {\n        get: function get() {\n          return this.trackElements_.length;\n        }\n      });\n\n      for (var i = 0, _length = trackElements.length; i < _length; i++) {\n        list.addTrackElement_(trackElements[i]);\n      }\n\n      if (browser.IS_IE8) {\n        return list;\n      }\n    }\n\n    HtmlTrackElementList.prototype.addTrackElement_ = function addTrackElement_(trackElement) {\n      this.trackElements_.push(trackElement);\n    };\n\n    HtmlTrackElementList.prototype.getTrackElementByTrack_ = function getTrackElementByTrack_(track) {\n      var trackElement_ = undefined;\n\n      for (var i = 0, _length2 = this.trackElements_.length; i < _length2; i++) {\n        if (track === this.trackElements_[i].track) {\n          trackElement_ = this.trackElements_[i];\n\n          break;\n        }\n      }\n\n      return trackElement_;\n    };\n\n    HtmlTrackElementList.prototype.removeTrackElement_ = function removeTrackElement_(trackElement) {\n      for (var i = 0, _length3 = this.trackElements_.length; i < _length3; i++) {\n        if (trackElement === this.trackElements_[i]) {\n          this.trackElements_.splice(i, 1);\n\n          break;\n        }\n      }\n    };\n\n    return HtmlTrackElementList;\n  })();\n\n  exports['default'] = HtmlTrackElementList;\n  module.exports = exports['default'];\n\n},{\"../utils/browser.js\":140,\"global/document\":1}],128:[function(_dereq_,module,exports){\n  /**\n   * @file html-track-element.js\n   */\n\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _utilsBrowserJs = _dereq_('../utils/browser.js');\n\n  var browser = _interopRequireWildcard(_utilsBrowserJs);\n\n  var _globalDocument = _dereq_('global/document');\n\n  var _globalDocument2 = _interopRequireDefault(_globalDocument);\n\n  var _eventTarget = _dereq_('../event-target');\n\n  var _eventTarget2 = _interopRequireDefault(_eventTarget);\n\n  var _tracksTextTrack = _dereq_('../tracks/text-track');\n\n  var _tracksTextTrack2 = _interopRequireDefault(_tracksTextTrack);\n\n  var NONE = 0;\n  var LOADING = 1;\n  var LOADED = 2;\n  var ERROR = 3;\n\n  /**\n   * https://html.spec.whatwg.org/multipage/embedded-content.html#htmltrackelement\n   *\n   * interface HTMLTrackElement : HTMLElement {\n *   attribute DOMString kind;\n *   attribute DOMString src;\n *   attribute DOMString srclang;\n *   attribute DOMString label;\n *   attribute boolean default;\n *\n *   const unsigned short NONE = 0;\n *   const unsigned short LOADING = 1;\n *   const unsigned short LOADED = 2;\n *   const unsigned short ERROR = 3;\n *   readonly attribute unsigned short readyState;\n *\n *   readonly attribute TextTrack track;\n * };\n   *\n   * @param {Object} options TextTrack configuration\n   * @class HTMLTrackElement\n   */\n\n  var HTMLTrackElement = (function (_EventTarget) {\n    _inherits(HTMLTrackElement, _EventTarget);\n\n    function HTMLTrackElement() {\n      var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n      _classCallCheck(this, HTMLTrackElement);\n\n      _EventTarget.call(this);\n\n      var readyState = undefined,\n        trackElement = this;\n\n      if (browser.IS_IE8) {\n        trackElement = _globalDocument2['default'].createElement('custom');\n\n        for (var prop in HTMLTrackElement.prototype) {\n          if (prop !== 'constructor') {\n            trackElement[prop] = HTMLTrackElement.prototype[prop];\n          }\n        }\n      }\n\n      var track = new _tracksTextTrack2['default'](options);\n\n      trackElement.kind = track.kind;\n      trackElement.src = track.src;\n      trackElement.srclang = track.language;\n      trackElement.label = track.label;\n      trackElement['default'] = track['default'];\n\n      Object.defineProperty(trackElement, 'readyState', {\n        get: function get() {\n          return readyState;\n        }\n      });\n\n      Object.defineProperty(trackElement, 'track', {\n        get: function get() {\n          return track;\n        }\n      });\n\n      readyState = NONE;\n\n      track.addEventListener('loadeddata', function () {\n        readyState = LOADED;\n\n        trackElement.trigger({\n          type: 'load',\n          target: trackElement\n        });\n      });\n\n      if (browser.IS_IE8) {\n        return trackElement;\n      }\n    }\n\n    return HTMLTrackElement;\n  })(_eventTarget2['default']);\n\n  HTMLTrackElement.prototype.allowedEvents_ = {\n    load: 'load'\n  };\n\n  HTMLTrackElement.NONE = NONE;\n  HTMLTrackElement.LOADING = LOADING;\n  HTMLTrackElement.LOADED = LOADED;\n  HTMLTrackElement.ERROR = ERROR;\n\n  exports['default'] = HTMLTrackElement;\n  module.exports = exports['default'];\n\n},{\"../event-target\":104,\"../tracks/text-track\":134,\"../utils/browser.js\":140,\"global/document\":1}],129:[function(_dereq_,module,exports){\n  /**\n   * @file text-track-cue-list.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  var _utilsBrowserJs = _dereq_('../utils/browser.js');\n\n  var browser = _interopRequireWildcard(_utilsBrowserJs);\n\n  var _globalDocument = _dereq_('global/document');\n\n  var _globalDocument2 = _interopRequireDefault(_globalDocument);\n\n  /**\n   * A List of text track cues as defined in:\n   * https://html.spec.whatwg.org/multipage/embedded-content.html#texttrackcuelist\n   *\n   * interface TextTrackCueList {\n *   readonly attribute unsigned long length;\n *   getter TextTrackCue (unsigned long index);\n *   TextTrackCue? getCueById(DOMString id);\n * };\n   *\n   * @param {Array} cues A list of cues to be initialized with\n   * @class TextTrackCueList\n   */\n\n  var TextTrackCueList = (function () {\n    function TextTrackCueList(cues) {\n      _classCallCheck(this, TextTrackCueList);\n\n      var list = this;\n\n      if (browser.IS_IE8) {\n        list = _globalDocument2['default'].createElement('custom');\n\n        for (var prop in TextTrackCueList.prototype) {\n          if (prop !== 'constructor') {\n            list[prop] = TextTrackCueList.prototype[prop];\n          }\n        }\n      }\n\n      TextTrackCueList.prototype.setCues_.call(list, cues);\n\n      Object.defineProperty(list, 'length', {\n        get: function get() {\n          return this.length_;\n        }\n      });\n\n      if (browser.IS_IE8) {\n        return list;\n      }\n    }\n\n    /**\n     * A setter for cues in this list\n     *\n     * @param {Array} cues an array of cues\n     * @method setCues_\n     * @private\n     */\n\n    TextTrackCueList.prototype.setCues_ = function setCues_(cues) {\n      var oldLength = this.length || 0;\n      var i = 0;\n      var l = cues.length;\n\n      this.cues_ = cues;\n      this.length_ = cues.length;\n\n      var defineProp = function defineProp(index) {\n        if (!('' + index in this)) {\n          Object.defineProperty(this, '' + index, {\n            get: function get() {\n              return this.cues_[index];\n            }\n          });\n        }\n      };\n\n      if (oldLength < l) {\n        i = oldLength;\n\n        for (; i < l; i++) {\n          defineProp.call(this, i);\n        }\n      }\n    };\n\n    /**\n     * Get a cue that is currently in the Cue list by id\n     *\n     * @param {String} id\n     * @method getCueById\n     * @return {Object} a single cue\n     */\n\n    TextTrackCueList.prototype.getCueById = function getCueById(id) {\n      var result = null;\n\n      for (var i = 0, l = this.length; i < l; i++) {\n        var cue = this[i];\n\n        if (cue.id === id) {\n          result = cue;\n          break;\n        }\n      }\n\n      return result;\n    };\n\n    return TextTrackCueList;\n  })();\n\n  exports['default'] = TextTrackCueList;\n  module.exports = exports['default'];\n\n},{\"../utils/browser.js\":140,\"global/document\":1}],130:[function(_dereq_,module,exports){\n  /**\n   * @file text-track-display.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _component = _dereq_('../component');\n\n  var _component2 = _interopRequireDefault(_component);\n\n  var _menuMenuJs = _dereq_('../menu/menu.js');\n\n  var _menuMenuJs2 = _interopRequireDefault(_menuMenuJs);\n\n  var _menuMenuItemJs = _dereq_('../menu/menu-item.js');\n\n  var _menuMenuItemJs2 = _interopRequireDefault(_menuMenuItemJs);\n\n  var _menuMenuButtonJs = _dereq_('../menu/menu-button.js');\n\n  var _menuMenuButtonJs2 = _interopRequireDefault(_menuMenuButtonJs);\n\n  var _utilsFnJs = _dereq_('../utils/fn.js');\n\n  var Fn = _interopRequireWildcard(_utilsFnJs);\n\n  var _globalDocument = _dereq_('global/document');\n\n  var _globalDocument2 = _interopRequireDefault(_globalDocument);\n\n  var _globalWindow = _dereq_('global/window');\n\n  var _globalWindow2 = _interopRequireDefault(_globalWindow);\n\n  var darkGray = '#222';\n  var lightGray = '#ccc';\n  var fontMap = {\n    monospace: 'monospace',\n    sansSerif: 'sans-serif',\n    serif: 'serif',\n    monospaceSansSerif: '\"Andale Mono\", \"Lucida Console\", monospace',\n    monospaceSerif: '\"Courier New\", monospace',\n    proportionalSansSerif: 'sans-serif',\n    proportionalSerif: 'serif',\n    casual: '\"Comic Sans MS\", Impact, fantasy',\n    script: '\"Monotype Corsiva\", cursive',\n    smallcaps: '\"Andale Mono\", \"Lucida Console\", monospace, sans-serif'\n  };\n\n  /**\n   * The component for displaying text track cues\n   *\n   * @param {Object} player  Main Player\n   * @param {Object=} options Object of option names and values\n   * @param {Function=} ready    Ready callback function\n   * @extends Component\n   * @class TextTrackDisplay\n   */\n\n  var TextTrackDisplay = (function (_Component) {\n    _inherits(TextTrackDisplay, _Component);\n\n    function TextTrackDisplay(player, options, ready) {\n      _classCallCheck(this, TextTrackDisplay);\n\n      _Component.call(this, player, options, ready);\n\n      player.on('loadstart', Fn.bind(this, this.toggleDisplay));\n      player.on('texttrackchange', Fn.bind(this, this.updateDisplay));\n\n      // This used to be called during player init, but was causing an error\n      // if a track should show by default and the display hadn't loaded yet.\n      // Should probably be moved to an external track loader when we support\n      // tracks that don't need a display.\n      player.ready(Fn.bind(this, function () {\n        if (player.tech_ && player.tech_['featuresNativeTextTracks']) {\n          this.hide();\n          return;\n        }\n\n        player.on('fullscreenchange', Fn.bind(this, this.updateDisplay));\n\n        var tracks = this.options_.playerOptions['tracks'] || [];\n        for (var i = 0; i < tracks.length; i++) {\n          var track = tracks[i];\n          this.player_.addRemoteTextTrack(track);\n        }\n\n        var modes = { 'captions': 1, 'subtitles': 1 };\n        var trackList = this.player_.textTracks();\n        var firstDesc = undefined;\n        var firstCaptions = undefined;\n\n        if (trackList) {\n          for (var i = 0; i < trackList.length; i++) {\n            var track = trackList[i];\n            if (track['default']) {\n              if (track.kind === 'descriptions' && !firstDesc) {\n                firstDesc = track;\n              } else if (track.kind in modes && !firstCaptions) {\n                firstCaptions = track;\n              }\n            }\n          }\n\n          // We want to show the first default track but captions and subtitles\n          // take precedence over descriptions.\n          // So, display the first default captions or subtitles track\n          // and otherwise the first default descriptions track.\n          if (firstCaptions) {\n            firstCaptions.mode = 'showing';\n          } else if (firstDesc) {\n            firstDesc.mode = 'showing';\n          }\n        }\n      }));\n    }\n\n    /**\n     * Add cue HTML to display\n     *\n     * @param {Number} color Hex number for color, like #f0e\n     * @param {Number} opacity Value for opacity,0.0 - 1.0\n     * @return {RGBAColor} In the form 'rgba(255, 0, 0, 0.3)'\n     * @method constructColor\n     */\n\n    /**\n     * Toggle display texttracks\n     *\n     * @method toggleDisplay\n     */\n\n    TextTrackDisplay.prototype.toggleDisplay = function toggleDisplay() {\n      if (this.player_.tech_ && this.player_.tech_['featuresNativeTextTracks']) {\n        this.hide();\n      } else {\n        this.show();\n      }\n    };\n\n    /**\n     * Create the component's DOM element\n     *\n     * @return {Element}\n     * @method createEl\n     */\n\n    TextTrackDisplay.prototype.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-text-track-display'\n      }, {\n        'aria-live': 'assertive',\n        'aria-atomic': 'true'\n      });\n    };\n\n    /**\n     * Clear display texttracks\n     *\n     * @method clearDisplay\n     */\n\n    TextTrackDisplay.prototype.clearDisplay = function clearDisplay() {\n      if (typeof _globalWindow2['default']['WebVTT'] === 'function') {\n        _globalWindow2['default']['WebVTT']['processCues'](_globalWindow2['default'], [], this.el_);\n      }\n    };\n\n    /**\n     * Update display texttracks\n     *\n     * @method updateDisplay\n     */\n\n    TextTrackDisplay.prototype.updateDisplay = function updateDisplay() {\n      var tracks = this.player_.textTracks();\n\n      this.clearDisplay();\n\n      if (!tracks) {\n        return;\n      }\n\n      // Track display prioritization model: if multiple tracks are 'showing',\n      //  display the first 'subtitles' or 'captions' track which is 'showing',\n      //  otherwise display the first 'descriptions' track which is 'showing'\n\n      var descriptionsTrack = null;\n      var captionsSubtitlesTrack = null;\n\n      var i = tracks.length;\n      while (i--) {\n        var track = tracks[i];\n        if (track['mode'] === 'showing') {\n          if (track['kind'] === 'descriptions') {\n            descriptionsTrack = track;\n          } else {\n            captionsSubtitlesTrack = track;\n          }\n        }\n      }\n\n      if (captionsSubtitlesTrack) {\n        this.updateForTrack(captionsSubtitlesTrack);\n      } else if (descriptionsTrack) {\n        this.updateForTrack(descriptionsTrack);\n      }\n    };\n\n    /**\n     * Add texttrack to texttrack list\n     *\n     * @param {TextTrackObject} track Texttrack object to be added to list\n     * @method updateForTrack\n     */\n\n    TextTrackDisplay.prototype.updateForTrack = function updateForTrack(track) {\n      if (typeof _globalWindow2['default']['WebVTT'] !== 'function' || !track['activeCues']) {\n        return;\n      }\n\n      var overrides = this.player_['textTrackSettings'].getValues();\n\n      var cues = [];\n      for (var _i = 0; _i < track['activeCues'].length; _i++) {\n        cues.push(track['activeCues'][_i]);\n      }\n\n      _globalWindow2['default']['WebVTT']['processCues'](_globalWindow2['default'], cues, this.el_);\n\n      var i = cues.length;\n      while (i--) {\n        var cue = cues[i];\n        if (!cue) {\n          continue;\n        }\n\n        var cueDiv = cue.displayState;\n        if (overrides.color) {\n          cueDiv.firstChild.style.color = overrides.color;\n        }\n        if (overrides.textOpacity) {\n          tryUpdateStyle(cueDiv.firstChild, 'color', constructColor(overrides.color || '#fff', overrides.textOpacity));\n        }\n        if (overrides.backgroundColor) {\n          cueDiv.firstChild.style.backgroundColor = overrides.backgroundColor;\n        }\n        if (overrides.backgroundOpacity) {\n          tryUpdateStyle(cueDiv.firstChild, 'backgroundColor', constructColor(overrides.backgroundColor || '#000', overrides.backgroundOpacity));\n        }\n        if (overrides.windowColor) {\n          if (overrides.windowOpacity) {\n            tryUpdateStyle(cueDiv, 'backgroundColor', constructColor(overrides.windowColor, overrides.windowOpacity));\n          } else {\n            cueDiv.style.backgroundColor = overrides.windowColor;\n          }\n        }\n        if (overrides.edgeStyle) {\n          if (overrides.edgeStyle === 'dropshadow') {\n            cueDiv.firstChild.style.textShadow = '2px 2px 3px ' + darkGray + ', 2px 2px 4px ' + darkGray + ', 2px 2px 5px ' + darkGray;\n          } else if (overrides.edgeStyle === 'raised') {\n            cueDiv.firstChild.style.textShadow = '1px 1px ' + darkGray + ', 2px 2px ' + darkGray + ', 3px 3px ' + darkGray;\n          } else if (overrides.edgeStyle === 'depressed') {\n            cueDiv.firstChild.style.textShadow = '1px 1px ' + lightGray + ', 0 1px ' + lightGray + ', -1px -1px ' + darkGray + ', 0 -1px ' + darkGray;\n          } else if (overrides.edgeStyle === 'uniform') {\n            cueDiv.firstChild.style.textShadow = '0 0 4px ' + darkGray + ', 0 0 4px ' + darkGray + ', 0 0 4px ' + darkGray + ', 0 0 4px ' + darkGray;\n          }\n        }\n        if (overrides.fontPercent && overrides.fontPercent !== 1) {\n          var fontSize = _globalWindow2['default'].parseFloat(cueDiv.style.fontSize);\n          cueDiv.style.fontSize = fontSize * overrides.fontPercent + 'px';\n          cueDiv.style.height = 'auto';\n          cueDiv.style.top = 'auto';\n          cueDiv.style.bottom = '2px';\n        }\n        if (overrides.fontFamily && overrides.fontFamily !== 'default') {\n          if (overrides.fontFamily === 'small-caps') {\n            cueDiv.firstChild.style.fontVariant = 'small-caps';\n          } else {\n            cueDiv.firstChild.style.fontFamily = fontMap[overrides.fontFamily];\n          }\n        }\n      }\n    };\n\n    return TextTrackDisplay;\n  })(_component2['default']);\n\n  function constructColor(color, opacity) {\n    return 'rgba(' +\n        // color looks like \"#f0e\"\n      parseInt(color[1] + color[1], 16) + ',' + parseInt(color[2] + color[2], 16) + ',' + parseInt(color[3] + color[3], 16) + ',' + opacity + ')';\n  }\n\n  /**\n   * Try to update style\n   * Some style changes will throw an error, particularly in IE8. Those should be noops.\n   *\n   * @param {Element} el The element to be styles\n   * @param {CSSProperty} style The CSS property to be styled\n   * @param {CSSStyle} rule The actual style to be applied to the property\n   * @method tryUpdateStyle\n   */\n  function tryUpdateStyle(el, style, rule) {\n    //\n    try {\n      el.style[style] = rule;\n    } catch (e) {}\n  }\n\n  _component2['default'].registerComponent('TextTrackDisplay', TextTrackDisplay);\n  exports['default'] = TextTrackDisplay;\n  module.exports = exports['default'];\n\n},{\"../component\":67,\"../menu/menu-button.js\":109,\"../menu/menu-item.js\":110,\"../menu/menu.js\":111,\"../utils/fn.js\":145,\"global/document\":1,\"global/window\":2}],131:[function(_dereq_,module,exports){\n  /**\n   * Utilities for capturing text track state and re-creating tracks\n   * based on a capture.\n   *\n   * @file text-track-list-converter.js\n   */\n\n  /**\n   * Examine a single text track and return a JSON-compatible javascript\n   * object that represents the text track's state.\n   * @param track {TextTrackObject} the text track to query\n   * @return {Object} a serializable javascript representation of the\n   * @private\n   */\n  'use strict';\n\n  exports.__esModule = true;\n  var trackToJson_ = function trackToJson_(track) {\n    var ret = ['kind', 'label', 'language', 'id', 'inBandMetadataTrackDispatchType', 'mode', 'src'].reduce(function (acc, prop, i) {\n      if (track[prop]) {\n        acc[prop] = track[prop];\n      }\n\n      return acc;\n    }, {\n      cues: track.cues && Array.prototype.map.call(track.cues, function (cue) {\n        return {\n          startTime: cue.startTime,\n          endTime: cue.endTime,\n          text: cue.text,\n          id: cue.id\n        };\n      })\n    });\n\n    return ret;\n  };\n\n  /**\n   * Examine a tech and return a JSON-compatible javascript array that\n   * represents the state of all text tracks currently configured. The\n   * return array is compatible with `jsonToTextTracks`.\n   * @param tech {tech} the tech object to query\n   * @return {Array} a serializable javascript representation of the\n   * @function textTracksToJson\n   */\n  var textTracksToJson = function textTracksToJson(tech) {\n\n    var trackEls = tech.$$('track');\n\n    var trackObjs = Array.prototype.map.call(trackEls, function (t) {\n      return t.track;\n    });\n    var tracks = Array.prototype.map.call(trackEls, function (trackEl) {\n      var json = trackToJson_(trackEl.track);\n      if (trackEl.src) {\n        json.src = trackEl.src;\n      }\n      return json;\n    });\n\n    return tracks.concat(Array.prototype.filter.call(tech.textTracks(), function (track) {\n      return trackObjs.indexOf(track) === -1;\n    }).map(trackToJson_));\n  };\n\n  /**\n   * Creates a set of remote text tracks on a tech based on an array of\n   * javascript text track representations.\n   * @param json {Array} an array of text track representation objects,\n   * like those that would be produced by `textTracksToJson`\n   * @param tech {tech} the tech to create text tracks on\n   * @function jsonToTextTracks\n   */\n  var jsonToTextTracks = function jsonToTextTracks(json, tech) {\n    json.forEach(function (track) {\n      var addedTrack = tech.addRemoteTextTrack(track).track;\n      if (!track.src && track.cues) {\n        track.cues.forEach(function (cue) {\n          return addedTrack.addCue(cue);\n        });\n      }\n    });\n\n    return tech.textTracks();\n  };\n\n  exports['default'] = { textTracksToJson: textTracksToJson, jsonToTextTracks: jsonToTextTracks, trackToJson_: trackToJson_ };\n  module.exports = exports['default'];\n\n},{}],132:[function(_dereq_,module,exports){\n  /**\n   * @file text-track-list.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _trackList = _dereq_('./track-list');\n\n  var _trackList2 = _interopRequireDefault(_trackList);\n\n  var _utilsFnJs = _dereq_('../utils/fn.js');\n\n  var Fn = _interopRequireWildcard(_utilsFnJs);\n\n  var _utilsBrowserJs = _dereq_('../utils/browser.js');\n\n  var browser = _interopRequireWildcard(_utilsBrowserJs);\n\n  var _globalDocument = _dereq_('global/document');\n\n  var _globalDocument2 = _interopRequireDefault(_globalDocument);\n\n  /**\n   * A list of possible text tracks. All functionality is in the\n   * base class TrackList. The spec for TextTrackList is located at:\n   * @link https://html.spec.whatwg.org/multipage/embedded-content.html#texttracklist\n   *\n   * interface TextTrackList : EventTarget {\n *   readonly attribute unsigned long length;\n *   getter TextTrack (unsigned long index);\n *   TextTrack? getTrackById(DOMString id);\n *\n *   attribute EventHandler onchange;\n *   attribute EventHandler onaddtrack;\n *   attribute EventHandler onremovetrack;\n * };\n   *\n   * @param {TextTrack[]} tracks A list of tracks to initialize the list with\n   * @extends TrackList\n   * @class TextTrackList\n   */\n\n  var TextTrackList = (function (_TrackList) {\n    _inherits(TextTrackList, _TrackList);\n\n    function TextTrackList() {\n      var tracks = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];\n\n      _classCallCheck(this, TextTrackList);\n\n      var list = undefined;\n\n      // IE8 forces us to implement inheritance ourselves\n      // as it does not support Object.defineProperty properly\n      if (browser.IS_IE8) {\n        list = _globalDocument2['default'].createElement('custom');\n        for (var prop in _trackList2['default'].prototype) {\n          if (prop !== 'constructor') {\n            list[prop] = _trackList2['default'].prototype[prop];\n          }\n        }\n        for (var prop in TextTrackList.prototype) {\n          if (prop !== 'constructor') {\n            list[prop] = TextTrackList.prototype[prop];\n          }\n        }\n      }\n\n      list = _TrackList.call(this, tracks, list);\n      return list;\n    }\n\n    TextTrackList.prototype.addTrack_ = function addTrack_(track) {\n      _TrackList.prototype.addTrack_.call(this, track);\n      track.addEventListener('modechange', Fn.bind(this, function () {\n        this.trigger('change');\n      }));\n    };\n\n    /**\n     * Remove TextTrack from TextTrackList\n     * NOTE: Be mindful of what is passed in as it may be a HTMLTrackElement\n     *\n     * @param {TextTrack} rtrack\n     * @method removeTrack_\n     * @private\n     */\n\n    TextTrackList.prototype.removeTrack_ = function removeTrack_(rtrack) {\n      var track = undefined;\n\n      for (var i = 0, l = this.length; i < l; i++) {\n        if (this[i] === rtrack) {\n          track = this[i];\n          if (track.off) {\n            track.off();\n          }\n\n          this.tracks_.splice(i, 1);\n\n          break;\n        }\n      }\n\n      if (!track) {\n        return;\n      }\n\n      this.trigger({\n        track: track,\n        type: 'removetrack'\n      });\n    };\n\n    /**\n     * Get a TextTrack from TextTrackList by a tracks id\n     *\n     * @param {String} id - the id of the track to get\n     * @method getTrackById\n     * @return {TextTrack}\n     * @private\n     */\n\n    TextTrackList.prototype.getTrackById = function getTrackById(id) {\n      var result = null;\n\n      for (var i = 0, l = this.length; i < l; i++) {\n        var track = this[i];\n\n        if (track.id === id) {\n          result = track;\n          break;\n        }\n      }\n\n      return result;\n    };\n\n    return TextTrackList;\n  })(_trackList2['default']);\n\n  exports['default'] = TextTrackList;\n  module.exports = exports['default'];\n\n},{\"../utils/browser.js\":140,\"../utils/fn.js\":145,\"./track-list\":136,\"global/document\":1}],133:[function(_dereq_,module,exports){\n  /**\n   * @file text-track-settings.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _component = _dereq_('../component');\n\n  var _component2 = _interopRequireDefault(_component);\n\n  var _utilsEventsJs = _dereq_('../utils/events.js');\n\n  var Events = _interopRequireWildcard(_utilsEventsJs);\n\n  var _utilsFnJs = _dereq_('../utils/fn.js');\n\n  var Fn = _interopRequireWildcard(_utilsFnJs);\n\n  var _utilsLogJs = _dereq_('../utils/log.js');\n\n  var _utilsLogJs2 = _interopRequireDefault(_utilsLogJs);\n\n  var _safeJsonParseTuple = _dereq_('safe-json-parse/tuple');\n\n  var _safeJsonParseTuple2 = _interopRequireDefault(_safeJsonParseTuple);\n\n  var _globalWindow = _dereq_('global/window');\n\n  var _globalWindow2 = _interopRequireDefault(_globalWindow);\n\n  /**\n   * Manipulate settings of texttracks\n   *\n   * @param {Object} player  Main Player\n   * @param {Object=} options Object of option names and values\n   * @extends Component\n   * @class TextTrackSettings\n   */\n\n  var TextTrackSettings = (function (_Component) {\n    _inherits(TextTrackSettings, _Component);\n\n    function TextTrackSettings(player, options) {\n      _classCallCheck(this, TextTrackSettings);\n\n      _Component.call(this, player, options);\n      this.hide();\n\n      // Grab `persistTextTrackSettings` from the player options if not passed in child options\n      if (options.persistTextTrackSettings === undefined) {\n        this.options_.persistTextTrackSettings = this.options_.playerOptions.persistTextTrackSettings;\n      }\n\n      Events.on(this.$('.vjs-done-button'), 'click', Fn.bind(this, function () {\n        this.saveSettings();\n        this.hide();\n      }));\n\n      Events.on(this.$('.vjs-default-button'), 'click', Fn.bind(this, function () {\n        this.$('.vjs-fg-color > select').selectedIndex = 0;\n        this.$('.vjs-bg-color > select').selectedIndex = 0;\n        this.$('.window-color > select').selectedIndex = 0;\n        this.$('.vjs-text-opacity > select').selectedIndex = 0;\n        this.$('.vjs-bg-opacity > select').selectedIndex = 0;\n        this.$('.vjs-window-opacity > select').selectedIndex = 0;\n        this.$('.vjs-edge-style select').selectedIndex = 0;\n        this.$('.vjs-font-family select').selectedIndex = 0;\n        this.$('.vjs-font-percent select').selectedIndex = 2;\n        this.updateDisplay();\n      }));\n\n      Events.on(this.$('.vjs-fg-color > select'), 'change', Fn.bind(this, this.updateDisplay));\n      Events.on(this.$('.vjs-bg-color > select'), 'change', Fn.bind(this, this.updateDisplay));\n      Events.on(this.$('.window-color > select'), 'change', Fn.bind(this, this.updateDisplay));\n      Events.on(this.$('.vjs-text-opacity > select'), 'change', Fn.bind(this, this.updateDisplay));\n      Events.on(this.$('.vjs-bg-opacity > select'), 'change', Fn.bind(this, this.updateDisplay));\n      Events.on(this.$('.vjs-window-opacity > select'), 'change', Fn.bind(this, this.updateDisplay));\n      Events.on(this.$('.vjs-font-percent select'), 'change', Fn.bind(this, this.updateDisplay));\n      Events.on(this.$('.vjs-edge-style select'), 'change', Fn.bind(this, this.updateDisplay));\n      Events.on(this.$('.vjs-font-family select'), 'change', Fn.bind(this, this.updateDisplay));\n\n      if (this.options_.persistTextTrackSettings) {\n        this.restoreSettings();\n      }\n    }\n\n    /**\n     * Create the component's DOM element\n     *\n     * @return {Element}\n     * @method createEl\n     */\n\n    TextTrackSettings.prototype.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-caption-settings vjs-modal-overlay',\n        innerHTML: captionOptionsMenuTemplate()\n      });\n    };\n\n    /**\n     * Get texttrack settings\n     * Settings are\n     * .vjs-edge-style\n     * .vjs-font-family\n     * .vjs-fg-color\n     * .vjs-text-opacity\n     * .vjs-bg-color\n     * .vjs-bg-opacity\n     * .window-color\n     * .vjs-window-opacity\n     *\n     * @return {Object}\n     * @method getValues\n     */\n\n    TextTrackSettings.prototype.getValues = function getValues() {\n      var textEdge = getSelectedOptionValue(this.$('.vjs-edge-style select'));\n      var fontFamily = getSelectedOptionValue(this.$('.vjs-font-family select'));\n      var fgColor = getSelectedOptionValue(this.$('.vjs-fg-color > select'));\n      var textOpacity = getSelectedOptionValue(this.$('.vjs-text-opacity > select'));\n      var bgColor = getSelectedOptionValue(this.$('.vjs-bg-color > select'));\n      var bgOpacity = getSelectedOptionValue(this.$('.vjs-bg-opacity > select'));\n      var windowColor = getSelectedOptionValue(this.$('.window-color > select'));\n      var windowOpacity = getSelectedOptionValue(this.$('.vjs-window-opacity > select'));\n      var fontPercent = _globalWindow2['default']['parseFloat'](getSelectedOptionValue(this.$('.vjs-font-percent > select')));\n\n      var result = {\n        'backgroundOpacity': bgOpacity,\n        'textOpacity': textOpacity,\n        'windowOpacity': windowOpacity,\n        'edgeStyle': textEdge,\n        'fontFamily': fontFamily,\n        'color': fgColor,\n        'backgroundColor': bgColor,\n        'windowColor': windowColor,\n        'fontPercent': fontPercent\n      };\n      for (var _name in result) {\n        if (result[_name] === '' || result[_name] === 'none' || _name === 'fontPercent' && result[_name] === 1.00) {\n          delete result[_name];\n        }\n      }\n      return result;\n    };\n\n    /**\n     * Set texttrack settings\n     * Settings are\n     * .vjs-edge-style\n     * .vjs-font-family\n     * .vjs-fg-color\n     * .vjs-text-opacity\n     * .vjs-bg-color\n     * .vjs-bg-opacity\n     * .window-color\n     * .vjs-window-opacity\n     *\n     * @param {Object} values Object with texttrack setting values\n     * @method setValues\n     */\n\n    TextTrackSettings.prototype.setValues = function setValues(values) {\n      setSelectedOption(this.$('.vjs-edge-style select'), values.edgeStyle);\n      setSelectedOption(this.$('.vjs-font-family select'), values.fontFamily);\n      setSelectedOption(this.$('.vjs-fg-color > select'), values.color);\n      setSelectedOption(this.$('.vjs-text-opacity > select'), values.textOpacity);\n      setSelectedOption(this.$('.vjs-bg-color > select'), values.backgroundColor);\n      setSelectedOption(this.$('.vjs-bg-opacity > select'), values.backgroundOpacity);\n      setSelectedOption(this.$('.window-color > select'), values.windowColor);\n      setSelectedOption(this.$('.vjs-window-opacity > select'), values.windowOpacity);\n\n      var fontPercent = values.fontPercent;\n\n      if (fontPercent) {\n        fontPercent = fontPercent.toFixed(2);\n      }\n\n      setSelectedOption(this.$('.vjs-font-percent > select'), fontPercent);\n    };\n\n    /**\n     * Restore texttrack settings\n     *\n     * @method restoreSettings\n     */\n\n    TextTrackSettings.prototype.restoreSettings = function restoreSettings() {\n      var err = undefined,\n        values = undefined;\n\n      try {\n        var _safeParseTuple = _safeJsonParseTuple2['default'](_globalWindow2['default'].localStorage.getItem('vjs-text-track-settings'));\n\n        err = _safeParseTuple[0];\n        values = _safeParseTuple[1];\n\n        if (err) {\n          _utilsLogJs2['default'].error(err);\n        }\n      } catch (e) {\n        _utilsLogJs2['default'].warn(e);\n      }\n\n      if (values) {\n        this.setValues(values);\n      }\n    };\n\n    /**\n     * Save texttrack settings to local storage\n     *\n     * @method saveSettings\n     */\n\n    TextTrackSettings.prototype.saveSettings = function saveSettings() {\n      if (!this.options_.persistTextTrackSettings) {\n        return;\n      }\n\n      var values = this.getValues();\n      try {\n        if (Object.getOwnPropertyNames(values).length > 0) {\n          _globalWindow2['default'].localStorage.setItem('vjs-text-track-settings', JSON.stringify(values));\n        } else {\n          _globalWindow2['default'].localStorage.removeItem('vjs-text-track-settings');\n        }\n      } catch (e) {\n        _utilsLogJs2['default'].warn(e);\n      }\n    };\n\n    /**\n     * Update display of texttrack settings\n     *\n     * @method updateDisplay\n     */\n\n    TextTrackSettings.prototype.updateDisplay = function updateDisplay() {\n      var ttDisplay = this.player_.getChild('textTrackDisplay');\n      if (ttDisplay) {\n        ttDisplay.updateDisplay();\n      }\n    };\n\n    return TextTrackSettings;\n  })(_component2['default']);\n\n  _component2['default'].registerComponent('TextTrackSettings', TextTrackSettings);\n\n  function getSelectedOptionValue(target) {\n    var selectedOption = undefined;\n    // not all browsers support selectedOptions, so, fallback to options\n    if (target.selectedOptions) {\n      selectedOption = target.selectedOptions[0];\n    } else if (target.options) {\n      selectedOption = target.options[target.options.selectedIndex];\n    }\n\n    return selectedOption.value;\n  }\n\n  function setSelectedOption(target, value) {\n    if (!value) {\n      return;\n    }\n\n    var i = undefined;\n    for (i = 0; i < target.options.length; i++) {\n      var option = target.options[i];\n      if (option.value === value) {\n        break;\n      }\n    }\n\n    target.selectedIndex = i;\n  }\n\n  function captionOptionsMenuTemplate() {\n    var template = '<div class=\"vjs-tracksettings\">\\n      <div class=\"vjs-tracksettings-colors\">\\n        <div class=\"vjs-fg-color vjs-tracksetting\">\\n            <label class=\"vjs-label\">Foreground</label>\\n            <select>\\n              <option value=\"\">---</option>\\n              <option value=\"#FFF\">White</option>\\n              <option value=\"#000\">Black</option>\\n              <option value=\"#F00\">Red</option>\\n              <option value=\"#0F0\">Green</option>\\n              <option value=\"#00F\">Blue</option>\\n              <option value=\"#FF0\">Yellow</option>\\n              <option value=\"#F0F\">Magenta</option>\\n              <option value=\"#0FF\">Cyan</option>\\n            </select>\\n            <span class=\"vjs-text-opacity vjs-opacity\">\\n              <select>\\n                <option value=\"\">---</option>\\n                <option value=\"1\">Opaque</option>\\n                <option value=\"0.5\">Semi-Opaque</option>\\n              </select>\\n            </span>\\n        </div> <!-- vjs-fg-color -->\\n        <div class=\"vjs-bg-color vjs-tracksetting\">\\n            <label class=\"vjs-label\">Background</label>\\n            <select>\\n              <option value=\"\">---</option>\\n              <option value=\"#FFF\">White</option>\\n              <option value=\"#000\">Black</option>\\n              <option value=\"#F00\">Red</option>\\n              <option value=\"#0F0\">Green</option>\\n              <option value=\"#00F\">Blue</option>\\n              <option value=\"#FF0\">Yellow</option>\\n              <option value=\"#F0F\">Magenta</option>\\n              <option value=\"#0FF\">Cyan</option>\\n            </select>\\n            <span class=\"vjs-bg-opacity vjs-opacity\">\\n                <select>\\n                  <option value=\"\">---</option>\\n                  <option value=\"1\">Opaque</option>\\n                  <option value=\"0.5\">Semi-Transparent</option>\\n                  <option value=\"0\">Transparent</option>\\n                </select>\\n            </span>\\n        </div> <!-- vjs-bg-color -->\\n        <div class=\"window-color vjs-tracksetting\">\\n            <label class=\"vjs-label\">Window</label>\\n            <select>\\n              <option value=\"\">---</option>\\n              <option value=\"#FFF\">White</option>\\n              <option value=\"#000\">Black</option>\\n              <option value=\"#F00\">Red</option>\\n              <option value=\"#0F0\">Green</option>\\n              <option value=\"#00F\">Blue</option>\\n              <option value=\"#FF0\">Yellow</option>\\n              <option value=\"#F0F\">Magenta</option>\\n              <option value=\"#0FF\">Cyan</option>\\n            </select>\\n            <span class=\"vjs-window-opacity vjs-opacity\">\\n                <select>\\n                  <option value=\"\">---</option>\\n                  <option value=\"1\">Opaque</option>\\n                  <option value=\"0.5\">Semi-Transparent</option>\\n                  <option value=\"0\">Transparent</option>\\n                </select>\\n            </span>\\n        </div> <!-- vjs-window-color -->\\n      </div> <!-- vjs-tracksettings -->\\n      <div class=\"vjs-tracksettings-font\">\\n        <div class=\"vjs-font-percent vjs-tracksetting\">\\n          <label class=\"vjs-label\">Font Size</label>\\n          <select>\\n            <option value=\"0.50\">50%</option>\\n            <option value=\"0.75\">75%</option>\\n            <option value=\"1.00\" selected>100%</option>\\n            <option value=\"1.25\">125%</option>\\n            <option value=\"1.50\">150%</option>\\n            <option value=\"1.75\">175%</option>\\n            <option value=\"2.00\">200%</option>\\n            <option value=\"3.00\">300%</option>\\n            <option value=\"4.00\">400%</option>\\n          </select>\\n        </div> <!-- vjs-font-percent -->\\n        <div class=\"vjs-edge-style vjs-tracksetting\">\\n          <label class=\"vjs-label\">Text Edge Style</label>\\n          <select>\\n            <option value=\"none\">None</option>\\n            <option value=\"raised\">Raised</option>\\n            <option value=\"depressed\">Depressed</option>\\n            <option value=\"uniform\">Uniform</option>\\n            <option value=\"dropshadow\">Dropshadow</option>\\n          </select>\\n        </div> <!-- vjs-edge-style -->\\n        <div class=\"vjs-font-family vjs-tracksetting\">\\n          <label class=\"vjs-label\">Font Family</label>\\n          <select>\\n            <option value=\"\">Default</option>\\n            <option value=\"monospaceSerif\">Monospace Serif</option>\\n            <option value=\"proportionalSerif\">Proportional Serif</option>\\n            <option value=\"monospaceSansSerif\">Monospace Sans-Serif</option>\\n            <option value=\"proportionalSansSerif\">Proportional Sans-Serif</option>\\n            <option value=\"casual\">Casual</option>\\n            <option value=\"script\">Script</option>\\n            <option value=\"small-caps\">Small Caps</option>\\n          </select>\\n        </div> <!-- vjs-font-family -->\\n      </div>\\n    </div>\\n    <div class=\"vjs-tracksettings-controls\">\\n      <button class=\"vjs-default-button\">Defaults</button>\\n      <button class=\"vjs-done-button\">Done</button>\\n    </div>';\n\n    return template;\n  }\n\n  exports['default'] = TextTrackSettings;\n  module.exports = exports['default'];\n\n},{\"../component\":67,\"../utils/events.js\":144,\"../utils/fn.js\":145,\"../utils/log.js\":148,\"global/window\":2,\"safe-json-parse/tuple\":54}],134:[function(_dereq_,module,exports){\n  /**\n   * @file text-track.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _textTrackCueList = _dereq_('./text-track-cue-list');\n\n  var _textTrackCueList2 = _interopRequireDefault(_textTrackCueList);\n\n  var _utilsFnJs = _dereq_('../utils/fn.js');\n\n  var Fn = _interopRequireWildcard(_utilsFnJs);\n\n  var _trackEnums = _dereq_('./track-enums');\n\n  var _utilsLogJs = _dereq_('../utils/log.js');\n\n  var _utilsLogJs2 = _interopRequireDefault(_utilsLogJs);\n\n  var _globalDocument = _dereq_('global/document');\n\n  var _globalDocument2 = _interopRequireDefault(_globalDocument);\n\n  var _globalWindow = _dereq_('global/window');\n\n  var _globalWindow2 = _interopRequireDefault(_globalWindow);\n\n  var _trackJs = _dereq_('./track.js');\n\n  var _trackJs2 = _interopRequireDefault(_trackJs);\n\n  var _utilsUrlJs = _dereq_('../utils/url.js');\n\n  var _xhr = _dereq_('xhr');\n\n  var _xhr2 = _interopRequireDefault(_xhr);\n\n  var _utilsMergeOptions = _dereq_('../utils/merge-options');\n\n  var _utilsMergeOptions2 = _interopRequireDefault(_utilsMergeOptions);\n\n  var _utilsBrowserJs = _dereq_('../utils/browser.js');\n\n  var browser = _interopRequireWildcard(_utilsBrowserJs);\n\n  /**\n   * takes a webvtt file contents and parses it into cues\n   *\n   * @param {String} srcContent webVTT file contents\n   * @param {Track} track track to addcues to\n   */\n  var parseCues = function parseCues(srcContent, track) {\n    var parser = new _globalWindow2['default'].WebVTT.Parser(_globalWindow2['default'], _globalWindow2['default'].vttjs, _globalWindow2['default'].WebVTT.StringDecoder());\n    var errors = [];\n\n    parser.oncue = function (cue) {\n      track.addCue(cue);\n    };\n\n    parser.onparsingerror = function (error) {\n      errors.push(error);\n    };\n\n    parser.onflush = function () {\n      track.trigger({\n        type: 'loadeddata',\n        target: track\n      });\n    };\n\n    parser.parse(srcContent);\n    if (errors.length > 0) {\n      if (console.groupCollapsed) {\n        console.groupCollapsed('Text Track parsing errors for ' + track.src);\n      }\n      errors.forEach(function (error) {\n        return _utilsLogJs2['default'].error(error);\n      });\n      if (console.groupEnd) {\n        console.groupEnd();\n      }\n    }\n\n    parser.flush();\n  };\n\n  /**\n   * load a track from a  specifed url\n   *\n   * @param {String} src url to load track from\n   * @param {Track} track track to addcues to\n   */\n  var loadTrack = function loadTrack(src, track) {\n    var opts = {\n      uri: src\n    };\n    var crossOrigin = _utilsUrlJs.isCrossOrigin(src);\n\n    if (crossOrigin) {\n      opts.cors = crossOrigin;\n    }\n\n    _xhr2['default'](opts, Fn.bind(this, function (err, response, responseBody) {\n      if (err) {\n        return _utilsLogJs2['default'].error(err, response);\n      }\n\n      track.loaded_ = true;\n\n      // Make sure that vttjs has loaded, otherwise, wait till it finished loading\n      // NOTE: this is only used for the alt/video.novtt.js build\n      if (typeof _globalWindow2['default'].WebVTT !== 'function') {\n        if (track.tech_) {\n          (function () {\n            var loadHandler = function loadHandler() {\n              return parseCues(responseBody, track);\n            };\n            track.tech_.on('vttjsloaded', loadHandler);\n            track.tech_.on('vttjserror', function () {\n              _utilsLogJs2['default'].error('vttjs failed to load, stopping trying to process ' + track.src);\n              track.tech_.off('vttjsloaded', loadHandler);\n            });\n          })();\n        }\n      } else {\n        parseCues(responseBody, track);\n      }\n    }));\n  };\n\n  /**\n   * A single text track as defined in:\n   * @link https://html.spec.whatwg.org/multipage/embedded-content.html#texttrack\n   *\n   * interface TextTrack : EventTarget {\n *   readonly attribute TextTrackKind kind;\n *   readonly attribute DOMString label;\n *   readonly attribute DOMString language;\n *\n *   readonly attribute DOMString id;\n *   readonly attribute DOMString inBandMetadataTrackDispatchType;\n *\n *   attribute TextTrackMode mode;\n *\n *   readonly attribute TextTrackCueList? cues;\n *   readonly attribute TextTrackCueList? activeCues;\n *\n *   void addCue(TextTrackCue cue);\n *   void removeCue(TextTrackCue cue);\n *\n *   attribute EventHandler oncuechange;\n * };\n   *\n   * @param {Object=} options Object of option names and values\n   * @extends Track\n   * @class TextTrack\n   */\n\n  var TextTrack = (function (_Track) {\n    _inherits(TextTrack, _Track);\n\n    function TextTrack() {\n      var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n      _classCallCheck(this, TextTrack);\n\n      if (!options.tech) {\n        throw new Error('A tech was not provided.');\n      }\n\n      var settings = _utilsMergeOptions2['default'](options, {\n        kind: _trackEnums.TextTrackKind[options.kind] || 'subtitles',\n        language: options.language || options.srclang || ''\n      });\n      var mode = _trackEnums.TextTrackMode[settings.mode] || 'disabled';\n      var default_ = settings['default'];\n\n      if (settings.kind === 'metadata' || settings.kind === 'chapters') {\n        mode = 'hidden';\n      }\n      // on IE8 this will be a document element\n      // for every other browser this will be a normal object\n      var tt = _Track.call(this, settings);\n      tt.tech_ = settings.tech;\n\n      if (browser.IS_IE8) {\n        for (var prop in TextTrack.prototype) {\n          if (prop !== 'constructor') {\n            tt[prop] = TextTrack.prototype[prop];\n          }\n        }\n      }\n\n      tt.cues_ = [];\n      tt.activeCues_ = [];\n\n      var cues = new _textTrackCueList2['default'](tt.cues_);\n      var activeCues = new _textTrackCueList2['default'](tt.activeCues_);\n      var changed = false;\n      var timeupdateHandler = Fn.bind(tt, function () {\n        this.activeCues;\n        if (changed) {\n          this.trigger('cuechange');\n          changed = false;\n        }\n      });\n\n      if (mode !== 'disabled') {\n        tt.tech_.on('timeupdate', timeupdateHandler);\n      }\n\n      Object.defineProperty(tt, 'default', {\n        get: function get() {\n          return default_;\n        },\n        set: function set() {}\n      });\n\n      Object.defineProperty(tt, 'mode', {\n        get: function get() {\n          return mode;\n        },\n        set: function set(newMode) {\n          if (!_trackEnums.TextTrackMode[newMode]) {\n            return;\n          }\n          mode = newMode;\n          if (mode === 'showing') {\n            this.tech_.on('timeupdate', timeupdateHandler);\n          }\n          this.trigger('modechange');\n        }\n      });\n\n      Object.defineProperty(tt, 'cues', {\n        get: function get() {\n          if (!this.loaded_) {\n            return null;\n          }\n\n          return cues;\n        },\n        set: function set() {}\n      });\n\n      Object.defineProperty(tt, 'activeCues', {\n        get: function get() {\n          if (!this.loaded_) {\n            return null;\n          }\n\n          // nothing to do\n          if (this.cues.length === 0) {\n            return activeCues;\n          }\n\n          var ct = this.tech_.currentTime();\n          var active = [];\n\n          for (var i = 0, l = this.cues.length; i < l; i++) {\n            var cue = this.cues[i];\n\n            if (cue.startTime <= ct && cue.endTime >= ct) {\n              active.push(cue);\n            } else if (cue.startTime === cue.endTime && cue.startTime <= ct && cue.startTime + 0.5 >= ct) {\n              active.push(cue);\n            }\n          }\n\n          changed = false;\n\n          if (active.length !== this.activeCues_.length) {\n            changed = true;\n          } else {\n            for (var i = 0; i < active.length; i++) {\n              if (this.activeCues_.indexOf(active[i]) === -1) {\n                changed = true;\n              }\n            }\n          }\n\n          this.activeCues_ = active;\n          activeCues.setCues_(this.activeCues_);\n\n          return activeCues;\n        },\n        set: function set() {}\n      });\n\n      if (settings.src) {\n        tt.src = settings.src;\n        loadTrack(settings.src, tt);\n      } else {\n        tt.loaded_ = true;\n      }\n\n      return tt;\n    }\n\n    /**\n     * cuechange - One or more cues in the track have become active or stopped being active.\n     */\n\n    /**\n     * add a cue to the internal list of cues\n     *\n     * @param {Object} cue the cue to add to our internal list\n     * @method addCue\n     */\n\n    TextTrack.prototype.addCue = function addCue(cue) {\n      var tracks = this.tech_.textTracks();\n\n      if (tracks) {\n        for (var i = 0; i < tracks.length; i++) {\n          if (tracks[i] !== this) {\n            tracks[i].removeCue(cue);\n          }\n        }\n      }\n\n      this.cues_.push(cue);\n      this.cues.setCues_(this.cues_);\n    };\n\n    /**\n     * remvoe a cue from our internal list\n     *\n     * @param {Object} removeCue the cue to remove from our internal list\n     * @method removeCue\n     */\n\n    TextTrack.prototype.removeCue = function removeCue(_removeCue) {\n      var removed = false;\n\n      for (var i = 0, l = this.cues_.length; i < l; i++) {\n        var cue = this.cues_[i];\n\n        if (cue === _removeCue) {\n          this.cues_.splice(i, 1);\n          removed = true;\n        }\n      }\n\n      if (removed) {\n        this.cues.setCues_(this.cues_);\n      }\n    };\n\n    return TextTrack;\n  })(_trackJs2['default']);\n\n  TextTrack.prototype.allowedEvents_ = {\n    cuechange: 'cuechange'\n  };\n\n  exports['default'] = TextTrack;\n  module.exports = exports['default'];\n\n},{\"../utils/browser.js\":140,\"../utils/fn.js\":145,\"../utils/log.js\":148,\"../utils/merge-options\":149,\"../utils/url.js\":153,\"./text-track-cue-list\":129,\"./track-enums\":135,\"./track.js\":137,\"global/document\":1,\"global/window\":2,\"xhr\":56}],135:[function(_dereq_,module,exports){\n  /**\n   * @file track-kinds.js\n   */\n\n  /**\n   * https://html.spec.whatwg.org/multipage/embedded-content.html#dom-videotrack-kind\n   *\n   * enum VideoTrackKind {\n *   \"alternative\",\n *   \"captions\",\n *   \"main\",\n *   \"sign\",\n *   \"subtitles\",\n *   \"commentary\",\n *   \"\",\n * };\n   */\n  'use strict';\n\n  exports.__esModule = true;\n  var VideoTrackKind = {\n    alternative: 'alternative',\n    captions: 'captions',\n    main: 'main',\n    sign: 'sign',\n    subtitles: 'subtitles',\n    commentary: 'commentary'\n  };\n\n  /**\n   * https://html.spec.whatwg.org/multipage/embedded-content.html#dom-audiotrack-kind\n   *\n   * enum AudioTrackKind {\n *   \"alternative\",\n *   \"descriptions\",\n *   \"main\",\n *   \"main-desc\",\n *   \"translation\",\n *   \"commentary\",\n *   \"\",\n * };\n   */\n  var AudioTrackKind = {\n    alternative: 'alternative',\n    descriptions: 'descriptions',\n    main: 'main',\n    'main-desc': 'main-desc',\n    translation: 'translation',\n    commentary: 'commentary'\n  };\n\n  /**\n   * https://html.spec.whatwg.org/multipage/embedded-content.html#texttrackkind\n   *\n   * enum TextTrackKind {\n *   \"subtitles\",\n *   \"captions\",\n *   \"descriptions\",\n *   \"chapters\",\n *   \"metadata\"\n * };\n   */\n  var TextTrackKind = {\n    subtitles: 'subtitles',\n    captions: 'captions',\n    descriptions: 'descriptions',\n    chapters: 'chapters',\n    metadata: 'metadata'\n  };\n\n  /**\n   * https://html.spec.whatwg.org/multipage/embedded-content.html#texttrackmode\n   *\n   * enum TextTrackMode { \"disabled\",  \"hidden\",  \"showing\" };\n   */\n  var TextTrackMode = {\n    disabled: 'disabled',\n    hidden: 'hidden',\n    showing: 'showing'\n  };\n\n  /* jshint ignore:start */\n// we ignore jshint here because it does not see\n// AudioTrackKind as defined here\n  exports['default'] = { VideoTrackKind: VideoTrackKind, AudioTrackKind: AudioTrackKind, TextTrackKind: TextTrackKind, TextTrackMode: TextTrackMode };\n\n  /* jshint ignore:end */\n  module.exports = exports['default'];\n\n},{}],136:[function(_dereq_,module,exports){\n  /**\n   * @file track-list.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _eventTarget = _dereq_('../event-target');\n\n  var _eventTarget2 = _interopRequireDefault(_eventTarget);\n\n  var _utilsFnJs = _dereq_('../utils/fn.js');\n\n  var Fn = _interopRequireWildcard(_utilsFnJs);\n\n  var _utilsBrowserJs = _dereq_('../utils/browser.js');\n\n  var browser = _interopRequireWildcard(_utilsBrowserJs);\n\n  var _globalDocument = _dereq_('global/document');\n\n  var _globalDocument2 = _interopRequireDefault(_globalDocument);\n\n  /**\n   * Common functionaliy between Text, Audio, and Video TrackLists\n   * Interfaces defined in the following spec:\n   * @link https://html.spec.whatwg.org/multipage/embedded-content.html\n   *\n   * @param {Track[]} tracks A list of tracks to initialize the list with\n   * @param {Object} list the child object with inheritance done manually for ie8\n   * @extends EventTarget\n   * @class TrackList\n   */\n\n  var TrackList = (function (_EventTarget) {\n    _inherits(TrackList, _EventTarget);\n\n    function TrackList() {\n      var tracks = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];\n      var list = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];\n\n      _classCallCheck(this, TrackList);\n\n      _EventTarget.call(this);\n      if (!list) {\n        list = this;\n        if (browser.IS_IE8) {\n          list = _globalDocument2['default'].createElement('custom');\n          for (var prop in TrackList.prototype) {\n            if (prop !== 'constructor') {\n              list[prop] = TrackList.prototype[prop];\n            }\n          }\n        }\n      }\n\n      list.tracks_ = [];\n      Object.defineProperty(list, 'length', {\n        get: function get() {\n          return this.tracks_.length;\n        }\n      });\n\n      for (var i = 0; i < tracks.length; i++) {\n        list.addTrack_(tracks[i]);\n      }\n\n      return list;\n    }\n\n    /**\n     * change - One or more tracks in the track list have been enabled or disabled.\n     * addtrack - A track has been added to the track list.\n     * removetrack - A track has been removed from the track list.\n     */\n\n    /**\n     * Add a Track from TrackList\n     *\n     * @param {Mixed} track\n     * @method addTrack_\n     * @private\n     */\n\n    TrackList.prototype.addTrack_ = function addTrack_(track) {\n      var index = this.tracks_.length;\n\n      if (!('' + index in this)) {\n        Object.defineProperty(this, index, {\n          get: function get() {\n            return this.tracks_[index];\n          }\n        });\n      }\n\n      // Do not add duplicate tracks\n      if (this.tracks_.indexOf(track) === -1) {\n        this.tracks_.push(track);\n        this.trigger({\n          track: track,\n          type: 'addtrack'\n        });\n      }\n    };\n\n    /**\n     * Remove a Track from TrackList\n     *\n     * @param {Track} rtrack track to be removed\n     * @method removeTrack_\n     * @private\n     */\n\n    TrackList.prototype.removeTrack_ = function removeTrack_(rtrack) {\n      var track = undefined;\n\n      for (var i = 0, l = this.length; i < l; i++) {\n        if (this[i] === rtrack) {\n          track = this[i];\n          if (track.off) {\n            track.off();\n          }\n\n          this.tracks_.splice(i, 1);\n\n          break;\n        }\n      }\n\n      if (!track) {\n        return;\n      }\n\n      this.trigger({\n        track: track,\n        type: 'removetrack'\n      });\n    };\n\n    /**\n     * Get a Track from the TrackList by a tracks id\n     *\n     * @param {String} id - the id of the track to get\n     * @method getTrackById\n     * @return {Track}\n     * @private\n     */\n\n    TrackList.prototype.getTrackById = function getTrackById(id) {\n      var result = null;\n\n      for (var i = 0, l = this.length; i < l; i++) {\n        var track = this[i];\n        if (track.id === id) {\n          result = track;\n          break;\n        }\n      }\n\n      return result;\n    };\n\n    return TrackList;\n  })(_eventTarget2['default']);\n\n  TrackList.prototype.allowedEvents_ = {\n    change: 'change',\n    addtrack: 'addtrack',\n    removetrack: 'removetrack'\n  };\n\n// emulate attribute EventHandler support to allow for feature detection\n  for (var _event in TrackList.prototype.allowedEvents_) {\n    TrackList.prototype['on' + _event] = null;\n  }\n\n  exports['default'] = TrackList;\n  module.exports = exports['default'];\n\n},{\"../event-target\":104,\"../utils/browser.js\":140,\"../utils/fn.js\":145,\"global/document\":1}],137:[function(_dereq_,module,exports){\n  /**\n   * @file track.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _utilsBrowserJs = _dereq_('../utils/browser.js');\n\n  var browser = _interopRequireWildcard(_utilsBrowserJs);\n\n  var _globalDocument = _dereq_('global/document');\n\n  var _globalDocument2 = _interopRequireDefault(_globalDocument);\n\n  var _utilsGuidJs = _dereq_('../utils/guid.js');\n\n  var Guid = _interopRequireWildcard(_utilsGuidJs);\n\n  var _eventTarget = _dereq_('../event-target');\n\n  var _eventTarget2 = _interopRequireDefault(_eventTarget);\n\n  /**\n   * setup the common parts of an audio, video, or text track\n   * @link https://html.spec.whatwg.org/multipage/embedded-content.html\n   *\n   * @param {String} type The type of track we are dealing with audio|video|text\n   * @param {Object=} options Object of option names and values\n   * @extends EventTarget\n   * @class Track\n   */\n\n  var Track = (function (_EventTarget) {\n    _inherits(Track, _EventTarget);\n\n    function Track() {\n      var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n      _classCallCheck(this, Track);\n\n      _EventTarget.call(this);\n\n      var track = this;\n      if (browser.IS_IE8) {\n        track = _globalDocument2['default'].createElement('custom');\n        for (var prop in Track.prototype) {\n          if (prop !== 'constructor') {\n            track[prop] = Track.prototype[prop];\n          }\n        }\n      }\n\n      var trackProps = {\n        id: options.id || 'vjs_track_' + Guid.newGUID(),\n        kind: options.kind || '',\n        label: options.label || '',\n        language: options.language || ''\n      };\n\n      var _loop = function (key) {\n        Object.defineProperty(track, key, {\n          get: function get() {\n            return trackProps[key];\n          },\n          set: function set() {}\n        });\n      };\n\n      for (var key in trackProps) {\n        _loop(key);\n      }\n\n      return track;\n    }\n\n    return Track;\n  })(_eventTarget2['default']);\n\n  exports['default'] = Track;\n  module.exports = exports['default'];\n\n},{\"../event-target\":104,\"../utils/browser.js\":140,\"../utils/guid.js\":147,\"global/document\":1}],138:[function(_dereq_,module,exports){\n  /**\n   * @file video-track-list.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _trackList = _dereq_('./track-list');\n\n  var _trackList2 = _interopRequireDefault(_trackList);\n\n  var _utilsBrowserJs = _dereq_('../utils/browser.js');\n\n  var browser = _interopRequireWildcard(_utilsBrowserJs);\n\n  var _globalDocument = _dereq_('global/document');\n\n  var _globalDocument2 = _interopRequireDefault(_globalDocument);\n\n  /**\n   * disable other video tracks before selecting the new one\n   *\n   * @param {Array|VideoTrackList} list list to work on\n   * @param {VideoTrack} track the track to skip\n   */\n  var disableOthers = function disableOthers(list, track) {\n    for (var i = 0; i < list.length; i++) {\n      if (track.id === list[i].id) {\n        continue;\n      }\n      // another audio track is enabled, disable it\n      list[i].selected = false;\n    }\n  };\n\n  /**\n   * A list of possiblee video tracks. Most functionality is in the\n   * base class Tracklist and the spec for VideoTrackList is located at:\n   * @link https://html.spec.whatwg.org/multipage/embedded-content.html#videotracklist\n   *\n   * interface VideoTrackList : EventTarget {\n *   readonly attribute unsigned long length;\n *   getter VideoTrack (unsigned long index);\n *   VideoTrack? getTrackById(DOMString id);\n *   readonly attribute long selectedIndex;\n *\n *   attribute EventHandler onchange;\n *   attribute EventHandler onaddtrack;\n *   attribute EventHandler onremovetrack;\n * };\n   *\n   * @param {VideoTrack[]} tracks a list of video tracks to instantiate the list with\n   # @extends TrackList\n   * @class VideoTrackList\n   */\n\n  var VideoTrackList = (function (_TrackList) {\n    _inherits(VideoTrackList, _TrackList);\n\n    function VideoTrackList() {\n      var tracks = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];\n\n      _classCallCheck(this, VideoTrackList);\n\n      var list = undefined;\n\n      // make sure only 1 track is enabled\n      // sorted from last index to first index\n      for (var i = tracks.length - 1; i >= 0; i--) {\n        if (tracks[i].selected) {\n          disableOthers(tracks, tracks[i]);\n          break;\n        }\n      }\n\n      // IE8 forces us to implement inheritance ourselves\n      // as it does not support Object.defineProperty properly\n      if (browser.IS_IE8) {\n        list = _globalDocument2['default'].createElement('custom');\n        for (var prop in _trackList2['default'].prototype) {\n          if (prop !== 'constructor') {\n            list[prop] = _trackList2['default'].prototype[prop];\n          }\n        }\n        for (var prop in VideoTrackList.prototype) {\n          if (prop !== 'constructor') {\n            list[prop] = VideoTrackList.prototype[prop];\n          }\n        }\n      }\n\n      list = _TrackList.call(this, tracks, list);\n      list.changing_ = false;\n\n      Object.defineProperty(list, 'selectedIndex', {\n        get: function get() {\n          for (var i = 0; i < this.length; i++) {\n            if (this[i].selected) {\n              return i;\n            }\n          }\n          return -1;\n        },\n        set: function set() {}\n      });\n\n      return list;\n    }\n\n    VideoTrackList.prototype.addTrack_ = function addTrack_(track) {\n      var _this = this;\n\n      if (track.selected) {\n        disableOthers(this, track);\n      }\n\n      _TrackList.prototype.addTrack_.call(this, track);\n      // native tracks don't have this\n      if (!track.addEventListener) {\n        return;\n      }\n      track.addEventListener('selectedchange', function () {\n        if (_this.changing_) {\n          return;\n        }\n        _this.changing_ = true;\n        disableOthers(_this, track);\n        _this.changing_ = false;\n        _this.trigger('change');\n      });\n    };\n\n    VideoTrackList.prototype.addTrack = function addTrack(track) {\n      this.addTrack_(track);\n    };\n\n    VideoTrackList.prototype.removeTrack = function removeTrack(track) {\n      _TrackList.prototype.removeTrack_.call(this, track);\n    };\n\n    return VideoTrackList;\n  })(_trackList2['default']);\n\n  exports['default'] = VideoTrackList;\n  module.exports = exports['default'];\n\n},{\"../utils/browser.js\":140,\"./track-list\":136,\"global/document\":1}],139:[function(_dereq_,module,exports){\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _trackEnums = _dereq_('./track-enums');\n\n  var _track = _dereq_('./track');\n\n  var _track2 = _interopRequireDefault(_track);\n\n  var _utilsMergeOptions = _dereq_('../utils/merge-options');\n\n  var _utilsMergeOptions2 = _interopRequireDefault(_utilsMergeOptions);\n\n  var _utilsBrowserJs = _dereq_('../utils/browser.js');\n\n  var browser = _interopRequireWildcard(_utilsBrowserJs);\n\n  /**\n   * A single video text track as defined in:\n   * @link https://html.spec.whatwg.org/multipage/embedded-content.html#videotrack\n   *\n   * interface VideoTrack {\n *   readonly attribute DOMString id;\n *   readonly attribute DOMString kind;\n *   readonly attribute DOMString label;\n *   readonly attribute DOMString language;\n *   attribute boolean selected;\n * };\n   *\n   * @param {Object=} options Object of option names and values\n   * @class VideoTrack\n   */\n\n  var VideoTrack = (function (_Track) {\n    _inherits(VideoTrack, _Track);\n\n    function VideoTrack() {\n      var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n      _classCallCheck(this, VideoTrack);\n\n      var settings = _utilsMergeOptions2['default'](options, {\n        kind: _trackEnums.VideoTrackKind[options.kind] || ''\n      });\n\n      // on IE8 this will be a document element\n      // for every other browser this will be a normal object\n      var track = _Track.call(this, settings);\n      var selected = false;\n\n      if (browser.IS_IE8) {\n        for (var prop in VideoTrack.prototype) {\n          if (prop !== 'constructor') {\n            track[prop] = VideoTrack.prototype[prop];\n          }\n        }\n      }\n\n      Object.defineProperty(track, 'selected', {\n        get: function get() {\n          return selected;\n        },\n        set: function set(newSelected) {\n          // an invalid or unchanged value\n          if (typeof newSelected !== 'boolean' || newSelected === selected) {\n            return;\n          }\n          selected = newSelected;\n          this.trigger('selectedchange');\n        }\n      });\n\n      // if the user sets this track to selected then\n      // set selected to that true value otherwise\n      // we keep it false\n      if (settings.selected) {\n        track.selected = settings.selected;\n      }\n\n      return track;\n    }\n\n    return VideoTrack;\n  })(_track2['default']);\n\n  exports['default'] = VideoTrack;\n  module.exports = exports['default'];\n\n},{\"../utils/browser.js\":140,\"../utils/merge-options\":149,\"./track\":137,\"./track-enums\":135}],140:[function(_dereq_,module,exports){\n  /**\n   * @file browser.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  var _globalDocument = _dereq_('global/document');\n\n  var _globalDocument2 = _interopRequireDefault(_globalDocument);\n\n  var _globalWindow = _dereq_('global/window');\n\n  var _globalWindow2 = _interopRequireDefault(_globalWindow);\n\n  var USER_AGENT = _globalWindow2['default'].navigator.userAgent;\n  var webkitVersionMap = /AppleWebKit\\/([\\d.]+)/i.exec(USER_AGENT);\n  var appleWebkitVersion = webkitVersionMap ? parseFloat(webkitVersionMap.pop()) : null;\n\n  /*\n   * Device is an iPhone\n   *\n   * @type {Boolean}\n   * @constant\n   * @private\n   */\n  var IS_IPAD = /iPad/i.test(USER_AGENT);\n\n  exports.IS_IPAD = IS_IPAD;\n// The Facebook app's UIWebView identifies as both an iPhone and iPad, so\n// to identify iPhones, we need to exclude iPads.\n// http://artsy.github.io/blog/2012/10/18/the-perils-of-ios-user-agent-sniffing/\n  var IS_IPHONE = /iPhone/i.test(USER_AGENT) && !IS_IPAD;\n  exports.IS_IPHONE = IS_IPHONE;\n  var IS_IPOD = /iPod/i.test(USER_AGENT);\n  exports.IS_IPOD = IS_IPOD;\n  var IS_IOS = IS_IPHONE || IS_IPAD || IS_IPOD;\n\n  exports.IS_IOS = IS_IOS;\n  var IOS_VERSION = (function () {\n    var match = USER_AGENT.match(/OS (\\d+)_/i);\n    if (match && match[1]) {\n      return match[1];\n    }\n  })();\n\n  exports.IOS_VERSION = IOS_VERSION;\n  var IS_ANDROID = /Android/i.test(USER_AGENT);\n  exports.IS_ANDROID = IS_ANDROID;\n  var ANDROID_VERSION = (function () {\n    // This matches Android Major.Minor.Patch versions\n    // ANDROID_VERSION is Major.Minor as a Number, if Minor isn't available, then only Major is returned\n    var match = USER_AGENT.match(/Android (\\d+)(?:\\.(\\d+))?(?:\\.(\\d+))*/i),\n      major,\n      minor;\n\n    if (!match) {\n      return null;\n    }\n\n    major = match[1] && parseFloat(match[1]);\n    minor = match[2] && parseFloat(match[2]);\n\n    if (major && minor) {\n      return parseFloat(match[1] + '.' + match[2]);\n    } else if (major) {\n      return major;\n    } else {\n      return null;\n    }\n  })();\n  exports.ANDROID_VERSION = ANDROID_VERSION;\n// Old Android is defined as Version older than 2.3, and requiring a webkit version of the android browser\n  var IS_OLD_ANDROID = IS_ANDROID && /webkit/i.test(USER_AGENT) && ANDROID_VERSION < 2.3;\n  exports.IS_OLD_ANDROID = IS_OLD_ANDROID;\n  var IS_NATIVE_ANDROID = IS_ANDROID && ANDROID_VERSION < 5 && appleWebkitVersion < 537;\n\n  exports.IS_NATIVE_ANDROID = IS_NATIVE_ANDROID;\n  var IS_FIREFOX = /Firefox/i.test(USER_AGENT);\n  exports.IS_FIREFOX = IS_FIREFOX;\n  var IS_EDGE = /Edge/i.test(USER_AGENT);\n  exports.IS_EDGE = IS_EDGE;\n  var IS_CHROME = !IS_EDGE && /Chrome/i.test(USER_AGENT);\n  exports.IS_CHROME = IS_CHROME;\n  var IS_IE8 = /MSIE\\s8\\.0/.test(USER_AGENT);\n\n  exports.IS_IE8 = IS_IE8;\n  var TOUCH_ENABLED = !!('ontouchstart' in _globalWindow2['default'] || _globalWindow2['default'].DocumentTouch && _globalDocument2['default'] instanceof _globalWindow2['default'].DocumentTouch);\n  exports.TOUCH_ENABLED = TOUCH_ENABLED;\n  var BACKGROUND_SIZE_SUPPORTED = ('backgroundSize' in _globalDocument2['default'].createElement('video').style);\n  exports.BACKGROUND_SIZE_SUPPORTED = BACKGROUND_SIZE_SUPPORTED;\n\n},{\"global/document\":1,\"global/window\":2}],141:[function(_dereq_,module,exports){\n  /**\n   * @file buffer.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n  exports.bufferedPercent = bufferedPercent;\n\n  var _timeRangesJs = _dereq_('./time-ranges.js');\n\n  /**\n   * Compute how much your video has been buffered\n   *\n   * @param  {Object} Buffered object\n   * @param  {Number} Total duration\n   * @return {Number} Percent buffered of the total duration\n   * @private\n   * @function bufferedPercent\n   */\n\n  function bufferedPercent(buffered, duration) {\n    var bufferedDuration = 0,\n      start,\n      end;\n\n    if (!duration) {\n      return 0;\n    }\n\n    if (!buffered || !buffered.length) {\n      buffered = _timeRangesJs.createTimeRange(0, 0);\n    }\n\n    for (var i = 0; i < buffered.length; i++) {\n      start = buffered.start(i);\n      end = buffered.end(i);\n\n      // buffered end can be bigger than duration by a very small fraction\n      if (end > duration) {\n        end = duration;\n      }\n\n      bufferedDuration += end - start;\n    }\n\n    return bufferedDuration / duration;\n  }\n\n},{\"./time-ranges.js\":151}],142:[function(_dereq_,module,exports){\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  var _logJs = _dereq_('./log.js');\n\n  var _logJs2 = _interopRequireDefault(_logJs);\n\n  /**\n   * Object containing the default behaviors for available handler methods.\n   *\n   * @private\n   * @type {Object}\n   */\n  var defaultBehaviors = {\n    get: function get(obj, key) {\n      return obj[key];\n    },\n    set: function set(obj, key, value) {\n      obj[key] = value;\n      return true;\n    }\n  };\n\n  /**\n   * Expose private objects publicly using a Proxy to log deprecation warnings.\n   *\n   * Browsers that do not support Proxy objects will simply return the `target`\n   * object, so it can be directly exposed.\n   *\n   * @param {Object} target The target object.\n   * @param {Object} messages Messages to display from a Proxy. Only operations\n   *                          with an associated message will be proxied.\n   * @param {String} [messages.get]\n   * @param {String} [messages.set]\n   * @return {Object} A Proxy if supported or the `target` argument.\n   */\n\n  exports['default'] = function (target) {\n    var messages = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    if (typeof Proxy === 'function') {\n      var _ret = (function () {\n        var handler = {};\n\n        // Build a handler object based on those keys that have both messages\n        // and default behaviors.\n        Object.keys(messages).forEach(function (key) {\n          if (defaultBehaviors.hasOwnProperty(key)) {\n            handler[key] = function () {\n              _logJs2['default'].warn(messages[key]);\n              return defaultBehaviors[key].apply(this, arguments);\n            };\n          }\n        });\n\n        return {\n          v: new Proxy(target, handler)\n        };\n      })();\n\n      if (typeof _ret === 'object') return _ret.v;\n    }\n    return target;\n  };\n\n  module.exports = exports['default'];\n\n},{\"./log.js\":148}],143:[function(_dereq_,module,exports){\n  /**\n   * @file dom.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n  exports.getEl = getEl;\n  exports.createEl = createEl;\n  exports.textContent = textContent;\n  exports.insertElFirst = insertElFirst;\n  exports.getElData = getElData;\n  exports.hasElData = hasElData;\n  exports.removeElData = removeElData;\n  exports.hasElClass = hasElClass;\n  exports.addElClass = addElClass;\n  exports.removeElClass = removeElClass;\n  exports.toggleElClass = toggleElClass;\n  exports.setElAttributes = setElAttributes;\n  exports.getElAttributes = getElAttributes;\n  exports.blockTextSelection = blockTextSelection;\n  exports.unblockTextSelection = unblockTextSelection;\n  exports.findElPosition = findElPosition;\n  exports.getPointerPosition = getPointerPosition;\n  exports.isEl = isEl;\n  exports.isTextNode = isTextNode;\n  exports.emptyEl = emptyEl;\n  exports.normalizeContent = normalizeContent;\n  exports.appendContent = appendContent;\n  exports.insertContent = insertContent;\n\n  var _templateObject = _taggedTemplateLiteralLoose(['Setting attributes in the second argument of createEl()\\n                has been deprecated. Use the third argument instead.\\n                createEl(type, properties, attributes). Attempting to set ', ' to ', '.'], ['Setting attributes in the second argument of createEl()\\n                has been deprecated. Use the third argument instead.\\n                createEl(type, properties, attributes). Attempting to set ', ' to ', '.']);\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _taggedTemplateLiteralLoose(strings, raw) { strings.raw = raw; return strings; }\n\n  var _globalDocument = _dereq_('global/document');\n\n  var _globalDocument2 = _interopRequireDefault(_globalDocument);\n\n  var _globalWindow = _dereq_('global/window');\n\n  var _globalWindow2 = _interopRequireDefault(_globalWindow);\n\n  var _guidJs = _dereq_('./guid.js');\n\n  var Guid = _interopRequireWildcard(_guidJs);\n\n  var _logJs = _dereq_('./log.js');\n\n  var _logJs2 = _interopRequireDefault(_logJs);\n\n  var _tsml = _dereq_('tsml');\n\n  var _tsml2 = _interopRequireDefault(_tsml);\n\n  /**\n   * Detect if a value is a string with any non-whitespace characters.\n   *\n   * @param  {String} str\n   * @return {Boolean}\n   */\n  function isNonBlankString(str) {\n    return typeof str === 'string' && /\\S/.test(str);\n  }\n\n  /**\n   * Throws an error if the passed string has whitespace. This is used by\n   * class methods to be relatively consistent with the classList API.\n   *\n   * @param  {String} str\n   * @return {Boolean}\n   */\n  function throwIfWhitespace(str) {\n    if (/\\s/.test(str)) {\n      throw new Error('class has illegal whitespace characters');\n    }\n  }\n\n  /**\n   * Produce a regular expression for matching a class name.\n   *\n   * @param  {String} className\n   * @return {RegExp}\n   */\n  function classRegExp(className) {\n    return new RegExp('(^|\\\\s)' + className + '($|\\\\s)');\n  }\n\n  /**\n   * Creates functions to query the DOM using a given method.\n   *\n   * @function createQuerier\n   * @private\n   * @param  {String} method\n   * @return {Function}\n   */\n  function createQuerier(method) {\n    return function (selector, context) {\n      if (!isNonBlankString(selector)) {\n        return _globalDocument2['default'][method](null);\n      }\n      if (isNonBlankString(context)) {\n        context = _globalDocument2['default'].querySelector(context);\n      }\n      return (isEl(context) ? context : _globalDocument2['default'])[method](selector);\n    };\n  }\n\n  /**\n   * Shorthand for document.getElementById()\n   * Also allows for CSS (jQuery) ID syntax. But nothing other than IDs.\n   *\n   * @param  {String} id  Element ID\n   * @return {Element}    Element with supplied ID\n   * @function getEl\n   */\n\n  function getEl(id) {\n    if (id.indexOf('#') === 0) {\n      id = id.slice(1);\n    }\n\n    return _globalDocument2['default'].getElementById(id);\n  }\n\n  /**\n   * Creates an element and applies properties.\n   *\n   * @param  {String} [tagName='div'] Name of tag to be created.\n   * @param  {Object} [properties={}] Element properties to be applied.\n   * @param  {Object} [attributes={}] Element attributes to be applied.\n   * @return {Element}\n   * @function createEl\n   */\n\n  function createEl() {\n    var tagName = arguments.length <= 0 || arguments[0] === undefined ? 'div' : arguments[0];\n    var properties = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n    var attributes = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n    var el = _globalDocument2['default'].createElement(tagName);\n\n    Object.getOwnPropertyNames(properties).forEach(function (propName) {\n      var val = properties[propName];\n\n      // See #2176\n      // We originally were accepting both properties and attributes in the\n      // same object, but that doesn't work so well.\n      if (propName.indexOf('aria-') !== -1 || propName === 'role' || propName === 'type') {\n        _logJs2['default'].warn(_tsml2['default'](_templateObject, propName, val));\n        el.setAttribute(propName, val);\n      } else {\n        el[propName] = val;\n      }\n    });\n\n    Object.getOwnPropertyNames(attributes).forEach(function (attrName) {\n      var val = attributes[attrName];\n      el.setAttribute(attrName, attributes[attrName]);\n    });\n\n    return el;\n  }\n\n  /**\n   * Injects text into an element, replacing any existing contents entirely.\n   *\n   * @param  {Element} el\n   * @param  {String} text\n   * @return {Element}\n   * @function textContent\n   */\n\n  function textContent(el, text) {\n    if (typeof el.textContent === 'undefined') {\n      el.innerText = text;\n    } else {\n      el.textContent = text;\n    }\n  }\n\n  /**\n   * Insert an element as the first child node of another\n   *\n   * @param  {Element} child   Element to insert\n   * @param  {Element} parent Element to insert child into\n   * @private\n   * @function insertElFirst\n   */\n\n  function insertElFirst(child, parent) {\n    if (parent.firstChild) {\n      parent.insertBefore(child, parent.firstChild);\n    } else {\n      parent.appendChild(child);\n    }\n  }\n\n  /**\n   * Element Data Store. Allows for binding data to an element without putting it directly on the element.\n   * Ex. Event listeners are stored here.\n   * (also from jsninja.com, slightly modified and updated for closure compiler)\n   *\n   * @type {Object}\n   * @private\n   */\n  var elData = {};\n\n  /*\n   * Unique attribute name to store an element's guid in\n   *\n   * @type {String}\n   * @constant\n   * @private\n   */\n  var elIdAttr = 'vdata' + new Date().getTime();\n\n  /**\n   * Returns the cache object where data for an element is stored\n   *\n   * @param  {Element} el Element to store data for.\n   * @return {Object}\n   * @function getElData\n   */\n\n  function getElData(el) {\n    var id = el[elIdAttr];\n\n    if (!id) {\n      id = el[elIdAttr] = Guid.newGUID();\n    }\n\n    if (!elData[id]) {\n      elData[id] = {};\n    }\n\n    return elData[id];\n  }\n\n  /**\n   * Returns whether or not an element has cached data\n   *\n   * @param  {Element} el A dom element\n   * @return {Boolean}\n   * @private\n   * @function hasElData\n   */\n\n  function hasElData(el) {\n    var id = el[elIdAttr];\n\n    if (!id) {\n      return false;\n    }\n\n    return !!Object.getOwnPropertyNames(elData[id]).length;\n  }\n\n  /**\n   * Delete data for the element from the cache and the guid attr from getElementById\n   *\n   * @param  {Element} el Remove data for an element\n   * @private\n   * @function removeElData\n   */\n\n  function removeElData(el) {\n    var id = el[elIdAttr];\n\n    if (!id) {\n      return;\n    }\n\n    // Remove all stored data\n    delete elData[id];\n\n    // Remove the elIdAttr property from the DOM node\n    try {\n      delete el[elIdAttr];\n    } catch (e) {\n      if (el.removeAttribute) {\n        el.removeAttribute(elIdAttr);\n      } else {\n        // IE doesn't appear to support removeAttribute on the document element\n        el[elIdAttr] = null;\n      }\n    }\n  }\n\n  /**\n   * Check if an element has a CSS class\n   *\n   * @function hasElClass\n   * @param {Element} element Element to check\n   * @param {String} classToCheck Classname to check\n   */\n\n  function hasElClass(element, classToCheck) {\n    if (element.classList) {\n      return element.classList.contains(classToCheck);\n    } else {\n      throwIfWhitespace(classToCheck);\n      return classRegExp(classToCheck).test(element.className);\n    }\n  }\n\n  /**\n   * Add a CSS class name to an element\n   *\n   * @function addElClass\n   * @param {Element} element    Element to add class name to\n   * @param {String} classToAdd Classname to add\n   */\n\n  function addElClass(element, classToAdd) {\n    if (element.classList) {\n      element.classList.add(classToAdd);\n\n      // Don't need to `throwIfWhitespace` here because `hasElClass` will do it\n      // in the case of classList not being supported.\n    } else if (!hasElClass(element, classToAdd)) {\n      element.className = (element.className + ' ' + classToAdd).trim();\n    }\n\n    return element;\n  }\n\n  /**\n   * Remove a CSS class name from an element\n   *\n   * @function removeElClass\n   * @param {Element} element    Element to remove from class name\n   * @param {String} classToRemove Classname to remove\n   */\n\n  function removeElClass(element, classToRemove) {\n    if (element.classList) {\n      element.classList.remove(classToRemove);\n    } else {\n      throwIfWhitespace(classToRemove);\n      element.className = element.className.split(/\\s+/).filter(function (c) {\n        return c !== classToRemove;\n      }).join(' ');\n    }\n\n    return element;\n  }\n\n  /**\n   * Adds or removes a CSS class name on an element depending on an optional\n   * condition or the presence/absence of the class name.\n   *\n   * @function toggleElClass\n   * @param    {Element} element\n   * @param    {String} classToToggle\n   * @param    {Boolean|Function} [predicate]\n   *           Can be a function that returns a Boolean. If `true`, the class\n   *           will be added; if `false`, the class will be removed. If not\n   *           given, the class will be added if not present and vice versa.\n   */\n\n  function toggleElClass(element, classToToggle, predicate) {\n\n    // This CANNOT use `classList` internally because IE does not support the\n    // second parameter to the `classList.toggle()` method! Which is fine because\n    // `classList` will be used by the add/remove functions.\n    var has = hasElClass(element, classToToggle);\n\n    if (typeof predicate === 'function') {\n      predicate = predicate(element, classToToggle);\n    }\n\n    if (typeof predicate !== 'boolean') {\n      predicate = !has;\n    }\n\n    // If the necessary class operation matches the current state of the\n    // element, no action is required.\n    if (predicate === has) {\n      return;\n    }\n\n    if (predicate) {\n      addElClass(element, classToToggle);\n    } else {\n      removeElClass(element, classToToggle);\n    }\n\n    return element;\n  }\n\n  /**\n   * Apply attributes to an HTML element.\n   *\n   * @param  {Element} el         Target element.\n   * @param  {Object=} attributes Element attributes to be applied.\n   * @private\n   * @function setElAttributes\n   */\n\n  function setElAttributes(el, attributes) {\n    Object.getOwnPropertyNames(attributes).forEach(function (attrName) {\n      var attrValue = attributes[attrName];\n\n      if (attrValue === null || typeof attrValue === 'undefined' || attrValue === false) {\n        el.removeAttribute(attrName);\n      } else {\n        el.setAttribute(attrName, attrValue === true ? '' : attrValue);\n      }\n    });\n  }\n\n  /**\n   * Get an element's attribute values, as defined on the HTML tag\n   * Attributes are not the same as properties. They're defined on the tag\n   * or with setAttribute (which shouldn't be used with HTML)\n   * This will return true or false for boolean attributes.\n   *\n   * @param  {Element} tag Element from which to get tag attributes\n   * @return {Object}\n   * @private\n   * @function getElAttributes\n   */\n\n  function getElAttributes(tag) {\n    var obj, knownBooleans, attrs, attrName, attrVal;\n\n    obj = {};\n\n    // known boolean attributes\n    // we can check for matching boolean properties, but older browsers\n    // won't know about HTML5 boolean attributes that we still read from\n    knownBooleans = ',' + 'autoplay,controls,loop,muted,default' + ',';\n\n    if (tag && tag.attributes && tag.attributes.length > 0) {\n      attrs = tag.attributes;\n\n      for (var i = attrs.length - 1; i >= 0; i--) {\n        attrName = attrs[i].name;\n        attrVal = attrs[i].value;\n\n        // check for known booleans\n        // the matching element property will return a value for typeof\n        if (typeof tag[attrName] === 'boolean' || knownBooleans.indexOf(',' + attrName + ',') !== -1) {\n          // the value of an included boolean attribute is typically an empty\n          // string ('') which would equal false if we just check for a false value.\n          // we also don't want support bad code like autoplay='false'\n          attrVal = attrVal !== null ? true : false;\n        }\n\n        obj[attrName] = attrVal;\n      }\n    }\n\n    return obj;\n  }\n\n  /**\n   * Attempt to block the ability to select text while dragging controls\n   *\n   * @return {Boolean}\n   * @function blockTextSelection\n   */\n\n  function blockTextSelection() {\n    _globalDocument2['default'].body.focus();\n    _globalDocument2['default'].onselectstart = function () {\n      return false;\n    };\n  }\n\n  /**\n   * Turn off text selection blocking\n   *\n   * @return {Boolean}\n   * @function unblockTextSelection\n   */\n\n  function unblockTextSelection() {\n    _globalDocument2['default'].onselectstart = function () {\n      return true;\n    };\n  }\n\n  /**\n   * Offset Left\n   * getBoundingClientRect technique from\n   * John Resig http://ejohn.org/blog/getboundingclientrect-is-awesome/\n   *\n   * @function findElPosition\n   * @param {Element} el Element from which to get offset\n   * @return {Object}\n   */\n\n  function findElPosition(el) {\n    var box = undefined;\n\n    if (el.getBoundingClientRect && el.parentNode) {\n      box = el.getBoundingClientRect();\n    }\n\n    if (!box) {\n      return {\n        left: 0,\n        top: 0\n      };\n    }\n\n    var docEl = _globalDocument2['default'].documentElement;\n    var body = _globalDocument2['default'].body;\n\n    var clientLeft = docEl.clientLeft || body.clientLeft || 0;\n    var scrollLeft = _globalWindow2['default'].pageXOffset || body.scrollLeft;\n    var left = box.left + scrollLeft - clientLeft;\n\n    var clientTop = docEl.clientTop || body.clientTop || 0;\n    var scrollTop = _globalWindow2['default'].pageYOffset || body.scrollTop;\n    var top = box.top + scrollTop - clientTop;\n\n    // Android sometimes returns slightly off decimal values, so need to round\n    return {\n      left: Math.round(left),\n      top: Math.round(top)\n    };\n  }\n\n  /**\n   * Get pointer position in element\n   * Returns an object with x and y coordinates.\n   * The base on the coordinates are the bottom left of the element.\n   *\n   * @function getPointerPosition\n   * @param {Element} el Element on which to get the pointer position on\n   * @param {Event} event Event object\n   * @return {Object} This object will have x and y coordinates corresponding to the mouse position\n   */\n\n  function getPointerPosition(el, event) {\n    var position = {};\n    var box = findElPosition(el);\n    var boxW = el.offsetWidth;\n    var boxH = el.offsetHeight;\n\n    var boxY = box.top;\n    var boxX = box.left;\n    var pageY = event.pageY;\n    var pageX = event.pageX;\n\n    if (event.changedTouches) {\n      pageX = event.changedTouches[0].pageX;\n      pageY = event.changedTouches[0].pageY;\n    }\n\n    position.y = Math.max(0, Math.min(1, (boxY - pageY + boxH) / boxH));\n    position.x = Math.max(0, Math.min(1, (pageX - boxX) / boxW));\n\n    return position;\n  }\n\n  /**\n   * Determines, via duck typing, whether or not a value is a DOM element.\n   *\n   * @function isEl\n   * @param    {Mixed} value\n   * @return   {Boolean}\n   */\n\n  function isEl(value) {\n    return !!value && typeof value === 'object' && value.nodeType === 1;\n  }\n\n  /**\n   * Determines, via duck typing, whether or not a value is a text node.\n   *\n   * @param  {Mixed} value\n   * @return {Boolean}\n   */\n\n  function isTextNode(value) {\n    return !!value && typeof value === 'object' && value.nodeType === 3;\n  }\n\n  /**\n   * Empties the contents of an element.\n   *\n   * @function emptyEl\n   * @param    {Element} el\n   * @return   {Element}\n   */\n\n  function emptyEl(el) {\n    while (el.firstChild) {\n      el.removeChild(el.firstChild);\n    }\n    return el;\n  }\n\n  /**\n   * Normalizes content for eventual insertion into the DOM.\n   *\n   * This allows a wide range of content definition methods, but protects\n   * from falling into the trap of simply writing to `innerHTML`, which is\n   * an XSS concern.\n   *\n   * The content for an element can be passed in multiple types and\n   * combinations, whose behavior is as follows:\n   *\n   * - String\n   *   Normalized into a text node.\n   *\n   * - Element, TextNode\n   *   Passed through.\n   *\n   * - Array\n   *   A one-dimensional array of strings, elements, nodes, or functions (which\n   *   return single strings, elements, or nodes).\n   *\n   * - Function\n   *   If the sole argument, is expected to produce a string, element,\n   *   node, or array.\n   *\n   * @function normalizeContent\n   * @param    {String|Element|TextNode|Array|Function} content\n   * @return   {Array}\n   */\n\n  function normalizeContent(content) {\n\n    // First, invoke content if it is a function. If it produces an array,\n    // that needs to happen before normalization.\n    if (typeof content === 'function') {\n      content = content();\n    }\n\n    // Next up, normalize to an array, so one or many items can be normalized,\n    // filtered, and returned.\n    return (Array.isArray(content) ? content : [content]).map(function (value) {\n\n      // First, invoke value if it is a function to produce a new value,\n      // which will be subsequently normalized to a Node of some kind.\n      if (typeof value === 'function') {\n        value = value();\n      }\n\n      if (isEl(value) || isTextNode(value)) {\n        return value;\n      }\n\n      if (typeof value === 'string' && /\\S/.test(value)) {\n        return _globalDocument2['default'].createTextNode(value);\n      }\n    }).filter(function (value) {\n      return value;\n    });\n  }\n\n  /**\n   * Normalizes and appends content to an element.\n   *\n   * @function appendContent\n   * @param    {Element} el\n   * @param    {String|Element|TextNode|Array|Function} content\n   *           See: `normalizeContent`\n   * @return   {Element}\n   */\n\n  function appendContent(el, content) {\n    normalizeContent(content).forEach(function (node) {\n      return el.appendChild(node);\n    });\n    return el;\n  }\n\n  /**\n   * Normalizes and inserts content into an element; this is identical to\n   * `appendContent()`, except it empties the element first.\n   *\n   * @function insertContent\n   * @param    {Element} el\n   * @param    {String|Element|TextNode|Array|Function} content\n   *           See: `normalizeContent`\n   * @return   {Element}\n   */\n\n  function insertContent(el, content) {\n    return appendContent(emptyEl(el), content);\n  }\n\n  /**\n   * Finds a single DOM element matching `selector` within the optional\n   * `context` of another DOM element (defaulting to `document`).\n   *\n   * @function $\n   * @param    {String} selector\n   *           A valid CSS selector, which will be passed to `querySelector`.\n   *\n   * @param    {Element|String} [context=document]\n   *           A DOM element within which to query. Can also be a selector\n   *           string in which case the first matching element will be used\n   *           as context. If missing (or no element matches selector), falls\n   *           back to `document`.\n   *\n   * @return   {Element|null}\n   */\n  var $ = createQuerier('querySelector');\n\n  exports.$ = $;\n  /**\n   * Finds a all DOM elements matching `selector` within the optional\n   * `context` of another DOM element (defaulting to `document`).\n   *\n   * @function $$\n   * @param    {String} selector\n   *           A valid CSS selector, which will be passed to `querySelectorAll`.\n   *\n   * @param    {Element|String} [context=document]\n   *           A DOM element within which to query. Can also be a selector\n   *           string in which case the first matching element will be used\n   *           as context. If missing (or no element matches selector), falls\n   *           back to `document`.\n   *\n   * @return   {NodeList}\n   */\n  var $$ = createQuerier('querySelectorAll');\n  exports.$$ = $$;\n\n},{\"./guid.js\":147,\"./log.js\":148,\"global/document\":1,\"global/window\":2,\"tsml\":55}],144:[function(_dereq_,module,exports){\n  /**\n   * @file events.js\n   *\n   * Event System (John Resig - Secrets of a JS Ninja http://jsninja.com/)\n   * (Original book version wasn't completely usable, so fixed some things and made Closure Compiler compatible)\n   * This should work very similarly to jQuery's events, however it's based off the book version which isn't as\n   * robust as jquery's, so there's probably some differences.\n   */\n\n  'use strict';\n\n  exports.__esModule = true;\n  exports.on = on;\n  exports.off = off;\n  exports.trigger = trigger;\n  exports.one = one;\n  exports.fixEvent = fixEvent;\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  var _domJs = _dereq_('./dom.js');\n\n  var Dom = _interopRequireWildcard(_domJs);\n\n  var _guidJs = _dereq_('./guid.js');\n\n  var Guid = _interopRequireWildcard(_guidJs);\n\n  var _globalWindow = _dereq_('global/window');\n\n  var _globalWindow2 = _interopRequireDefault(_globalWindow);\n\n  var _globalDocument = _dereq_('global/document');\n\n  var _globalDocument2 = _interopRequireDefault(_globalDocument);\n\n  /**\n   * Add an event listener to element\n   * It stores the handler function in a separate cache object\n   * and adds a generic handler to the element's event,\n   * along with a unique id (guid) to the element.\n   *\n   * @param  {Element|Object}   elem Element or object to bind listeners to\n   * @param  {String|Array}   type Type of event to bind to.\n   * @param  {Function} fn   Event listener.\n   * @method on\n   */\n\n  function on(elem, type, fn) {\n    if (Array.isArray(type)) {\n      return _handleMultipleEvents(on, elem, type, fn);\n    }\n\n    var data = Dom.getElData(elem);\n\n    // We need a place to store all our handler data\n    if (!data.handlers) data.handlers = {};\n\n    if (!data.handlers[type]) data.handlers[type] = [];\n\n    if (!fn.guid) fn.guid = Guid.newGUID();\n\n    data.handlers[type].push(fn);\n\n    if (!data.dispatcher) {\n      data.disabled = false;\n\n      data.dispatcher = function (event, hash) {\n\n        if (data.disabled) return;\n        event = fixEvent(event);\n\n        var handlers = data.handlers[event.type];\n\n        if (handlers) {\n          // Copy handlers so if handlers are added/removed during the process it doesn't throw everything off.\n          var handlersCopy = handlers.slice(0);\n\n          for (var m = 0, n = handlersCopy.length; m < n; m++) {\n            if (event.isImmediatePropagationStopped()) {\n              break;\n            } else {\n              handlersCopy[m].call(elem, event, hash);\n            }\n          }\n        }\n      };\n    }\n\n    if (data.handlers[type].length === 1) {\n      if (elem.addEventListener) {\n        elem.addEventListener(type, data.dispatcher, false);\n      } else if (elem.attachEvent) {\n        elem.attachEvent('on' + type, data.dispatcher);\n      }\n    }\n  }\n\n  /**\n   * Removes event listeners from an element\n   *\n   * @param  {Element|Object}   elem Object to remove listeners from\n   * @param  {String|Array=}   type Type of listener to remove. Don't include to remove all events from element.\n   * @param  {Function} fn   Specific listener to remove. Don't include to remove listeners for an event type.\n   * @method off\n   */\n\n  function off(elem, type, fn) {\n    // Don't want to add a cache object through getElData if not needed\n    if (!Dom.hasElData(elem)) return;\n\n    var data = Dom.getElData(elem);\n\n    // If no events exist, nothing to unbind\n    if (!data.handlers) {\n      return;\n    }\n\n    if (Array.isArray(type)) {\n      return _handleMultipleEvents(off, elem, type, fn);\n    }\n\n    // Utility function\n    var removeType = function removeType(t) {\n      data.handlers[t] = [];\n      _cleanUpEvents(elem, t);\n    };\n\n    // Are we removing all bound events?\n    if (!type) {\n      for (var t in data.handlers) {\n        removeType(t);\n      }return;\n    }\n\n    var handlers = data.handlers[type];\n\n    // If no handlers exist, nothing to unbind\n    if (!handlers) return;\n\n    // If no listener was provided, remove all listeners for type\n    if (!fn) {\n      removeType(type);\n      return;\n    }\n\n    // We're only removing a single handler\n    if (fn.guid) {\n      for (var n = 0; n < handlers.length; n++) {\n        if (handlers[n].guid === fn.guid) {\n          handlers.splice(n--, 1);\n        }\n      }\n    }\n\n    _cleanUpEvents(elem, type);\n  }\n\n  /**\n   * Trigger an event for an element\n   *\n   * @param  {Element|Object}      elem  Element to trigger an event on\n   * @param  {Event|Object|String} event A string (the type) or an event object with a type attribute\n   * @param  {Object} [hash] data hash to pass along with the event\n   * @return {Boolean=} Returned only if default was prevented\n   * @method trigger\n   */\n\n  function trigger(elem, event, hash) {\n    // Fetches element data and a reference to the parent (for bubbling).\n    // Don't want to add a data object to cache for every parent,\n    // so checking hasElData first.\n    var elemData = Dom.hasElData(elem) ? Dom.getElData(elem) : {};\n    var parent = elem.parentNode || elem.ownerDocument;\n    // type = event.type || event,\n    // handler;\n\n    // If an event name was passed as a string, creates an event out of it\n    if (typeof event === 'string') {\n      event = { type: event, target: elem };\n    }\n    // Normalizes the event properties.\n    event = fixEvent(event);\n\n    // If the passed element has a dispatcher, executes the established handlers.\n    if (elemData.dispatcher) {\n      elemData.dispatcher.call(elem, event, hash);\n    }\n\n    // Unless explicitly stopped or the event does not bubble (e.g. media events)\n    // recursively calls this function to bubble the event up the DOM.\n    if (parent && !event.isPropagationStopped() && event.bubbles === true) {\n      trigger.call(null, parent, event, hash);\n\n      // If at the top of the DOM, triggers the default action unless disabled.\n    } else if (!parent && !event.defaultPrevented) {\n      var targetData = Dom.getElData(event.target);\n\n      // Checks if the target has a default action for this event.\n      if (event.target[event.type]) {\n        // Temporarily disables event dispatching on the target as we have already executed the handler.\n        targetData.disabled = true;\n        // Executes the default action.\n        if (typeof event.target[event.type] === 'function') {\n          event.target[event.type]();\n        }\n        // Re-enables event dispatching.\n        targetData.disabled = false;\n      }\n    }\n\n    // Inform the triggerer if the default was prevented by returning false\n    return !event.defaultPrevented;\n  }\n\n  /**\n   * Trigger a listener only once for an event\n   *\n   * @param  {Element|Object}   elem Element or object to\n   * @param  {String|Array}   type Name/type of event\n   * @param  {Function} fn Event handler function\n   * @method one\n   */\n\n  function one(elem, type, fn) {\n    if (Array.isArray(type)) {\n      return _handleMultipleEvents(one, elem, type, fn);\n    }\n    var func = function func() {\n      off(elem, type, func);\n      fn.apply(this, arguments);\n    };\n    // copy the guid to the new function so it can removed using the original function's ID\n    func.guid = fn.guid = fn.guid || Guid.newGUID();\n    on(elem, type, func);\n  }\n\n  /**\n   * Fix a native event to have standard property values\n   *\n   * @param  {Object} event Event object to fix\n   * @return {Object}\n   * @private\n   * @method fixEvent\n   */\n\n  function fixEvent(event) {\n\n    function returnTrue() {\n      return true;\n    }\n    function returnFalse() {\n      return false;\n    }\n\n    // Test if fixing up is needed\n    // Used to check if !event.stopPropagation instead of isPropagationStopped\n    // But native events return true for stopPropagation, but don't have\n    // other expected methods like isPropagationStopped. Seems to be a problem\n    // with the Javascript Ninja code. So we're just overriding all events now.\n    if (!event || !event.isPropagationStopped) {\n      var old = event || _globalWindow2['default'].event;\n\n      event = {};\n      // Clone the old object so that we can modify the values event = {};\n      // IE8 Doesn't like when you mess with native event properties\n      // Firefox returns false for event.hasOwnProperty('type') and other props\n      //  which makes copying more difficult.\n      // TODO: Probably best to create a whitelist of event props\n      for (var key in old) {\n        // Safari 6.0.3 warns you if you try to copy deprecated layerX/Y\n        // Chrome warns you if you try to copy deprecated keyboardEvent.keyLocation\n        // and webkitMovementX/Y\n        if (key !== 'layerX' && key !== 'layerY' && key !== 'keyLocation' && key !== 'webkitMovementX' && key !== 'webkitMovementY') {\n          // Chrome 32+ warns if you try to copy deprecated returnValue, but\n          // we still want to if preventDefault isn't supported (IE8).\n          if (!(key === 'returnValue' && old.preventDefault)) {\n            event[key] = old[key];\n          }\n        }\n      }\n\n      // The event occurred on this element\n      if (!event.target) {\n        event.target = event.srcElement || _globalDocument2['default'];\n      }\n\n      // Handle which other element the event is related to\n      if (!event.relatedTarget) {\n        event.relatedTarget = event.fromElement === event.target ? event.toElement : event.fromElement;\n      }\n\n      // Stop the default browser action\n      event.preventDefault = function () {\n        if (old.preventDefault) {\n          old.preventDefault();\n        }\n        event.returnValue = false;\n        old.returnValue = false;\n        event.defaultPrevented = true;\n      };\n\n      event.defaultPrevented = false;\n\n      // Stop the event from bubbling\n      event.stopPropagation = function () {\n        if (old.stopPropagation) {\n          old.stopPropagation();\n        }\n        event.cancelBubble = true;\n        old.cancelBubble = true;\n        event.isPropagationStopped = returnTrue;\n      };\n\n      event.isPropagationStopped = returnFalse;\n\n      // Stop the event from bubbling and executing other handlers\n      event.stopImmediatePropagation = function () {\n        if (old.stopImmediatePropagation) {\n          old.stopImmediatePropagation();\n        }\n        event.isImmediatePropagationStopped = returnTrue;\n        event.stopPropagation();\n      };\n\n      event.isImmediatePropagationStopped = returnFalse;\n\n      // Handle mouse position\n      if (event.clientX != null) {\n        var doc = _globalDocument2['default'].documentElement,\n          body = _globalDocument2['default'].body;\n\n        event.pageX = event.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0);\n        event.pageY = event.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0);\n      }\n\n      // Handle key presses\n      event.which = event.charCode || event.keyCode;\n\n      // Fix button for mouse clicks:\n      // 0 == left; 1 == middle; 2 == right\n      if (event.button != null) {\n        event.button = event.button & 1 ? 0 : event.button & 4 ? 1 : event.button & 2 ? 2 : 0;\n      }\n    }\n\n    // Returns fixed-up instance\n    return event;\n  }\n\n  /**\n   * Clean up the listener cache and dispatchers\n   *\n   * @param  {Element|Object} elem Element to clean up\n   * @param  {String} type Type of event to clean up\n   * @private\n   * @method _cleanUpEvents\n   */\n  function _cleanUpEvents(elem, type) {\n    var data = Dom.getElData(elem);\n\n    // Remove the events of a particular type if there are none left\n    if (data.handlers[type].length === 0) {\n      delete data.handlers[type];\n      // data.handlers[type] = null;\n      // Setting to null was causing an error with data.handlers\n\n      // Remove the meta-handler from the element\n      if (elem.removeEventListener) {\n        elem.removeEventListener(type, data.dispatcher, false);\n      } else if (elem.detachEvent) {\n        elem.detachEvent('on' + type, data.dispatcher);\n      }\n    }\n\n    // Remove the events object if there are no types left\n    if (Object.getOwnPropertyNames(data.handlers).length <= 0) {\n      delete data.handlers;\n      delete data.dispatcher;\n      delete data.disabled;\n    }\n\n    // Finally remove the element data if there is no data left\n    if (Object.getOwnPropertyNames(data).length === 0) {\n      Dom.removeElData(elem);\n    }\n  }\n\n  /**\n   * Loops through an array of event types and calls the requested method for each type.\n   *\n   * @param  {Function} fn   The event method we want to use.\n   * @param  {Element|Object} elem Element or object to bind listeners to\n   * @param  {String}   type Type of event to bind to.\n   * @param  {Function} callback   Event listener.\n   * @private\n   * @function _handleMultipleEvents\n   */\n  function _handleMultipleEvents(fn, elem, types, callback) {\n    types.forEach(function (type) {\n      //Call the event method for each one of the types\n      fn(elem, type, callback);\n    });\n  }\n\n},{\"./dom.js\":143,\"./guid.js\":147,\"global/document\":1,\"global/window\":2}],145:[function(_dereq_,module,exports){\n  /**\n   * @file fn.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  var _guidJs = _dereq_('./guid.js');\n\n  /**\n   * Bind (a.k.a proxy or Context). A simple method for changing the context of a function\n   * It also stores a unique id on the function so it can be easily removed from events\n   *\n   * @param  {*}   context The object to bind as scope\n   * @param  {Function} fn      The function to be bound to a scope\n   * @param  {Number=}   uid     An optional unique ID for the function to be set\n   * @return {Function}\n   * @private\n   * @method bind\n   */\n  var bind = function bind(context, fn, uid) {\n    // Make sure the function has a unique ID\n    if (!fn.guid) {\n      fn.guid = _guidJs.newGUID();\n    }\n\n    // Create the new function that changes the context\n    var ret = function ret() {\n      return fn.apply(context, arguments);\n    };\n\n    // Allow for the ability to individualize this function\n    // Needed in the case where multiple objects might share the same prototype\n    // IF both items add an event listener with the same function, then you try to remove just one\n    // it will remove both because they both have the same guid.\n    // when using this, you need to use the bind method when you remove the listener as well.\n    // currently used in text tracks\n    ret.guid = uid ? uid + '_' + fn.guid : fn.guid;\n\n    return ret;\n  };\n  exports.bind = bind;\n\n},{\"./guid.js\":147}],146:[function(_dereq_,module,exports){\n  /**\n   * @file format-time.js\n   *\n   * Format seconds as a time string, H:MM:SS or M:SS\n   * Supplying a guide (in seconds) will force a number of leading zeros\n   * to cover the length of the guide\n   *\n   * @param  {Number} seconds Number of seconds to be turned into a string\n   * @param  {Number} guide   Number (in seconds) to model the string after\n   * @return {String}         Time formatted as H:MM:SS or M:SS\n   * @private\n   * @function formatTime\n   */\n  'use strict';\n\n  exports.__esModule = true;\n  function formatTime(seconds) {\n    var guide = arguments.length <= 1 || arguments[1] === undefined ? seconds : arguments[1];\n    return (function () {\n      seconds = seconds < 0 ? 0 : seconds;\n      var s = Math.floor(seconds % 60);\n      var m = Math.floor(seconds / 60 % 60);\n      var h = Math.floor(seconds / 3600);\n      var gm = Math.floor(guide / 60 % 60);\n      var gh = Math.floor(guide / 3600);\n\n      // handle invalid times\n      if (isNaN(seconds) || seconds === Infinity) {\n        // '-' is false for all relational operators (e.g. <, >=) so this setting\n        // will add the minimum number of fields specified by the guide\n        h = m = s = '-';\n      }\n\n      // Check if we need to show hours\n      h = h > 0 || gh > 0 ? h + ':' : '';\n\n      // If hours are showing, we may need to add a leading zero.\n      // Always show at least one digit of minutes.\n      m = ((h || gm >= 10) && m < 10 ? '0' + m : m) + ':';\n\n      // Check if leading zero is need for seconds\n      s = s < 10 ? '0' + s : s;\n\n      return h + m + s;\n    })();\n  }\n\n  exports['default'] = formatTime;\n  module.exports = exports['default'];\n\n},{}],147:[function(_dereq_,module,exports){\n  /**\n   * @file guid.js\n   *\n   * Unique ID for an element or function\n   * @type {Number}\n   * @private\n   */\n  \"use strict\";\n\n  exports.__esModule = true;\n  exports.newGUID = newGUID;\n  var _guid = 1;\n\n  /**\n   * Get the next unique ID\n   *\n   * @return {String}\n   * @function newGUID\n   */\n\n  function newGUID() {\n    return _guid++;\n  }\n\n},{}],148:[function(_dereq_,module,exports){\n  /**\n   * @file log.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  var _globalWindow = _dereq_('global/window');\n\n  var _globalWindow2 = _interopRequireDefault(_globalWindow);\n\n  /**\n   * Log plain debug messages\n   */\n  var log = function log() {\n    _logType(null, arguments);\n  };\n\n  /**\n   * Keep a history of log messages\n   * @type {Array}\n   */\n  log.history = [];\n\n  /**\n   * Log error messages\n   */\n  log.error = function () {\n    _logType('error', arguments);\n  };\n\n  /**\n   * Log warning messages\n   */\n  log.warn = function () {\n    _logType('warn', arguments);\n  };\n\n  /**\n   * Log messages to the console and history based on the type of message\n   *\n   * @param  {String} type The type of message, or `null` for `log`\n   * @param  {Object} args The args to be passed to the log\n   * @private\n   * @method _logType\n   */\n  function _logType(type, args) {\n    // convert args to an array to get array functions\n    var argsArray = Array.prototype.slice.call(args);\n    // if there's no console then don't try to output messages\n    // they will still be stored in log.history\n    // Was setting these once outside of this function, but containing them\n    // in the function makes it easier to test cases where console doesn't exist\n    var noop = function noop() {};\n\n    var console = _globalWindow2['default']['console'] || {\n        'log': noop,\n        'warn': noop,\n        'error': noop\n      };\n\n    if (type) {\n      // add the type to the front of the message\n      argsArray.unshift(type.toUpperCase() + ':');\n    } else {\n      // default to log with no prefix\n      type = 'log';\n    }\n\n    // add to history\n    log.history.push(argsArray);\n\n    // add console prefix after adding to history\n    argsArray.unshift('VIDEOJS:');\n\n    // call appropriate log function\n    if (console[type].apply) {\n      console[type].apply(console, argsArray);\n    } else {\n      // ie8 doesn't allow error.apply, but it will just join() the array anyway\n      console[type](argsArray.join(' '));\n    }\n  }\n\n  exports['default'] = log;\n  module.exports = exports['default'];\n\n},{\"global/window\":2}],149:[function(_dereq_,module,exports){\n  /**\n   * @file merge-options.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n  exports['default'] = mergeOptions;\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  var _lodashCompatObjectMerge = _dereq_('lodash-compat/object/merge');\n\n  var _lodashCompatObjectMerge2 = _interopRequireDefault(_lodashCompatObjectMerge);\n\n  function isPlain(obj) {\n    return !!obj && typeof obj === 'object' && obj.toString() === '[object Object]' && obj.constructor === Object;\n  }\n\n  /**\n   * Merge customizer. video.js simply overwrites non-simple objects\n   * (like arrays) instead of attempting to overlay them.\n   * @see https://lodash.com/docs#merge\n   */\n  var customizer = function customizer(destination, source) {\n    // If we're not working with a plain object, copy the value as is\n    // If source is an array, for instance, it will replace destination\n    if (!isPlain(source)) {\n      return source;\n    }\n\n    // If the new value is a plain object but the first object value is not\n    // we need to create a new object for the first object to merge with.\n    // This makes it consistent with how merge() works by default\n    // and also protects from later changes the to first object affecting\n    // the second object's values.\n    if (!isPlain(destination)) {\n      return mergeOptions(source);\n    }\n  };\n\n  /**\n   * Merge one or more options objects, recursively merging **only**\n   * plain object properties.  Previously `deepMerge`.\n   *\n   * @param  {...Object} source One or more objects to merge\n   * @returns {Object}          a new object that is the union of all\n   * provided objects\n   * @function mergeOptions\n   */\n\n  function mergeOptions() {\n    // contruct the call dynamically to handle the variable number of\n    // objects to merge\n    var args = Array.prototype.slice.call(arguments);\n\n    // unshift an empty object into the front of the call as the target\n    // of the merge\n    args.unshift({});\n\n    // customize conflict resolution to match our historical merge behavior\n    args.push(customizer);\n\n    _lodashCompatObjectMerge2['default'].apply(null, args);\n\n    // return the mutated result object\n    return args[0];\n  }\n\n  module.exports = exports['default'];\n\n},{\"lodash-compat/object/merge\":40}],150:[function(_dereq_,module,exports){\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  var _globalDocument = _dereq_('global/document');\n\n  var _globalDocument2 = _interopRequireDefault(_globalDocument);\n\n  var createStyleElement = function createStyleElement(className) {\n    var style = _globalDocument2['default'].createElement('style');\n    style.className = className;\n\n    return style;\n  };\n\n  exports.createStyleElement = createStyleElement;\n  var setTextContent = function setTextContent(el, content) {\n    if (el.styleSheet) {\n      el.styleSheet.cssText = content;\n    } else {\n      el.textContent = content;\n    }\n  };\n  exports.setTextContent = setTextContent;\n\n},{\"global/document\":1}],151:[function(_dereq_,module,exports){\n  'use strict';\n\n  exports.__esModule = true;\n  exports.createTimeRanges = createTimeRanges;\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  var _logJs = _dereq_('./log.js');\n\n  var _logJs2 = _interopRequireDefault(_logJs);\n\n  /**\n   * @file time-ranges.js\n   *\n   * Should create a fake TimeRange object\n   * Mimics an HTML5 time range instance, which has functions that\n   * return the start and end times for a range\n   * TimeRanges are returned by the buffered() method\n   *\n   * @param  {(Number|Array)} Start of a single range or an array of ranges\n   * @param  {Number} End of a single range\n   * @private\n   * @method createTimeRanges\n   */\n\n  function createTimeRanges(start, end) {\n    if (Array.isArray(start)) {\n      return createTimeRangesObj(start);\n    } else if (start === undefined || end === undefined) {\n      return createTimeRangesObj();\n    }\n    return createTimeRangesObj([[start, end]]);\n  }\n\n  exports.createTimeRange = createTimeRanges;\n\n  function createTimeRangesObj(ranges) {\n    if (ranges === undefined || ranges.length === 0) {\n      return {\n        length: 0,\n        start: function start() {\n          throw new Error('This TimeRanges object is empty');\n        },\n        end: function end() {\n          throw new Error('This TimeRanges object is empty');\n        }\n      };\n    }\n    return {\n      length: ranges.length,\n      start: getRange.bind(null, 'start', 0, ranges),\n      end: getRange.bind(null, 'end', 1, ranges)\n    };\n  }\n\n  function getRange(fnName, valueIndex, ranges, rangeIndex) {\n    if (rangeIndex === undefined) {\n      _logJs2['default'].warn('DEPRECATED: Function \\'' + fnName + '\\' on \\'TimeRanges\\' called without an index argument.');\n      rangeIndex = 0;\n    }\n    rangeCheck(fnName, rangeIndex, ranges.length - 1);\n    return ranges[rangeIndex][valueIndex];\n  }\n\n  function rangeCheck(fnName, index, maxIndex) {\n    if (index < 0 || index > maxIndex) {\n      throw new Error('Failed to execute \\'' + fnName + '\\' on \\'TimeRanges\\': The index provided (' + index + ') is greater than or equal to the maximum bound (' + maxIndex + ').');\n    }\n  }\n\n},{\"./log.js\":148}],152:[function(_dereq_,module,exports){\n  /**\n   * @file to-title-case.js\n   *\n   * Uppercase the first letter of a string\n   *\n   * @param  {String} string String to be uppercased\n   * @return {String}\n   * @private\n   * @method toTitleCase\n   */\n  \"use strict\";\n\n  exports.__esModule = true;\n  function toTitleCase(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n\n  exports[\"default\"] = toTitleCase;\n  module.exports = exports[\"default\"];\n\n},{}],153:[function(_dereq_,module,exports){\n  /**\n   * @file url.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  var _globalDocument = _dereq_('global/document');\n\n  var _globalDocument2 = _interopRequireDefault(_globalDocument);\n\n  var _globalWindow = _dereq_('global/window');\n\n  var _globalWindow2 = _interopRequireDefault(_globalWindow);\n\n  /**\n   * Resolve and parse the elements of a URL\n   *\n   * @param  {String} url The url to parse\n   * @return {Object}     An object of url details\n   * @method parseUrl\n   */\n  var parseUrl = function parseUrl(url) {\n    var props = ['protocol', 'hostname', 'port', 'pathname', 'search', 'hash', 'host'];\n\n    // add the url to an anchor and let the browser parse the URL\n    var a = _globalDocument2['default'].createElement('a');\n    a.href = url;\n\n    // IE8 (and 9?) Fix\n    // ie8 doesn't parse the URL correctly until the anchor is actually\n    // added to the body, and an innerHTML is needed to trigger the parsing\n    var addToBody = a.host === '' && a.protocol !== 'file:';\n    var div = undefined;\n    if (addToBody) {\n      div = _globalDocument2['default'].createElement('div');\n      div.innerHTML = '<a href=\"' + url + '\"></a>';\n      a = div.firstChild;\n      // prevent the div from affecting layout\n      div.setAttribute('style', 'display:none; position:absolute;');\n      _globalDocument2['default'].body.appendChild(div);\n    }\n\n    // Copy the specific URL properties to a new object\n    // This is also needed for IE8 because the anchor loses its\n    // properties when it's removed from the dom\n    var details = {};\n    for (var i = 0; i < props.length; i++) {\n      details[props[i]] = a[props[i]];\n    }\n\n    // IE9 adds the port to the host property unlike everyone else. If\n    // a port identifier is added for standard ports, strip it.\n    if (details.protocol === 'http:') {\n      details.host = details.host.replace(/:80$/, '');\n    }\n    if (details.protocol === 'https:') {\n      details.host = details.host.replace(/:443$/, '');\n    }\n\n    if (addToBody) {\n      _globalDocument2['default'].body.removeChild(div);\n    }\n\n    return details;\n  };\n\n  exports.parseUrl = parseUrl;\n  /**\n   * Get absolute version of relative URL. Used to tell flash correct URL.\n   * http://stackoverflow.com/questions/470832/getting-an-absolute-url-from-a-relative-one-ie6-issue\n   *\n   * @param  {String} url URL to make absolute\n   * @return {String}     Absolute URL\n   * @private\n   * @method getAbsoluteURL\n   */\n  var getAbsoluteURL = function getAbsoluteURL(url) {\n    // Check if absolute URL\n    if (!url.match(/^https?:\\/\\//)) {\n      // Convert to absolute URL. Flash hosted off-site needs an absolute URL.\n      var div = _globalDocument2['default'].createElement('div');\n      div.innerHTML = '<a href=\"' + url + '\">x</a>';\n      url = div.firstChild.href;\n    }\n\n    return url;\n  };\n\n  exports.getAbsoluteURL = getAbsoluteURL;\n  /**\n   * Returns the extension of the passed file name. It will return an empty string if you pass an invalid path\n   *\n   * @param {String}    path    The fileName path like '/path/to/file.mp4'\n   * @returns {String}          The extension in lower case or an empty string if no extension could be found.\n   * @method getFileExtension\n   */\n  var getFileExtension = function getFileExtension(path) {\n    if (typeof path === 'string') {\n      var splitPathRe = /^(\\/?)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?)(\\.([^\\.\\/\\?]+)))(?:[\\/]*|[\\?].*)$/i;\n      var pathParts = splitPathRe.exec(path);\n\n      if (pathParts) {\n        return pathParts.pop().toLowerCase();\n      }\n    }\n\n    return '';\n  };\n\n  exports.getFileExtension = getFileExtension;\n  /**\n   * Returns whether the url passed is a cross domain request or not.\n   *\n   * @param {String} url The url to check\n   * @return {Boolean}   Whether it is a cross domain request or not\n   * @method isCrossOrigin\n   */\n  var isCrossOrigin = function isCrossOrigin(url) {\n    var winLoc = _globalWindow2['default'].location;\n    var urlInfo = parseUrl(url);\n\n    // IE8 protocol relative urls will return ':' for protocol\n    var srcProtocol = urlInfo.protocol === ':' ? winLoc.protocol : urlInfo.protocol;\n\n    // Check if url is for another domain/origin\n    // IE8 doesn't know location.origin, so we won't rely on it here\n    var crossOrigin = srcProtocol + urlInfo.host !== winLoc.protocol + winLoc.host;\n\n    return crossOrigin;\n  };\n  exports.isCrossOrigin = isCrossOrigin;\n\n},{\"global/document\":1,\"global/window\":2}],154:[function(_dereq_,module,exports){\n  /**\n   * @file video.js\n   */\n  'use strict';\n\n  exports.__esModule = true;\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  var _globalWindow = _dereq_('global/window');\n\n  var _globalWindow2 = _interopRequireDefault(_globalWindow);\n\n  var _globalDocument = _dereq_('global/document');\n\n  var _globalDocument2 = _interopRequireDefault(_globalDocument);\n\n  var _setup = _dereq_('./setup');\n\n  var setup = _interopRequireWildcard(_setup);\n\n  var _utilsStylesheetJs = _dereq_('./utils/stylesheet.js');\n\n  var stylesheet = _interopRequireWildcard(_utilsStylesheetJs);\n\n  var _component = _dereq_('./component');\n\n  var _component2 = _interopRequireDefault(_component);\n\n  var _eventTarget = _dereq_('./event-target');\n\n  var _eventTarget2 = _interopRequireDefault(_eventTarget);\n\n  var _utilsEventsJs = _dereq_('./utils/events.js');\n\n  var Events = _interopRequireWildcard(_utilsEventsJs);\n\n  var _player = _dereq_('./player');\n\n  var _player2 = _interopRequireDefault(_player);\n\n  var _pluginsJs = _dereq_('./plugins.js');\n\n  var _pluginsJs2 = _interopRequireDefault(_pluginsJs);\n\n  var _srcJsUtilsMergeOptionsJs = _dereq_('../../src/js/utils/merge-options.js');\n\n  var _srcJsUtilsMergeOptionsJs2 = _interopRequireDefault(_srcJsUtilsMergeOptionsJs);\n\n  var _utilsFnJs = _dereq_('./utils/fn.js');\n\n  var Fn = _interopRequireWildcard(_utilsFnJs);\n\n  var _tracksTextTrackJs = _dereq_('./tracks/text-track.js');\n\n  var _tracksTextTrackJs2 = _interopRequireDefault(_tracksTextTrackJs);\n\n  var _tracksAudioTrackJs = _dereq_('./tracks/audio-track.js');\n\n  var _tracksAudioTrackJs2 = _interopRequireDefault(_tracksAudioTrackJs);\n\n  var _tracksVideoTrackJs = _dereq_('./tracks/video-track.js');\n\n  var _tracksVideoTrackJs2 = _interopRequireDefault(_tracksVideoTrackJs);\n\n  var _objectAssign = _dereq_('object.assign');\n\n  var _objectAssign2 = _interopRequireDefault(_objectAssign);\n\n  var _utilsTimeRangesJs = _dereq_('./utils/time-ranges.js');\n\n  var _utilsFormatTimeJs = _dereq_('./utils/format-time.js');\n\n  var _utilsFormatTimeJs2 = _interopRequireDefault(_utilsFormatTimeJs);\n\n  var _utilsLogJs = _dereq_('./utils/log.js');\n\n  var _utilsLogJs2 = _interopRequireDefault(_utilsLogJs);\n\n  var _utilsDomJs = _dereq_('./utils/dom.js');\n\n  var Dom = _interopRequireWildcard(_utilsDomJs);\n\n  var _utilsBrowserJs = _dereq_('./utils/browser.js');\n\n  var browser = _interopRequireWildcard(_utilsBrowserJs);\n\n  var _utilsUrlJs = _dereq_('./utils/url.js');\n\n  var Url = _interopRequireWildcard(_utilsUrlJs);\n\n  var _extendJs = _dereq_('./extend.js');\n\n  var _extendJs2 = _interopRequireDefault(_extendJs);\n\n  var _lodashCompatObjectMerge = _dereq_('lodash-compat/object/merge');\n\n  var _lodashCompatObjectMerge2 = _interopRequireDefault(_lodashCompatObjectMerge);\n\n  var _utilsCreateDeprecationProxyJs = _dereq_('./utils/create-deprecation-proxy.js');\n\n  var _utilsCreateDeprecationProxyJs2 = _interopRequireDefault(_utilsCreateDeprecationProxyJs);\n\n  var _xhr = _dereq_('xhr');\n\n  var _xhr2 = _interopRequireDefault(_xhr);\n\n// Include the built-in techs\n\n  var _techTechJs = _dereq_('./tech/tech.js');\n\n  var _techTechJs2 = _interopRequireDefault(_techTechJs);\n\n  var _techHtml5Js = _dereq_('./tech/html5.js');\n\n  var _techHtml5Js2 = _interopRequireDefault(_techHtml5Js);\n\n  var _techFlashJs = _dereq_('./tech/flash.js');\n\n  var _techFlashJs2 = _interopRequireDefault(_techFlashJs);\n\n// HTML5 Element Shim for IE8\n  if (typeof HTMLVideoElement === 'undefined') {\n    _globalDocument2['default'].createElement('video');\n    _globalDocument2['default'].createElement('audio');\n    _globalDocument2['default'].createElement('track');\n  }\n\n  /**\n   * Doubles as the main function for users to create a player instance and also\n   * the main library object.\n   * The `videojs` function can be used to initialize or retrieve a player.\n   * ```js\n   *     var myPlayer = videojs('my_video_id');\n   * ```\n   *\n   * @param  {String|Element} id      Video element or video element ID\n   * @param  {Object=} options        Optional options object for config/settings\n   * @param  {Function=} ready        Optional ready callback\n   * @return {Player}                 A player instance\n   * @mixes videojs\n   * @method videojs\n   */\n  function videojs(id, options, ready) {\n    var tag = undefined; // Element of ID\n\n    // Allow for element or ID to be passed in\n    // String ID\n    if (typeof id === 'string') {\n\n      // Adjust for jQuery ID syntax\n      if (id.indexOf('#') === 0) {\n        id = id.slice(1);\n      }\n\n      // If a player instance has already been created for this ID return it.\n      if (videojs.getPlayers()[id]) {\n\n        // If options or ready funtion are passed, warn\n        if (options) {\n          _utilsLogJs2['default'].warn('Player \"' + id + '\" is already initialised. Options will not be applied.');\n        }\n\n        if (ready) {\n          videojs.getPlayers()[id].ready(ready);\n        }\n\n        return videojs.getPlayers()[id];\n\n        // Otherwise get element for ID\n      } else {\n        tag = Dom.getEl(id);\n      }\n\n      // ID is a media element\n    } else {\n      tag = id;\n    }\n\n    // Check for a useable element\n    if (!tag || !tag.nodeName) {\n      // re: nodeName, could be a box div also\n      throw new TypeError('The element or ID supplied is not valid. (videojs)'); // Returns\n    }\n\n    // Element may have a player attr referring to an already created player instance.\n    // If not, set up a new player and return the instance.\n    return tag['player'] || _player2['default'].players[tag.playerId] || new _player2['default'](tag, options, ready);\n  }\n\n// Add default styles\n  if (_globalWindow2['default'].VIDEOJS_NO_DYNAMIC_STYLE !== true) {\n    var style = Dom.$('.vjs-styles-defaults');\n\n    if (!style) {\n      style = stylesheet.createStyleElement('vjs-styles-defaults');\n      var head = Dom.$('head');\n      head.insertBefore(style, head.firstChild);\n      stylesheet.setTextContent(style, '\\n      .video-js {\\n        width: 300px;\\n        height: 150px;\\n      }\\n\\n      .vjs-fluid {\\n        padding-top: 56.25%\\n      }\\n    ');\n    }\n  }\n\n// Run Auto-load players\n// You have to wait at least once in case this script is loaded after your video in the DOM (weird behavior only with minified version)\n  setup.autoSetupTimeout(1, videojs);\n\n  /*\n   * Current software version (semver)\n   *\n   * @type {String}\n   */\n  videojs.VERSION = '5.10.8';\n\n  /**\n   * The global options object. These are the settings that take effect\n   * if no overrides are specified when the player is created.\n   *\n   * ```js\n   *     videojs.options.autoplay = true\n   *     // -> all players will autoplay by default\n   * ```\n   *\n   * @type {Object}\n   */\n  videojs.options = _player2['default'].prototype.options_;\n\n  /**\n   * Get an object with the currently created players, keyed by player ID\n   *\n   * @return {Object} The created players\n   * @mixes videojs\n   * @method getPlayers\n   */\n  videojs.getPlayers = function () {\n    return _player2['default'].players;\n  };\n\n  /**\n   * For backward compatibility, expose players object.\n   *\n   * @deprecated\n   * @memberOf videojs\n   * @property {Object|Proxy} players\n   */\n  videojs.players = _utilsCreateDeprecationProxyJs2['default'](_player2['default'].players, {\n    get: 'Access to videojs.players is deprecated; use videojs.getPlayers instead',\n    set: 'Modification of videojs.players is deprecated'\n  });\n\n  /**\n   * Get a component class object by name\n   * ```js\n   *     var VjsButton = videojs.getComponent('Button');\n   *     // Create a new instance of the component\n   *     var myButton = new VjsButton(myPlayer);\n   * ```\n   *\n   * @return {Component} Component identified by name\n   * @mixes videojs\n   * @method getComponent\n   */\n  videojs.getComponent = _component2['default'].getComponent;\n\n  /**\n   * Register a component so it can referred to by name\n   * Used when adding to other\n   * components, either through addChild\n   * `component.addChild('myComponent')`\n   * or through default children options\n   * `{ children: ['myComponent'] }`.\n   * ```js\n   *     // Get a component to subclass\n   *     var VjsButton = videojs.getComponent('Button');\n   *     // Subclass the component (see 'extend' doc for more info)\n   *     var MySpecialButton = videojs.extend(VjsButton, {});\n   *     // Register the new component\n   *     VjsButton.registerComponent('MySepcialButton', MySepcialButton);\n   *     // (optionally) add the new component as a default player child\n   *     myPlayer.addChild('MySepcialButton');\n   * ```\n   * NOTE: You could also just initialize the component before adding.\n   * `component.addChild(new MyComponent());`\n   *\n   * @param {String} The class name of the component\n   * @param {Component} The component class\n   * @return {Component} The newly registered component\n   * @mixes videojs\n   * @method registerComponent\n   */\n  videojs.registerComponent = function (name, comp) {\n    if (_techTechJs2['default'].isTech(comp)) {\n      _utilsLogJs2['default'].warn('The ' + name + ' tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)');\n    }\n\n    _component2['default'].registerComponent.call(_component2['default'], name, comp);\n  };\n\n  /**\n   * Get a Tech class object by name\n   * ```js\n   *     var Html5 = videojs.getTech('Html5');\n   *     // Create a new instance of the component\n   *     var html5 = new Html5(options);\n   * ```\n   *\n   * @return {Tech} Tech identified by name\n   * @mixes videojs\n   * @method getComponent\n   */\n  videojs.getTech = _techTechJs2['default'].getTech;\n\n  /**\n   * Register a Tech so it can referred to by name.\n   * This is used in the tech order for the player.\n   *\n   * ```js\n   *     // get the Html5 Tech\n   *     var Html5 = videojs.getTech('Html5');\n   *     var MyTech = videojs.extend(Html5, {});\n   *     // Register the new Tech\n   *     VjsButton.registerTech('Tech', MyTech);\n   *     var player = videojs('myplayer', {\n *       techOrder: ['myTech', 'html5']\n *     });\n   * ```\n   *\n   * @param {String} The class name of the tech\n   * @param {Tech} The tech class\n   * @return {Tech} The newly registered Tech\n   * @mixes videojs\n   * @method registerTech\n   */\n  videojs.registerTech = _techTechJs2['default'].registerTech;\n\n  /**\n   * A suite of browser and device tests\n   *\n   * @type {Object}\n   * @private\n   */\n  videojs.browser = browser;\n\n  /**\n   * Whether or not the browser supports touch events. Included for backward\n   * compatibility with 4.x, but deprecated. Use `videojs.browser.TOUCH_ENABLED`\n   * instead going forward.\n   *\n   * @deprecated\n   * @type {Boolean}\n   */\n  videojs.TOUCH_ENABLED = browser.TOUCH_ENABLED;\n\n  /**\n   * Subclass an existing class\n   * Mimics ES6 subclassing with the `extend` keyword\n   * ```js\n   *     // Create a basic javascript 'class'\n   *     function MyClass(name){\n *       // Set a property at initialization\n *       this.myName = name;\n *     }\n   *     // Create an instance method\n   *     MyClass.prototype.sayMyName = function(){\n *       alert(this.myName);\n *     };\n   *     // Subclass the exisitng class and change the name\n   *     // when initializing\n   *     var MySubClass = videojs.extend(MyClass, {\n *       constructor: function(name) {\n *         // Call the super class constructor for the subclass\n *         MyClass.call(this, name)\n *       }\n *     });\n   *     // Create an instance of the new sub class\n   *     var myInstance = new MySubClass('John');\n   *     myInstance.sayMyName(); // -> should alert \"John\"\n   * ```\n   *\n   * @param {Function} The Class to subclass\n   * @param {Object} An object including instace methods for the new class\n   *                   Optionally including a `constructor` function\n   * @return {Function} The newly created subclass\n   * @mixes videojs\n   * @method extend\n   */\n  videojs.extend = _extendJs2['default'];\n\n  /**\n   * Merge two options objects recursively\n   * Performs a deep merge like lodash.merge but **only merges plain objects**\n   * (not arrays, elements, anything else)\n   * Other values will be copied directly from the second object.\n   * ```js\n   *     var defaultOptions = {\n *       foo: true,\n *       bar: {\n *         a: true,\n *         b: [1,2,3]\n *       }\n *     };\n   *     var newOptions = {\n *       foo: false,\n *       bar: {\n *         b: [4,5,6]\n *       }\n *     };\n   *     var result = videojs.mergeOptions(defaultOptions, newOptions);\n   *     // result.foo = false;\n   *     // result.bar.a = true;\n   *     // result.bar.b = [4,5,6];\n   * ```\n   *\n   * @param {Object} defaults  The options object whose values will be overriden\n   * @param {Object} overrides The options object with values to override the first\n   * @param {Object} etc       Any number of additional options objects\n   *\n   * @return {Object} a new object with the merged values\n   * @mixes videojs\n   * @method mergeOptions\n   */\n  videojs.mergeOptions = _srcJsUtilsMergeOptionsJs2['default'];\n\n  /**\n   * Change the context (this) of a function\n   *\n   *     videojs.bind(newContext, function(){\n *       this === newContext\n *     });\n   *\n   * NOTE: as of v5.0 we require an ES5 shim, so you should use the native\n   * `function(){}.bind(newContext);` instead of this.\n   *\n   * @param  {*}        context The object to bind as scope\n   * @param  {Function} fn      The function to be bound to a scope\n   * @param  {Number=}  uid     An optional unique ID for the function to be set\n   * @return {Function}\n   */\n  videojs.bind = Fn.bind;\n\n  /**\n   * Create a Video.js player plugin\n   * Plugins are only initialized when options for the plugin are included\n   * in the player options, or the plugin function on the player instance is\n   * called.\n   * **See the plugin guide in the docs for a more detailed example**\n   * ```js\n   *     // Make a plugin that alerts when the player plays\n   *     videojs.plugin('myPlugin', function(myPluginOptions) {\n *       myPluginOptions = myPluginOptions || {};\n *\n *       var player = this;\n *       var alertText = myPluginOptions.text || 'Player is playing!'\n *\n *       player.on('play', function(){\n *         alert(alertText);\n *       });\n *     });\n   *     // USAGE EXAMPLES\n   *     // EXAMPLE 1: New player with plugin options, call plugin immediately\n   *     var player1 = videojs('idOne', {\n *       myPlugin: {\n *         text: 'Custom text!'\n *       }\n *     });\n   *     // Click play\n   *     // --> Should alert 'Custom text!'\n   *     // EXAMPLE 3: New player, initialize plugin later\n   *     var player3 = videojs('idThree');\n   *     // Click play\n   *     // --> NO ALERT\n   *     // Click pause\n   *     // Initialize plugin using the plugin function on the player instance\n   *     player3.myPlugin({\n *       text: 'Plugin added later!'\n *     });\n   *     // Click play\n   *     // --> Should alert 'Plugin added later!'\n   * ```\n   *\n   * @param {String} name The plugin name\n   * @param {Function} fn The plugin function that will be called with options\n   * @mixes videojs\n   * @method plugin\n   */\n  videojs.plugin = _pluginsJs2['default'];\n\n  /**\n   * Adding languages so that they're available to all players.\n   * ```js\n   *     videojs.addLanguage('es', { 'Hello': 'Hola' });\n   * ```\n   *\n   * @param  {String} code The language code or dictionary property\n   * @param  {Object} data The data values to be translated\n   * @return {Object} The resulting language dictionary object\n   * @mixes videojs\n   * @method addLanguage\n   */\n  videojs.addLanguage = function (code, data) {\n    var _merge;\n\n    code = ('' + code).toLowerCase();\n    return _lodashCompatObjectMerge2['default'](videojs.options.languages, (_merge = {}, _merge[code] = data, _merge))[code];\n  };\n\n  /**\n   * Log debug messages.\n   *\n   * @param {...Object} messages One or more messages to log\n   */\n  videojs.log = _utilsLogJs2['default'];\n\n  /**\n   * Creates an emulated TimeRange object.\n   *\n   * @param  {Number|Array} start Start time in seconds or an array of ranges\n   * @param  {Number} end   End time in seconds\n   * @return {Object}       Fake TimeRange object\n   * @method createTimeRange\n   */\n  videojs.createTimeRange = videojs.createTimeRanges = _utilsTimeRangesJs.createTimeRanges;\n\n  /**\n   * Format seconds as a time string, H:MM:SS or M:SS\n   * Supplying a guide (in seconds) will force a number of leading zeros\n   * to cover the length of the guide\n   *\n   * @param  {Number} seconds Number of seconds to be turned into a string\n   * @param  {Number} guide   Number (in seconds) to model the string after\n   * @return {String}         Time formatted as H:MM:SS or M:SS\n   * @method formatTime\n   */\n  videojs.formatTime = _utilsFormatTimeJs2['default'];\n\n  /**\n   * Resolve and parse the elements of a URL\n   *\n   * @param  {String} url The url to parse\n   * @return {Object}     An object of url details\n   * @method parseUrl\n   */\n  videojs.parseUrl = Url.parseUrl;\n\n  /**\n   * Returns whether the url passed is a cross domain request or not.\n   *\n   * @param {String} url The url to check\n   * @return {Boolean}   Whether it is a cross domain request or not\n   * @method isCrossOrigin\n   */\n  videojs.isCrossOrigin = Url.isCrossOrigin;\n\n  /**\n   * Event target class.\n   *\n   * @type {Function}\n   */\n  videojs.EventTarget = _eventTarget2['default'];\n\n  /**\n   * Add an event listener to element\n   * It stores the handler function in a separate cache object\n   * and adds a generic handler to the element's event,\n   * along with a unique id (guid) to the element.\n   *\n   * @param  {Element|Object}   elem Element or object to bind listeners to\n   * @param  {String|Array}   type Type of event to bind to.\n   * @param  {Function} fn   Event listener.\n   * @method on\n   */\n  videojs.on = Events.on;\n\n  /**\n   * Trigger a listener only once for an event\n   *\n   * @param  {Element|Object}   elem Element or object to\n   * @param  {String|Array}   type Name/type of event\n   * @param  {Function} fn Event handler function\n   * @method one\n   */\n  videojs.one = Events.one;\n\n  /**\n   * Removes event listeners from an element\n   *\n   * @param  {Element|Object}   elem Object to remove listeners from\n   * @param  {String|Array=}   type Type of listener to remove. Don't include to remove all events from element.\n   * @param  {Function} fn   Specific listener to remove. Don't include to remove listeners for an event type.\n   * @method off\n   */\n  videojs.off = Events.off;\n\n  /**\n   * Trigger an event for an element\n   *\n   * @param  {Element|Object}      elem  Element to trigger an event on\n   * @param  {Event|Object|String} event A string (the type) or an event object with a type attribute\n   * @param  {Object} [hash] data hash to pass along with the event\n   * @return {Boolean=} Returned only if default was prevented\n   * @method trigger\n   */\n  videojs.trigger = Events.trigger;\n\n  /**\n   * A cross-browser XMLHttpRequest wrapper. Here's a simple example:\n   *\n   *     videojs.xhr({\n *       body: someJSONString,\n *       uri: \"/foo\",\n *       headers: {\n *         \"Content-Type\": \"application/json\"\n *       }\n *     }, function (err, resp, body) {\n *       // check resp.statusCode\n *     });\n   *\n   * Check out the [full\n   * documentation](https://github.com/Raynos/xhr/blob/v2.1.0/README.md)\n   * for more options.\n   *\n   * @param {Object} options settings for the request.\n   * @return {XMLHttpRequest|XDomainRequest} the request object.\n   * @see https://github.com/Raynos/xhr\n   */\n  videojs.xhr = _xhr2['default'];\n\n  /**\n   * TextTrack class\n   *\n   * @type {Function}\n   */\n  videojs.TextTrack = _tracksTextTrackJs2['default'];\n\n  /**\n   * export the AudioTrack class so that source handlers can create\n   * AudioTracks and then add them to the players AudioTrackList\n   *\n   * @type {Function}\n   */\n  videojs.AudioTrack = _tracksAudioTrackJs2['default'];\n\n  /**\n   * export the VideoTrack class so that source handlers can create\n   * VideoTracks and then add them to the players VideoTrackList\n   *\n   * @type {Function}\n   */\n  videojs.VideoTrack = _tracksVideoTrackJs2['default'];\n\n  /**\n   * Determines, via duck typing, whether or not a value is a DOM element.\n   *\n   * @method isEl\n   * @param  {Mixed} value\n   * @return {Boolean}\n   */\n  videojs.isEl = Dom.isEl;\n\n  /**\n   * Determines, via duck typing, whether or not a value is a text node.\n   *\n   * @method isTextNode\n   * @param  {Mixed} value\n   * @return {Boolean}\n   */\n  videojs.isTextNode = Dom.isTextNode;\n\n  /**\n   * Creates an element and applies properties.\n   *\n   * @method createEl\n   * @param  {String} [tagName='div'] Name of tag to be created.\n   * @param  {Object} [properties={}] Element properties to be applied.\n   * @param  {Object} [attributes={}] Element attributes to be applied.\n   * @return {Element}\n   */\n  videojs.createEl = Dom.createEl;\n\n  /**\n   * Check if an element has a CSS class\n   *\n   * @method hasClass\n   * @param {Element} element Element to check\n   * @param {String} classToCheck Classname to check\n   */\n  videojs.hasClass = Dom.hasElClass;\n\n  /**\n   * Add a CSS class name to an element\n   *\n   * @method addClass\n   * @param {Element} element    Element to add class name to\n   * @param {String} classToAdd Classname to add\n   */\n  videojs.addClass = Dom.addElClass;\n\n  /**\n   * Remove a CSS class name from an element\n   *\n   * @method removeClass\n   * @param {Element} element    Element to remove from class name\n   * @param {String} classToRemove Classname to remove\n   */\n  videojs.removeClass = Dom.removeElClass;\n\n  /**\n   * Adds or removes a CSS class name on an element depending on an optional\n   * condition or the presence/absence of the class name.\n   *\n   * @method toggleElClass\n   * @param  {Element} element\n   * @param  {String} classToToggle\n   * @param  {Boolean|Function} [predicate]\n   *         Can be a function that returns a Boolean. If `true`, the class\n   *         will be added; if `false`, the class will be removed. If not\n   *         given, the class will be added if not present and vice versa.\n   */\n  videojs.toggleClass = Dom.toggleElClass;\n\n  /**\n   * Apply attributes to an HTML element.\n   *\n   * @method setAttributes\n   * @param  {Element} el         Target element.\n   * @param  {Object=} attributes Element attributes to be applied.\n   */\n  videojs.setAttributes = Dom.setElAttributes;\n\n  /**\n   * Get an element's attribute values, as defined on the HTML tag\n   * Attributes are not the same as properties. They're defined on the tag\n   * or with setAttribute (which shouldn't be used with HTML)\n   * This will return true or false for boolean attributes.\n   *\n   * @method getAttributes\n   * @param  {Element} tag Element from which to get tag attributes\n   * @return {Object}\n   */\n  videojs.getAttributes = Dom.getElAttributes;\n\n  /**\n   * Empties the contents of an element.\n   *\n   * @method emptyEl\n   * @param  {Element} el\n   * @return {Element}\n   */\n  videojs.emptyEl = Dom.emptyEl;\n\n  /**\n   * Normalizes and appends content to an element.\n   *\n   * The content for an element can be passed in multiple types and\n   * combinations, whose behavior is as follows:\n   *\n   * - String\n   *   Normalized into a text node.\n   *\n   * - Element, TextNode\n   *   Passed through.\n   *\n   * - Array\n   *   A one-dimensional array of strings, elements, nodes, or functions (which\n   *   return single strings, elements, or nodes).\n   *\n   * - Function\n   *   If the sole argument, is expected to produce a string, element,\n   *   node, or array.\n   *\n   * @method appendContent\n   * @param  {Element} el\n   * @param  {String|Element|TextNode|Array|Function} content\n   * @return {Element}\n   */\n  videojs.appendContent = Dom.appendContent;\n\n  /**\n   * Normalizes and inserts content into an element; this is identical to\n   * `appendContent()`, except it empties the element first.\n   *\n   * The content for an element can be passed in multiple types and\n   * combinations, whose behavior is as follows:\n   *\n   * - String\n   *   Normalized into a text node.\n   *\n   * - Element, TextNode\n   *   Passed through.\n   *\n   * - Array\n   *   A one-dimensional array of strings, elements, nodes, or functions (which\n   *   return single strings, elements, or nodes).\n   *\n   * - Function\n   *   If the sole argument, is expected to produce a string, element,\n   *   node, or array.\n   *\n   * @method insertContent\n   * @param  {Element} el\n   * @param  {String|Element|TextNode|Array|Function} content\n   * @return {Element}\n   */\n  videojs.insertContent = Dom.insertContent;\n\n  /*\n   * Custom Universal Module Definition (UMD)\n   *\n   * Video.js will never be a non-browser lib so we can simplify UMD a bunch and\n   * still support requirejs and browserify. This also needs to be closure\n   * compiler compatible, so string keys are used.\n   */\n  if (typeof define === 'function' && define['amd']) {\n    define('videojs', [], function () {\n      return videojs;\n    });\n\n    // checking that module is an object too because of umdjs/umd#35\n  } else if (typeof exports === 'object' && typeof module === 'object') {\n    module['exports'] = videojs;\n  }\n\n  exports['default'] = videojs;\n  module.exports = exports['default'];\n\n},{\"../../src/js/utils/merge-options.js\":149,\"./component\":67,\"./event-target\":104,\"./extend.js\":105,\"./player\":113,\"./plugins.js\":114,\"./setup\":118,\"./tech/flash.js\":121,\"./tech/html5.js\":122,\"./tech/tech.js\":124,\"./tracks/audio-track.js\":126,\"./tracks/text-track.js\":134,\"./tracks/video-track.js\":139,\"./utils/browser.js\":140,\"./utils/create-deprecation-proxy.js\":142,\"./utils/dom.js\":143,\"./utils/events.js\":144,\"./utils/fn.js\":145,\"./utils/format-time.js\":146,\"./utils/log.js\":148,\"./utils/stylesheet.js\":150,\"./utils/time-ranges.js\":151,\"./utils/url.js\":153,\"global/document\":1,\"global/window\":2,\"lodash-compat/object/merge\":40,\"object.assign\":45,\"xhr\":56}]},{},[154])(154)\n});\n\n\n\n/* vtt.js - v0.12.1 (https://github.com/mozilla/vtt.js) built on 08-07-2015 */\n\n(function(root) {\n  var vttjs = root.vttjs = {};\n  var cueShim = vttjs.VTTCue;\n  var regionShim = vttjs.VTTRegion;\n  var oldVTTCue = root.VTTCue;\n  var oldVTTRegion = root.VTTRegion;\n\n  vttjs.shim = function() {\n    vttjs.VTTCue = cueShim;\n    vttjs.VTTRegion = regionShim;\n  };\n\n  vttjs.restore = function() {\n    vttjs.VTTCue = oldVTTCue;\n    vttjs.VTTRegion = oldVTTRegion;\n  };\n}(this));\n\n/**\n * Copyright 2013 vtt.js Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n(function(root, vttjs) {\n\n  var autoKeyword = \"auto\";\n  var directionSetting = {\n    \"\": true,\n    \"lr\": true,\n    \"rl\": true\n  };\n  var alignSetting = {\n    \"start\": true,\n    \"middle\": true,\n    \"end\": true,\n    \"left\": true,\n    \"right\": true\n  };\n\n  function findDirectionSetting(value) {\n    if (typeof value !== \"string\") {\n      return false;\n    }\n    var dir = directionSetting[value.toLowerCase()];\n    return dir ? value.toLowerCase() : false;\n  }\n\n  function findAlignSetting(value) {\n    if (typeof value !== \"string\") {\n      return false;\n    }\n    var align = alignSetting[value.toLowerCase()];\n    return align ? value.toLowerCase() : false;\n  }\n\n  function extend(obj) {\n    var i = 1;\n    for (; i < arguments.length; i++) {\n      var cobj = arguments[i];\n      for (var p in cobj) {\n        obj[p] = cobj[p];\n      }\n    }\n\n    return obj;\n  }\n\n  function VTTCue(startTime, endTime, text) {\n    var cue = this;\n    var isIE8 = (/MSIE\\s8\\.0/).test(navigator.userAgent);\n    var baseObj = {};\n\n    if (isIE8) {\n      cue = document.createElement('custom');\n    } else {\n      baseObj.enumerable = true;\n    }\n\n    /**\n     * Shim implementation specific properties. These properties are not in\n     * the spec.\n     */\n\n      // Lets us know when the VTTCue's data has changed in such a way that we need\n      // to recompute its display state. This lets us compute its display state\n      // lazily.\n    cue.hasBeenReset = false;\n\n    /**\n     * VTTCue and TextTrackCue properties\n     * http://dev.w3.org/html5/webvtt/#vttcue-interface\n     */\n\n    var _id = \"\";\n    var _pauseOnExit = false;\n    var _startTime = startTime;\n    var _endTime = endTime;\n    var _text = text;\n    var _region = null;\n    var _vertical = \"\";\n    var _snapToLines = true;\n    var _line = \"auto\";\n    var _lineAlign = \"start\";\n    var _position = 50;\n    var _positionAlign = \"middle\";\n    var _size = 50;\n    var _align = \"middle\";\n\n    Object.defineProperty(cue,\n      \"id\", extend({}, baseObj, {\n        get: function() {\n          return _id;\n        },\n        set: function(value) {\n          _id = \"\" + value;\n        }\n      }));\n\n    Object.defineProperty(cue,\n      \"pauseOnExit\", extend({}, baseObj, {\n        get: function() {\n          return _pauseOnExit;\n        },\n        set: function(value) {\n          _pauseOnExit = !!value;\n        }\n      }));\n\n    Object.defineProperty(cue,\n      \"startTime\", extend({}, baseObj, {\n        get: function() {\n          return _startTime;\n        },\n        set: function(value) {\n          if (typeof value !== \"number\") {\n            throw new TypeError(\"Start time must be set to a number.\");\n          }\n          _startTime = value;\n          this.hasBeenReset = true;\n        }\n      }));\n\n    Object.defineProperty(cue,\n      \"endTime\", extend({}, baseObj, {\n        get: function() {\n          return _endTime;\n        },\n        set: function(value) {\n          if (typeof value !== \"number\") {\n            throw new TypeError(\"End time must be set to a number.\");\n          }\n          _endTime = value;\n          this.hasBeenReset = true;\n        }\n      }));\n\n    Object.defineProperty(cue,\n      \"text\", extend({}, baseObj, {\n        get: function() {\n          return _text;\n        },\n        set: function(value) {\n          _text = \"\" + value;\n          this.hasBeenReset = true;\n        }\n      }));\n\n    Object.defineProperty(cue,\n      \"region\", extend({}, baseObj, {\n        get: function() {\n          return _region;\n        },\n        set: function(value) {\n          _region = value;\n          this.hasBeenReset = true;\n        }\n      }));\n\n    Object.defineProperty(cue,\n      \"vertical\", extend({}, baseObj, {\n        get: function() {\n          return _vertical;\n        },\n        set: function(value) {\n          var setting = findDirectionSetting(value);\n          // Have to check for false because the setting an be an empty string.\n          if (setting === false) {\n            throw new SyntaxError(\"An invalid or illegal string was specified.\");\n          }\n          _vertical = setting;\n          this.hasBeenReset = true;\n        }\n      }));\n\n    Object.defineProperty(cue,\n      \"snapToLines\", extend({}, baseObj, {\n        get: function() {\n          return _snapToLines;\n        },\n        set: function(value) {\n          _snapToLines = !!value;\n          this.hasBeenReset = true;\n        }\n      }));\n\n    Object.defineProperty(cue,\n      \"line\", extend({}, baseObj, {\n        get: function() {\n          return _line;\n        },\n        set: function(value) {\n          if (typeof value !== \"number\" && value !== autoKeyword) {\n            throw new SyntaxError(\"An invalid number or illegal string was specified.\");\n          }\n          _line = value;\n          this.hasBeenReset = true;\n        }\n      }));\n\n    Object.defineProperty(cue,\n      \"lineAlign\", extend({}, baseObj, {\n        get: function() {\n          return _lineAlign;\n        },\n        set: function(value) {\n          var setting = findAlignSetting(value);\n          if (!setting) {\n            throw new SyntaxError(\"An invalid or illegal string was specified.\");\n          }\n          _lineAlign = setting;\n          this.hasBeenReset = true;\n        }\n      }));\n\n    Object.defineProperty(cue,\n      \"position\", extend({}, baseObj, {\n        get: function() {\n          return _position;\n        },\n        set: function(value) {\n          if (value < 0 || value > 100) {\n            throw new Error(\"Position must be between 0 and 100.\");\n          }\n          _position = value;\n          this.hasBeenReset = true;\n        }\n      }));\n\n    Object.defineProperty(cue,\n      \"positionAlign\", extend({}, baseObj, {\n        get: function() {\n          return _positionAlign;\n        },\n        set: function(value) {\n          var setting = findAlignSetting(value);\n          if (!setting) {\n            throw new SyntaxError(\"An invalid or illegal string was specified.\");\n          }\n          _positionAlign = setting;\n          this.hasBeenReset = true;\n        }\n      }));\n\n    Object.defineProperty(cue,\n      \"size\", extend({}, baseObj, {\n        get: function() {\n          return _size;\n        },\n        set: function(value) {\n          if (value < 0 || value > 100) {\n            throw new Error(\"Size must be between 0 and 100.\");\n          }\n          _size = value;\n          this.hasBeenReset = true;\n        }\n      }));\n\n    Object.defineProperty(cue,\n      \"align\", extend({}, baseObj, {\n        get: function() {\n          return _align;\n        },\n        set: function(value) {\n          var setting = findAlignSetting(value);\n          if (!setting) {\n            throw new SyntaxError(\"An invalid or illegal string was specified.\");\n          }\n          _align = setting;\n          this.hasBeenReset = true;\n        }\n      }));\n\n    /**\n     * Other <track> spec defined properties\n     */\n\n      // http://www.whatwg.org/specs/web-apps/current-work/multipage/the-video-element.html#text-track-cue-display-state\n    cue.displayState = undefined;\n\n    if (isIE8) {\n      return cue;\n    }\n  }\n\n  /**\n   * VTTCue methods\n   */\n\n  VTTCue.prototype.getCueAsHTML = function() {\n    // Assume WebVTT.convertCueToDOMTree is on the global.\n    return WebVTT.convertCueToDOMTree(window, this.text);\n  };\n\n  root.VTTCue = root.VTTCue || VTTCue;\n  vttjs.VTTCue = VTTCue;\n}(this, (this.vttjs || {})));\n\n/**\n * Copyright 2013 vtt.js Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n(function(root, vttjs) {\n\n  var scrollSetting = {\n    \"\": true,\n    \"up\": true\n  };\n\n  function findScrollSetting(value) {\n    if (typeof value !== \"string\") {\n      return false;\n    }\n    var scroll = scrollSetting[value.toLowerCase()];\n    return scroll ? value.toLowerCase() : false;\n  }\n\n  function isValidPercentValue(value) {\n    return typeof value === \"number\" && (value >= 0 && value <= 100);\n  }\n\n  // VTTRegion shim http://dev.w3.org/html5/webvtt/#vttregion-interface\n  function VTTRegion() {\n    var _width = 100;\n    var _lines = 3;\n    var _regionAnchorX = 0;\n    var _regionAnchorY = 100;\n    var _viewportAnchorX = 0;\n    var _viewportAnchorY = 100;\n    var _scroll = \"\";\n\n    Object.defineProperties(this, {\n      \"width\": {\n        enumerable: true,\n        get: function() {\n          return _width;\n        },\n        set: function(value) {\n          if (!isValidPercentValue(value)) {\n            throw new Error(\"Width must be between 0 and 100.\");\n          }\n          _width = value;\n        }\n      },\n      \"lines\": {\n        enumerable: true,\n        get: function() {\n          return _lines;\n        },\n        set: function(value) {\n          if (typeof value !== \"number\") {\n            throw new TypeError(\"Lines must be set to a number.\");\n          }\n          _lines = value;\n        }\n      },\n      \"regionAnchorY\": {\n        enumerable: true,\n        get: function() {\n          return _regionAnchorY;\n        },\n        set: function(value) {\n          if (!isValidPercentValue(value)) {\n            throw new Error(\"RegionAnchorX must be between 0 and 100.\");\n          }\n          _regionAnchorY = value;\n        }\n      },\n      \"regionAnchorX\": {\n        enumerable: true,\n        get: function() {\n          return _regionAnchorX;\n        },\n        set: function(value) {\n          if(!isValidPercentValue(value)) {\n            throw new Error(\"RegionAnchorY must be between 0 and 100.\");\n          }\n          _regionAnchorX = value;\n        }\n      },\n      \"viewportAnchorY\": {\n        enumerable: true,\n        get: function() {\n          return _viewportAnchorY;\n        },\n        set: function(value) {\n          if (!isValidPercentValue(value)) {\n            throw new Error(\"ViewportAnchorY must be between 0 and 100.\");\n          }\n          _viewportAnchorY = value;\n        }\n      },\n      \"viewportAnchorX\": {\n        enumerable: true,\n        get: function() {\n          return _viewportAnchorX;\n        },\n        set: function(value) {\n          if (!isValidPercentValue(value)) {\n            throw new Error(\"ViewportAnchorX must be between 0 and 100.\");\n          }\n          _viewportAnchorX = value;\n        }\n      },\n      \"scroll\": {\n        enumerable: true,\n        get: function() {\n          return _scroll;\n        },\n        set: function(value) {\n          var setting = findScrollSetting(value);\n          // Have to check for false as an empty string is a legal value.\n          if (setting === false) {\n            throw new SyntaxError(\"An invalid or illegal string was specified.\");\n          }\n          _scroll = setting;\n        }\n      }\n    });\n  }\n\n  root.VTTRegion = root.VTTRegion || VTTRegion;\n  vttjs.VTTRegion = VTTRegion;\n}(this, (this.vttjs || {})));\n\n/**\n * Copyright 2013 vtt.js Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */\n/* vim: set shiftwidth=2 tabstop=2 autoindent cindent expandtab: */\n\n(function(global) {\n\n  var _objCreate = Object.create || (function() {\n      function F() {}\n      return function(o) {\n        if (arguments.length !== 1) {\n          throw new Error('Object.create shim only accepts one parameter.');\n        }\n        F.prototype = o;\n        return new F();\n      };\n    })();\n\n  // Creates a new ParserError object from an errorData object. The errorData\n  // object should have default code and message properties. The default message\n  // property can be overriden by passing in a message parameter.\n  // See ParsingError.Errors below for acceptable errors.\n  function ParsingError(errorData, message) {\n    this.name = \"ParsingError\";\n    this.code = errorData.code;\n    this.message = message || errorData.message;\n  }\n  ParsingError.prototype = _objCreate(Error.prototype);\n  ParsingError.prototype.constructor = ParsingError;\n\n  // ParsingError metadata for acceptable ParsingErrors.\n  ParsingError.Errors = {\n    BadSignature: {\n      code: 0,\n      message: \"Malformed WebVTT signature.\"\n    },\n    BadTimeStamp: {\n      code: 1,\n      message: \"Malformed time stamp.\"\n    }\n  };\n\n  // Try to parse input as a time stamp.\n  function parseTimeStamp(input) {\n\n    function computeSeconds(h, m, s, f) {\n      return (h | 0) * 3600 + (m | 0) * 60 + (s | 0) + (f | 0) / 1000;\n    }\n\n    var m = input.match(/^(\\d+):(\\d{2})(:\\d{2})?\\.(\\d{3})/);\n    if (!m) {\n      return null;\n    }\n\n    if (m[3]) {\n      // Timestamp takes the form of [hours]:[minutes]:[seconds].[milliseconds]\n      return computeSeconds(m[1], m[2], m[3].replace(\":\", \"\"), m[4]);\n    } else if (m[1] > 59) {\n      // Timestamp takes the form of [hours]:[minutes].[milliseconds]\n      // First position is hours as it's over 59.\n      return computeSeconds(m[1], m[2], 0,  m[4]);\n    } else {\n      // Timestamp takes the form of [minutes]:[seconds].[milliseconds]\n      return computeSeconds(0, m[1], m[2], m[4]);\n    }\n  }\n\n  // A settings object holds key/value pairs and will ignore anything but the first\n  // assignment to a specific key.\n  function Settings() {\n    this.values = _objCreate(null);\n  }\n\n  Settings.prototype = {\n    // Only accept the first assignment to any key.\n    set: function(k, v) {\n      if (!this.get(k) && v !== \"\") {\n        this.values[k] = v;\n      }\n    },\n    // Return the value for a key, or a default value.\n    // If 'defaultKey' is passed then 'dflt' is assumed to be an object with\n    // a number of possible default values as properties where 'defaultKey' is\n    // the key of the property that will be chosen; otherwise it's assumed to be\n    // a single value.\n    get: function(k, dflt, defaultKey) {\n      if (defaultKey) {\n        return this.has(k) ? this.values[k] : dflt[defaultKey];\n      }\n      return this.has(k) ? this.values[k] : dflt;\n    },\n    // Check whether we have a value for a key.\n    has: function(k) {\n      return k in this.values;\n    },\n    // Accept a setting if its one of the given alternatives.\n    alt: function(k, v, a) {\n      for (var n = 0; n < a.length; ++n) {\n        if (v === a[n]) {\n          this.set(k, v);\n          break;\n        }\n      }\n    },\n    // Accept a setting if its a valid (signed) integer.\n    integer: function(k, v) {\n      if (/^-?\\d+$/.test(v)) { // integer\n        this.set(k, parseInt(v, 10));\n      }\n    },\n    // Accept a setting if its a valid percentage.\n    percent: function(k, v) {\n      var m;\n      if ((m = v.match(/^([\\d]{1,3})(\\.[\\d]*)?%$/))) {\n        v = parseFloat(v);\n        if (v >= 0 && v <= 100) {\n          this.set(k, v);\n          return true;\n        }\n      }\n      return false;\n    }\n  };\n\n  // Helper function to parse input into groups separated by 'groupDelim', and\n  // interprete each group as a key/value pair separated by 'keyValueDelim'.\n  function parseOptions(input, callback, keyValueDelim, groupDelim) {\n    var groups = groupDelim ? input.split(groupDelim) : [input];\n    for (var i in groups) {\n      if (typeof groups[i] !== \"string\") {\n        continue;\n      }\n      var kv = groups[i].split(keyValueDelim);\n      if (kv.length !== 2) {\n        continue;\n      }\n      var k = kv[0];\n      var v = kv[1];\n      callback(k, v);\n    }\n  }\n\n  function parseCue(input, cue, regionList) {\n    // Remember the original input if we need to throw an error.\n    var oInput = input;\n    // 4.1 WebVTT timestamp\n    function consumeTimeStamp() {\n      var ts = parseTimeStamp(input);\n      if (ts === null) {\n        throw new ParsingError(ParsingError.Errors.BadTimeStamp,\n          \"Malformed timestamp: \" + oInput);\n      }\n      // Remove time stamp from input.\n      input = input.replace(/^[^\\sa-zA-Z-]+/, \"\");\n      return ts;\n    }\n\n    // 4.4.2 WebVTT cue settings\n    function consumeCueSettings(input, cue) {\n      var settings = new Settings();\n\n      parseOptions(input, function (k, v) {\n        switch (k) {\n          case \"region\":\n            // Find the last region we parsed with the same region id.\n            for (var i = regionList.length - 1; i >= 0; i--) {\n              if (regionList[i].id === v) {\n                settings.set(k, regionList[i].region);\n                break;\n              }\n            }\n            break;\n          case \"vertical\":\n            settings.alt(k, v, [\"rl\", \"lr\"]);\n            break;\n          case \"line\":\n            var vals = v.split(\",\"),\n              vals0 = vals[0];\n            settings.integer(k, vals0);\n            settings.percent(k, vals0) ? settings.set(\"snapToLines\", false) : null;\n            settings.alt(k, vals0, [\"auto\"]);\n            if (vals.length === 2) {\n              settings.alt(\"lineAlign\", vals[1], [\"start\", \"middle\", \"end\"]);\n            }\n            break;\n          case \"position\":\n            vals = v.split(\",\");\n            settings.percent(k, vals[0]);\n            if (vals.length === 2) {\n              settings.alt(\"positionAlign\", vals[1], [\"start\", \"middle\", \"end\"]);\n            }\n            break;\n          case \"size\":\n            settings.percent(k, v);\n            break;\n          case \"align\":\n            settings.alt(k, v, [\"start\", \"middle\", \"end\", \"left\", \"right\"]);\n            break;\n        }\n      }, /:/, /\\s/);\n\n      // Apply default values for any missing fields.\n      cue.region = settings.get(\"region\", null);\n      cue.vertical = settings.get(\"vertical\", \"\");\n      cue.line = settings.get(\"line\", \"auto\");\n      cue.lineAlign = settings.get(\"lineAlign\", \"start\");\n      cue.snapToLines = settings.get(\"snapToLines\", true);\n      cue.size = settings.get(\"size\", 100);\n      cue.align = settings.get(\"align\", \"middle\");\n      cue.position = settings.get(\"position\", {\n        start: 0,\n        left: 0,\n        middle: 50,\n        end: 100,\n        right: 100\n      }, cue.align);\n      cue.positionAlign = settings.get(\"positionAlign\", {\n        start: \"start\",\n        left: \"start\",\n        middle: \"middle\",\n        end: \"end\",\n        right: \"end\"\n      }, cue.align);\n    }\n\n    function skipWhitespace() {\n      input = input.replace(/^\\s+/, \"\");\n    }\n\n    // 4.1 WebVTT cue timings.\n    skipWhitespace();\n    cue.startTime = consumeTimeStamp();   // (1) collect cue start time\n    skipWhitespace();\n    if (input.substr(0, 3) !== \"-->\") {     // (3) next characters must match \"-->\"\n      throw new ParsingError(ParsingError.Errors.BadTimeStamp,\n        \"Malformed time stamp (time stamps must be separated by '-->'): \" +\n        oInput);\n    }\n    input = input.substr(3);\n    skipWhitespace();\n    cue.endTime = consumeTimeStamp();     // (5) collect cue end time\n\n    // 4.1 WebVTT cue settings list.\n    skipWhitespace();\n    consumeCueSettings(input, cue);\n  }\n\n  var ESCAPE = {\n    \"&amp;\": \"&\",\n    \"&lt;\": \"<\",\n    \"&gt;\": \">\",\n    \"&lrm;\": \"\\u200e\",\n    \"&rlm;\": \"\\u200f\",\n    \"&nbsp;\": \"\\u00a0\"\n  };\n\n  var TAG_NAME = {\n    c: \"span\",\n    i: \"i\",\n    b: \"b\",\n    u: \"u\",\n    ruby: \"ruby\",\n    rt: \"rt\",\n    v: \"span\",\n    lang: \"span\"\n  };\n\n  var TAG_ANNOTATION = {\n    v: \"title\",\n    lang: \"lang\"\n  };\n\n  var NEEDS_PARENT = {\n    rt: \"ruby\"\n  };\n\n  // Parse content into a document fragment.\n  function parseContent(window, input) {\n    function nextToken() {\n      // Check for end-of-string.\n      if (!input) {\n        return null;\n      }\n\n      // Consume 'n' characters from the input.\n      function consume(result) {\n        input = input.substr(result.length);\n        return result;\n      }\n\n      var m = input.match(/^([^<]*)(<[^>]+>?)?/);\n      // If there is some text before the next tag, return it, otherwise return\n      // the tag.\n      return consume(m[1] ? m[1] : m[2]);\n    }\n\n    // Unescape a string 's'.\n    function unescape1(e) {\n      return ESCAPE[e];\n    }\n    function unescape(s) {\n      while ((m = s.match(/&(amp|lt|gt|lrm|rlm|nbsp);/))) {\n        s = s.replace(m[0], unescape1);\n      }\n      return s;\n    }\n\n    function shouldAdd(current, element) {\n      return !NEEDS_PARENT[element.localName] ||\n        NEEDS_PARENT[element.localName] === current.localName;\n    }\n\n    // Create an element for this tag.\n    function createElement(type, annotation) {\n      var tagName = TAG_NAME[type];\n      if (!tagName) {\n        return null;\n      }\n      var element = window.document.createElement(tagName);\n      element.localName = tagName;\n      var name = TAG_ANNOTATION[type];\n      if (name && annotation) {\n        element[name] = annotation.trim();\n      }\n      return element;\n    }\n\n    var rootDiv = window.document.createElement(\"div\"),\n      current = rootDiv,\n      t,\n      tagStack = [];\n\n    while ((t = nextToken()) !== null) {\n      if (t[0] === '<') {\n        if (t[1] === \"/\") {\n          // If the closing tag matches, move back up to the parent node.\n          if (tagStack.length &&\n            tagStack[tagStack.length - 1] === t.substr(2).replace(\">\", \"\")) {\n            tagStack.pop();\n            current = current.parentNode;\n          }\n          // Otherwise just ignore the end tag.\n          continue;\n        }\n        var ts = parseTimeStamp(t.substr(1, t.length - 2));\n        var node;\n        if (ts) {\n          // Timestamps are lead nodes as well.\n          node = window.document.createProcessingInstruction(\"timestamp\", ts);\n          current.appendChild(node);\n          continue;\n        }\n        var m = t.match(/^<([^.\\s/0-9>]+)(\\.[^\\s\\\\>]+)?([^>\\\\]+)?(\\\\?)>?$/);\n        // If we can't parse the tag, skip to the next tag.\n        if (!m) {\n          continue;\n        }\n        // Try to construct an element, and ignore the tag if we couldn't.\n        node = createElement(m[1], m[3]);\n        if (!node) {\n          continue;\n        }\n        // Determine if the tag should be added based on the context of where it\n        // is placed in the cuetext.\n        if (!shouldAdd(current, node)) {\n          continue;\n        }\n        // Set the class list (as a list of classes, separated by space).\n        if (m[2]) {\n          node.className = m[2].substr(1).replace('.', ' ');\n        }\n        // Append the node to the current node, and enter the scope of the new\n        // node.\n        tagStack.push(m[1]);\n        current.appendChild(node);\n        current = node;\n        continue;\n      }\n\n      // Text nodes are leaf nodes.\n      current.appendChild(window.document.createTextNode(unescape(t)));\n    }\n\n    return rootDiv;\n  }\n\n  // This is a list of all the Unicode characters that have a strong\n  // right-to-left category. What this means is that these characters are\n  // written right-to-left for sure. It was generated by pulling all the strong\n  // right-to-left characters out of the Unicode data table. That table can\n  // found at: http://www.unicode.org/Public/UNIDATA/UnicodeData.txt\n  var strongRTLChars = [0x05BE, 0x05C0, 0x05C3, 0x05C6, 0x05D0, 0x05D1,\n    0x05D2, 0x05D3, 0x05D4, 0x05D5, 0x05D6, 0x05D7, 0x05D8, 0x05D9, 0x05DA,\n    0x05DB, 0x05DC, 0x05DD, 0x05DE, 0x05DF, 0x05E0, 0x05E1, 0x05E2, 0x05E3,\n    0x05E4, 0x05E5, 0x05E6, 0x05E7, 0x05E8, 0x05E9, 0x05EA, 0x05F0, 0x05F1,\n    0x05F2, 0x05F3, 0x05F4, 0x0608, 0x060B, 0x060D, 0x061B, 0x061E, 0x061F,\n    0x0620, 0x0621, 0x0622, 0x0623, 0x0624, 0x0625, 0x0626, 0x0627, 0x0628,\n    0x0629, 0x062A, 0x062B, 0x062C, 0x062D, 0x062E, 0x062F, 0x0630, 0x0631,\n    0x0632, 0x0633, 0x0634, 0x0635, 0x0636, 0x0637, 0x0638, 0x0639, 0x063A,\n    0x063B, 0x063C, 0x063D, 0x063E, 0x063F, 0x0640, 0x0641, 0x0642, 0x0643,\n    0x0644, 0x0645, 0x0646, 0x0647, 0x0648, 0x0649, 0x064A, 0x066D, 0x066E,\n    0x066F, 0x0671, 0x0672, 0x0673, 0x0674, 0x0675, 0x0676, 0x0677, 0x0678,\n    0x0679, 0x067A, 0x067B, 0x067C, 0x067D, 0x067E, 0x067F, 0x0680, 0x0681,\n    0x0682, 0x0683, 0x0684, 0x0685, 0x0686, 0x0687, 0x0688, 0x0689, 0x068A,\n    0x068B, 0x068C, 0x068D, 0x068E, 0x068F, 0x0690, 0x0691, 0x0692, 0x0693,\n    0x0694, 0x0695, 0x0696, 0x0697, 0x0698, 0x0699, 0x069A, 0x069B, 0x069C,\n    0x069D, 0x069E, 0x069F, 0x06A0, 0x06A1, 0x06A2, 0x06A3, 0x06A4, 0x06A5,\n    0x06A6, 0x06A7, 0x06A8, 0x06A9, 0x06AA, 0x06AB, 0x06AC, 0x06AD, 0x06AE,\n    0x06AF, 0x06B0, 0x06B1, 0x06B2, 0x06B3, 0x06B4, 0x06B5, 0x06B6, 0x06B7,\n    0x06B8, 0x06B9, 0x06BA, 0x06BB, 0x06BC, 0x06BD, 0x06BE, 0x06BF, 0x06C0,\n    0x06C1, 0x06C2, 0x06C3, 0x06C4, 0x06C5, 0x06C6, 0x06C7, 0x06C8, 0x06C9,\n    0x06CA, 0x06CB, 0x06CC, 0x06CD, 0x06CE, 0x06CF, 0x06D0, 0x06D1, 0x06D2,\n    0x06D3, 0x06D4, 0x06D5, 0x06E5, 0x06E6, 0x06EE, 0x06EF, 0x06FA, 0x06FB,\n    0x06FC, 0x06FD, 0x06FE, 0x06FF, 0x0700, 0x0701, 0x0702, 0x0703, 0x0704,\n    0x0705, 0x0706, 0x0707, 0x0708, 0x0709, 0x070A, 0x070B, 0x070C, 0x070D,\n    0x070F, 0x0710, 0x0712, 0x0713, 0x0714, 0x0715, 0x0716, 0x0717, 0x0718,\n    0x0719, 0x071A, 0x071B, 0x071C, 0x071D, 0x071E, 0x071F, 0x0720, 0x0721,\n    0x0722, 0x0723, 0x0724, 0x0725, 0x0726, 0x0727, 0x0728, 0x0729, 0x072A,\n    0x072B, 0x072C, 0x072D, 0x072E, 0x072F, 0x074D, 0x074E, 0x074F, 0x0750,\n    0x0751, 0x0752, 0x0753, 0x0754, 0x0755, 0x0756, 0x0757, 0x0758, 0x0759,\n    0x075A, 0x075B, 0x075C, 0x075D, 0x075E, 0x075F, 0x0760, 0x0761, 0x0762,\n    0x0763, 0x0764, 0x0765, 0x0766, 0x0767, 0x0768, 0x0769, 0x076A, 0x076B,\n    0x076C, 0x076D, 0x076E, 0x076F, 0x0770, 0x0771, 0x0772, 0x0773, 0x0774,\n    0x0775, 0x0776, 0x0777, 0x0778, 0x0779, 0x077A, 0x077B, 0x077C, 0x077D,\n    0x077E, 0x077F, 0x0780, 0x0781, 0x0782, 0x0783, 0x0784, 0x0785, 0x0786,\n    0x0787, 0x0788, 0x0789, 0x078A, 0x078B, 0x078C, 0x078D, 0x078E, 0x078F,\n    0x0790, 0x0791, 0x0792, 0x0793, 0x0794, 0x0795, 0x0796, 0x0797, 0x0798,\n    0x0799, 0x079A, 0x079B, 0x079C, 0x079D, 0x079E, 0x079F, 0x07A0, 0x07A1,\n    0x07A2, 0x07A3, 0x07A4, 0x07A5, 0x07B1, 0x07C0, 0x07C1, 0x07C2, 0x07C3,\n    0x07C4, 0x07C5, 0x07C6, 0x07C7, 0x07C8, 0x07C9, 0x07CA, 0x07CB, 0x07CC,\n    0x07CD, 0x07CE, 0x07CF, 0x07D0, 0x07D1, 0x07D2, 0x07D3, 0x07D4, 0x07D5,\n    0x07D6, 0x07D7, 0x07D8, 0x07D9, 0x07DA, 0x07DB, 0x07DC, 0x07DD, 0x07DE,\n    0x07DF, 0x07E0, 0x07E1, 0x07E2, 0x07E3, 0x07E4, 0x07E5, 0x07E6, 0x07E7,\n    0x07E8, 0x07E9, 0x07EA, 0x07F4, 0x07F5, 0x07FA, 0x0800, 0x0801, 0x0802,\n    0x0803, 0x0804, 0x0805, 0x0806, 0x0807, 0x0808, 0x0809, 0x080A, 0x080B,\n    0x080C, 0x080D, 0x080E, 0x080F, 0x0810, 0x0811, 0x0812, 0x0813, 0x0814,\n    0x0815, 0x081A, 0x0824, 0x0828, 0x0830, 0x0831, 0x0832, 0x0833, 0x0834,\n    0x0835, 0x0836, 0x0837, 0x0838, 0x0839, 0x083A, 0x083B, 0x083C, 0x083D,\n    0x083E, 0x0840, 0x0841, 0x0842, 0x0843, 0x0844, 0x0845, 0x0846, 0x0847,\n    0x0848, 0x0849, 0x084A, 0x084B, 0x084C, 0x084D, 0x084E, 0x084F, 0x0850,\n    0x0851, 0x0852, 0x0853, 0x0854, 0x0855, 0x0856, 0x0857, 0x0858, 0x085E,\n    0x08A0, 0x08A2, 0x08A3, 0x08A4, 0x08A5, 0x08A6, 0x08A7, 0x08A8, 0x08A9,\n    0x08AA, 0x08AB, 0x08AC, 0x200F, 0xFB1D, 0xFB1F, 0xFB20, 0xFB21, 0xFB22,\n    0xFB23, 0xFB24, 0xFB25, 0xFB26, 0xFB27, 0xFB28, 0xFB2A, 0xFB2B, 0xFB2C,\n    0xFB2D, 0xFB2E, 0xFB2F, 0xFB30, 0xFB31, 0xFB32, 0xFB33, 0xFB34, 0xFB35,\n    0xFB36, 0xFB38, 0xFB39, 0xFB3A, 0xFB3B, 0xFB3C, 0xFB3E, 0xFB40, 0xFB41,\n    0xFB43, 0xFB44, 0xFB46, 0xFB47, 0xFB48, 0xFB49, 0xFB4A, 0xFB4B, 0xFB4C,\n    0xFB4D, 0xFB4E, 0xFB4F, 0xFB50, 0xFB51, 0xFB52, 0xFB53, 0xFB54, 0xFB55,\n    0xFB56, 0xFB57, 0xFB58, 0xFB59, 0xFB5A, 0xFB5B, 0xFB5C, 0xFB5D, 0xFB5E,\n    0xFB5F, 0xFB60, 0xFB61, 0xFB62, 0xFB63, 0xFB64, 0xFB65, 0xFB66, 0xFB67,\n    0xFB68, 0xFB69, 0xFB6A, 0xFB6B, 0xFB6C, 0xFB6D, 0xFB6E, 0xFB6F, 0xFB70,\n    0xFB71, 0xFB72, 0xFB73, 0xFB74, 0xFB75, 0xFB76, 0xFB77, 0xFB78, 0xFB79,\n    0xFB7A, 0xFB7B, 0xFB7C, 0xFB7D, 0xFB7E, 0xFB7F, 0xFB80, 0xFB81, 0xFB82,\n    0xFB83, 0xFB84, 0xFB85, 0xFB86, 0xFB87, 0xFB88, 0xFB89, 0xFB8A, 0xFB8B,\n    0xFB8C, 0xFB8D, 0xFB8E, 0xFB8F, 0xFB90, 0xFB91, 0xFB92, 0xFB93, 0xFB94,\n    0xFB95, 0xFB96, 0xFB97, 0xFB98, 0xFB99, 0xFB9A, 0xFB9B, 0xFB9C, 0xFB9D,\n    0xFB9E, 0xFB9F, 0xFBA0, 0xFBA1, 0xFBA2, 0xFBA3, 0xFBA4, 0xFBA5, 0xFBA6,\n    0xFBA7, 0xFBA8, 0xFBA9, 0xFBAA, 0xFBAB, 0xFBAC, 0xFBAD, 0xFBAE, 0xFBAF,\n    0xFBB0, 0xFBB1, 0xFBB2, 0xFBB3, 0xFBB4, 0xFBB5, 0xFBB6, 0xFBB7, 0xFBB8,\n    0xFBB9, 0xFBBA, 0xFBBB, 0xFBBC, 0xFBBD, 0xFBBE, 0xFBBF, 0xFBC0, 0xFBC1,\n    0xFBD3, 0xFBD4, 0xFBD5, 0xFBD6, 0xFBD7, 0xFBD8, 0xFBD9, 0xFBDA, 0xFBDB,\n    0xFBDC, 0xFBDD, 0xFBDE, 0xFBDF, 0xFBE0, 0xFBE1, 0xFBE2, 0xFBE3, 0xFBE4,\n    0xFBE5, 0xFBE6, 0xFBE7, 0xFBE8, 0xFBE9, 0xFBEA, 0xFBEB, 0xFBEC, 0xFBED,\n    0xFBEE, 0xFBEF, 0xFBF0, 0xFBF1, 0xFBF2, 0xFBF3, 0xFBF4, 0xFBF5, 0xFBF6,\n    0xFBF7, 0xFBF8, 0xFBF9, 0xFBFA, 0xFBFB, 0xFBFC, 0xFBFD, 0xFBFE, 0xFBFF,\n    0xFC00, 0xFC01, 0xFC02, 0xFC03, 0xFC04, 0xFC05, 0xFC06, 0xFC07, 0xFC08,\n    0xFC09, 0xFC0A, 0xFC0B, 0xFC0C, 0xFC0D, 0xFC0E, 0xFC0F, 0xFC10, 0xFC11,\n    0xFC12, 0xFC13, 0xFC14, 0xFC15, 0xFC16, 0xFC17, 0xFC18, 0xFC19, 0xFC1A,\n    0xFC1B, 0xFC1C, 0xFC1D, 0xFC1E, 0xFC1F, 0xFC20, 0xFC21, 0xFC22, 0xFC23,\n    0xFC24, 0xFC25, 0xFC26, 0xFC27, 0xFC28, 0xFC29, 0xFC2A, 0xFC2B, 0xFC2C,\n    0xFC2D, 0xFC2E, 0xFC2F, 0xFC30, 0xFC31, 0xFC32, 0xFC33, 0xFC34, 0xFC35,\n    0xFC36, 0xFC37, 0xFC38, 0xFC39, 0xFC3A, 0xFC3B, 0xFC3C, 0xFC3D, 0xFC3E,\n    0xFC3F, 0xFC40, 0xFC41, 0xFC42, 0xFC43, 0xFC44, 0xFC45, 0xFC46, 0xFC47,\n    0xFC48, 0xFC49, 0xFC4A, 0xFC4B, 0xFC4C, 0xFC4D, 0xFC4E, 0xFC4F, 0xFC50,\n    0xFC51, 0xFC52, 0xFC53, 0xFC54, 0xFC55, 0xFC56, 0xFC57, 0xFC58, 0xFC59,\n    0xFC5A, 0xFC5B, 0xFC5C, 0xFC5D, 0xFC5E, 0xFC5F, 0xFC60, 0xFC61, 0xFC62,\n    0xFC63, 0xFC64, 0xFC65, 0xFC66, 0xFC67, 0xFC68, 0xFC69, 0xFC6A, 0xFC6B,\n    0xFC6C, 0xFC6D, 0xFC6E, 0xFC6F, 0xFC70, 0xFC71, 0xFC72, 0xFC73, 0xFC74,\n    0xFC75, 0xFC76, 0xFC77, 0xFC78, 0xFC79, 0xFC7A, 0xFC7B, 0xFC7C, 0xFC7D,\n    0xFC7E, 0xFC7F, 0xFC80, 0xFC81, 0xFC82, 0xFC83, 0xFC84, 0xFC85, 0xFC86,\n    0xFC87, 0xFC88, 0xFC89, 0xFC8A, 0xFC8B, 0xFC8C, 0xFC8D, 0xFC8E, 0xFC8F,\n    0xFC90, 0xFC91, 0xFC92, 0xFC93, 0xFC94, 0xFC95, 0xFC96, 0xFC97, 0xFC98,\n    0xFC99, 0xFC9A, 0xFC9B, 0xFC9C, 0xFC9D, 0xFC9E, 0xFC9F, 0xFCA0, 0xFCA1,\n    0xFCA2, 0xFCA3, 0xFCA4, 0xFCA5, 0xFCA6, 0xFCA7, 0xFCA8, 0xFCA9, 0xFCAA,\n    0xFCAB, 0xFCAC, 0xFCAD, 0xFCAE, 0xFCAF, 0xFCB0, 0xFCB1, 0xFCB2, 0xFCB3,\n    0xFCB4, 0xFCB5, 0xFCB6, 0xFCB7, 0xFCB8, 0xFCB9, 0xFCBA, 0xFCBB, 0xFCBC,\n    0xFCBD, 0xFCBE, 0xFCBF, 0xFCC0, 0xFCC1, 0xFCC2, 0xFCC3, 0xFCC4, 0xFCC5,\n    0xFCC6, 0xFCC7, 0xFCC8, 0xFCC9, 0xFCCA, 0xFCCB, 0xFCCC, 0xFCCD, 0xFCCE,\n    0xFCCF, 0xFCD0, 0xFCD1, 0xFCD2, 0xFCD3, 0xFCD4, 0xFCD5, 0xFCD6, 0xFCD7,\n    0xFCD8, 0xFCD9, 0xFCDA, 0xFCDB, 0xFCDC, 0xFCDD, 0xFCDE, 0xFCDF, 0xFCE0,\n    0xFCE1, 0xFCE2, 0xFCE3, 0xFCE4, 0xFCE5, 0xFCE6, 0xFCE7, 0xFCE8, 0xFCE9,\n    0xFCEA, 0xFCEB, 0xFCEC, 0xFCED, 0xFCEE, 0xFCEF, 0xFCF0, 0xFCF1, 0xFCF2,\n    0xFCF3, 0xFCF4, 0xFCF5, 0xFCF6, 0xFCF7, 0xFCF8, 0xFCF9, 0xFCFA, 0xFCFB,\n    0xFCFC, 0xFCFD, 0xFCFE, 0xFCFF, 0xFD00, 0xFD01, 0xFD02, 0xFD03, 0xFD04,\n    0xFD05, 0xFD06, 0xFD07, 0xFD08, 0xFD09, 0xFD0A, 0xFD0B, 0xFD0C, 0xFD0D,\n    0xFD0E, 0xFD0F, 0xFD10, 0xFD11, 0xFD12, 0xFD13, 0xFD14, 0xFD15, 0xFD16,\n    0xFD17, 0xFD18, 0xFD19, 0xFD1A, 0xFD1B, 0xFD1C, 0xFD1D, 0xFD1E, 0xFD1F,\n    0xFD20, 0xFD21, 0xFD22, 0xFD23, 0xFD24, 0xFD25, 0xFD26, 0xFD27, 0xFD28,\n    0xFD29, 0xFD2A, 0xFD2B, 0xFD2C, 0xFD2D, 0xFD2E, 0xFD2F, 0xFD30, 0xFD31,\n    0xFD32, 0xFD33, 0xFD34, 0xFD35, 0xFD36, 0xFD37, 0xFD38, 0xFD39, 0xFD3A,\n    0xFD3B, 0xFD3C, 0xFD3D, 0xFD50, 0xFD51, 0xFD52, 0xFD53, 0xFD54, 0xFD55,\n    0xFD56, 0xFD57, 0xFD58, 0xFD59, 0xFD5A, 0xFD5B, 0xFD5C, 0xFD5D, 0xFD5E,\n    0xFD5F, 0xFD60, 0xFD61, 0xFD62, 0xFD63, 0xFD64, 0xFD65, 0xFD66, 0xFD67,\n    0xFD68, 0xFD69, 0xFD6A, 0xFD6B, 0xFD6C, 0xFD6D, 0xFD6E, 0xFD6F, 0xFD70,\n    0xFD71, 0xFD72, 0xFD73, 0xFD74, 0xFD75, 0xFD76, 0xFD77, 0xFD78, 0xFD79,\n    0xFD7A, 0xFD7B, 0xFD7C, 0xFD7D, 0xFD7E, 0xFD7F, 0xFD80, 0xFD81, 0xFD82,\n    0xFD83, 0xFD84, 0xFD85, 0xFD86, 0xFD87, 0xFD88, 0xFD89, 0xFD8A, 0xFD8B,\n    0xFD8C, 0xFD8D, 0xFD8E, 0xFD8F, 0xFD92, 0xFD93, 0xFD94, 0xFD95, 0xFD96,\n    0xFD97, 0xFD98, 0xFD99, 0xFD9A, 0xFD9B, 0xFD9C, 0xFD9D, 0xFD9E, 0xFD9F,\n    0xFDA0, 0xFDA1, 0xFDA2, 0xFDA3, 0xFDA4, 0xFDA5, 0xFDA6, 0xFDA7, 0xFDA8,\n    0xFDA9, 0xFDAA, 0xFDAB, 0xFDAC, 0xFDAD, 0xFDAE, 0xFDAF, 0xFDB0, 0xFDB1,\n    0xFDB2, 0xFDB3, 0xFDB4, 0xFDB5, 0xFDB6, 0xFDB7, 0xFDB8, 0xFDB9, 0xFDBA,\n    0xFDBB, 0xFDBC, 0xFDBD, 0xFDBE, 0xFDBF, 0xFDC0, 0xFDC1, 0xFDC2, 0xFDC3,\n    0xFDC4, 0xFDC5, 0xFDC6, 0xFDC7, 0xFDF0, 0xFDF1, 0xFDF2, 0xFDF3, 0xFDF4,\n    0xFDF5, 0xFDF6, 0xFDF7, 0xFDF8, 0xFDF9, 0xFDFA, 0xFDFB, 0xFDFC, 0xFE70,\n    0xFE71, 0xFE72, 0xFE73, 0xFE74, 0xFE76, 0xFE77, 0xFE78, 0xFE79, 0xFE7A,\n    0xFE7B, 0xFE7C, 0xFE7D, 0xFE7E, 0xFE7F, 0xFE80, 0xFE81, 0xFE82, 0xFE83,\n    0xFE84, 0xFE85, 0xFE86, 0xFE87, 0xFE88, 0xFE89, 0xFE8A, 0xFE8B, 0xFE8C,\n    0xFE8D, 0xFE8E, 0xFE8F, 0xFE90, 0xFE91, 0xFE92, 0xFE93, 0xFE94, 0xFE95,\n    0xFE96, 0xFE97, 0xFE98, 0xFE99, 0xFE9A, 0xFE9B, 0xFE9C, 0xFE9D, 0xFE9E,\n    0xFE9F, 0xFEA0, 0xFEA1, 0xFEA2, 0xFEA3, 0xFEA4, 0xFEA5, 0xFEA6, 0xFEA7,\n    0xFEA8, 0xFEA9, 0xFEAA, 0xFEAB, 0xFEAC, 0xFEAD, 0xFEAE, 0xFEAF, 0xFEB0,\n    0xFEB1, 0xFEB2, 0xFEB3, 0xFEB4, 0xFEB5, 0xFEB6, 0xFEB7, 0xFEB8, 0xFEB9,\n    0xFEBA, 0xFEBB, 0xFEBC, 0xFEBD, 0xFEBE, 0xFEBF, 0xFEC0, 0xFEC1, 0xFEC2,\n    0xFEC3, 0xFEC4, 0xFEC5, 0xFEC6, 0xFEC7, 0xFEC8, 0xFEC9, 0xFECA, 0xFECB,\n    0xFECC, 0xFECD, 0xFECE, 0xFECF, 0xFED0, 0xFED1, 0xFED2, 0xFED3, 0xFED4,\n    0xFED5, 0xFED6, 0xFED7, 0xFED8, 0xFED9, 0xFEDA, 0xFEDB, 0xFEDC, 0xFEDD,\n    0xFEDE, 0xFEDF, 0xFEE0, 0xFEE1, 0xFEE2, 0xFEE3, 0xFEE4, 0xFEE5, 0xFEE6,\n    0xFEE7, 0xFEE8, 0xFEE9, 0xFEEA, 0xFEEB, 0xFEEC, 0xFEED, 0xFEEE, 0xFEEF,\n    0xFEF0, 0xFEF1, 0xFEF2, 0xFEF3, 0xFEF4, 0xFEF5, 0xFEF6, 0xFEF7, 0xFEF8,\n    0xFEF9, 0xFEFA, 0xFEFB, 0xFEFC, 0x10800, 0x10801, 0x10802, 0x10803,\n    0x10804, 0x10805, 0x10808, 0x1080A, 0x1080B, 0x1080C, 0x1080D, 0x1080E,\n    0x1080F, 0x10810, 0x10811, 0x10812, 0x10813, 0x10814, 0x10815, 0x10816,\n    0x10817, 0x10818, 0x10819, 0x1081A, 0x1081B, 0x1081C, 0x1081D, 0x1081E,\n    0x1081F, 0x10820, 0x10821, 0x10822, 0x10823, 0x10824, 0x10825, 0x10826,\n    0x10827, 0x10828, 0x10829, 0x1082A, 0x1082B, 0x1082C, 0x1082D, 0x1082E,\n    0x1082F, 0x10830, 0x10831, 0x10832, 0x10833, 0x10834, 0x10835, 0x10837,\n    0x10838, 0x1083C, 0x1083F, 0x10840, 0x10841, 0x10842, 0x10843, 0x10844,\n    0x10845, 0x10846, 0x10847, 0x10848, 0x10849, 0x1084A, 0x1084B, 0x1084C,\n    0x1084D, 0x1084E, 0x1084F, 0x10850, 0x10851, 0x10852, 0x10853, 0x10854,\n    0x10855, 0x10857, 0x10858, 0x10859, 0x1085A, 0x1085B, 0x1085C, 0x1085D,\n    0x1085E, 0x1085F, 0x10900, 0x10901, 0x10902, 0x10903, 0x10904, 0x10905,\n    0x10906, 0x10907, 0x10908, 0x10909, 0x1090A, 0x1090B, 0x1090C, 0x1090D,\n    0x1090E, 0x1090F, 0x10910, 0x10911, 0x10912, 0x10913, 0x10914, 0x10915,\n    0x10916, 0x10917, 0x10918, 0x10919, 0x1091A, 0x1091B, 0x10920, 0x10921,\n    0x10922, 0x10923, 0x10924, 0x10925, 0x10926, 0x10927, 0x10928, 0x10929,\n    0x1092A, 0x1092B, 0x1092C, 0x1092D, 0x1092E, 0x1092F, 0x10930, 0x10931,\n    0x10932, 0x10933, 0x10934, 0x10935, 0x10936, 0x10937, 0x10938, 0x10939,\n    0x1093F, 0x10980, 0x10981, 0x10982, 0x10983, 0x10984, 0x10985, 0x10986,\n    0x10987, 0x10988, 0x10989, 0x1098A, 0x1098B, 0x1098C, 0x1098D, 0x1098E,\n    0x1098F, 0x10990, 0x10991, 0x10992, 0x10993, 0x10994, 0x10995, 0x10996,\n    0x10997, 0x10998, 0x10999, 0x1099A, 0x1099B, 0x1099C, 0x1099D, 0x1099E,\n    0x1099F, 0x109A0, 0x109A1, 0x109A2, 0x109A3, 0x109A4, 0x109A5, 0x109A6,\n    0x109A7, 0x109A8, 0x109A9, 0x109AA, 0x109AB, 0x109AC, 0x109AD, 0x109AE,\n    0x109AF, 0x109B0, 0x109B1, 0x109B2, 0x109B3, 0x109B4, 0x109B5, 0x109B6,\n    0x109B7, 0x109BE, 0x109BF, 0x10A00, 0x10A10, 0x10A11, 0x10A12, 0x10A13,\n    0x10A15, 0x10A16, 0x10A17, 0x10A19, 0x10A1A, 0x10A1B, 0x10A1C, 0x10A1D,\n    0x10A1E, 0x10A1F, 0x10A20, 0x10A21, 0x10A22, 0x10A23, 0x10A24, 0x10A25,\n    0x10A26, 0x10A27, 0x10A28, 0x10A29, 0x10A2A, 0x10A2B, 0x10A2C, 0x10A2D,\n    0x10A2E, 0x10A2F, 0x10A30, 0x10A31, 0x10A32, 0x10A33, 0x10A40, 0x10A41,\n    0x10A42, 0x10A43, 0x10A44, 0x10A45, 0x10A46, 0x10A47, 0x10A50, 0x10A51,\n    0x10A52, 0x10A53, 0x10A54, 0x10A55, 0x10A56, 0x10A57, 0x10A58, 0x10A60,\n    0x10A61, 0x10A62, 0x10A63, 0x10A64, 0x10A65, 0x10A66, 0x10A67, 0x10A68,\n    0x10A69, 0x10A6A, 0x10A6B, 0x10A6C, 0x10A6D, 0x10A6E, 0x10A6F, 0x10A70,\n    0x10A71, 0x10A72, 0x10A73, 0x10A74, 0x10A75, 0x10A76, 0x10A77, 0x10A78,\n    0x10A79, 0x10A7A, 0x10A7B, 0x10A7C, 0x10A7D, 0x10A7E, 0x10A7F, 0x10B00,\n    0x10B01, 0x10B02, 0x10B03, 0x10B04, 0x10B05, 0x10B06, 0x10B07, 0x10B08,\n    0x10B09, 0x10B0A, 0x10B0B, 0x10B0C, 0x10B0D, 0x10B0E, 0x10B0F, 0x10B10,\n    0x10B11, 0x10B12, 0x10B13, 0x10B14, 0x10B15, 0x10B16, 0x10B17, 0x10B18,\n    0x10B19, 0x10B1A, 0x10B1B, 0x10B1C, 0x10B1D, 0x10B1E, 0x10B1F, 0x10B20,\n    0x10B21, 0x10B22, 0x10B23, 0x10B24, 0x10B25, 0x10B26, 0x10B27, 0x10B28,\n    0x10B29, 0x10B2A, 0x10B2B, 0x10B2C, 0x10B2D, 0x10B2E, 0x10B2F, 0x10B30,\n    0x10B31, 0x10B32, 0x10B33, 0x10B34, 0x10B35, 0x10B40, 0x10B41, 0x10B42,\n    0x10B43, 0x10B44, 0x10B45, 0x10B46, 0x10B47, 0x10B48, 0x10B49, 0x10B4A,\n    0x10B4B, 0x10B4C, 0x10B4D, 0x10B4E, 0x10B4F, 0x10B50, 0x10B51, 0x10B52,\n    0x10B53, 0x10B54, 0x10B55, 0x10B58, 0x10B59, 0x10B5A, 0x10B5B, 0x10B5C,\n    0x10B5D, 0x10B5E, 0x10B5F, 0x10B60, 0x10B61, 0x10B62, 0x10B63, 0x10B64,\n    0x10B65, 0x10B66, 0x10B67, 0x10B68, 0x10B69, 0x10B6A, 0x10B6B, 0x10B6C,\n    0x10B6D, 0x10B6E, 0x10B6F, 0x10B70, 0x10B71, 0x10B72, 0x10B78, 0x10B79,\n    0x10B7A, 0x10B7B, 0x10B7C, 0x10B7D, 0x10B7E, 0x10B7F, 0x10C00, 0x10C01,\n    0x10C02, 0x10C03, 0x10C04, 0x10C05, 0x10C06, 0x10C07, 0x10C08, 0x10C09,\n    0x10C0A, 0x10C0B, 0x10C0C, 0x10C0D, 0x10C0E, 0x10C0F, 0x10C10, 0x10C11,\n    0x10C12, 0x10C13, 0x10C14, 0x10C15, 0x10C16, 0x10C17, 0x10C18, 0x10C19,\n    0x10C1A, 0x10C1B, 0x10C1C, 0x10C1D, 0x10C1E, 0x10C1F, 0x10C20, 0x10C21,\n    0x10C22, 0x10C23, 0x10C24, 0x10C25, 0x10C26, 0x10C27, 0x10C28, 0x10C29,\n    0x10C2A, 0x10C2B, 0x10C2C, 0x10C2D, 0x10C2E, 0x10C2F, 0x10C30, 0x10C31,\n    0x10C32, 0x10C33, 0x10C34, 0x10C35, 0x10C36, 0x10C37, 0x10C38, 0x10C39,\n    0x10C3A, 0x10C3B, 0x10C3C, 0x10C3D, 0x10C3E, 0x10C3F, 0x10C40, 0x10C41,\n    0x10C42, 0x10C43, 0x10C44, 0x10C45, 0x10C46, 0x10C47, 0x10C48, 0x1EE00,\n    0x1EE01, 0x1EE02, 0x1EE03, 0x1EE05, 0x1EE06, 0x1EE07, 0x1EE08, 0x1EE09,\n    0x1EE0A, 0x1EE0B, 0x1EE0C, 0x1EE0D, 0x1EE0E, 0x1EE0F, 0x1EE10, 0x1EE11,\n    0x1EE12, 0x1EE13, 0x1EE14, 0x1EE15, 0x1EE16, 0x1EE17, 0x1EE18, 0x1EE19,\n    0x1EE1A, 0x1EE1B, 0x1EE1C, 0x1EE1D, 0x1EE1E, 0x1EE1F, 0x1EE21, 0x1EE22,\n    0x1EE24, 0x1EE27, 0x1EE29, 0x1EE2A, 0x1EE2B, 0x1EE2C, 0x1EE2D, 0x1EE2E,\n    0x1EE2F, 0x1EE30, 0x1EE31, 0x1EE32, 0x1EE34, 0x1EE35, 0x1EE36, 0x1EE37,\n    0x1EE39, 0x1EE3B, 0x1EE42, 0x1EE47, 0x1EE49, 0x1EE4B, 0x1EE4D, 0x1EE4E,\n    0x1EE4F, 0x1EE51, 0x1EE52, 0x1EE54, 0x1EE57, 0x1EE59, 0x1EE5B, 0x1EE5D,\n    0x1EE5F, 0x1EE61, 0x1EE62, 0x1EE64, 0x1EE67, 0x1EE68, 0x1EE69, 0x1EE6A,\n    0x1EE6C, 0x1EE6D, 0x1EE6E, 0x1EE6F, 0x1EE70, 0x1EE71, 0x1EE72, 0x1EE74,\n    0x1EE75, 0x1EE76, 0x1EE77, 0x1EE79, 0x1EE7A, 0x1EE7B, 0x1EE7C, 0x1EE7E,\n    0x1EE80, 0x1EE81, 0x1EE82, 0x1EE83, 0x1EE84, 0x1EE85, 0x1EE86, 0x1EE87,\n    0x1EE88, 0x1EE89, 0x1EE8B, 0x1EE8C, 0x1EE8D, 0x1EE8E, 0x1EE8F, 0x1EE90,\n    0x1EE91, 0x1EE92, 0x1EE93, 0x1EE94, 0x1EE95, 0x1EE96, 0x1EE97, 0x1EE98,\n    0x1EE99, 0x1EE9A, 0x1EE9B, 0x1EEA1, 0x1EEA2, 0x1EEA3, 0x1EEA5, 0x1EEA6,\n    0x1EEA7, 0x1EEA8, 0x1EEA9, 0x1EEAB, 0x1EEAC, 0x1EEAD, 0x1EEAE, 0x1EEAF,\n    0x1EEB0, 0x1EEB1, 0x1EEB2, 0x1EEB3, 0x1EEB4, 0x1EEB5, 0x1EEB6, 0x1EEB7,\n    0x1EEB8, 0x1EEB9, 0x1EEBA, 0x1EEBB, 0x10FFFD];\n\n  function determineBidi(cueDiv) {\n    var nodeStack = [],\n      text = \"\",\n      charCode;\n\n    if (!cueDiv || !cueDiv.childNodes) {\n      return \"ltr\";\n    }\n\n    function pushNodes(nodeStack, node) {\n      for (var i = node.childNodes.length - 1; i >= 0; i--) {\n        nodeStack.push(node.childNodes[i]);\n      }\n    }\n\n    function nextTextNode(nodeStack) {\n      if (!nodeStack || !nodeStack.length) {\n        return null;\n      }\n\n      var node = nodeStack.pop(),\n        text = node.textContent || node.innerText;\n      if (text) {\n        // TODO: This should match all unicode type B characters (paragraph\n        // separator characters). See issue #115.\n        var m = text.match(/^.*(\\n|\\r)/);\n        if (m) {\n          nodeStack.length = 0;\n          return m[0];\n        }\n        return text;\n      }\n      if (node.tagName === \"ruby\") {\n        return nextTextNode(nodeStack);\n      }\n      if (node.childNodes) {\n        pushNodes(nodeStack, node);\n        return nextTextNode(nodeStack);\n      }\n    }\n\n    pushNodes(nodeStack, cueDiv);\n    while ((text = nextTextNode(nodeStack))) {\n      for (var i = 0; i < text.length; i++) {\n        charCode = text.charCodeAt(i);\n        for (var j = 0; j < strongRTLChars.length; j++) {\n          if (strongRTLChars[j] === charCode) {\n            return \"rtl\";\n          }\n        }\n      }\n    }\n    return \"ltr\";\n  }\n\n  function computeLinePos(cue) {\n    if (typeof cue.line === \"number\" &&\n      (cue.snapToLines || (cue.line >= 0 && cue.line <= 100))) {\n      return cue.line;\n    }\n    if (!cue.track || !cue.track.textTrackList ||\n      !cue.track.textTrackList.mediaElement) {\n      return -1;\n    }\n    var track = cue.track,\n      trackList = track.textTrackList,\n      count = 0;\n    for (var i = 0; i < trackList.length && trackList[i] !== track; i++) {\n      if (trackList[i].mode === \"showing\") {\n        count++;\n      }\n    }\n    return ++count * -1;\n  }\n\n  function StyleBox() {\n  }\n\n  // Apply styles to a div. If there is no div passed then it defaults to the\n  // div on 'this'.\n  StyleBox.prototype.applyStyles = function(styles, div) {\n    div = div || this.div;\n    for (var prop in styles) {\n      if (styles.hasOwnProperty(prop)) {\n        div.style[prop] = styles[prop];\n      }\n    }\n  };\n\n  StyleBox.prototype.formatStyle = function(val, unit) {\n    return val === 0 ? 0 : val + unit;\n  };\n\n  // Constructs the computed display state of the cue (a div). Places the div\n  // into the overlay which should be a block level element (usually a div).\n  function CueStyleBox(window, cue, styleOptions) {\n    var isIE8 = (/MSIE\\s8\\.0/).test(navigator.userAgent);\n    var color = \"rgba(255, 255, 255, 1)\";\n    var backgroundColor = \"rgba(0, 0, 0, 0.8)\";\n\n    if (isIE8) {\n      color = \"rgb(255, 255, 255)\";\n      backgroundColor = \"rgb(0, 0, 0)\";\n    }\n\n    StyleBox.call(this);\n    this.cue = cue;\n\n    // Parse our cue's text into a DOM tree rooted at 'cueDiv'. This div will\n    // have inline positioning and will function as the cue background box.\n    this.cueDiv = parseContent(window, cue.text);\n    var styles = {\n      color: color,\n      backgroundColor: backgroundColor,\n      position: \"relative\",\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0,\n      display: \"inline\"\n    };\n\n    if (!isIE8) {\n      styles.writingMode = cue.vertical === \"\" ? \"horizontal-tb\"\n        : cue.vertical === \"lr\" ? \"vertical-lr\"\n        : \"vertical-rl\";\n      styles.unicodeBidi = \"plaintext\";\n    }\n    this.applyStyles(styles, this.cueDiv);\n\n    // Create an absolutely positioned div that will be used to position the cue\n    // div. Note, all WebVTT cue-setting alignments are equivalent to the CSS\n    // mirrors of them except \"middle\" which is \"center\" in CSS.\n    this.div = window.document.createElement(\"div\");\n    styles = {\n      textAlign: cue.align === \"middle\" ? \"center\" : cue.align,\n      font: styleOptions.font,\n      whiteSpace: \"pre-line\",\n      position: \"absolute\"\n    };\n\n    if (!isIE8) {\n      styles.direction = determineBidi(this.cueDiv);\n      styles.writingMode = cue.vertical === \"\" ? \"horizontal-tb\"\n        : cue.vertical === \"lr\" ? \"vertical-lr\"\n        : \"vertical-rl\".\n        stylesunicodeBidi =  \"plaintext\";\n    }\n\n    this.applyStyles(styles);\n\n    this.div.appendChild(this.cueDiv);\n\n    // Calculate the distance from the reference edge of the viewport to the text\n    // position of the cue box. The reference edge will be resolved later when\n    // the box orientation styles are applied.\n    var textPos = 0;\n    switch (cue.positionAlign) {\n      case \"start\":\n        textPos = cue.position;\n        break;\n      case \"middle\":\n        textPos = cue.position - (cue.size / 2);\n        break;\n      case \"end\":\n        textPos = cue.position - cue.size;\n        break;\n    }\n\n    // Horizontal box orientation; textPos is the distance from the left edge of the\n    // area to the left edge of the box and cue.size is the distance extending to\n    // the right from there.\n    if (cue.vertical === \"\") {\n      this.applyStyles({\n        left:  this.formatStyle(textPos, \"%\"),\n        width: this.formatStyle(cue.size, \"%\")\n      });\n      // Vertical box orientation; textPos is the distance from the top edge of the\n      // area to the top edge of the box and cue.size is the height extending\n      // downwards from there.\n    } else {\n      this.applyStyles({\n        top: this.formatStyle(textPos, \"%\"),\n        height: this.formatStyle(cue.size, \"%\")\n      });\n    }\n\n    this.move = function(box) {\n      this.applyStyles({\n        top: this.formatStyle(box.top, \"px\"),\n        bottom: this.formatStyle(box.bottom, \"px\"),\n        left: this.formatStyle(box.left, \"px\"),\n        right: this.formatStyle(box.right, \"px\"),\n        height: this.formatStyle(box.height, \"px\"),\n        width: this.formatStyle(box.width, \"px\")\n      });\n    };\n  }\n  CueStyleBox.prototype = _objCreate(StyleBox.prototype);\n  CueStyleBox.prototype.constructor = CueStyleBox;\n\n  // Represents the co-ordinates of an Element in a way that we can easily\n  // compute things with such as if it overlaps or intersects with another Element.\n  // Can initialize it with either a StyleBox or another BoxPosition.\n  function BoxPosition(obj) {\n    var isIE8 = (/MSIE\\s8\\.0/).test(navigator.userAgent);\n\n    // Either a BoxPosition was passed in and we need to copy it, or a StyleBox\n    // was passed in and we need to copy the results of 'getBoundingClientRect'\n    // as the object returned is readonly. All co-ordinate values are in reference\n    // to the viewport origin (top left).\n    var lh, height, width, top;\n    if (obj.div) {\n      height = obj.div.offsetHeight;\n      width = obj.div.offsetWidth;\n      top = obj.div.offsetTop;\n\n      var rects = (rects = obj.div.childNodes) && (rects = rects[0]) &&\n        rects.getClientRects && rects.getClientRects();\n      obj = obj.div.getBoundingClientRect();\n      // In certain cases the outter div will be slightly larger then the sum of\n      // the inner div's lines. This could be due to bold text, etc, on some platforms.\n      // In this case we should get the average line height and use that. This will\n      // result in the desired behaviour.\n      lh = rects ? Math.max((rects[0] && rects[0].height) || 0, obj.height / rects.length)\n        : 0;\n\n    }\n    this.left = obj.left;\n    this.right = obj.right;\n    this.top = obj.top || top;\n    this.height = obj.height || height;\n    this.bottom = obj.bottom || (top + (obj.height || height));\n    this.width = obj.width || width;\n    this.lineHeight = lh !== undefined ? lh : obj.lineHeight;\n\n    if (isIE8 && !this.lineHeight) {\n      this.lineHeight = 13;\n    }\n  }\n\n  // Move the box along a particular axis. Optionally pass in an amount to move\n  // the box. If no amount is passed then the default is the line height of the\n  // box.\n  BoxPosition.prototype.move = function(axis, toMove) {\n    toMove = toMove !== undefined ? toMove : this.lineHeight;\n    switch (axis) {\n      case \"+x\":\n        this.left += toMove;\n        this.right += toMove;\n        break;\n      case \"-x\":\n        this.left -= toMove;\n        this.right -= toMove;\n        break;\n      case \"+y\":\n        this.top += toMove;\n        this.bottom += toMove;\n        break;\n      case \"-y\":\n        this.top -= toMove;\n        this.bottom -= toMove;\n        break;\n    }\n  };\n\n  // Check if this box overlaps another box, b2.\n  BoxPosition.prototype.overlaps = function(b2) {\n    return this.left < b2.right &&\n      this.right > b2.left &&\n      this.top < b2.bottom &&\n      this.bottom > b2.top;\n  };\n\n  // Check if this box overlaps any other boxes in boxes.\n  BoxPosition.prototype.overlapsAny = function(boxes) {\n    for (var i = 0; i < boxes.length; i++) {\n      if (this.overlaps(boxes[i])) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  // Check if this box is within another box.\n  BoxPosition.prototype.within = function(container) {\n    return this.top >= container.top &&\n      this.bottom <= container.bottom &&\n      this.left >= container.left &&\n      this.right <= container.right;\n  };\n\n  // Check if this box is entirely within the container or it is overlapping\n  // on the edge opposite of the axis direction passed. For example, if \"+x\" is\n  // passed and the box is overlapping on the left edge of the container, then\n  // return true.\n  BoxPosition.prototype.overlapsOppositeAxis = function(container, axis) {\n    switch (axis) {\n      case \"+x\":\n        return this.left < container.left;\n      case \"-x\":\n        return this.right > container.right;\n      case \"+y\":\n        return this.top < container.top;\n      case \"-y\":\n        return this.bottom > container.bottom;\n    }\n  };\n\n  // Find the percentage of the area that this box is overlapping with another\n  // box.\n  BoxPosition.prototype.intersectPercentage = function(b2) {\n    var x = Math.max(0, Math.min(this.right, b2.right) - Math.max(this.left, b2.left)),\n      y = Math.max(0, Math.min(this.bottom, b2.bottom) - Math.max(this.top, b2.top)),\n      intersectArea = x * y;\n    return intersectArea / (this.height * this.width);\n  };\n\n  // Convert the positions from this box to CSS compatible positions using\n  // the reference container's positions. This has to be done because this\n  // box's positions are in reference to the viewport origin, whereas, CSS\n  // values are in referecne to their respective edges.\n  BoxPosition.prototype.toCSSCompatValues = function(reference) {\n    return {\n      top: this.top - reference.top,\n      bottom: reference.bottom - this.bottom,\n      left: this.left - reference.left,\n      right: reference.right - this.right,\n      height: this.height,\n      width: this.width\n    };\n  };\n\n  // Get an object that represents the box's position without anything extra.\n  // Can pass a StyleBox, HTMLElement, or another BoxPositon.\n  BoxPosition.getSimpleBoxPosition = function(obj) {\n    var height = obj.div ? obj.div.offsetHeight : obj.tagName ? obj.offsetHeight : 0;\n    var width = obj.div ? obj.div.offsetWidth : obj.tagName ? obj.offsetWidth : 0;\n    var top = obj.div ? obj.div.offsetTop : obj.tagName ? obj.offsetTop : 0;\n\n    obj = obj.div ? obj.div.getBoundingClientRect() :\n      obj.tagName ? obj.getBoundingClientRect() : obj;\n    var ret = {\n      left: obj.left,\n      right: obj.right,\n      top: obj.top || top,\n      height: obj.height || height,\n      bottom: obj.bottom || (top + (obj.height || height)),\n      width: obj.width || width\n    };\n    return ret;\n  };\n\n  // Move a StyleBox to its specified, or next best, position. The containerBox\n  // is the box that contains the StyleBox, such as a div. boxPositions are\n  // a list of other boxes that the styleBox can't overlap with.\n  function moveBoxToLinePosition(window, styleBox, containerBox, boxPositions) {\n\n    // Find the best position for a cue box, b, on the video. The axis parameter\n    // is a list of axis, the order of which, it will move the box along. For example:\n    // Passing [\"+x\", \"-x\"] will move the box first along the x axis in the positive\n    // direction. If it doesn't find a good position for it there it will then move\n    // it along the x axis in the negative direction.\n    function findBestPosition(b, axis) {\n      var bestPosition,\n        specifiedPosition = new BoxPosition(b),\n        percentage = 1; // Highest possible so the first thing we get is better.\n\n      for (var i = 0; i < axis.length; i++) {\n        while (b.overlapsOppositeAxis(containerBox, axis[i]) ||\n        (b.within(containerBox) && b.overlapsAny(boxPositions))) {\n          b.move(axis[i]);\n        }\n        // We found a spot where we aren't overlapping anything. This is our\n        // best position.\n        if (b.within(containerBox)) {\n          return b;\n        }\n        var p = b.intersectPercentage(containerBox);\n        // If we're outside the container box less then we were on our last try\n        // then remember this position as the best position.\n        if (percentage > p) {\n          bestPosition = new BoxPosition(b);\n          percentage = p;\n        }\n        // Reset the box position to the specified position.\n        b = new BoxPosition(specifiedPosition);\n      }\n      return bestPosition || specifiedPosition;\n    }\n\n    var boxPosition = new BoxPosition(styleBox),\n      cue = styleBox.cue,\n      linePos = computeLinePos(cue),\n      axis = [];\n\n    // If we have a line number to align the cue to.\n    if (cue.snapToLines) {\n      var size;\n      switch (cue.vertical) {\n        case \"\":\n          axis = [ \"+y\", \"-y\" ];\n          size = \"height\";\n          break;\n        case \"rl\":\n          axis = [ \"+x\", \"-x\" ];\n          size = \"width\";\n          break;\n        case \"lr\":\n          axis = [ \"-x\", \"+x\" ];\n          size = \"width\";\n          break;\n      }\n\n      var step = boxPosition.lineHeight,\n        position = step * Math.round(linePos),\n        maxPosition = containerBox[size] + step,\n        initialAxis = axis[0];\n\n      // If the specified intial position is greater then the max position then\n      // clamp the box to the amount of steps it would take for the box to\n      // reach the max position.\n      if (Math.abs(position) > maxPosition) {\n        position = position < 0 ? -1 : 1;\n        position *= Math.ceil(maxPosition / step) * step;\n      }\n\n      // If computed line position returns negative then line numbers are\n      // relative to the bottom of the video instead of the top. Therefore, we\n      // need to increase our initial position by the length or width of the\n      // video, depending on the writing direction, and reverse our axis directions.\n      if (linePos < 0) {\n        position += cue.vertical === \"\" ? containerBox.height : containerBox.width;\n        axis = axis.reverse();\n      }\n\n      // Move the box to the specified position. This may not be its best\n      // position.\n      boxPosition.move(initialAxis, position);\n\n    } else {\n      // If we have a percentage line value for the cue.\n      var calculatedPercentage = (boxPosition.lineHeight / containerBox.height) * 100;\n\n      switch (cue.lineAlign) {\n        case \"middle\":\n          linePos -= (calculatedPercentage / 2);\n          break;\n        case \"end\":\n          linePos -= calculatedPercentage;\n          break;\n      }\n\n      // Apply initial line position to the cue box.\n      switch (cue.vertical) {\n        case \"\":\n          styleBox.applyStyles({\n            top: styleBox.formatStyle(linePos, \"%\")\n          });\n          break;\n        case \"rl\":\n          styleBox.applyStyles({\n            left: styleBox.formatStyle(linePos, \"%\")\n          });\n          break;\n        case \"lr\":\n          styleBox.applyStyles({\n            right: styleBox.formatStyle(linePos, \"%\")\n          });\n          break;\n      }\n\n      axis = [ \"+y\", \"-x\", \"+x\", \"-y\" ];\n\n      // Get the box position again after we've applied the specified positioning\n      // to it.\n      boxPosition = new BoxPosition(styleBox);\n    }\n\n    var bestPosition = findBestPosition(boxPosition, axis);\n    styleBox.move(bestPosition.toCSSCompatValues(containerBox));\n  }\n\n  function WebVTT() {\n    // Nothing\n  }\n\n  // Helper to allow strings to be decoded instead of the default binary utf8 data.\n  WebVTT.StringDecoder = function() {\n    return {\n      decode: function(data) {\n        if (!data) {\n          return \"\";\n        }\n        if (typeof data !== \"string\") {\n          throw new Error(\"Error - expected string data.\");\n        }\n        return decodeURIComponent(encodeURIComponent(data));\n      }\n    };\n  };\n\n  WebVTT.convertCueToDOMTree = function(window, cuetext) {\n    if (!window || !cuetext) {\n      return null;\n    }\n    return parseContent(window, cuetext);\n  };\n\n  var FONT_SIZE_PERCENT = 0.05;\n  var FONT_STYLE = \"sans-serif\";\n  var CUE_BACKGROUND_PADDING = \"1.5%\";\n\n  // Runs the processing model over the cues and regions passed to it.\n  // @param overlay A block level element (usually a div) that the computed cues\n  //                and regions will be placed into.\n  WebVTT.processCues = function(window, cues, overlay) {\n    if (!window || !cues || !overlay) {\n      return null;\n    }\n\n    // Remove all previous children.\n    while (overlay.firstChild) {\n      overlay.removeChild(overlay.firstChild);\n    }\n\n    var paddedOverlay = window.document.createElement(\"div\");\n    paddedOverlay.style.position = \"absolute\";\n    paddedOverlay.style.left = \"0\";\n    paddedOverlay.style.right = \"0\";\n    paddedOverlay.style.top = \"0\";\n    paddedOverlay.style.bottom = \"0\";\n    paddedOverlay.style.margin = CUE_BACKGROUND_PADDING;\n    overlay.appendChild(paddedOverlay);\n\n    // Determine if we need to compute the display states of the cues. This could\n    // be the case if a cue's state has been changed since the last computation or\n    // if it has not been computed yet.\n    function shouldCompute(cues) {\n      for (var i = 0; i < cues.length; i++) {\n        if (cues[i].hasBeenReset || !cues[i].displayState) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n    // We don't need to recompute the cues' display states. Just reuse them.\n    if (!shouldCompute(cues)) {\n      for (var i = 0; i < cues.length; i++) {\n        paddedOverlay.appendChild(cues[i].displayState);\n      }\n      return;\n    }\n\n    var boxPositions = [],\n      containerBox = BoxPosition.getSimpleBoxPosition(paddedOverlay),\n      fontSize = Math.round(containerBox.height * FONT_SIZE_PERCENT * 100) / 100;\n    var styleOptions = {\n      font: fontSize + \"px \" + FONT_STYLE\n    };\n\n    (function() {\n      var styleBox, cue;\n\n      for (var i = 0; i < cues.length; i++) {\n        cue = cues[i];\n\n        // Compute the intial position and styles of the cue div.\n        styleBox = new CueStyleBox(window, cue, styleOptions);\n        paddedOverlay.appendChild(styleBox.div);\n\n        // Move the cue div to it's correct line position.\n        moveBoxToLinePosition(window, styleBox, containerBox, boxPositions);\n\n        // Remember the computed div so that we don't have to recompute it later\n        // if we don't have too.\n        cue.displayState = styleBox.div;\n\n        boxPositions.push(BoxPosition.getSimpleBoxPosition(styleBox));\n      }\n    })();\n  };\n\n  WebVTT.Parser = function(window, vttjs, decoder) {\n    if (!decoder) {\n      decoder = vttjs;\n      vttjs = {};\n    }\n    if (!vttjs) {\n      vttjs = {};\n    }\n\n    this.window = window;\n    this.vttjs = vttjs;\n    this.state = \"INITIAL\";\n    this.buffer = \"\";\n    this.decoder = decoder || new TextDecoder(\"utf8\");\n    this.regionList = [];\n  };\n\n  WebVTT.Parser.prototype = {\n    // If the error is a ParsingError then report it to the consumer if\n    // possible. If it's not a ParsingError then throw it like normal.\n    reportOrThrowError: function(e) {\n      if (e instanceof ParsingError) {\n        this.onparsingerror && this.onparsingerror(e);\n      } else {\n        throw e;\n      }\n    },\n    parse: function (data) {\n      var self = this;\n\n      // If there is no data then we won't decode it, but will just try to parse\n      // whatever is in buffer already. This may occur in circumstances, for\n      // example when flush() is called.\n      if (data) {\n        // Try to decode the data that we received.\n        self.buffer += self.decoder.decode(data, {stream: true});\n      }\n\n      function collectNextLine() {\n        var buffer = self.buffer;\n        var pos = 0;\n        while (pos < buffer.length && buffer[pos] !== '\\r' && buffer[pos] !== '\\n') {\n          ++pos;\n        }\n        var line = buffer.substr(0, pos);\n        // Advance the buffer early in case we fail below.\n        if (buffer[pos] === '\\r') {\n          ++pos;\n        }\n        if (buffer[pos] === '\\n') {\n          ++pos;\n        }\n        self.buffer = buffer.substr(pos);\n        return line;\n      }\n\n      // 3.4 WebVTT region and WebVTT region settings syntax\n      function parseRegion(input) {\n        var settings = new Settings();\n\n        parseOptions(input, function (k, v) {\n          switch (k) {\n            case \"id\":\n              settings.set(k, v);\n              break;\n            case \"width\":\n              settings.percent(k, v);\n              break;\n            case \"lines\":\n              settings.integer(k, v);\n              break;\n            case \"regionanchor\":\n            case \"viewportanchor\":\n              var xy = v.split(',');\n              if (xy.length !== 2) {\n                break;\n              }\n              // We have to make sure both x and y parse, so use a temporary\n              // settings object here.\n              var anchor = new Settings();\n              anchor.percent(\"x\", xy[0]);\n              anchor.percent(\"y\", xy[1]);\n              if (!anchor.has(\"x\") || !anchor.has(\"y\")) {\n                break;\n              }\n              settings.set(k + \"X\", anchor.get(\"x\"));\n              settings.set(k + \"Y\", anchor.get(\"y\"));\n              break;\n            case \"scroll\":\n              settings.alt(k, v, [\"up\"]);\n              break;\n          }\n        }, /=/, /\\s/);\n\n        // Create the region, using default values for any values that were not\n        // specified.\n        if (settings.has(\"id\")) {\n          var region = new (self.vttjs.VTTRegion || self.window.VTTRegion)();\n          region.width = settings.get(\"width\", 100);\n          region.lines = settings.get(\"lines\", 3);\n          region.regionAnchorX = settings.get(\"regionanchorX\", 0);\n          region.regionAnchorY = settings.get(\"regionanchorY\", 100);\n          region.viewportAnchorX = settings.get(\"viewportanchorX\", 0);\n          region.viewportAnchorY = settings.get(\"viewportanchorY\", 100);\n          region.scroll = settings.get(\"scroll\", \"\");\n          // Register the region.\n          self.onregion && self.onregion(region);\n          // Remember the VTTRegion for later in case we parse any VTTCues that\n          // reference it.\n          self.regionList.push({\n            id: settings.get(\"id\"),\n            region: region\n          });\n        }\n      }\n\n      // 3.2 WebVTT metadata header syntax\n      function parseHeader(input) {\n        parseOptions(input, function (k, v) {\n          switch (k) {\n            case \"Region\":\n              // 3.3 WebVTT region metadata header syntax\n              parseRegion(v);\n              break;\n          }\n        }, /:/);\n      }\n\n      // 5.1 WebVTT file parsing.\n      try {\n        var line;\n        if (self.state === \"INITIAL\") {\n          // We can't start parsing until we have the first line.\n          if (!/\\r\\n|\\n/.test(self.buffer)) {\n            return this;\n          }\n\n          line = collectNextLine();\n\n          var m = line.match(/^WEBVTT([ \\t].*)?$/);\n          if (!m || !m[0]) {\n            throw new ParsingError(ParsingError.Errors.BadSignature);\n          }\n\n          self.state = \"HEADER\";\n        }\n\n        var alreadyCollectedLine = false;\n        while (self.buffer) {\n          // We can't parse a line until we have the full line.\n          if (!/\\r\\n|\\n/.test(self.buffer)) {\n            return this;\n          }\n\n          if (!alreadyCollectedLine) {\n            line = collectNextLine();\n          } else {\n            alreadyCollectedLine = false;\n          }\n\n          switch (self.state) {\n            case \"HEADER\":\n              // 13-18 - Allow a header (metadata) under the WEBVTT line.\n              if (/:/.test(line)) {\n                parseHeader(line);\n              } else if (!line) {\n                // An empty line terminates the header and starts the body (cues).\n                self.state = \"ID\";\n              }\n              continue;\n            case \"NOTE\":\n              // Ignore NOTE blocks.\n              if (!line) {\n                self.state = \"ID\";\n              }\n              continue;\n            case \"ID\":\n              // Check for the start of NOTE blocks.\n              if (/^NOTE($|[ \\t])/.test(line)) {\n                self.state = \"NOTE\";\n                break;\n              }\n              // 19-29 - Allow any number of line terminators, then initialize new cue values.\n              if (!line) {\n                continue;\n              }\n              self.cue = new (self.vttjs.VTTCue || self.window.VTTCue)(0, 0, \"\");\n              self.state = \"CUE\";\n              // 30-39 - Check if self line contains an optional identifier or timing data.\n              if (line.indexOf(\"-->\") === -1) {\n                self.cue.id = line;\n                continue;\n              }\n            // Process line as start of a cue.\n            /*falls through*/\n            case \"CUE\":\n              // 40 - Collect cue timings and settings.\n              try {\n                parseCue(line, self.cue, self.regionList);\n              } catch (e) {\n                self.reportOrThrowError(e);\n                // In case of an error ignore rest of the cue.\n                self.cue = null;\n                self.state = \"BADCUE\";\n                continue;\n              }\n              self.state = \"CUETEXT\";\n              continue;\n            case \"CUETEXT\":\n              var hasSubstring = line.indexOf(\"-->\") !== -1;\n              // 34 - If we have an empty line then report the cue.\n              // 35 - If we have the special substring '-->' then report the cue,\n              // but do not collect the line as we need to process the current\n              // one as a new cue.\n              if (!line || hasSubstring && (alreadyCollectedLine = true)) {\n                // We are done parsing self cue.\n                self.oncue && self.oncue(self.cue);\n                self.cue = null;\n                self.state = \"ID\";\n                continue;\n              }\n              if (self.cue.text) {\n                self.cue.text += \"\\n\";\n              }\n              self.cue.text += line;\n              continue;\n            case \"BADCUE\": // BADCUE\n              // 54-62 - Collect and discard the remaining cue.\n              if (!line) {\n                self.state = \"ID\";\n              }\n              continue;\n          }\n        }\n      } catch (e) {\n        self.reportOrThrowError(e);\n\n        // If we are currently parsing a cue, report what we have.\n        if (self.state === \"CUETEXT\" && self.cue && self.oncue) {\n          self.oncue(self.cue);\n        }\n        self.cue = null;\n        // Enter BADWEBVTT state if header was not parsed correctly otherwise\n        // another exception occurred so enter BADCUE state.\n        self.state = self.state === \"INITIAL\" ? \"BADWEBVTT\" : \"BADCUE\";\n      }\n      return this;\n    },\n    flush: function () {\n      var self = this;\n      try {\n        // Finish decoding the stream.\n        self.buffer += self.decoder.decode();\n        // Synthesize the end of the current cue or region.\n        if (self.cue || self.state === \"HEADER\") {\n          self.buffer += \"\\n\\n\";\n          self.parse();\n        }\n        // If we've flushed, parsed, and we're still on the INITIAL state then\n        // that means we don't have enough of the stream to parse the first\n        // line.\n        if (self.state === \"INITIAL\") {\n          throw new ParsingError(ParsingError.Errors.BadSignature);\n        }\n      } catch(e) {\n        self.reportOrThrowError(e);\n      }\n      self.onflush && self.onflush();\n      return this;\n    }\n  };\n\n  global.WebVTT = WebVTT;\n\n}(this, (this.vttjs || {})));\n\n!function(){!function(a){var b=a&&a.videojs;if(b){b.CDN_VERSION=\"5.10.8\";var c=\"https:\"===a.location.protocol?\"https://\":\"http://\";b.options.flash.swf=c+\"vjs.zencdn.net/swf/5.0.1/video-js.swf\"}}(window),function(a,b,c,d,e,f,g){b&&b.HELP_IMPROVE_VIDEOJS!==!1&&(e.random()>.01||(f=b.location,g=b.videojs||{},a.src=\"//www.google-analytics.com/__utm.gif?utmwv=5.4.2&utmac=UA-16505296-3&utmn=1&utmhn=\"+d(f.hostname)+\"&utmsr=\"+b.screen.availWidth+\"x\"+b.screen.availHeight+\"&utmul=\"+(c.language||c.userLanguage||\"\").toLowerCase()+\"&utmr=\"+d(f.href)+\"&utmp=\"+d(f.hostname+f.pathname)+\"&utmcc=__utma%3D1.\"+e.floor(1e10*e.random())+\".1.1.1.1%3B&utme=8(vjsv*cdnv)9(\"+g.VERSION+\"*\"+g.CDN_VERSION+\")\"))}(new Image,window,navigator,encodeURIComponent,Math)}();\n\n/**\n * videojs-contrib-hls\n * @version 3.6.13\n * @copyright 2016 Brightcove, Inc\n * @license Apache-2.0\n */\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.videojsContribHls = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n  /**\n   * @file ad-cue-tags.js\n   */\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  var _globalWindow = require('global/window');\n\n  var _globalWindow2 = _interopRequireDefault(_globalWindow);\n\n  /**\n   * Searches for an ad cue that overlaps with the given mediaTime\n   */\n  var findAdCue = function findAdCue(track, mediaTime) {\n    var cues = track.cues;\n\n    for (var i = 0; i < cues.length; i++) {\n      var cue = cues[i];\n\n      if (mediaTime >= cue.adStartTime && mediaTime <= cue.adEndTime) {\n        return cue;\n      }\n    }\n    return null;\n  };\n\n  var updateAdCues = function updateAdCues(media, track) {\n    var offset = arguments.length <= 2 || arguments[2] === undefined ? 0 : arguments[2];\n\n    if (!media.segments) {\n      return;\n    }\n\n    var mediaTime = offset;\n    var cue = undefined;\n\n    for (var i = 0; i < media.segments.length; i++) {\n      var segment = media.segments[i];\n\n      if (!cue) {\n        // Since the cues will span for at least the segment duration, adding a fudge\n        // factor of half segment duration will prevent duplicate cues from being\n        // created when timing info is not exact (e.g. cue start time initialized\n        // at 10.006677, but next call mediaTime is 10.003332 )\n        cue = findAdCue(track, mediaTime + segment.duration / 2);\n      }\n\n      if (cue) {\n        if ('cueIn' in segment) {\n          // Found a CUE-IN so end the cue\n          cue.endTime = mediaTime;\n          cue.adEndTime = mediaTime;\n          mediaTime += segment.duration;\n          cue = null;\n          continue;\n        }\n\n        if (mediaTime < cue.endTime) {\n          // Already processed this mediaTime for this cue\n          mediaTime += segment.duration;\n          continue;\n        }\n\n        // otherwise extend cue until a CUE-IN is found\n        cue.endTime += segment.duration;\n      } else {\n        if ('cueOut' in segment) {\n          cue = new _globalWindow2['default'].VTTCue(mediaTime, mediaTime + segment.duration, segment.cueOut);\n          cue.adStartTime = mediaTime;\n          // Assumes tag format to be\n          // #EXT-X-CUE-OUT:30\n          cue.adEndTime = mediaTime + parseFloat(segment.cueOut);\n          track.addCue(cue);\n        }\n\n        if ('cueOutCont' in segment) {\n          // Entered into the middle of an ad cue\n          var adOffset = undefined;\n          var adTotal = undefined;\n\n          // Assumes tag formate to be\n          // #EXT-X-CUE-OUT-CONT:10/30\n\n          var _segment$cueOutCont$split$map = segment.cueOutCont.split('/').map(parseFloat);\n\n          var _segment$cueOutCont$split$map2 = _slicedToArray(_segment$cueOutCont$split$map, 2);\n\n          adOffset = _segment$cueOutCont$split$map2[0];\n          adTotal = _segment$cueOutCont$split$map2[1];\n\n          cue = new _globalWindow2['default'].VTTCue(mediaTime, mediaTime + segment.duration, '');\n          cue.adStartTime = mediaTime - adOffset;\n          cue.adEndTime = cue.adStartTime + adTotal;\n          track.addCue(cue);\n        }\n      }\n      mediaTime += segment.duration;\n    }\n  };\n\n  exports['default'] = {\n    updateAdCues: updateAdCues,\n    findAdCue: findAdCue\n  };\n  module.exports = exports['default'];\n},{\"global/window\":26}],2:[function(require,module,exports){\n  /**\n   * @file bin-utils.js\n   */\n\n  /**\n   * convert a TimeRange to text\n   *\n   * @param {TimeRange} range the timerange to use for conversion\n   * @param {Number} i the iterator on the range to convert\n   */\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  var textRange = function textRange(range, i) {\n    return range.start(i) + '-' + range.end(i);\n  };\n\n  /**\n   * format a number as hex string\n   *\n   * @param {Number} e The number\n   * @param {Number} i the iterator\n   */\n  var formatHexString = function formatHexString(e, i) {\n    var value = e.toString(16);\n\n    return '00'.substring(0, 2 - value.length) + value + (i % 2 ? ' ' : '');\n  };\n  var formatAsciiString = function formatAsciiString(e) {\n    if (e >= 0x20 && e < 0x7e) {\n      return String.fromCharCode(e);\n    }\n    return '.';\n  };\n\n  /**\n   * utils to help dump binary data to the console\n   */\n  var utils = {\n    hexDump: function hexDump(data) {\n      var bytes = Array.prototype.slice.call(data);\n      var step = 16;\n      var result = '';\n      var hex = undefined;\n      var ascii = undefined;\n\n      for (var j = 0; j < bytes.length / step; j++) {\n        hex = bytes.slice(j * step, j * step + step).map(formatHexString).join('');\n        ascii = bytes.slice(j * step, j * step + step).map(formatAsciiString).join('');\n        result += hex + ' ' + ascii + '\\n';\n      }\n      return result;\n    },\n    tagDump: function tagDump(tag) {\n      return utils.hexDump(tag.bytes);\n    },\n    textRanges: function textRanges(ranges) {\n      var result = '';\n      var i = undefined;\n\n      for (i = 0; i < ranges.length; i++) {\n        result += textRange(ranges, i) + ' ';\n      }\n      return result;\n    }\n  };\n\n  exports['default'] = utils;\n  module.exports = exports['default'];\n},{}],3:[function(require,module,exports){\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports[\"default\"] = {\n    GOAL_BUFFER_LENGTH: 30\n  };\n  module.exports = exports[\"default\"];\n},{}],4:[function(require,module,exports){\n  (function (global){\n    /**\n     * @file master-playlist-controller.js\n     */\n    'use strict';\n\n    Object.defineProperty(exports, '__esModule', {\n      value: true\n    });\n\n    var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n    var _get = function get(_x3, _x4, _x5) { var _again = true; _function: while (_again) { var object = _x3, property = _x4, receiver = _x5; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x3 = parent; _x4 = property; _x5 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n    function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n    function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n    function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n    var _playlistLoader = require('./playlist-loader');\n\n    var _playlistLoader2 = _interopRequireDefault(_playlistLoader);\n\n    var _segmentLoader = require('./segment-loader');\n\n    var _segmentLoader2 = _interopRequireDefault(_segmentLoader);\n\n    var _ranges = require('./ranges');\n\n    var _ranges2 = _interopRequireDefault(_ranges);\n\n    var _videoJs = (typeof window !== \"undefined\" ? window['videojs'] : typeof global !== \"undefined\" ? global['videojs'] : null);\n\n    var _videoJs2 = _interopRequireDefault(_videoJs);\n\n    var _adCueTags = require('./ad-cue-tags');\n\n    var _adCueTags2 = _interopRequireDefault(_adCueTags);\n\n// 5 minute blacklist\n    var BLACKLIST_DURATION = 5 * 60 * 1000;\n    var Hls = undefined;\n\n    /**\n     * determine if an object a is differnt from\n     * and object b. both only having one dimensional\n     * properties\n     *\n     * @param {Object} a object one\n     * @param {Object} b object two\n     * @return {Boolean} if the object has changed or not\n     */\n    var objectChanged = function objectChanged(a, b) {\n      if (typeof a !== typeof b) {\n        return true;\n      }\n      // if we have a different number of elements\n      // something has changed\n      if (Object.keys(a).length !== Object.keys(b).length) {\n        return true;\n      }\n\n      for (var prop in a) {\n        if (a[prop] !== b[prop]) {\n          return true;\n        }\n      }\n      return false;\n    };\n\n    /**\n     * Parses a codec string to retrieve the number of codecs specified,\n     * the video codec and object type indicator, and the audio profile.\n     *\n     * @private\n     */\n    var parseCodecs = function parseCodecs(codecs) {\n      var result = {\n        codecCount: 0,\n        videoCodec: null,\n        videoObjectTypeIndicator: null,\n        audioProfile: null\n      };\n      var parsed = undefined;\n\n      result.codecCount = codecs.split(',').length;\n      result.codecCount = result.codecCount || 2;\n\n      // parse the video codec\n      parsed = /(^|\\s|,)+(avc1)([^ ,]*)/i.exec(codecs);\n      if (parsed) {\n        result.videoCodec = parsed[2];\n        result.videoObjectTypeIndicator = parsed[3];\n      }\n\n      // parse the last field of the audio codec\n      result.audioProfile = /(^|\\s|,)+mp4a.[0-9A-Fa-f]+\\.([0-9A-Fa-f]+)/i.exec(codecs);\n      result.audioProfile = result.audioProfile && result.audioProfile[2];\n\n      return result;\n    };\n\n    /**\n     * Calculates the MIME type strings for a working configuration of\n     * SourceBuffers to play variant streams in a master playlist. If\n     * there is no possible working configuration, an empty array will be\n     * returned.\n     *\n     * @param master {Object} the m3u8 object for the master playlist\n     * @param media {Object} the m3u8 object for the variant playlist\n     * @return {Array} the MIME type strings. If the array has more than\n     * one entry, the first element should be applied to the video\n     * SourceBuffer and the second to the audio SourceBuffer.\n     *\n     * @private\n     */\n    var mimeTypesForPlaylist_ = function mimeTypesForPlaylist_(master, media) {\n      var container = 'mp2t';\n      var codecs = {\n        videoCodec: 'avc1',\n        videoObjectTypeIndicator: '.4d400d',\n        audioProfile: '2'\n      };\n      var audioGroup = [];\n      var mediaAttributes = undefined;\n      var previousGroup = null;\n\n      if (!media) {\n        // not enough information, return an error\n        return [];\n      }\n      // An initialization segment means the media playlists is an iframe\n      // playlist or is using the mp4 container. We don't currently\n      // support iframe playlists, so assume this is signalling mp4\n      // fragments.\n      // the existence check for segments can be removed once\n      // https://github.com/videojs/m3u8-parser/issues/8 is closed\n      if (media.segments && media.segments.length && media.segments[0].map) {\n        container = 'mp4';\n      }\n\n      // if the codecs were explicitly specified, use them instead of the\n      // defaults\n      mediaAttributes = media.attributes || {};\n      if (mediaAttributes.CODECS) {\n        (function () {\n          var parsedCodecs = parseCodecs(mediaAttributes.CODECS);\n\n          Object.keys(parsedCodecs).forEach(function (key) {\n            codecs[key] = parsedCodecs[key] || codecs[key];\n          });\n        })();\n      }\n\n      if (master.mediaGroups.AUDIO) {\n        audioGroup = master.mediaGroups.AUDIO[mediaAttributes.AUDIO];\n      }\n\n      // if audio could be muxed or unmuxed, use mime types appropriate\n      // for both scenarios\n      for (var groupId in audioGroup) {\n        if (previousGroup && !!audioGroup[groupId].uri !== !!previousGroup.uri) {\n          // one source buffer with muxed video and audio and another for\n          // the alternate audio\n          return ['video/' + container + '; codecs=\"' + codecs.videoCodec + codecs.videoObjectTypeIndicator + ', mp4a.40.' + codecs.audioProfile + '\"', 'audio/' + container + '; codecs=\"mp4a.40.' + codecs.audioProfile + '\"'];\n        }\n        previousGroup = audioGroup[groupId];\n      }\n      // if all video and audio is unmuxed, use two single-codec mime\n      // types\n      if (previousGroup && previousGroup.uri) {\n        return ['video/' + container + '; codecs=\"' + codecs.videoCodec + codecs.videoObjectTypeIndicator + '\"', 'audio/' + container + '; codecs=\"mp4a.40.' + codecs.audioProfile + '\"'];\n      }\n\n      // all video and audio are muxed, use a dual-codec mime type\n      return ['video/' + container + '; codecs=\"' + codecs.videoCodec + codecs.videoObjectTypeIndicator + ', mp4a.40.' + codecs.audioProfile + '\"'];\n    };\n\n    exports.mimeTypesForPlaylist_ = mimeTypesForPlaylist_;\n    /**\n     * the master playlist controller controller all interactons\n     * between playlists and segmentloaders. At this time this mainly\n     * involves a master playlist and a series of audio playlists\n     * if they are available\n     *\n     * @class MasterPlaylistController\n     * @extends videojs.EventTarget\n     */\n\n    var MasterPlaylistController = (function (_videojs$EventTarget) {\n      _inherits(MasterPlaylistController, _videojs$EventTarget);\n\n      function MasterPlaylistController(options) {\n        var _this = this;\n\n        _classCallCheck(this, MasterPlaylistController);\n\n        _get(Object.getPrototypeOf(MasterPlaylistController.prototype), 'constructor', this).call(this);\n\n        var url = options.url;\n        var withCredentials = options.withCredentials;\n        var mode = options.mode;\n        var tech = options.tech;\n        var bandwidth = options.bandwidth;\n        var externHls = options.externHls;\n        var useCueTags = options.useCueTags;\n\n        if (!url) {\n          throw new Error('A non-empty playlist URL is required');\n        }\n\n        Hls = externHls;\n\n        this.withCredentials = withCredentials;\n        this.tech_ = tech;\n        this.hls_ = tech.hls;\n        this.mode_ = mode;\n        this.useCueTags_ = useCueTags;\n        if (this.useCueTags_) {\n          this.cueTagsTrack_ = this.tech_.addTextTrack('metadata', 'ad-cues');\n          this.cueTagsTrack_.inBandMetadataTrackDispatchType = '';\n          this.tech_.textTracks().addTrack_(this.cueTagsTrack_);\n        }\n\n        this.audioTracks_ = [];\n        this.requestOptions_ = {\n          withCredentials: this.withCredentials,\n          timeout: null\n        };\n\n        this.audioGroups_ = {};\n\n        this.mediaSource = new _videoJs2['default'].MediaSource({ mode: mode });\n        this.audioinfo_ = null;\n        this.mediaSource.on('audioinfo', this.handleAudioinfoUpdate_.bind(this));\n\n        // load the media source into the player\n        this.mediaSource.addEventListener('sourceopen', this.handleSourceOpen_.bind(this));\n\n        var segmentLoaderOptions = {\n          hls: this.hls_,\n          mediaSource: this.mediaSource,\n          currentTime: this.tech_.currentTime.bind(this.tech_),\n          seekable: function seekable() {\n            return _this.seekable();\n          },\n          seeking: function seeking() {\n            return _this.tech_.seeking();\n          },\n          setCurrentTime: function setCurrentTime(a) {\n            return _this.tech_.setCurrentTime(a);\n          },\n          hasPlayed: function hasPlayed() {\n            return _this.tech_.played().length !== 0;\n          },\n          bandwidth: bandwidth\n        };\n\n        // setup playlist loaders\n        this.masterPlaylistLoader_ = new _playlistLoader2['default'](url, this.hls_, this.withCredentials);\n        this.setupMasterPlaylistLoaderListeners_();\n        this.audioPlaylistLoader_ = null;\n\n        // setup segment loaders\n        // combined audio/video or just video when alternate audio track is selected\n        this.mainSegmentLoader_ = new _segmentLoader2['default'](segmentLoaderOptions);\n        // alternate audio track\n        this.audioSegmentLoader_ = new _segmentLoader2['default'](segmentLoaderOptions);\n        this.setupSegmentLoaderListeners_();\n\n        this.masterPlaylistLoader_.start();\n      }\n\n      /**\n       * Register event handlers on the master playlist loader. A helper\n       * function for construction time.\n       *\n       * @private\n       */\n\n      _createClass(MasterPlaylistController, [{\n        key: 'setupMasterPlaylistLoaderListeners_',\n        value: function setupMasterPlaylistLoaderListeners_() {\n          var _this2 = this;\n\n          this.masterPlaylistLoader_.on('loadedmetadata', function () {\n            var media = _this2.masterPlaylistLoader_.media();\n            var requestTimeout = _this2.masterPlaylistLoader_.targetDuration * 1.5 * 1000;\n\n            _this2.requestOptions_.timeout = requestTimeout;\n\n            // if this isn't a live video and preload permits, start\n            // downloading segments\n            if (media.endList && _this2.tech_.preload() !== 'none') {\n              _this2.mainSegmentLoader_.playlist(media, _this2.requestOptions_);\n              _this2.mainSegmentLoader_.expired(_this2.masterPlaylistLoader_.expired_);\n              _this2.mainSegmentLoader_.load();\n            }\n\n            try {\n              _this2.setupSourceBuffers_();\n            } catch (e) {\n              _videoJs2['default'].log.warn('Failed to create SourceBuffers', e);\n              return _this2.mediaSource.endOfStream('decode');\n            }\n            _this2.setupFirstPlay();\n\n            _this2.fillAudioTracks_();\n            _this2.setupAudio();\n            _this2.trigger('audioupdate');\n\n            _this2.trigger('selectedinitialmedia');\n          });\n\n          this.masterPlaylistLoader_.on('loadedplaylist', function () {\n            var updatedPlaylist = _this2.masterPlaylistLoader_.media();\n            var seekable = undefined;\n\n            if (!updatedPlaylist) {\n              // select the initial variant\n              _this2.initialMedia_ = _this2.selectPlaylist();\n              _this2.masterPlaylistLoader_.media(_this2.initialMedia_);\n              return;\n            }\n\n            if (_this2.useCueTags_) {\n              _this2.updateAdCues_(updatedPlaylist, _this2.masterPlaylistLoader_.expired_);\n            }\n\n            // TODO: Create a new event on the PlaylistLoader that signals\n            // that the segments have changed in some way and use that to\n            // update the SegmentLoader instead of doing it twice here and\n            // on `mediachange`\n            _this2.mainSegmentLoader_.playlist(updatedPlaylist, _this2.requestOptions_);\n            _this2.mainSegmentLoader_.expired(_this2.masterPlaylistLoader_.expired_);\n            _this2.updateDuration();\n\n            // update seekable\n            seekable = _this2.seekable();\n            if (!updatedPlaylist.endList && seekable.length !== 0) {\n              _this2.mediaSource.addSeekableRange_(seekable.start(0), seekable.end(0));\n            }\n          });\n\n          this.masterPlaylistLoader_.on('error', function () {\n            _this2.blacklistCurrentPlaylist(_this2.masterPlaylistLoader_.error);\n          });\n\n          this.masterPlaylistLoader_.on('mediachanging', function () {\n            _this2.mainSegmentLoader_.abort();\n            _this2.mainSegmentLoader_.pause();\n          });\n\n          this.masterPlaylistLoader_.on('mediachange', function () {\n            var media = _this2.masterPlaylistLoader_.media();\n            var requestTimeout = _this2.masterPlaylistLoader_.targetDuration * 1.5 * 1000;\n            var activeAudioGroup = undefined;\n            var activeTrack = undefined;\n\n            // If we don't have any more available playlists, we don't want to\n            // timeout the request.\n            if (_this2.masterPlaylistLoader_.isLowestEnabledRendition_()) {\n              _this2.requestOptions_.timeout = 0;\n            } else {\n              _this2.requestOptions_.timeout = requestTimeout;\n            }\n\n            // TODO: Create a new event on the PlaylistLoader that signals\n            // that the segments have changed in some way and use that to\n            // update the SegmentLoader instead of doing it twice here and\n            // on `loadedplaylist`\n            _this2.mainSegmentLoader_.playlist(media, _this2.requestOptions_);\n            _this2.mainSegmentLoader_.expired(_this2.masterPlaylistLoader_.expired_);\n            _this2.mainSegmentLoader_.load();\n\n            // if the audio group has changed, a new audio track has to be\n            // enabled\n            activeAudioGroup = _this2.activeAudioGroup();\n            activeTrack = activeAudioGroup.filter(function (track) {\n              return track.enabled;\n            })[0];\n            if (!activeTrack) {\n              _this2.setupAudio();\n              _this2.trigger('audioupdate');\n            }\n\n            _this2.tech_.trigger({\n              type: 'mediachange',\n              bubbles: true\n            });\n          });\n        }\n\n        /**\n         * Register event handlers on the segment loaders. A helper function\n         * for construction time.\n         *\n         * @private\n         */\n      }, {\n        key: 'setupSegmentLoaderListeners_',\n        value: function setupSegmentLoaderListeners_() {\n          var _this3 = this;\n\n          this.mainSegmentLoader_.on('progress', function () {\n            // figure out what stream the next segment should be downloaded from\n            // with the updated bandwidth information\n            _this3.masterPlaylistLoader_.media(_this3.selectPlaylist());\n\n            _this3.trigger('progress');\n          });\n\n          this.mainSegmentLoader_.on('error', function () {\n            _this3.blacklistCurrentPlaylist(_this3.mainSegmentLoader_.error());\n          });\n\n          this.audioSegmentLoader_.on('error', function () {\n            _videoJs2['default'].log.warn('Problem encountered with the current alternate audio track' + '. Switching back to default.');\n            _this3.audioSegmentLoader_.abort();\n            _this3.audioPlaylistLoader_ = null;\n            _this3.setupAudio();\n          });\n        }\n      }, {\n        key: 'handleAudioinfoUpdate_',\n        value: function handleAudioinfoUpdate_(event) {\n          if (Hls.supportsAudioInfoChange_() || !this.audioInfo_ || !objectChanged(this.audioInfo_, event.info)) {\n            this.audioInfo_ = event.info;\n            return;\n          }\n\n          var error = 'had different audio properties (channels, sample rate, etc.) ' + 'or changed in some other way.  This behavior is currently ' + 'unsupported in Firefox 48 and below due to an issue: \\n\\n' + 'https://bugzilla.mozilla.org/show_bug.cgi?id=1247138\\n\\n';\n\n          var enabledIndex = this.activeAudioGroup().map(function (track) {\n            return track.enabled;\n          }).indexOf(true);\n          var enabledTrack = this.activeAudioGroup()[enabledIndex];\n          var defaultTrack = this.activeAudioGroup().filter(function (track) {\n            return track.properties_ && track.properties_['default'];\n          })[0];\n\n          // they did not switch audiotracks\n          // blacklist the current playlist\n          if (!this.audioPlaylistLoader_) {\n            error = 'The rendition that we tried to switch to ' + error + 'Unfortunately that means we will have to blacklist ' + 'the current playlist and switch to another. Sorry!';\n            this.blacklistCurrentPlaylist();\n          } else {\n            error = 'The audio track \\'' + enabledTrack.label + '\\' that we tried to ' + ('switch to ' + error + ' Unfortunately this means we will have to ') + ('return you to the main track \\'' + defaultTrack.label + '\\'. Sorry!');\n            defaultTrack.enabled = true;\n            this.activeAudioGroup().splice(enabledIndex, 1);\n            this.trigger('audioupdate');\n          }\n\n          _videoJs2['default'].log.warn(error);\n          this.setupAudio();\n        }\n\n        /**\n         * get the total number of media requests from the `audiosegmentloader_`\n         * and the `mainSegmentLoader_`\n         *\n         * @private\n         */\n      }, {\n        key: 'mediaRequests_',\n        value: function mediaRequests_() {\n          return this.audioSegmentLoader_.mediaRequests + this.mainSegmentLoader_.mediaRequests;\n        }\n\n        /**\n         * get the total time that media requests have spent trnasfering\n         * from the `audiosegmentloader_` and the `mainSegmentLoader_`\n         *\n         * @private\n         */\n      }, {\n        key: 'mediaTransferDuration_',\n        value: function mediaTransferDuration_() {\n          return this.audioSegmentLoader_.mediaTransferDuration + this.mainSegmentLoader_.mediaTransferDuration;\n        }\n\n        /**\n         * get the total number of bytes transfered during media requests\n         * from the `audiosegmentloader_` and the `mainSegmentLoader_`\n         *\n         * @private\n         */\n      }, {\n        key: 'mediaBytesTransferred_',\n        value: function mediaBytesTransferred_() {\n          return this.audioSegmentLoader_.mediaBytesTransferred + this.mainSegmentLoader_.mediaBytesTransferred;\n        }\n\n        /**\n         * fill our internal list of HlsAudioTracks with data from\n         * the master playlist or use a default\n         *\n         * @private\n         */\n      }, {\n        key: 'fillAudioTracks_',\n        value: function fillAudioTracks_() {\n          var master = this.master();\n          var mediaGroups = master.mediaGroups || {};\n\n          // force a default if we have none or we are not\n          // in html5 mode (the only mode to support more than one\n          // audio track)\n          if (!mediaGroups || !mediaGroups.AUDIO || Object.keys(mediaGroups.AUDIO).length === 0 || this.mode_ !== 'html5') {\n            // \"main\" audio group, track name \"default\"\n            mediaGroups.AUDIO = { main: { 'default': { 'default': true } } };\n          }\n\n          for (var mediaGroup in mediaGroups.AUDIO) {\n            if (!this.audioGroups_[mediaGroup]) {\n              this.audioGroups_[mediaGroup] = [];\n            }\n\n            for (var label in mediaGroups.AUDIO[mediaGroup]) {\n              var properties = mediaGroups.AUDIO[mediaGroup][label];\n              var track = new _videoJs2['default'].AudioTrack({\n                id: label,\n                kind: properties['default'] ? 'main' : 'alternative',\n                enabled: false,\n                language: properties.language,\n                label: label\n              });\n\n              track.properties_ = properties;\n              this.audioGroups_[mediaGroup].push(track);\n            }\n          }\n\n          // enable the default active track\n          (this.activeAudioGroup().filter(function (audioTrack) {\n            return audioTrack.properties_['default'];\n          })[0] || this.activeAudioGroup()[0]).enabled = true;\n        }\n\n        /**\n         * Call load on our SegmentLoaders\n         */\n      }, {\n        key: 'load',\n        value: function load() {\n          this.mainSegmentLoader_.load();\n          if (this.audioPlaylistLoader_) {\n            this.audioSegmentLoader_.load();\n          }\n        }\n\n        /**\n         * Returns the audio group for the currently active primary\n         * media playlist.\n         */\n      }, {\n        key: 'activeAudioGroup',\n        value: function activeAudioGroup() {\n          var videoPlaylist = this.masterPlaylistLoader_.media();\n          var result = undefined;\n\n          if (videoPlaylist.attributes && videoPlaylist.attributes.AUDIO) {\n            result = this.audioGroups_[videoPlaylist.attributes.AUDIO];\n          }\n\n          return result || this.audioGroups_.main;\n        }\n\n        /**\n         * Determine the correct audio rendition based on the active\n         * AudioTrack and initialize a PlaylistLoader and SegmentLoader if\n         * necessary. This method is called once automatically before\n         * playback begins to enable the default audio track and should be\n         * invoked again if the track is changed.\n         */\n      }, {\n        key: 'setupAudio',\n        value: function setupAudio() {\n          var _this4 = this;\n\n          // determine whether seperate loaders are required for the audio\n          // rendition\n          var audioGroup = this.activeAudioGroup();\n          var track = audioGroup.filter(function (audioTrack) {\n            return audioTrack.enabled;\n          })[0];\n\n          if (!track) {\n            track = audioGroup.filter(function (audioTrack) {\n              return audioTrack.properties_['default'];\n            })[0] || audioGroup[0];\n            track.enabled = true;\n          }\n\n          // stop playlist and segment loading for audio\n          if (this.audioPlaylistLoader_) {\n            this.audioPlaylistLoader_.dispose();\n            this.audioPlaylistLoader_ = null;\n          }\n          this.audioSegmentLoader_.pause();\n          this.audioSegmentLoader_.clearBuffer();\n\n          if (!track.properties_.resolvedUri) {\n            return;\n          }\n\n          // startup playlist and segment loaders for the enabled audio\n          // track\n          this.audioPlaylistLoader_ = new _playlistLoader2['default'](track.properties_.resolvedUri, this.hls_, this.withCredentials);\n          this.audioPlaylistLoader_.start();\n\n          this.audioPlaylistLoader_.on('loadedmetadata', function () {\n            var audioPlaylist = _this4.audioPlaylistLoader_.media();\n\n            _this4.audioSegmentLoader_.playlist(audioPlaylist, _this4.requestOptions_);\n\n            // if the video is already playing, or if this isn't a live video and preload\n            // permits, start downloading segments\n            if (!_this4.tech_.paused() || audioPlaylist.endList && _this4.tech_.preload() !== 'none') {\n              _this4.audioSegmentLoader_.load();\n            }\n\n            if (!audioPlaylist.endList) {\n              // trigger the playlist loader to start \"expired time\"-tracking\n              _this4.audioPlaylistLoader_.trigger('firstplay');\n            }\n          });\n\n          this.audioPlaylistLoader_.on('loadedplaylist', function () {\n            var updatedPlaylist = undefined;\n\n            if (_this4.audioPlaylistLoader_) {\n              updatedPlaylist = _this4.audioPlaylistLoader_.media();\n            }\n\n            if (!updatedPlaylist) {\n              // only one playlist to select\n              _this4.audioPlaylistLoader_.media(_this4.audioPlaylistLoader_.playlists.master.playlists[0]);\n              return;\n            }\n\n            _this4.audioSegmentLoader_.playlist(updatedPlaylist, _this4.requestOptions_);\n          });\n\n          this.audioPlaylistLoader_.on('error', function () {\n            _videoJs2['default'].log.warn('Problem encountered loading the alternate audio track' + '. Switching back to default.');\n            _this4.audioSegmentLoader_.abort();\n            _this4.setupAudio();\n          });\n        }\n\n        /**\n         * Re-tune playback quality level for the current player\n         * conditions. This method may perform destructive actions, like\n         * removing already buffered content, to readjust the currently\n         * active playlist quickly.\n         *\n         * @private\n         */\n      }, {\n        key: 'fastQualityChange_',\n        value: function fastQualityChange_() {\n          var media = this.selectPlaylist();\n\n          if (media !== this.masterPlaylistLoader_.media()) {\n            this.masterPlaylistLoader_.media(media);\n            this.mainSegmentLoader_.sourceUpdater_.remove(this.tech_.currentTime() + 5, Infinity);\n          }\n        }\n\n        /**\n         * Begin playback.\n         */\n      }, {\n        key: 'play',\n        value: function play() {\n          if (this.setupFirstPlay()) {\n            return;\n          }\n\n          if (this.tech_.ended()) {\n            this.tech_.setCurrentTime(0);\n          }\n\n          this.load();\n\n          // if the viewer has paused and we fell out of the live window,\n          // seek forward to the earliest available position\n          if (this.tech_.duration() === Infinity) {\n            if (this.tech_.currentTime() < this.tech_.seekable().start(0)) {\n              return this.tech_.setCurrentTime(this.tech_.seekable().start(0));\n            }\n          }\n        }\n\n        /**\n         * Seek to the latest media position if this is a live video and the\n         * player and video are loaded and initialized.\n         */\n      }, {\n        key: 'setupFirstPlay',\n        value: function setupFirstPlay() {\n          var seekable = undefined;\n          var media = this.masterPlaylistLoader_.media();\n\n          // check that everything is ready to begin buffering\n          // 1) the active media playlist is available\n          if (media &&\n              // 2) the video is a live stream\n            !media.endList &&\n\n              // 3) the player is not paused\n            !this.tech_.paused() &&\n\n              // 4) the player has not started playing\n            !this.hasPlayed_) {\n\n            // trigger the playlist loader to start \"expired time\"-tracking\n            this.masterPlaylistLoader_.trigger('firstplay');\n            this.hasPlayed_ = true;\n\n            // seek to the latest media position for live videos\n            seekable = this.seekable();\n            if (seekable.length) {\n              this.tech_.setCurrentTime(seekable.end(0));\n            }\n\n            // now that we seeked to the current time, load the segment\n            this.load();\n\n            return true;\n          }\n          return false;\n        }\n\n        /**\n         * handle the sourceopen event on the MediaSource\n         *\n         * @private\n         */\n      }, {\n        key: 'handleSourceOpen_',\n        value: function handleSourceOpen_() {\n          // Only attempt to create the source buffer if none already exist.\n          // handleSourceOpen is also called when we are \"re-opening\" a source buffer\n          // after `endOfStream` has been called (in response to a seek for instance)\n          try {\n            this.setupSourceBuffers_();\n          } catch (e) {\n            _videoJs2['default'].log.warn('Failed to create Source Buffers', e);\n            return this.mediaSource.endOfStream('decode');\n          }\n\n          // if autoplay is enabled, begin playback. This is duplicative of\n          // code in video.js but is required because play() must be invoked\n          // *after* the media source has opened.\n          if (this.tech_.autoplay()) {\n            this.tech_.play();\n          }\n\n          this.trigger('sourceopen');\n        }\n\n        /**\n         * Blacklists a playlist when an error occurs for a set amount of time\n         * making it unavailable for selection by the rendition selection algorithm\n         * and then forces a new playlist (rendition) selection.\n         *\n         * @param {Object=} error an optional error that may include the playlist\n         * to blacklist\n         */\n      }, {\n        key: 'blacklistCurrentPlaylist',\n        value: function blacklistCurrentPlaylist() {\n          var error = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n          var currentPlaylist = undefined;\n          var nextPlaylist = undefined;\n\n          // If the `error` was generated by the playlist loader, it will contain\n          // the playlist we were trying to load (but failed) and that should be\n          // blacklisted instead of the currently selected playlist which is likely\n          // out-of-date in this scenario\n          currentPlaylist = error.playlist || this.masterPlaylistLoader_.media();\n\n          // If there is no current playlist, then an error occurred while we were\n          // trying to load the master OR while we were disposing of the tech\n          if (!currentPlaylist) {\n            this.error = error;\n            return this.mediaSource.endOfStream('network');\n          }\n\n          // Blacklist this playlist\n          currentPlaylist.excludeUntil = Date.now() + BLACKLIST_DURATION;\n\n          // Select a new playlist\n          nextPlaylist = this.selectPlaylist();\n\n          if (nextPlaylist) {\n            _videoJs2['default'].log.warn('Problem encountered with the current ' + 'HLS playlist. Switching to another playlist.');\n\n            return this.masterPlaylistLoader_.media(nextPlaylist);\n          }\n          _videoJs2['default'].log.warn('Problem encountered with the current ' + 'HLS playlist. No suitable alternatives found.');\n          // We have no more playlists we can select so we must fail\n          this.error = error;\n          return this.mediaSource.endOfStream('network');\n        }\n\n        /**\n         * Pause all segment loaders\n         */\n      }, {\n        key: 'pauseLoading',\n        value: function pauseLoading() {\n          this.mainSegmentLoader_.pause();\n          if (this.audioPlaylistLoader_) {\n            this.audioSegmentLoader_.pause();\n          }\n        }\n\n        /**\n         * set the current time on all segment loaders\n         *\n         * @param {TimeRange} currentTime the current time to set\n         * @return {TimeRange} the current time\n         */\n      }, {\n        key: 'setCurrentTime',\n        value: function setCurrentTime(currentTime) {\n          var buffered = _ranges2['default'].findRange(this.tech_.buffered(), currentTime);\n\n          if (!(this.masterPlaylistLoader_ && this.masterPlaylistLoader_.media())) {\n            // return immediately if the metadata is not ready yet\n            return 0;\n          }\n\n          // it's clearly an edge-case but don't thrown an error if asked to\n          // seek within an empty playlist\n          if (!this.masterPlaylistLoader_.media().segments) {\n            return 0;\n          }\n\n          // if the seek location is already buffered, continue buffering as\n          // usual\n          if (buffered && buffered.length) {\n            return currentTime;\n          }\n\n          // cancel outstanding requests so we begin buffering at the new\n          // location\n          this.mainSegmentLoader_.abort();\n          if (this.audioPlaylistLoader_) {\n            this.audioSegmentLoader_.abort();\n          }\n\n          if (!this.tech_.paused()) {\n            this.mainSegmentLoader_.load();\n            if (this.audioPlaylistLoader_) {\n              this.audioSegmentLoader_.load();\n            }\n          }\n        }\n\n        /**\n         * get the current duration\n         *\n         * @return {TimeRange} the duration\n         */\n      }, {\n        key: 'duration',\n        value: function duration() {\n          if (!this.masterPlaylistLoader_) {\n            return 0;\n          }\n\n          if (this.mediaSource) {\n            return this.mediaSource.duration;\n          }\n\n          return Hls.Playlist.duration(this.masterPlaylistLoader_.media());\n        }\n\n        /**\n         * check the seekable range\n         *\n         * @return {TimeRange} the seekable range\n         */\n      }, {\n        key: 'seekable',\n        value: function seekable() {\n          var media = undefined;\n          var mainSeekable = undefined;\n          var audioSeekable = undefined;\n\n          if (!this.masterPlaylistLoader_) {\n            return _videoJs2['default'].createTimeRanges();\n          }\n          media = this.masterPlaylistLoader_.media();\n          if (!media) {\n            return _videoJs2['default'].createTimeRanges();\n          }\n\n          mainSeekable = Hls.Playlist.seekable(media, this.masterPlaylistLoader_.expired_);\n          if (mainSeekable.length === 0) {\n            return mainSeekable;\n          }\n\n          if (this.audioPlaylistLoader_) {\n            audioSeekable = Hls.Playlist.seekable(this.audioPlaylistLoader_.media(), this.audioPlaylistLoader_.expired_);\n            if (audioSeekable.length === 0) {\n              return audioSeekable;\n            }\n          }\n\n          if (!audioSeekable) {\n            // seekable has been calculated based on buffering video data so it\n            // can be returned directly\n            return mainSeekable;\n          }\n\n          return _videoJs2['default'].createTimeRanges([[audioSeekable.start(0) > mainSeekable.start(0) ? audioSeekable.start(0) : mainSeekable.start(0), audioSeekable.end(0) < mainSeekable.end(0) ? audioSeekable.end(0) : mainSeekable.end(0)]]);\n        }\n\n        /**\n         * Update the player duration\n         */\n      }, {\n        key: 'updateDuration',\n        value: function updateDuration() {\n          var _this5 = this;\n\n          var oldDuration = this.mediaSource.duration;\n          var newDuration = Hls.Playlist.duration(this.masterPlaylistLoader_.media());\n          var buffered = this.tech_.buffered();\n          var setDuration = function setDuration() {\n            _this5.mediaSource.duration = newDuration;\n            _this5.tech_.trigger('durationchange');\n\n            _this5.mediaSource.removeEventListener('sourceopen', setDuration);\n          };\n\n          if (buffered.length > 0) {\n            newDuration = Math.max(newDuration, buffered.end(buffered.length - 1));\n          }\n\n          // if the duration has changed, invalidate the cached value\n          if (oldDuration !== newDuration) {\n            // update the duration\n            if (this.mediaSource.readyState !== 'open') {\n              this.mediaSource.addEventListener('sourceopen', setDuration);\n            } else {\n              setDuration();\n            }\n          }\n        }\n\n        /**\n         * dispose of the MasterPlaylistController and everything\n         * that it controls\n         */\n      }, {\n        key: 'dispose',\n        value: function dispose() {\n          this.masterPlaylistLoader_.dispose();\n          this.mainSegmentLoader_.dispose();\n\n          this.audioSegmentLoader_.dispose();\n        }\n\n        /**\n         * return the master playlist object if we have one\n         *\n         * @return {Object} the master playlist object that we parsed\n         */\n      }, {\n        key: 'master',\n        value: function master() {\n          return this.masterPlaylistLoader_.master;\n        }\n\n        /**\n         * return the currently selected playlist\n         *\n         * @return {Object} the currently selected playlist object that we parsed\n         */\n      }, {\n        key: 'media',\n        value: function media() {\n          // playlist loader will not return media if it has not been fully loaded\n          return this.masterPlaylistLoader_.media() || this.initialMedia_;\n        }\n\n        /**\n         * setup our internal source buffers on our segment Loaders\n         *\n         * @private\n         */\n      }, {\n        key: 'setupSourceBuffers_',\n        value: function setupSourceBuffers_() {\n          var media = this.masterPlaylistLoader_.media();\n          var mimeTypes = undefined;\n\n          // wait until a media playlist is available and the Media Source is\n          // attached\n          if (!media || this.mediaSource.readyState !== 'open') {\n            return;\n          }\n\n          mimeTypes = mimeTypesForPlaylist_(this.masterPlaylistLoader_.master, media);\n          if (mimeTypes.length < 1) {\n            this.error = 'No compatible SourceBuffer configuration for the variant stream:' + media.resolvedUri;\n            return this.mediaSource.endOfStream('decode');\n          }\n          this.mainSegmentLoader_.mimeType(mimeTypes[0]);\n          if (mimeTypes[1]) {\n            this.audioSegmentLoader_.mimeType(mimeTypes[1]);\n          }\n\n          // exclude any incompatible variant streams from future playlist\n          // selection\n          this.excludeIncompatibleVariants_(media);\n        }\n\n        /**\n         * Blacklist playlists that are known to be codec or\n         * stream-incompatible with the SourceBuffer configuration. For\n         * instance, Media Source Extensions would cause the video element to\n         * stall waiting for video data if you switched from a variant with\n         * video and audio to an audio-only one.\n         *\n         * @param {Object} media a media playlist compatible with the current\n         * set of SourceBuffers. Variants in the current master playlist that\n         * do not appear to have compatible codec or stream configurations\n         * will be excluded from the default playlist selection algorithm\n         * indefinitely.\n         * @private\n         */\n      }, {\n        key: 'excludeIncompatibleVariants_',\n        value: function excludeIncompatibleVariants_(media) {\n          var master = this.masterPlaylistLoader_.master;\n          var codecCount = 2;\n          var videoCodec = null;\n          var audioProfile = null;\n          var codecs = undefined;\n\n          if (media.attributes && media.attributes.CODECS) {\n            codecs = parseCodecs(media.attributes.CODECS);\n            videoCodec = codecs.videoCodec;\n            audioProfile = codecs.audioProfile;\n            codecCount = codecs.codecCount;\n          }\n          master.playlists.forEach(function (variant) {\n            var variantCodecs = {\n              codecCount: 2,\n              videoCodec: null,\n              audioProfile: null\n            };\n\n            if (variant.attributes && variant.attributes.CODECS) {\n              var codecString = variant.attributes.CODECS;\n\n              variantCodecs = parseCodecs(codecString);\n              if (window.MediaSource && window.MediaSource.isTypeSupported && !window.MediaSource.isTypeSupported('video/mp4; codecs=\"' + codecString + '\"')) {\n                variant.excludeUntil = Infinity;\n              }\n            }\n\n            // if the streams differ in the presence or absence of audio or\n            // video, they are incompatible\n            if (variantCodecs.codecCount !== codecCount) {\n              variant.excludeUntil = Infinity;\n            }\n\n            // if h.264 is specified on the current playlist, some flavor of\n            // it must be specified on all compatible variants\n            if (variantCodecs.videoCodec !== videoCodec) {\n              variant.excludeUntil = Infinity;\n            }\n            // HE-AAC (\"mp4a.40.5\") is incompatible with all other versions of\n            // AAC audio in Chrome 46. Don't mix the two.\n            if (variantCodecs.audioProfile === '5' && audioProfile !== '5' || audioProfile === '5' && variantCodecs.audioProfile !== '5') {\n              variant.excludeUntil = Infinity;\n            }\n          });\n        }\n      }, {\n        key: 'updateAdCues_',\n        value: function updateAdCues_(media) {\n          var offset = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n\n          _adCueTags2['default'].updateAdCues(media, this.cueTagsTrack_, offset);\n        }\n      }]);\n\n      return MasterPlaylistController;\n    })(_videoJs2['default'].EventTarget);\n\n    exports.MasterPlaylistController = MasterPlaylistController;\n  }).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./ad-cue-tags\":1,\"./playlist-loader\":6,\"./ranges\":8,\"./segment-loader\":12}],5:[function(require,module,exports){\n  (function (global){\n    /**\n     * @file playback-watcher.js\n     */\n    'use strict';\n\n    Object.defineProperty(exports, '__esModule', {\n      value: true\n    });\n\n    var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n    function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n    function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n    var _ranges = require('./ranges');\n\n    var _ranges2 = _interopRequireDefault(_ranges);\n\n    var _videoJs = (typeof window !== \"undefined\" ? window['videojs'] : typeof global !== \"undefined\" ? global['videojs'] : null);\n\n    var _videoJs2 = _interopRequireDefault(_videoJs);\n\n// Set of events that reset the playback-watcher time check logic and clear the timeout\n    var timerCancelEvents = ['seeking', 'seeked', 'pause', 'playing', 'error'];\n\n    /**\n     * @class PlaybackWatcher\n     */\n\n    var PlaybackWatcher = (function () {\n      /**\n       * Represents an PlaybackWatcher object.\n       * @constructor\n       * @param {object} options an object that includes the tech and settings\n       */\n\n      function PlaybackWatcher(options) {\n        var _this = this;\n\n        _classCallCheck(this, PlaybackWatcher);\n\n        this.tech_ = options.tech;\n        this.seekable = options.seekable;\n\n        this.consecutiveUpdates = 0;\n        this.lastRecordedTime = null;\n        this.timer_ = null;\n        this.checkCurrentTimeTimeout_ = null;\n\n        if (options.debug) {\n          this.logger_ = _videoJs2['default'].log.bind(_videoJs2['default'], 'playback-watcher ->');\n        }\n        this.logger_('initialize');\n\n        var waitingHandler = function waitingHandler() {\n          return _this.waiting_();\n        };\n        var cancelTimerHandler = function cancelTimerHandler() {\n          return _this.cancelTimer_();\n        };\n\n        this.tech_.on('waiting', waitingHandler);\n        this.tech_.on(timerCancelEvents, cancelTimerHandler);\n        this.monitorCurrentTime_();\n\n        // Define the dispose function to clean up our events\n        this.dispose = function () {\n          _this.logger_('dispose');\n          _this.tech_.off('waiting', waitingHandler);\n          _this.tech_.off(timerCancelEvents, cancelTimerHandler);\n          if (_this.checkCurrentTimeTimeout_) {\n            clearTimeout(_this.checkCurrentTimeTimeout_);\n          }\n          _this.cancelTimer_();\n        };\n      }\n\n      /**\n       * Periodically check current time to see if playback stopped\n       *\n       * @private\n       */\n\n      _createClass(PlaybackWatcher, [{\n        key: 'monitorCurrentTime_',\n        value: function monitorCurrentTime_() {\n          this.checkCurrentTime_();\n\n          if (this.checkCurrentTimeTimeout_) {\n            clearTimeout(this.checkCurrentTimeTimeout_);\n          }\n\n          // 42 = 24 fps // 250 is what Webkit uses // FF uses 15\n          this.checkCurrentTimeTimeout_ = setTimeout(this.monitorCurrentTime_.bind(this), 250);\n        }\n\n        /**\n         * The purpose of this function is to emulate the \"waiting\" event on\n         * browsers that do not emit it when they are waiting for more\n         * data to continue playback\n         *\n         * @private\n         */\n      }, {\n        key: 'checkCurrentTime_',\n        value: function checkCurrentTime_() {\n          if (this.tech_.paused() || this.tech_.seeking()) {\n            return;\n          }\n\n          var currentTime = this.tech_.currentTime();\n\n          if (this.consecutiveUpdates >= 5 && currentTime === this.lastRecordedTime) {\n            this.consecutiveUpdates++;\n            this.waiting_();\n          } else if (currentTime === this.lastRecordedTime) {\n            this.consecutiveUpdates++;\n          } else {\n            this.consecutiveUpdates = 0;\n            this.lastRecordedTime = currentTime;\n          }\n        }\n\n        /**\n         * Cancels any pending timers and resets the 'timeupdate' mechanism\n         * designed to detect that we are stalled\n         *\n         * @private\n         */\n      }, {\n        key: 'cancelTimer_',\n        value: function cancelTimer_() {\n          this.consecutiveUpdates = 0;\n\n          if (this.timer_) {\n            this.logger_('cancelTimer_');\n            clearTimeout(this.timer_);\n          }\n\n          this.timer_ = null;\n        }\n\n        /**\n         * Handler for situations when we determine the player is waiting\n         *\n         * @private\n         */\n      }, {\n        key: 'waiting_',\n        value: function waiting_() {\n          var seekable = this.seekable();\n          var currentTime = this.tech_.currentTime();\n\n          if (this.tech_.seeking() || this.timer_ !== null) {\n            return;\n          }\n\n          if (this.fellOutOfLiveWindow_(seekable, currentTime)) {\n            var livePoint = seekable.end(seekable.length - 1);\n\n            this.logger_('Fell out of live window at time ' + currentTime + '. Seeking to ' + ('live point (seekable end) ' + livePoint));\n            this.cancelTimer_();\n            this.tech_.setCurrentTime(livePoint);\n\n            return;\n          }\n\n          var buffered = this.tech_.buffered();\n          var nextRange = _ranges2['default'].findNextRange(buffered, currentTime);\n\n          if (this.videoUnderflow_(nextRange, buffered, currentTime)) {\n            // Even though the video underflowed and was stuck in a gap, the audio overplayed\n            // the gap, leading currentTime into a buffered range. Seeking to currentTime\n            // allows the video to catch up to the audio position without losing any audio\n            // (only suffering ~3 seconds of frozen video and a pause in audio playback).\n            this.cancelTimer_();\n            this.tech_.setCurrentTime(currentTime);\n            return;\n          }\n\n          // check for gap\n          if (nextRange.length > 0) {\n            var difference = nextRange.start(0) - currentTime;\n\n            this.logger_('Stopped at ' + currentTime + ', setting timer for ' + difference + ', seeking ' + ('to ' + nextRange.start(0)));\n\n            this.timer_ = setTimeout(this.skipTheGap_.bind(this), difference * 1000, currentTime);\n          }\n        }\n      }, {\n        key: 'fellOutOfLiveWindow_',\n        value: function fellOutOfLiveWindow_(seekable, currentTime) {\n          if (seekable.length &&\n              // can't fall before 0 and 0 seekable start identifies VOD stream\n            seekable.start(0) > 0 && currentTime < seekable.start(0)) {\n            return true;\n          }\n\n          return false;\n        }\n      }, {\n        key: 'videoUnderflow_',\n        value: function videoUnderflow_(nextRange, buffered, currentTime) {\n          if (nextRange.length === 0) {\n            // Even if there is no available next range, there is still a possibility we are\n            // stuck in a gap due to video underflow.\n            var gap = this.gapFromVideoUnderflow_(buffered, currentTime);\n\n            if (gap) {\n              this.logger_('Encountered a gap in video from ' + gap.start + ' to ' + gap.end + '. ' + ('Seeking to current time ' + currentTime));\n\n              return true;\n            }\n          }\n\n          return false;\n        }\n\n        /**\n         * Timer callback. If playback still has not proceeded, then we seek\n         * to the start of the next buffered region.\n         *\n         * @private\n         */\n      }, {\n        key: 'skipTheGap_',\n        value: function skipTheGap_(scheduledCurrentTime) {\n          var buffered = this.tech_.buffered();\n          var currentTime = this.tech_.currentTime();\n          var nextRange = _ranges2['default'].findNextRange(buffered, currentTime);\n\n          this.cancelTimer_();\n\n          if (nextRange.length === 0 || currentTime !== scheduledCurrentTime) {\n            return;\n          }\n\n          this.logger_('skipTheGap_:', 'currentTime:', currentTime, 'scheduled currentTime:', scheduledCurrentTime, 'nextRange start:', nextRange.start(0));\n\n          // only seek if we still have not played\n          this.tech_.setCurrentTime(nextRange.start(0) + _ranges2['default'].TIME_FUDGE_FACTOR);\n        }\n      }, {\n        key: 'gapFromVideoUnderflow_',\n        value: function gapFromVideoUnderflow_(buffered, currentTime) {\n          // At least in Chrome, if there is a gap in the video buffer, the audio will continue\n          // playing for ~3 seconds after the video gap starts. This is done to account for\n          // video buffer underflow/underrun (note that this is not done when there is audio\n          // buffer underflow/underrun -- in that case the video will stop as soon as it\n          // encounters the gap, as audio stalls are more noticeable/jarring to a user than\n          // video stalls). The player's time will reflect the playthrough of audio, so the\n          // time will appear as if we are in a buffered region, even if we are stuck in a\n          // \"gap.\"\n          //\n          // Example:\n          // video buffer:   0 => 10.1, 10.2 => 20\n          // audio buffer:   0 => 20\n          // overall buffer: 0 => 10.1, 10.2 => 20\n          // current time: 13\n          //\n          // Chrome's video froze at 10 seconds, where the video buffer encountered the gap,\n          // however, the audio continued playing until it reached ~3 seconds past the gap\n          // (13 seconds), at which point it stops as well. Since current time is past the\n          // gap, findNextRange will return no ranges.\n          //\n          // To check for this issue, we see if there is a gap that starts somewhere within\n          // a 3 second range (3 seconds +/- 1 second) back from our current time.\n          var gaps = _ranges2['default'].findGaps(buffered);\n\n          for (var i = 0; i < gaps.length; i++) {\n            var start = gaps.start(i);\n            var end = gaps.end(i);\n\n            // gap is starts no more than 4 seconds back\n            if (currentTime - start < 4 && currentTime - start > 2) {\n              return {\n                start: start,\n                end: end\n              };\n            }\n          }\n\n          return null;\n        }\n\n        /**\n         * A debugging logger noop that is set to console.log only if debugging\n         * is enabled globally\n         *\n         * @private\n         */\n      }, {\n        key: 'logger_',\n        value: function logger_() {}\n      }]);\n\n      return PlaybackWatcher;\n    })();\n\n    exports['default'] = PlaybackWatcher;\n    module.exports = exports['default'];\n  }).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./ranges\":8}],6:[function(require,module,exports){\n  (function (global){\n    /**\n     * @file playlist-loader.js\n     *\n     * A state machine that manages the loading, caching, and updating of\n     * M3U8 playlists.\n     *\n     */\n    'use strict';\n\n    Object.defineProperty(exports, '__esModule', {\n      value: true\n    });\n\n    function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n    var _resolveUrl = require('./resolve-url');\n\n    var _resolveUrl2 = _interopRequireDefault(_resolveUrl);\n\n    var _videoJs = (typeof window !== \"undefined\" ? window['videojs'] : typeof global !== \"undefined\" ? global['videojs'] : null);\n\n    var _stream = require('./stream');\n\n    var _stream2 = _interopRequireDefault(_stream);\n\n    var _m3u8Parser = require('m3u8-parser');\n\n    var _m3u8Parser2 = _interopRequireDefault(_m3u8Parser);\n\n    var _globalWindow = require('global/window');\n\n    var _globalWindow2 = _interopRequireDefault(_globalWindow);\n\n    /**\n     * Returns a new array of segments that is the result of merging\n     * properties from an older list of segments onto an updated\n     * list. No properties on the updated playlist will be overridden.\n     *\n     * @param {Array} original the outdated list of segments\n     * @param {Array} update the updated list of segments\n     * @param {Number=} offset the index of the first update\n     * segment in the original segment list. For non-live playlists,\n     * this should always be zero and does not need to be\n     * specified. For live playlists, it should be the difference\n     * between the media sequence numbers in the original and updated\n     * playlists.\n     * @return a list of merged segment objects\n     */\n    var updateSegments = function updateSegments(original, update, offset) {\n      var result = update.slice();\n      var length = undefined;\n      var i = undefined;\n\n      offset = offset || 0;\n      length = Math.min(original.length, update.length + offset);\n\n      for (i = offset; i < length; i++) {\n        result[i - offset] = (0, _videoJs.mergeOptions)(original[i], result[i - offset]);\n      }\n      return result;\n    };\n\n    /**\n     * Returns a new master playlist that is the result of merging an\n     * updated media playlist into the original version. If the\n     * updated media playlist does not match any of the playlist\n     * entries in the original master playlist, null is returned.\n     *\n     * @param {Object} master a parsed master M3U8 object\n     * @param {Object} media a parsed media M3U8 object\n     * @return {Object} a new object that represents the original\n     * master playlist with the updated media playlist merged in, or\n     * null if the merge produced no change.\n     */\n    var updateMaster = function updateMaster(master, media) {\n      var changed = false;\n      var result = (0, _videoJs.mergeOptions)(master, {});\n      var i = master.playlists.length;\n      var playlist = undefined;\n      var segment = undefined;\n      var j = undefined;\n\n      while (i--) {\n        playlist = result.playlists[i];\n        if (playlist.uri === media.uri) {\n          // consider the playlist unchanged if the number of segments\n          // are equal and the media sequence number is unchanged\n          if (playlist.segments && media.segments && playlist.segments.length === media.segments.length && playlist.mediaSequence === media.mediaSequence) {\n            continue;\n          }\n\n          result.playlists[i] = (0, _videoJs.mergeOptions)(playlist, media);\n          result.playlists[media.uri] = result.playlists[i];\n\n          // if the update could overlap existing segment information,\n          // merge the two lists\n          if (playlist.segments) {\n            result.playlists[i].segments = updateSegments(playlist.segments, media.segments, media.mediaSequence - playlist.mediaSequence);\n          }\n          // resolve any missing segment and key URIs\n          j = 0;\n          if (result.playlists[i].segments) {\n            j = result.playlists[i].segments.length;\n          }\n          while (j--) {\n            segment = result.playlists[i].segments[j];\n            if (!segment.resolvedUri) {\n              segment.resolvedUri = (0, _resolveUrl2['default'])(playlist.resolvedUri, segment.uri);\n            }\n            if (segment.key && !segment.key.resolvedUri) {\n              segment.key.resolvedUri = (0, _resolveUrl2['default'])(playlist.resolvedUri, segment.key.uri);\n            }\n            if (segment.map && !segment.map.resolvedUri) {\n              segment.map.resolvedUri = (0, _resolveUrl2['default'])(playlist.resolvedUri, segment.map.uri);\n            }\n          }\n          changed = true;\n        }\n      }\n      return changed ? result : null;\n    };\n\n    /**\n     * Load a playlist from a remote loacation\n     *\n     * @class PlaylistLoader\n     * @extends Stream\n     * @param {String} srcUrl the url to start with\n     * @param {Boolean} withCredentials the withCredentials xhr option\n     * @constructor\n     */\n    var PlaylistLoader = function PlaylistLoader(srcUrl, hls, withCredentials) {\n      var _this = this;\n\n      /* eslint-disable consistent-this */\n      var loader = this;\n      /* eslint-enable consistent-this */\n      var dispose = undefined;\n      var mediaUpdateTimeout = undefined;\n      var request = undefined;\n      var playlistRequestError = undefined;\n      var haveMetadata = undefined;\n\n      PlaylistLoader.prototype.constructor.call(this);\n\n      this.hls_ = hls;\n\n      // a flag that disables \"expired time\"-tracking this setting has\n      // no effect when not playing a live stream\n      this.trackExpiredTime_ = false;\n\n      if (!srcUrl) {\n        throw new Error('A non-empty playlist URL is required');\n      }\n\n      playlistRequestError = function (xhr, url, startingState) {\n        loader.setBandwidth(request || xhr);\n\n        // any in-flight request is now finished\n        request = null;\n\n        if (startingState) {\n          loader.state = startingState;\n        }\n\n        loader.error = {\n          playlist: loader.master.playlists[url],\n          status: xhr.status,\n          message: 'HLS playlist request error at URL: ' + url,\n          responseText: xhr.responseText,\n          code: xhr.status >= 500 ? 4 : 2\n        };\n\n        loader.trigger('error');\n      };\n\n      // update the playlist loader's state in response to a new or\n      // updated playlist.\n      haveMetadata = function (xhr, url) {\n        var parser = undefined;\n        var refreshDelay = undefined;\n        var update = undefined;\n\n        loader.setBandwidth(request || xhr);\n\n        // any in-flight request is now finished\n        request = null;\n\n        loader.state = 'HAVE_METADATA';\n\n        parser = new _m3u8Parser2['default'].Parser();\n        parser.push(xhr.responseText);\n        parser.end();\n        parser.manifest.uri = url;\n\n        // merge this playlist into the master\n        update = updateMaster(loader.master, parser.manifest);\n        refreshDelay = (parser.manifest.targetDuration || 10) * 1000;\n        loader.targetDuration = parser.manifest.targetDuration;\n        if (update) {\n          loader.master = update;\n          loader.updateMediaPlaylist_(parser.manifest);\n        } else {\n          // if the playlist is unchanged since the last reload,\n          // try again after half the target duration\n          refreshDelay /= 2;\n        }\n\n        // refresh live playlists after a target duration passes\n        if (!loader.media().endList) {\n          _globalWindow2['default'].clearTimeout(mediaUpdateTimeout);\n          mediaUpdateTimeout = _globalWindow2['default'].setTimeout(function () {\n            loader.trigger('mediaupdatetimeout');\n          }, refreshDelay);\n        }\n\n        loader.trigger('loadedplaylist');\n      };\n\n      // initialize the loader state\n      loader.state = 'HAVE_NOTHING';\n\n      // track the time that has expired from the live window\n      // this allows the seekable start range to be calculated even if\n      // all segments with timing information have expired\n      this.expired_ = 0;\n\n      // capture the prototype dispose function\n      dispose = this.dispose;\n\n      /**\n       * Abort any outstanding work and clean up.\n       */\n      loader.dispose = function () {\n        loader.stopRequest();\n        _globalWindow2['default'].clearTimeout(mediaUpdateTimeout);\n        dispose.call(this);\n      };\n\n      loader.stopRequest = function () {\n        if (request) {\n          var oldRequest = request;\n\n          request = null;\n          oldRequest.onreadystatechange = null;\n          oldRequest.abort();\n        }\n      };\n\n      /**\n       * Returns the number of enabled playlists on the master playlist object\n       *\n       * @return {Number} number of eneabled playlists\n       */\n      loader.enabledPlaylists_ = function () {\n        return loader.master.playlists.filter(function (element, index, array) {\n          return !element.excludeUntil || element.excludeUntil <= Date.now();\n        }).length;\n      };\n\n      /**\n       * Returns whether the current playlist is the lowest rendition\n       *\n       * @return {Boolean} true if on lowest rendition\n       */\n      loader.isLowestEnabledRendition_ = function () {\n        var media = loader.media();\n\n        if (!media || !media.attributes) {\n          return false;\n        }\n\n        var currentBandwidth = loader.media().attributes.BANDWIDTH || 0;\n\n        return !(loader.master.playlists.filter(function (playlist) {\n          var enabled = typeof playlist.excludeUntil === 'undefined' || playlist.excludeUntil <= Date.now();\n\n          if (!enabled) {\n            return false;\n          }\n\n          var bandwidth = 0;\n\n          if (playlist && playlist.attributes) {\n            bandwidth = playlist.attributes.BANDWIDTH;\n          }\n          return bandwidth <= currentBandwidth;\n        }).length > 1);\n      };\n\n      /**\n       * When called without any arguments, returns the currently\n       * active media playlist. When called with a single argument,\n       * triggers the playlist loader to asynchronously switch to the\n       * specified media playlist. Calling this method while the\n       * loader is in the HAVE_NOTHING causes an error to be emitted\n       * but otherwise has no effect.\n       *\n       * @param {Object=} playlis tthe parsed media playlist\n       * object to switch to\n       * @return {Playlist} the current loaded media\n       */\n      loader.media = function (playlist) {\n        var startingState = loader.state;\n        var mediaChange = undefined;\n\n        // getter\n        if (!playlist) {\n          return loader.media_;\n        }\n\n        // setter\n        if (loader.state === 'HAVE_NOTHING') {\n          throw new Error('Cannot switch media playlist from ' + loader.state);\n        }\n\n        // find the playlist object if the target playlist has been\n        // specified by URI\n        if (typeof playlist === 'string') {\n          if (!loader.master.playlists[playlist]) {\n            throw new Error('Unknown playlist URI: ' + playlist);\n          }\n          playlist = loader.master.playlists[playlist];\n        }\n\n        mediaChange = !loader.media_ || playlist.uri !== loader.media_.uri;\n\n        // switch to fully loaded playlists immediately\n        if (loader.master.playlists[playlist.uri].endList) {\n          // abort outstanding playlist requests\n          if (request) {\n            request.onreadystatechange = null;\n            request.abort();\n            request = null;\n          }\n          loader.state = 'HAVE_METADATA';\n          loader.media_ = playlist;\n\n          // trigger media change if the active media has been updated\n          if (mediaChange) {\n            loader.trigger('mediachanging');\n            loader.trigger('mediachange');\n          }\n          return;\n        }\n\n        // switching to the active playlist is a no-op\n        if (!mediaChange) {\n          return;\n        }\n\n        loader.state = 'SWITCHING_MEDIA';\n\n        // there is already an outstanding playlist request\n        if (request) {\n          if ((0, _resolveUrl2['default'])(loader.master.uri, playlist.uri) === request.url) {\n            // requesting to switch to the same playlist multiple times\n            // has no effect after the first\n            return;\n          }\n          request.onreadystatechange = null;\n          request.abort();\n          request = null;\n        }\n\n        // request the new playlist\n        if (this.media_) {\n          this.trigger('mediachanging');\n        }\n        request = this.hls_.xhr({\n          uri: (0, _resolveUrl2['default'])(loader.master.uri, playlist.uri),\n          withCredentials: withCredentials\n        }, function (error, req) {\n          // disposed\n          if (!request) {\n            return;\n          }\n\n          if (error) {\n            return playlistRequestError(request, playlist.uri, startingState);\n          }\n\n          haveMetadata(req, playlist.uri);\n\n          // fire loadedmetadata the first time a media playlist is loaded\n          if (startingState === 'HAVE_MASTER') {\n            loader.trigger('loadedmetadata');\n          } else {\n            loader.trigger('mediachange');\n          }\n        });\n      };\n\n      /**\n       * set the bandwidth on an xhr to the bandwidth on the playlist\n       */\n      loader.setBandwidth = function (xhr) {\n        loader.bandwidth = xhr.bandwidth;\n      };\n\n      // In a live playlist, don't keep track of the expired time\n      // until HLS tells us that \"first play\" has commenced\n      loader.on('firstplay', function () {\n        this.trackExpiredTime_ = true;\n      });\n\n      // live playlist staleness timeout\n      loader.on('mediaupdatetimeout', function () {\n        if (loader.state !== 'HAVE_METADATA') {\n          // only refresh the media playlist if no other activity is going on\n          return;\n        }\n\n        loader.state = 'HAVE_CURRENT_METADATA';\n        request = this.hls_.xhr({\n          uri: (0, _resolveUrl2['default'])(loader.master.uri, loader.media().uri),\n          withCredentials: withCredentials\n        }, function (error, req) {\n          // disposed\n          if (!request) {\n            return;\n          }\n\n          if (error) {\n            return playlistRequestError(request, loader.media().uri);\n          }\n          haveMetadata(request, loader.media().uri);\n        });\n      });\n\n      /**\n       * pause loading of the playlist\n       */\n      loader.pause = function () {\n        loader.stopRequest();\n        _globalWindow2['default'].clearTimeout(mediaUpdateTimeout);\n      };\n\n      /**\n       * start loading of the playlist\n       */\n      loader.load = function () {\n        if (loader.started) {\n          if (!loader.media().endList) {\n            loader.trigger('mediaupdatetimeout');\n          } else {\n            loader.trigger('loadedplaylist');\n          }\n        } else {\n          loader.start();\n        }\n      };\n\n      /**\n       * start loading of the playlist\n       */\n      loader.start = function () {\n        loader.started = true;\n\n        // request the specified URL\n        request = _this.hls_.xhr({\n          uri: srcUrl,\n          withCredentials: withCredentials\n        }, function (error, req) {\n          var parser = undefined;\n          var playlist = undefined;\n          var i = undefined;\n\n          // disposed\n          if (!request) {\n            return;\n          }\n\n          // clear the loader's request reference\n          request = null;\n\n          if (error) {\n            loader.error = {\n              status: req.status,\n              message: 'HLS playlist request error at URL: ' + srcUrl,\n              responseText: req.responseText,\n              // MEDIA_ERR_NETWORK\n              code: 2\n            };\n            return loader.trigger('error');\n          }\n\n          parser = new _m3u8Parser2['default'].Parser();\n          parser.push(req.responseText);\n          parser.end();\n\n          loader.state = 'HAVE_MASTER';\n\n          parser.manifest.uri = srcUrl;\n\n          // loaded a master playlist\n          if (parser.manifest.playlists) {\n            loader.master = parser.manifest;\n\n            // setup by-URI lookups and resolve media playlist URIs\n            i = loader.master.playlists.length;\n            while (i--) {\n              playlist = loader.master.playlists[i];\n              loader.master.playlists[playlist.uri] = playlist;\n              playlist.resolvedUri = (0, _resolveUrl2['default'])(loader.master.uri, playlist.uri);\n            }\n\n            // resolve any media group URIs\n            for (var groupKey in loader.master.mediaGroups.AUDIO) {\n              for (var labelKey in loader.master.mediaGroups.AUDIO[groupKey]) {\n                var alternateAudio = loader.master.mediaGroups.AUDIO[groupKey][labelKey];\n\n                if (alternateAudio.uri) {\n                  alternateAudio.resolvedUri = (0, _resolveUrl2['default'])(loader.master.uri, alternateAudio.uri);\n                }\n              }\n            }\n\n            loader.trigger('loadedplaylist');\n            if (!request) {\n              // no media playlist was specifically selected so start\n              // from the first listed one\n              loader.media(parser.manifest.playlists[0]);\n            }\n            return;\n          }\n\n          // loaded a media playlist\n          // infer a master playlist if none was previously requested\n          loader.master = {\n            mediaGroups: {\n              'AUDIO': {},\n              'VIDEO': {},\n              'CLOSED-CAPTIONS': {},\n              'SUBTITLES': {}\n            },\n            uri: _globalWindow2['default'].location.href,\n            playlists: [{\n              uri: srcUrl\n            }]\n          };\n          loader.master.playlists[srcUrl] = loader.master.playlists[0];\n          loader.master.playlists[0].resolvedUri = srcUrl;\n          haveMetadata(req, srcUrl);\n          return loader.trigger('loadedmetadata');\n        });\n      };\n    };\n\n    PlaylistLoader.prototype = new _stream2['default']();\n\n    /**\n     * Update the PlaylistLoader state to reflect the changes in an\n     * update to the current media playlist.\n     *\n     * @param {Object} update the updated media playlist object\n     */\n    PlaylistLoader.prototype.updateMediaPlaylist_ = function (update) {\n      var outdated = undefined;\n      var i = undefined;\n      var segment = undefined;\n\n      outdated = this.media_;\n      this.media_ = this.master.playlists[update.uri];\n\n      if (!outdated) {\n        return;\n      }\n\n      // don't track expired time until this flag is truthy\n      if (!this.trackExpiredTime_) {\n        return;\n      }\n\n      // if the update was the result of a rendition switch do not\n      // attempt to calculate expired_ since media-sequences need not\n      // correlate between renditions/variants\n      if (update.uri !== outdated.uri) {\n        return;\n      }\n\n      // try using precise timing from first segment of the updated\n      // playlist\n      if (update.segments.length) {\n        if (typeof update.segments[0].start !== 'undefined') {\n          this.expired_ = update.segments[0].start;\n          return;\n        } else if (typeof update.segments[0].end !== 'undefined') {\n          this.expired_ = update.segments[0].end - update.segments[0].duration;\n          return;\n        }\n      }\n\n      // calculate expired by walking the outdated playlist\n      i = update.mediaSequence - outdated.mediaSequence - 1;\n\n      for (; i >= 0; i--) {\n        segment = outdated.segments[i];\n\n        if (!segment) {\n          // we missed information on this segment completely between\n          // playlist updates so we'll have to take an educated guess\n          // once we begin buffering again, any error we introduce can\n          // be corrected\n          this.expired_ += outdated.targetDuration || 10;\n          continue;\n        }\n\n        if (typeof segment.end !== 'undefined') {\n          this.expired_ = segment.end;\n          return;\n        }\n        if (typeof segment.start !== 'undefined') {\n          this.expired_ = segment.start + segment.duration;\n          return;\n        }\n        this.expired_ += segment.duration;\n      }\n    };\n\n    exports['default'] = PlaylistLoader;\n    module.exports = exports['default'];\n  }).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./resolve-url\":11,\"./stream\":14,\"global/window\":26,\"m3u8-parser\":63}],7:[function(require,module,exports){\n  (function (global){\n    /**\n     * @file playlist.js\n     *\n     * Playlist related utilities.\n     */\n    'use strict';\n\n    Object.defineProperty(exports, '__esModule', {\n      value: true\n    });\n\n    function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n    var _videoJs = (typeof window !== \"undefined\" ? window['videojs'] : typeof global !== \"undefined\" ? global['videojs'] : null);\n\n    var _globalWindow = require('global/window');\n\n    var _globalWindow2 = _interopRequireDefault(_globalWindow);\n\n    var Playlist = {\n      /**\n       * The number of segments that are unsafe to start playback at in\n       * a live stream. Changing this value can cause playback stalls.\n       * See HTTP Live Streaming, \"Playing the Media Playlist File\"\n       * https://tools.ietf.org/html/draft-pantos-http-live-streaming-18#section-6.3.3\n       */\n      UNSAFE_LIVE_SEGMENTS: 3\n    };\n\n    /**\n     * walk backward until we find a duration we can use\n     * or return a failure\n     *\n     * @param {Playlist} playlist the playlist to walk through\n     * @param {Number} endSequence the mediaSequence to stop walking on\n     */\n\n    var backwardDuration = function backwardDuration(playlist, endSequence) {\n      var result = 0;\n      var i = endSequence - playlist.mediaSequence;\n      // if a start time is available for segment immediately following\n      // the interval, use it\n      var segment = playlist.segments[i];\n\n      // Walk backward until we find the latest segment with timeline\n      // information that is earlier than endSequence\n      if (segment) {\n        if (typeof segment.start !== 'undefined') {\n          return { result: segment.start, precise: true };\n        }\n        if (typeof segment.end !== 'undefined') {\n          return {\n            result: segment.end - segment.duration,\n            precise: true\n          };\n        }\n      }\n      while (i--) {\n        segment = playlist.segments[i];\n        if (typeof segment.end !== 'undefined') {\n          return { result: result + segment.end, precise: true };\n        }\n\n        result += segment.duration;\n\n        if (typeof segment.start !== 'undefined') {\n          return { result: result + segment.start, precise: true };\n        }\n      }\n      return { result: result, precise: false };\n    };\n\n    /**\n     * walk forward until we find a duration we can use\n     * or return a failure\n     *\n     * @param {Playlist} playlist the playlist to walk through\n     * @param {Number} endSequence the mediaSequence to stop walking on\n     */\n    var forwardDuration = function forwardDuration(playlist, endSequence) {\n      var result = 0;\n      var segment = undefined;\n      var i = endSequence - playlist.mediaSequence;\n      // Walk forward until we find the earliest segment with timeline\n      // information\n\n      for (; i < playlist.segments.length; i++) {\n        segment = playlist.segments[i];\n        if (typeof segment.start !== 'undefined') {\n          return {\n            result: segment.start - result,\n            precise: true\n          };\n        }\n\n        result += segment.duration;\n\n        if (typeof segment.end !== 'undefined') {\n          return {\n            result: segment.end - result,\n            precise: true\n          };\n        }\n      }\n      // indicate we didn't find a useful duration estimate\n      return { result: -1, precise: false };\n    };\n\n    /**\n     * Calculate the media duration from the segments associated with a\n     * playlist. The duration of a subinterval of the available segments\n     * may be calculated by specifying an end index.\n     *\n     * @param {Object} playlist a media playlist object\n     * @param {Number=} endSequence an exclusive upper boundary\n     * for the playlist.  Defaults to playlist length.\n     * @param {Number} expired the amount of time that has dropped\n     * off the front of the playlist in a live scenario\n     * @return {Number} the duration between the first available segment\n     * and end index.\n     */\n    var intervalDuration = function intervalDuration(playlist, endSequence, expired) {\n      var backward = undefined;\n      var forward = undefined;\n\n      if (typeof endSequence === 'undefined') {\n        endSequence = playlist.mediaSequence + playlist.segments.length;\n      }\n\n      if (endSequence < playlist.mediaSequence) {\n        return 0;\n      }\n\n      // do a backward walk to estimate the duration\n      backward = backwardDuration(playlist, endSequence);\n      if (backward.precise) {\n        // if we were able to base our duration estimate on timing\n        // information provided directly from the Media Source, return\n        // it\n        return backward.result;\n      }\n\n      // walk forward to see if a precise duration estimate can be made\n      // that way\n      forward = forwardDuration(playlist, endSequence);\n      if (forward.precise) {\n        // we found a segment that has been buffered and so it's\n        // position is known precisely\n        return forward.result;\n      }\n\n      // return the less-precise, playlist-based duration estimate\n      return backward.result + expired;\n    };\n\n    /**\n     * Calculates the duration of a playlist. If a start and end index\n     * are specified, the duration will be for the subset of the media\n     * timeline between those two indices. The total duration for live\n     * playlists is always Infinity.\n     *\n     * @param {Object} playlist a media playlist object\n     * @param {Number=} endSequence an exclusive upper\n     * boundary for the playlist. Defaults to the playlist media\n     * sequence number plus its length.\n     * @param {Number=} expired the amount of time that has\n     * dropped off the front of the playlist in a live scenario\n     * @return {Number} the duration between the start index and end\n     * index.\n     */\n    var duration = function duration(playlist, endSequence, expired) {\n      if (!playlist) {\n        return 0;\n      }\n\n      if (typeof expired !== 'number') {\n        expired = 0;\n      }\n\n      // if a slice of the total duration is not requested, use\n      // playlist-level duration indicators when they're present\n      if (typeof endSequence === 'undefined') {\n        // if present, use the duration specified in the playlist\n        if (playlist.totalDuration) {\n          return playlist.totalDuration;\n        }\n\n        // duration should be Infinity for live playlists\n        if (!playlist.endList) {\n          return _globalWindow2['default'].Infinity;\n        }\n      }\n\n      // calculate the total duration based on the segment durations\n      return intervalDuration(playlist, endSequence, expired);\n    };\n\n    exports.duration = duration;\n    /**\n     * Calculates the interval of time that is currently seekable in a\n     * playlist. The returned time ranges are relative to the earliest\n     * moment in the specified playlist that is still available. A full\n     * seekable implementation for live streams would need to offset\n     * these values by the duration of content that has expired from the\n     * stream.\n     *\n     * @param {Object} playlist a media playlist object\n     * @param {Number=} expired the amount of time that has\n     * dropped off the front of the playlist in a live scenario\n     * @return {TimeRanges} the periods of time that are valid targets\n     * for seeking\n     */\n    var seekable = function seekable(playlist, expired) {\n      var start = undefined;\n      var end = undefined;\n      var endSequence = undefined;\n\n      if (typeof expired !== 'number') {\n        expired = 0;\n      }\n\n      // without segments, there are no seekable ranges\n      if (!playlist || !playlist.segments) {\n        return (0, _videoJs.createTimeRange)();\n      }\n      // when the playlist is complete, the entire duration is seekable\n      if (playlist.endList) {\n        return (0, _videoJs.createTimeRange)(0, duration(playlist));\n      }\n\n      // live playlists should not expose three segment durations worth\n      // of content from the end of the playlist\n      // https://tools.ietf.org/html/draft-pantos-http-live-streaming-16#section-6.3.3\n      start = intervalDuration(playlist, playlist.mediaSequence, expired);\n      endSequence = Math.max(0, playlist.segments.length - Playlist.UNSAFE_LIVE_SEGMENTS);\n      end = intervalDuration(playlist, playlist.mediaSequence + endSequence, expired);\n      return (0, _videoJs.createTimeRange)(start, end);\n    };\n\n    exports.seekable = seekable;\n    /**\n     * Determine the index of the segment that contains a specified\n     * playback position in a media playlist.\n     *\n     * @param {Object} playlist the media playlist to query\n     * @param {Number} time The number of seconds since the earliest\n     * possible position to determine the containing segment for\n     * @param {Number=} expired the duration of content, in\n     * seconds, that has been removed from this playlist because it\n     * expired\n     * @return {Number} The number of the media segment that contains\n     * that time position.\n     */\n    var getMediaIndexForTime_ = function getMediaIndexForTime_(playlist, time, expired) {\n      var i = undefined;\n      var segment = undefined;\n      var originalTime = time;\n      var numSegments = playlist.segments.length;\n      var lastSegment = numSegments - 1;\n      var startIndex = undefined;\n      var endIndex = undefined;\n      var knownStart = undefined;\n      var knownEnd = undefined;\n\n      if (!playlist) {\n        return 0;\n      }\n\n      // when the requested position is earlier than the current set of\n      // segments, return the earliest segment index\n      if (time < 0) {\n        return 0;\n      }\n\n      if (time === 0 && !expired) {\n        return 0;\n      }\n\n      expired = expired || 0;\n\n      // find segments with known timing information that bound the\n      // target time\n      for (i = 0; i < numSegments; i++) {\n        segment = playlist.segments[i];\n        if (segment.end) {\n          if (segment.end > time) {\n            knownEnd = segment.end;\n            endIndex = i;\n            break;\n          } else {\n            knownStart = segment.end;\n            startIndex = i + 1;\n          }\n        }\n      }\n\n      // time was equal to or past the end of the last segment in the playlist\n      if (startIndex === numSegments) {\n        return numSegments;\n      }\n\n      // use the bounds we just found and playlist information to\n      // estimate the segment that contains the time we are looking for\n      if (typeof startIndex !== 'undefined') {\n        // We have a known-start point that is before our desired time so\n        // walk from that point forwards\n        time = time - knownStart;\n        for (i = startIndex; i < (endIndex || numSegments); i++) {\n          segment = playlist.segments[i];\n          time -= segment.duration;\n\n          if (time < 0) {\n            return i;\n          }\n        }\n\n        if (i >= endIndex) {\n          // We haven't found a segment but we did hit a known end point\n          // so fallback to interpolating between the segment index\n          // based on the known span of the timeline we are dealing with\n          // and the number of segments inside that span\n          return startIndex + Math.floor((originalTime - knownStart) / (knownEnd - knownStart) * (endIndex - startIndex));\n        }\n\n        // We _still_ haven't found a segment so load the last one\n        return lastSegment;\n      } else if (typeof endIndex !== 'undefined') {\n        // We _only_ have a known-end point that is after our desired time so\n        // walk from that point backwards\n        time = knownEnd - time;\n        for (i = endIndex; i >= 0; i--) {\n          segment = playlist.segments[i];\n          time -= segment.duration;\n\n          if (time < 0) {\n            return i;\n          }\n        }\n\n        // We haven't found a segment so load the first one if time is zero\n        if (time === 0) {\n          return 0;\n        }\n        return -1;\n      }\n      // We known nothing so walk from the front of the playlist,\n      // subtracting durations until we find a segment that contains\n      // time and return it\n      time = time - expired;\n\n      if (time < 0) {\n        return -1;\n      }\n\n      for (i = 0; i < numSegments; i++) {\n        segment = playlist.segments[i];\n        time -= segment.duration;\n        if (time < 0) {\n          return i;\n        }\n      }\n      // We are out of possible candidates so load the last one...\n      // The last one is the least likely to overlap a buffer and therefore\n      // the one most likely to tell us something about the timeline\n      return lastSegment;\n    };\n\n    exports.getMediaIndexForTime_ = getMediaIndexForTime_;\n    Playlist.duration = duration;\n    Playlist.seekable = seekable;\n    Playlist.getMediaIndexForTime_ = getMediaIndexForTime_;\n\n// exports\n    exports['default'] = Playlist;\n  }).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"global/window\":26}],8:[function(require,module,exports){\n  (function (global){\n    /**\n     * ranges\n     *\n     * Utilities for working with TimeRanges.\n     *\n     */\n\n    'use strict';\n\n    Object.defineProperty(exports, '__esModule', {\n      value: true\n    });\n\n    var _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\n    function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n    var _videoJs = (typeof window !== \"undefined\" ? window['videojs'] : typeof global !== \"undefined\" ? global['videojs'] : null);\n\n    var _videoJs2 = _interopRequireDefault(_videoJs);\n\n// Fudge factor to account for TimeRanges rounding\n    var TIME_FUDGE_FACTOR = 1 / 30;\n\n    /**\n     * Clamps a value to within a range\n     * @param {Number} num - the value to clamp\n     * @param {Number} start - the start of the range to clamp within, inclusive\n     * @param {Number} end - the end of the range to clamp within, inclusive\n     * @return {Number}\n     */\n    var clamp = function clamp(num, _ref) {\n      var _ref2 = _slicedToArray(_ref, 2);\n\n      var start = _ref2[0];\n      var end = _ref2[1];\n\n      return Math.min(Math.max(start, num), end);\n    };\n    var filterRanges = function filterRanges(timeRanges, predicate) {\n      var results = [];\n      var i = undefined;\n\n      if (timeRanges && timeRanges.length) {\n        // Search for ranges that match the predicate\n        for (i = 0; i < timeRanges.length; i++) {\n          if (predicate(timeRanges.start(i), timeRanges.end(i))) {\n            results.push([timeRanges.start(i), timeRanges.end(i)]);\n          }\n        }\n      }\n\n      return _videoJs2['default'].createTimeRanges(results);\n    };\n\n    /**\n     * Attempts to find the buffered TimeRange that contains the specified\n     * time.\n     * @param {TimeRanges} buffered - the TimeRanges object to query\n     * @param {number} time  - the time to filter on.\n     * @returns {TimeRanges} a new TimeRanges object\n     */\n    var findRange = function findRange(buffered, time) {\n      return filterRanges(buffered, function (start, end) {\n        return start - TIME_FUDGE_FACTOR <= time && end + TIME_FUDGE_FACTOR >= time;\n      });\n    };\n\n    /**\n     * Returns the TimeRanges that begin later than the specified time.\n     * @param {TimeRanges} timeRanges - the TimeRanges object to query\n     * @param {number} time - the time to filter on.\n     * @returns {TimeRanges} a new TimeRanges object.\n     */\n    var findNextRange = function findNextRange(timeRanges, time) {\n      return filterRanges(timeRanges, function (start) {\n        return start - TIME_FUDGE_FACTOR >= time;\n      });\n    };\n\n    /**\n     * Returns gaps within a list of TimeRanges\n     * @param {TimeRanges} buffered - the TimeRanges object\n     * @return {TimeRanges} a TimeRanges object of gaps\n     */\n    var findGaps = function findGaps(buffered) {\n      if (buffered.length < 2) {\n        return _videoJs2['default'].createTimeRanges();\n      }\n\n      var ranges = [];\n\n      for (var i = 1; i < buffered.length; i++) {\n        var start = buffered.end(i - 1);\n        var end = buffered.start(i);\n\n        ranges.push([start, end]);\n      }\n\n      return _videoJs2['default'].createTimeRanges(ranges);\n    };\n\n    /**\n     * Search for a likely end time for the segment that was just appened\n     * based on the state of the `buffered` property before and after the\n     * append. If we fin only one such uncommon end-point return it.\n     * @param {TimeRanges} original - the buffered time ranges before the update\n     * @param {TimeRanges} update - the buffered time ranges after the update\n     * @returns {Number|null} the end time added between `original` and `update`,\n     * or null if one cannot be unambiguously determined.\n     */\n    var findSoleUncommonTimeRangesEnd = function findSoleUncommonTimeRangesEnd(original, update) {\n      var i = undefined;\n      var start = undefined;\n      var end = undefined;\n      var result = [];\n      var edges = [];\n\n      // In order to qualify as a possible candidate, the end point must:\n      //  1) Not have already existed in the `original` ranges\n      //  2) Not result from the shrinking of a range that already existed\n      //     in the `original` ranges\n      //  3) Not be contained inside of a range that existed in `original`\n      var overlapsCurrentEnd = function overlapsCurrentEnd(span) {\n        return span[0] <= end && span[1] >= end;\n      };\n\n      if (original) {\n        // Save all the edges in the `original` TimeRanges object\n        for (i = 0; i < original.length; i++) {\n          start = original.start(i);\n          end = original.end(i);\n\n          edges.push([start, end]);\n        }\n      }\n\n      if (update) {\n        // Save any end-points in `update` that are not in the `original`\n        // TimeRanges object\n        for (i = 0; i < update.length; i++) {\n          start = update.start(i);\n          end = update.end(i);\n\n          if (edges.some(overlapsCurrentEnd)) {\n            continue;\n          }\n\n          // at this point it must be a unique non-shrinking end edge\n          result.push(end);\n        }\n      }\n\n      // we err on the side of caution and return null if didn't find\n      // exactly *one* differing end edge in the search above\n      if (result.length !== 1) {\n        return null;\n      }\n\n      return result[0];\n    };\n\n    /**\n     * Calculate the intersection of two TimeRanges\n     * @param {TimeRanges} bufferA\n     * @param {TimeRanges} bufferB\n     * @returns {TimeRanges} The interesection of `bufferA` with `bufferB`\n     */\n    var bufferIntersection = function bufferIntersection(bufferA, bufferB) {\n      var start = null;\n      var end = null;\n      var arity = 0;\n      var extents = [];\n      var ranges = [];\n\n      if (!bufferA || !bufferA.length || !bufferB || !bufferB.length) {\n        return _videoJs2['default'].createTimeRange();\n      }\n\n      // Handle the case where we have both buffers and create an\n      // intersection of the two\n      var count = bufferA.length;\n\n      // A) Gather up all start and end times\n      while (count--) {\n        extents.push({ time: bufferA.start(count), type: 'start' });\n        extents.push({ time: bufferA.end(count), type: 'end' });\n      }\n      count = bufferB.length;\n      while (count--) {\n        extents.push({ time: bufferB.start(count), type: 'start' });\n        extents.push({ time: bufferB.end(count), type: 'end' });\n      }\n      // B) Sort them by time\n      extents.sort(function (a, b) {\n        return a.time - b.time;\n      });\n\n      // C) Go along one by one incrementing arity for start and decrementing\n      //    arity for ends\n      for (count = 0; count < extents.length; count++) {\n        if (extents[count].type === 'start') {\n          arity++;\n\n          // D) If arity is ever incremented to 2 we are entering an\n          //    overlapping range\n          if (arity === 2) {\n            start = extents[count].time;\n          }\n        } else if (extents[count].type === 'end') {\n          arity--;\n\n          // E) If arity is ever decremented to 1 we leaving an\n          //    overlapping range\n          if (arity === 1) {\n            end = extents[count].time;\n          }\n        }\n\n        // F) Record overlapping ranges\n        if (start !== null && end !== null) {\n          ranges.push([start, end]);\n          start = null;\n          end = null;\n        }\n      }\n\n      return _videoJs2['default'].createTimeRanges(ranges);\n    };\n\n    /**\n     * Calculates the percentage of `segmentRange` that overlaps the\n     * `buffered` time ranges.\n     * @param {TimeRanges} segmentRange - the time range that the segment\n     * covers adjusted according to currentTime\n     * @param {TimeRanges} referenceRange - the original time range that the\n     * segment covers\n     * @param {Number} currentTime - time in seconds where the current playback\n     * is at\n     * @param {TimeRanges} buffered - the currently buffered time ranges\n     * @returns {Number} percent of the segment currently buffered\n     */\n    var calculateBufferedPercent = function calculateBufferedPercent(adjustedRange, referenceRange, currentTime, buffered) {\n      var referenceDuration = referenceRange.end(0) - referenceRange.start(0);\n      var adjustedDuration = adjustedRange.end(0) - adjustedRange.start(0);\n      var bufferMissingFromAdjusted = referenceDuration - adjustedDuration;\n      var adjustedIntersection = bufferIntersection(adjustedRange, buffered);\n      var referenceIntersection = bufferIntersection(referenceRange, buffered);\n      var adjustedOverlap = 0;\n      var referenceOverlap = 0;\n\n      var count = adjustedIntersection.length;\n\n      while (count--) {\n        adjustedOverlap += adjustedIntersection.end(count) - adjustedIntersection.start(count);\n\n        // If the current overlap segment starts at currentTime, then increase the\n        // overlap duration so that it actually starts at the beginning of referenceRange\n        // by including the difference between the two Range's durations\n        // This is a work around for the way Flash has no buffer before currentTime\n        if (adjustedIntersection.start(count) === currentTime) {\n          adjustedOverlap += bufferMissingFromAdjusted;\n        }\n      }\n\n      count = referenceIntersection.length;\n\n      while (count--) {\n        referenceOverlap += referenceIntersection.end(count) - referenceIntersection.start(count);\n      }\n\n      // Use whichever value is larger for the percentage-buffered since that value\n      // is likely more accurate because the only way\n      return Math.max(adjustedOverlap, referenceOverlap) / referenceDuration * 100;\n    };\n\n    /**\n     * Return the amount of a range specified by the startOfSegment and segmentDuration\n     * overlaps the current buffered content.\n     *\n     * @param {Number} startOfSegment - the time where the segment begins\n     * @param {Number} segmentDuration - the duration of the segment in seconds\n     * @param {Number} currentTime - time in seconds where the current playback\n     * is at\n     * @param {TimeRanges} buffered - the state of the buffer\n     * @returns {Number} percentage of the segment's time range that is\n     * already in `buffered`\n     */\n    var getSegmentBufferedPercent = function getSegmentBufferedPercent(startOfSegment, segmentDuration, currentTime, buffered) {\n      var endOfSegment = startOfSegment + segmentDuration;\n\n      // The entire time range of the segment\n      var originalSegmentRange = _videoJs2['default'].createTimeRanges([[startOfSegment, endOfSegment]]);\n\n      // The adjusted segment time range that is setup such that it starts\n      // no earlier than currentTime\n      // Flash has no notion of a back-buffer so adjustedSegmentRange adjusts\n      // for that and the function will still return 100% if a only half of a\n      // segment is actually in the buffer as long as the currentTime is also\n      // half-way through the segment\n      var adjustedSegmentRange = _videoJs2['default'].createTimeRanges([[clamp(startOfSegment, [currentTime, endOfSegment]), endOfSegment]]);\n\n      // This condition happens when the currentTime is beyond the segment's\n      // end time\n      if (adjustedSegmentRange.start(0) === adjustedSegmentRange.end(0)) {\n        return 0;\n      }\n\n      var percent = calculateBufferedPercent(adjustedSegmentRange, originalSegmentRange, currentTime, buffered);\n\n      // If the segment is reported as having a zero duration, return 0%\n      // since it is likely that we will need to fetch the segment\n      if (isNaN(percent) || percent === Infinity || percent === -Infinity) {\n        return 0;\n      }\n\n      return percent;\n    };\n\n    exports['default'] = {\n      findRange: findRange,\n      findNextRange: findNextRange,\n      findGaps: findGaps,\n      findSoleUncommonTimeRangesEnd: findSoleUncommonTimeRangesEnd,\n      getSegmentBufferedPercent: getSegmentBufferedPercent,\n      TIME_FUDGE_FACTOR: TIME_FUDGE_FACTOR\n    };\n    module.exports = exports['default'];\n  }).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],9:[function(require,module,exports){\n  (function (global){\n    'use strict';\n\n    Object.defineProperty(exports, '__esModule', {\n      value: true\n    });\n\n    function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n    var _videoJs = (typeof window !== \"undefined\" ? window['videojs'] : typeof global !== \"undefined\" ? global['videojs'] : null);\n\n    var _videoJs2 = _interopRequireDefault(_videoJs);\n\n    var defaultOptions = {\n      errorInterval: 30,\n      getSource: function getSource(next) {\n        var tech = this.tech({ IWillNotUseThisInPlugins: true });\n        var sourceObj = tech.currentSource_;\n\n        return next(sourceObj);\n      }\n    };\n\n    /**\n     * Main entry point for the plugin\n     *\n     * @param {Player} player a reference to a videojs Player instance\n     * @param {Object} [options] an object with plugin options\n     * @private\n     */\n    var initPlugin = function initPlugin(player, options) {\n      var lastCalled = 0;\n      var seekTo = 0;\n      var localOptions = _videoJs2['default'].mergeOptions(defaultOptions, options);\n\n      /**\n       * Player modifications to perform that must wait until `loadedmetadata`\n       * has been triggered\n       *\n       * @private\n       */\n      var loadedMetadataHandler = function loadedMetadataHandler() {\n        if (seekTo) {\n          player.currentTime(seekTo);\n        }\n      };\n\n      /**\n       * Set the source on the player element, play, and seek if necessary\n       *\n       * @param {Object} sourceObj An object specifying the source url and mime-type to play\n       * @private\n       */\n      var setSource = function setSource(sourceObj) {\n        if (sourceObj === null || sourceObj === undefined) {\n          return;\n        }\n        seekTo = player.duration() !== Infinity && player.currentTime() || 0;\n\n        player.one('loadedmetadata', loadedMetadataHandler);\n\n        player.src(sourceObj);\n        player.play();\n      };\n\n      /**\n       * Attempt to get a source from either the built-in getSource function\n       * or a custom function provided via the options\n       *\n       * @private\n       */\n      var errorHandler = function errorHandler() {\n        // Do not attempt to reload the source if a source-reload occurred before\n        // 'errorInterval' time has elapsed since the last source-reload\n        if (Date.now() - lastCalled < localOptions.errorInterval * 1000) {\n          return;\n        }\n\n        if (!localOptions.getSource || typeof localOptions.getSource !== 'function') {\n          _videoJs2['default'].log.error('ERROR: reloadSourceOnError - The option getSource must be a function!');\n          return;\n        }\n        lastCalled = Date.now();\n\n        return localOptions.getSource.call(player, setSource);\n      };\n\n      /**\n       * Unbind any event handlers that were bound by the plugin\n       *\n       * @private\n       */\n      var cleanupEvents = function cleanupEvents() {\n        player.off('loadedmetadata', loadedMetadataHandler);\n        player.off('error', errorHandler);\n        player.off('dispose', cleanupEvents);\n      };\n\n      /**\n       * Cleanup before re-initializing the plugin\n       *\n       * @param {Object} [newOptions] an object with plugin options\n       * @private\n       */\n      var reinitPlugin = function reinitPlugin(newOptions) {\n        cleanupEvents();\n        initPlugin(player, newOptions);\n      };\n\n      player.on('error', errorHandler);\n      player.on('dispose', cleanupEvents);\n\n      // Overwrite the plugin function so that we can correctly cleanup before\n      // initializing the plugin\n      player.reloadSourceOnError = reinitPlugin;\n    };\n\n    /**\n     * Reload the source when an error is detected as long as there\n     * wasn't an error previously within the last 30 seconds\n     *\n     * @param {Object} [options] an object with plugin options\n     */\n    var reloadSourceOnError = function reloadSourceOnError(options) {\n      initPlugin(this, options);\n    };\n\n    exports['default'] = reloadSourceOnError;\n    module.exports = exports['default'];\n  }).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],10:[function(require,module,exports){\n  /**\n   * Enable/disable playlist function. It is intended to have the first two\n   * arguments partially-applied in order to create the final per-playlist\n   * function.\n   *\n   * @param {PlaylistLoader} playlist - The rendition or media-playlist\n   * @param {Function} changePlaylistFn - A function to be called after a\n   * playlist's enabled-state has been changed. Will NOT be called if a\n   * playlist's enabled-state is unchanged\n   * @param {Boolean=} enable - Value to set the playlist enabled-state to\n   * or if undefined returns the current enabled-state for the playlist\n   * @return {Boolean} The current enabled-state of the playlist\n   */\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  var enableFunction = function enableFunction(playlist, changePlaylistFn, enable) {\n    var currentlyEnabled = typeof playlist.excludeUntil === 'undefined' || playlist.excludeUntil <= Date.now();\n\n    if (typeof enable === 'undefined') {\n      return currentlyEnabled;\n    }\n\n    if (enable !== currentlyEnabled) {\n      if (enable) {\n        delete playlist.excludeUntil;\n      } else {\n        playlist.excludeUntil = Infinity;\n      }\n\n      // Ensure the outside world knows about our changes\n      changePlaylistFn();\n    }\n\n    return enable;\n  };\n\n  /**\n   * The representation object encapsulates the publicly visible information\n   * in a media playlist along with a setter/getter-type function (enabled)\n   * for changing the enabled-state of a particular playlist entry\n   *\n   * @class Representation\n   */\n\n  var Representation = function Representation(hlsHandler, playlist, id) {\n      _classCallCheck(this, Representation);\n\n      // Get a reference to a bound version of fastQualityChange_\n      var fastChangeFunction = hlsHandler.masterPlaylistController_.fastQualityChange_.bind(hlsHandler.masterPlaylistController_);\n\n      // Carefully descend into the playlist's attributes since most\n      // properties are optional\n      if (playlist.attributes) {\n        var attributes = playlist.attributes;\n\n        if (attributes.RESOLUTION) {\n          var resolution = attributes.RESOLUTION;\n\n          this.width = resolution.width;\n          this.height = resolution.height;\n        }\n\n        this.bandwidth = attributes.BANDWIDTH;\n      }\n\n      // The id is simply the ordinality of the media playlist\n      // within the master playlist\n      this.id = id;\n\n      // Partially-apply the enableFunction to create a playlist-\n      // specific variant\n      this.enabled = enableFunction.bind(this, playlist, fastChangeFunction);\n    }\n\n  /**\n   * A mixin function that adds the `representations` api to an instance\n   * of the HlsHandler class\n   * @param {HlsHandler} hlsHandler - An instance of HlsHandler to add the\n   * representation API into\n   */\n    ;\n\n  var renditionSelectionMixin = function renditionSelectionMixin(hlsHandler) {\n    var playlists = hlsHandler.playlists;\n\n    // Add a single API-specific function to the HlsHandler instance\n    hlsHandler.representations = function () {\n      return playlists.master.playlists.map(function (e, i) {\n        return new Representation(hlsHandler, e, i);\n      });\n    };\n  };\n\n  exports['default'] = renditionSelectionMixin;\n  module.exports = exports['default'];\n},{}],11:[function(require,module,exports){\n  /**\n   * @file resolve-url.js\n   */\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  var _urlToolkit = require('url-toolkit');\n\n  var _urlToolkit2 = _interopRequireDefault(_urlToolkit);\n\n  var _globalWindow = require('global/window');\n\n  var _globalWindow2 = _interopRequireDefault(_globalWindow);\n\n  var resolveUrl = function resolveUrl(baseURL, relativeURL) {\n    // return early if we don't need to resolve\n    if (/^[a-z]+:/i.test(relativeURL)) {\n      return relativeURL;\n    }\n\n    // if the base URL is relative then combine with the current location\n    if (!/\\/\\//i.test(baseURL)) {\n      baseURL = _urlToolkit2['default'].buildAbsoluteURL(_globalWindow2['default'].location.href, baseURL);\n    }\n\n    return _urlToolkit2['default'].buildAbsoluteURL(baseURL, relativeURL);\n  };\n\n  exports['default'] = resolveUrl;\n  module.exports = exports['default'];\n},{\"global/window\":26,\"url-toolkit\":85}],12:[function(require,module,exports){\n  (function (global){\n    /**\n     * @file segment-loader.js\n     */\n    'use strict';\n\n    Object.defineProperty(exports, '__esModule', {\n      value: true\n    });\n\n    var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n    var _get = function get(_x2, _x3, _x4) { var _again = true; _function: while (_again) { var object = _x2, property = _x3, receiver = _x4; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x2 = parent; _x3 = property; _x4 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n    function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n    function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n    function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n    var _ranges = require('./ranges');\n\n    var _ranges2 = _interopRequireDefault(_ranges);\n\n    var _playlist = require('./playlist');\n\n    var _videoJs = (typeof window !== \"undefined\" ? window['videojs'] : typeof global !== \"undefined\" ? global['videojs'] : null);\n\n    var _videoJs2 = _interopRequireDefault(_videoJs);\n\n    var _sourceUpdater = require('./source-updater');\n\n    var _sourceUpdater2 = _interopRequireDefault(_sourceUpdater);\n\n    var _aesDecrypter = require('aes-decrypter');\n\n    var _muxJsLibMp4Probe = require('mux.js/lib/mp4/probe');\n\n    var _muxJsLibMp4Probe2 = _interopRequireDefault(_muxJsLibMp4Probe);\n\n    var _config = require('./config');\n\n    var _config2 = _interopRequireDefault(_config);\n\n    var _globalWindow = require('global/window');\n\n    var _globalWindow2 = _interopRequireDefault(_globalWindow);\n\n// in ms\n    var CHECK_BUFFER_DELAY = 500;\n\n    /**\n     * Updates segment with information about its end-point in time and, optionally,\n     * the segment duration if we have enough information to determine a segment duration\n     * accurately.\n     *\n     * @param {Object} playlist a media playlist object\n     * @param {Number} segmentIndex the index of segment we last appended\n     * @param {Number} segmentEnd the known of the segment referenced by segmentIndex\n     */\n    var updateSegmentMetadata = function updateSegmentMetadata(playlist, segmentIndex, segmentEnd) {\n      if (!playlist) {\n        return false;\n      }\n\n      var segment = playlist.segments[segmentIndex];\n      var previousSegment = playlist.segments[segmentIndex - 1];\n\n      if (segmentEnd && segment) {\n        segment.end = segmentEnd;\n\n        // fix up segment durations based on segment end data\n        if (!previousSegment) {\n          // first segment is always has a start time of 0 making its duration\n          // equal to the segment end\n          segment.duration = segment.end;\n        } else if (previousSegment.end) {\n          segment.duration = segment.end - previousSegment.end;\n        }\n        return true;\n      }\n      return false;\n    };\n\n    /**\n     * Determines if we should call endOfStream on the media source based\n     * on the state of the buffer or if appened segment was the final\n     * segment in the playlist.\n     *\n     * @param {Object} playlist a media playlist object\n     * @param {Object} mediaSource the MediaSource object\n     * @param {Number} segmentIndex the index of segment we last appended\n     * @returns {Boolean} do we need to call endOfStream on the MediaSource\n     */\n    var detectEndOfStream = function detectEndOfStream(playlist, mediaSource, segmentIndex) {\n      if (!playlist) {\n        return false;\n      }\n\n      var segments = playlist.segments;\n\n      // determine a few boolean values to help make the branch below easier\n      // to read\n      var appendedLastSegment = segmentIndex === segments.length;\n\n      // if we've buffered to the end of the video, we need to call endOfStream\n      // so that MediaSources can trigger the `ended` event when it runs out of\n      // buffered data instead of waiting for me\n      return playlist.endList && mediaSource.readyState === 'open' && appendedLastSegment;\n    };\n\n    /**\n     * Turns segment byterange into a string suitable for use in\n     * HTTP Range requests\n     */\n    var byterangeStr = function byterangeStr(byterange) {\n      var byterangeStart = undefined;\n      var byterangeEnd = undefined;\n\n      // `byterangeEnd` is one less than `offset + length` because the HTTP range\n      // header uses inclusive ranges\n      byterangeEnd = byterange.offset + byterange.length - 1;\n      byterangeStart = byterange.offset;\n      return 'bytes=' + byterangeStart + '-' + byterangeEnd;\n    };\n\n    /**\n     * Defines headers for use in the xhr request for a particular segment.\n     */\n    var segmentXhrHeaders = function segmentXhrHeaders(segment) {\n      var headers = {};\n\n      if ('byterange' in segment) {\n        headers.Range = byterangeStr(segment.byterange);\n      }\n      return headers;\n    };\n\n    /**\n     * Returns a unique string identifier for a media initialization\n     * segment.\n     */\n    var initSegmentId = function initSegmentId(initSegment) {\n      var byterange = initSegment.byterange || {\n          length: Infinity,\n          offset: 0\n        };\n\n      return [byterange.length, byterange.offset, initSegment.resolvedUri].join(',');\n    };\n\n    /**\n     * An object that manages segment loading and appending.\n     *\n     * @class SegmentLoader\n     * @param {Object} options required and optional options\n     * @extends videojs.EventTarget\n     */\n\n    var SegmentLoader = (function (_videojs$EventTarget) {\n      _inherits(SegmentLoader, _videojs$EventTarget);\n\n      function SegmentLoader(options) {\n        _classCallCheck(this, SegmentLoader);\n\n        _get(Object.getPrototypeOf(SegmentLoader.prototype), 'constructor', this).call(this);\n        var settings = undefined;\n\n        // check pre-conditions\n        if (!options) {\n          throw new TypeError('Initialization options are required');\n        }\n        if (typeof options.currentTime !== 'function') {\n          throw new TypeError('No currentTime getter specified');\n        }\n        if (!options.mediaSource) {\n          throw new TypeError('No MediaSource specified');\n        }\n        settings = _videoJs2['default'].mergeOptions(_videoJs2['default'].options.hls, options);\n\n        // public properties\n        this.state = 'INIT';\n        this.bandwidth = settings.bandwidth;\n        this.throughput = { rate: 0, count: 0 };\n        this.roundTrip = NaN;\n        this.resetStats_();\n\n        // private settings\n        this.hasPlayed_ = settings.hasPlayed;\n        this.currentTime_ = settings.currentTime;\n        this.seekable_ = settings.seekable;\n        this.seeking_ = settings.seeking;\n        this.setCurrentTime_ = settings.setCurrentTime;\n        this.mediaSource_ = settings.mediaSource;\n\n        this.hls_ = settings.hls;\n\n        // private instance variables\n        this.checkBufferTimeout_ = null;\n        this.error_ = void 0;\n        this.expired_ = 0;\n        this.timeCorrection_ = 0;\n        this.currentTimeline_ = -1;\n        this.zeroOffset_ = NaN;\n        this.xhr_ = null;\n        this.pendingSegment_ = null;\n        this.mimeType_ = null;\n        this.sourceUpdater_ = null;\n        this.xhrOptions_ = null;\n\n        this.activeInitSegmentId_ = null;\n        this.initSegments_ = {};\n      }\n\n      /**\n       * reset all of our media stats\n       *\n       * @private\n       */\n\n      _createClass(SegmentLoader, [{\n        key: 'resetStats_',\n        value: function resetStats_() {\n          this.mediaBytesTransferred = 0;\n          this.mediaRequests = 0;\n          this.mediaTransferDuration = 0;\n        }\n\n        /**\n         * dispose of the SegmentLoader and reset to the default state\n         */\n      }, {\n        key: 'dispose',\n        value: function dispose() {\n          this.state = 'DISPOSED';\n          this.abort_();\n          if (this.sourceUpdater_) {\n            this.sourceUpdater_.dispose();\n          }\n          this.resetStats_();\n        }\n\n        /**\n         * abort anything that is currently doing on with the SegmentLoader\n         * and reset to a default state\n         */\n      }, {\n        key: 'abort',\n        value: function abort() {\n          if (this.state !== 'WAITING') {\n            return;\n          }\n\n          this.abort_();\n\n          // don't wait for buffer check timeouts to begin fetching the\n          // next segment\n          if (!this.paused()) {\n            this.state = 'READY';\n            this.fillBuffer_();\n          }\n        }\n\n        /**\n         * set an error on the segment loader and null out any pending segements\n         *\n         * @param {Error} error the error to set on the SegmentLoader\n         * @return {Error} the error that was set or that is currently set\n         */\n      }, {\n        key: 'error',\n        value: function error(_error) {\n          if (typeof _error !== 'undefined') {\n            this.error_ = _error;\n          }\n\n          this.pendingSegment_ = null;\n          return this.error_;\n        }\n\n        /**\n         * load a playlist and start to fill the buffer\n         */\n      }, {\n        key: 'load',\n        value: function load() {\n          // un-pause\n          this.monitorBuffer_();\n\n          // if we don't have a playlist yet, keep waiting for one to be\n          // specified\n          if (!this.playlist_) {\n            return;\n          }\n\n          // if all the configuration is ready, initialize and begin loading\n          if (this.state === 'INIT' && this.mimeType_) {\n            return this.init_();\n          }\n\n          // if we're in the middle of processing a segment already, don't\n          // kick off an additional segment request\n          if (!this.sourceUpdater_ || this.state !== 'READY' && this.state !== 'INIT') {\n            return;\n          }\n\n          this.state = 'READY';\n          this.fillBuffer_();\n        }\n\n        /**\n         * set a playlist on the segment loader\n         *\n         * @param {PlaylistLoader} media the playlist to set on the segment loader\n         */\n      }, {\n        key: 'playlist',\n        value: function playlist(media) {\n          var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n          if (!media) {\n            return;\n          }\n\n          this.playlist_ = media;\n          this.xhrOptions_ = options;\n\n          // if we were unpaused but waiting for a playlist, start\n          // buffering now\n          if (this.mimeType_ && this.state === 'INIT' && !this.paused()) {\n            return this.init_();\n          }\n        }\n\n        /**\n         * Prevent the loader from fetching additional segments. If there\n         * is a segment request outstanding, it will finish processing\n         * before the loader halts. A segment loader can be unpaused by\n         * calling load().\n         */\n      }, {\n        key: 'pause',\n        value: function pause() {\n          if (this.checkBufferTimeout_) {\n            _globalWindow2['default'].clearTimeout(this.checkBufferTimeout_);\n\n            this.checkBufferTimeout_ = null;\n          }\n        }\n\n        /**\n         * Returns whether the segment loader is fetching additional\n         * segments when given the opportunity. This property can be\n         * modified through calls to pause() and load().\n         */\n      }, {\n        key: 'paused',\n        value: function paused() {\n          return this.checkBufferTimeout_ === null;\n        }\n\n        /**\n         * setter for expired time on the SegmentLoader\n         *\n         * @param {Number} expired the exired time to set\n         */\n      }, {\n        key: 'expired',\n        value: function expired(_expired) {\n          this.expired_ = _expired;\n        }\n\n        /**\n         * create/set the following mimetype on the SourceBuffer through a\n         * SourceUpdater\n         *\n         * @param {String} mimeType the mime type string to use\n         */\n      }, {\n        key: 'mimeType',\n        value: function mimeType(_mimeType) {\n          if (this.mimeType_) {\n            return;\n          }\n\n          this.mimeType_ = _mimeType;\n          // if we were unpaused but waiting for a sourceUpdater, start\n          // buffering now\n          if (this.playlist_ && this.state === 'INIT' && !this.paused()) {\n            this.init_();\n          }\n        }\n\n        /**\n         * As long as the SegmentLoader is in the READY state, periodically\n         * invoke fillBuffer_().\n         *\n         * @private\n         */\n      }, {\n        key: 'monitorBuffer_',\n        value: function monitorBuffer_() {\n          if (this.state === 'READY') {\n            this.fillBuffer_();\n          }\n\n          if (this.checkBufferTimeout_) {\n            _globalWindow2['default'].clearTimeout(this.checkBufferTimeout_);\n          }\n\n          this.checkBufferTimeout_ = _globalWindow2['default'].setTimeout(this.monitorBuffer_.bind(this), CHECK_BUFFER_DELAY);\n        }\n\n        /**\n         * Determines what segment request should be made, given current\n         * playback state.\n         *\n         * @param {TimeRanges} buffered - the state of the buffer\n         * @param {Object} playlist - the playlist object to fetch segments from\n         * @param {Number} currentTime - the playback position in seconds\n         * @param {Boolean} hasPlayed - if the player has played before\n         * @param {Number} expired - the seconds expired off the playlist\n         * @param {Number} timeCorrection - correction value to add to current time when\n         *  when determining media index to use\n         * @returns {Object} a segment info object that describes the\n         * request that should be made or null if no request is necessary\n         */\n      }, {\n        key: 'checkBuffer_',\n        value: function checkBuffer_(buffered, playlist, currentTime, hasPlayed, expired, timeCorrection) {\n          var currentBuffered = _ranges2['default'].findRange(buffered, currentTime);\n\n          // There are times when MSE reports the first segment as starting a\n          // little after 0-time so add a fudge factor to try and fix those cases\n          // or we end up fetching the same first segment over and over\n          if (currentBuffered.length === 0 && currentTime === 0) {\n            currentBuffered = _ranges2['default'].findRange(buffered, currentTime + _ranges2['default'].TIME_FUDGE_FACTOR);\n          }\n\n          var bufferedTime = undefined;\n          var currentBufferedEnd = undefined;\n          var mediaIndex = undefined;\n\n          if (!playlist.segments.length) {\n            return null;\n          }\n\n          if (currentBuffered.length === 0) {\n            // find the segment containing currentTime\n            mediaIndex = (0, _playlist.getMediaIndexForTime_)(playlist, currentTime + timeCorrection, expired);\n          } else {\n            // find the segment adjacent to the end of the current\n            // buffered region\n            currentBufferedEnd = currentBuffered.end(0);\n            bufferedTime = Math.max(0, currentBufferedEnd - currentTime);\n\n            // if the video has not yet played only, and we already have\n            // one segment downloaded do nothing\n            if (!hasPlayed && bufferedTime >= 1) {\n              return null;\n            }\n\n            // if there is plenty of content buffered, and the video has\n            // been played before relax for awhile\n            if (hasPlayed && bufferedTime >= _config2['default'].GOAL_BUFFER_LENGTH) {\n              return null;\n            }\n            mediaIndex = (0, _playlist.getMediaIndexForTime_)(playlist, currentBufferedEnd + timeCorrection, expired);\n          }\n\n          return mediaIndex;\n        }\n\n        /**\n         * abort all pending xhr requests and null any pending segements\n         *\n         * @private\n         */\n      }, {\n        key: 'abort_',\n        value: function abort_() {\n          if (this.xhr_) {\n            this.xhr_.abort();\n          }\n\n          // clear out the segment being processed\n          this.pendingSegment_ = null;\n        }\n\n        /**\n         * Once all the starting parameters have been specified, begin\n         * operation. This method should only be invoked from the INIT\n         * state.\n         */\n      }, {\n        key: 'init_',\n        value: function init_() {\n          this.state = 'READY';\n          this.sourceUpdater_ = new _sourceUpdater2['default'](this.mediaSource_, this.mimeType_);\n          this.clearBuffer();\n          return this.fillBuffer_();\n        }\n\n        /**\n         * fill the buffer with segements unless the\n         * sourceBuffers are currently updating\n         *\n         * @private\n         */\n      }, {\n        key: 'fillBuffer_',\n        value: function fillBuffer_() {\n          if (this.sourceUpdater_.updating()) {\n            return;\n          }\n\n          var buffered = this.sourceUpdater_.buffered();\n          var playlist = this.playlist_;\n          var currentTime = this.currentTime_();\n          var hasPlayed = this.hasPlayed_();\n          var expired = this.expired_;\n          var timeCorrection = this.timeCorrection_;\n\n          // see if we need to begin loading immediately\n          var requestIndex = this.checkBuffer_(buffered, playlist, currentTime, hasPlayed, expired, timeCorrection);\n\n          if (requestIndex === null) {\n            return;\n          }\n\n          var isEndOfStream = detectEndOfStream(playlist, this.mediaSource_, requestIndex);\n\n          if (isEndOfStream) {\n            this.mediaSource_.endOfStream();\n            return;\n          }\n\n          if (requestIndex === playlist.segments.length - 1 && this.mediaSource_.readyState === 'ended' && !this.seeking_()) {\n            return;\n          }\n\n          if (requestIndex < 0 || requestIndex >= playlist.segments.length) {\n            return;\n          }\n\n          var segment = this.playlist_.segments[requestIndex];\n\n          var request = {\n            // resolve the segment URL relative to the playlist\n            uri: segment.resolvedUri,\n            // the segment's mediaIndex at the time it was requested\n            mediaIndex: requestIndex,\n            // the segment's playlist\n            playlist: playlist,\n            // unencrypted bytes of the segment\n            bytes: null,\n            // when a key is defined for this segment, the encrypted bytes\n            encryptedBytes: null,\n            // the state of the buffer before a segment is appended will be\n            // stored here so that the actual segment duration can be\n            // determined after it has been appended\n            buffered: null,\n            // The target timestampOffset for this segment when we append it\n            // to the source buffer\n            timestampOffset: NaN,\n            // The timeline that the segment is in\n            timeline: segment.timeline,\n            // The expected duration of the segment in seconds\n            duration: segment.duration\n          };\n\n          var startOfSegment = (0, _playlist.duration)(playlist, playlist.mediaSequence + request.mediaIndex, expired);\n\n          //   (we are crossing a discontinuity somehow)\n          // - The \"timestampOffset\" for the start of this segment is less than\n          //   the currently set timestampOffset\n          request.timestampOffset = this.sourceUpdater_.timestampOffset();\n          if (segment.timeline !== this.currentTimeline_ || startOfSegment < this.sourceUpdater_.timestampOffset()) {\n            request.timestampOffset = startOfSegment;\n          }\n\n          // Sanity check the segment-index determining logic by calcuating the\n          // percentage of the chosen segment that is buffered. If more than 90%\n          // of the segment is buffered then fetching it will likely not help in\n          // any way\n          var percentBuffered = _ranges2['default'].getSegmentBufferedPercent(startOfSegment, segment.duration, currentTime, buffered);\n\n          if (percentBuffered >= 90) {\n            // Increment the timeCorrection_ variable to push the fetcher forward\n            // in time and hopefully skip any gaps or flaws in our understanding\n            // of the media\n            var correctionApplied = this.incrementTimeCorrection_(playlist.targetDuration / 2, 1);\n\n            if (correctionApplied && !this.paused()) {\n              this.fillBuffer_();\n            }\n\n            return;\n          }\n\n          this.loadSegment_(request);\n        }\n\n        /**\n         * trim the back buffer so we only remove content\n         * on segment boundaries\n         *\n         * @private\n         *\n         * @param {Object} segmentInfo - the current segment\n         * @returns {Number} removeToTime - the end point in time, in seconds\n         * that the the buffer should be trimmed.\n         */\n      }, {\n        key: 'trimBuffer_',\n        value: function trimBuffer_(segmentInfo) {\n          var seekable = this.seekable_();\n          var currentTime = this.currentTime_();\n          var removeToTime = undefined;\n\n          // Chrome has a hard limit of 150mb of\n          // buffer and a very conservative \"garbage collector\"\n          // We manually clear out the old buffer to ensure\n          // we don't trigger the QuotaExceeded error\n          // on the source buffer during subsequent appends\n\n          // If we have a seekable range use that as the limit for what can be removed safely\n          // otherwise remove anything older than 1 minute before the current play head\n          if (seekable.length && seekable.start(0) > 0 && seekable.start(0) < currentTime) {\n            return seekable.start(0);\n          }\n\n          removeToTime = currentTime - 60;\n\n          if (!this.playlist_.endList) {\n            return removeToTime;\n          }\n\n          // If we are going to remove time from the front of the buffer, make\n          // sure we aren't discarding a partial segment to avoid throwing\n          // PLAYER_ERR_TIMEOUT while trying to read a partially discarded segment\n          for (var i = 1; i <= segmentInfo.playlist.segments.length; i++) {\n            // Loop through the segments and calculate the duration to compare\n            // against the removeToTime\n            var removeDuration = (0, _playlist.duration)(segmentInfo.playlist, segmentInfo.playlist.mediaSequence + i, this.expired_);\n\n            // If we are close to next segment begining, remove to end of previous\n            // segment instead\n            var previousDuration = (0, _playlist.duration)(segmentInfo.playlist, segmentInfo.playlist.mediaSequence + (i - 1), this.expired_);\n\n            if (removeDuration >= removeToTime) {\n              removeToTime = previousDuration;\n              break;\n            }\n          }\n          return removeToTime;\n        }\n\n        /**\n         * load a specific segment from a request into the buffer\n         *\n         * @private\n         */\n      }, {\n        key: 'loadSegment_',\n        value: function loadSegment_(segmentInfo) {\n          var segment = undefined;\n          var keyXhr = undefined;\n          var initSegmentXhr = undefined;\n          var segmentXhr = undefined;\n          var removeToTime = 0;\n\n          removeToTime = this.trimBuffer_(segmentInfo);\n\n          if (removeToTime > 0) {\n            this.sourceUpdater_.remove(0, removeToTime);\n          }\n\n          segment = segmentInfo.playlist.segments[segmentInfo.mediaIndex];\n\n          // optionally, request the decryption key\n          if (segment.key) {\n            var keyRequestOptions = _videoJs2['default'].mergeOptions(this.xhrOptions_, {\n              uri: segment.key.resolvedUri,\n              responseType: 'arraybuffer'\n            });\n\n            keyXhr = this.hls_.xhr(keyRequestOptions, this.handleResponse_.bind(this));\n          }\n\n          // optionally, request the associated media init segment\n          if (segment.map && !this.initSegments_[initSegmentId(segment.map)]) {\n            var initSegmentOptions = _videoJs2['default'].mergeOptions(this.xhrOptions_, {\n              uri: segment.map.resolvedUri,\n              responseType: 'arraybuffer',\n              headers: segmentXhrHeaders(segment.map)\n            });\n\n            initSegmentXhr = this.hls_.xhr(initSegmentOptions, this.handleResponse_.bind(this));\n          }\n          this.pendingSegment_ = segmentInfo;\n\n          var segmentRequestOptions = _videoJs2['default'].mergeOptions(this.xhrOptions_, {\n            uri: segmentInfo.uri,\n            responseType: 'arraybuffer',\n            headers: segmentXhrHeaders(segment)\n          });\n\n          segmentXhr = this.hls_.xhr(segmentRequestOptions, this.handleResponse_.bind(this));\n\n          this.xhr_ = {\n            keyXhr: keyXhr,\n            initSegmentXhr: initSegmentXhr,\n            segmentXhr: segmentXhr,\n            abort: function abort() {\n              if (this.segmentXhr) {\n                // Prevent error handler from running.\n                this.segmentXhr.onreadystatechange = null;\n                this.segmentXhr.abort();\n                this.segmentXhr = null;\n              }\n              if (this.initSegmentXhr) {\n                // Prevent error handler from running.\n                this.initSegmentXhr.onreadystatechange = null;\n                this.initSegmentXhr.abort();\n                this.initSegmentXhr = null;\n              }\n              if (this.keyXhr) {\n                // Prevent error handler from running.\n                this.keyXhr.onreadystatechange = null;\n                this.keyXhr.abort();\n                this.keyXhr = null;\n              }\n            }\n          };\n\n          this.state = 'WAITING';\n        }\n\n        /**\n         * triggered when a segment response is received\n         *\n         * @private\n         */\n      }, {\n        key: 'handleResponse_',\n        value: function handleResponse_(error, request) {\n          var segmentInfo = undefined;\n          var segment = undefined;\n          var keyXhrRequest = undefined;\n          var view = undefined;\n\n          // timeout of previously aborted request\n          if (!this.xhr_ || request !== this.xhr_.segmentXhr && request !== this.xhr_.keyXhr && request !== this.xhr_.initSegmentXhr) {\n            return;\n          }\n\n          segmentInfo = this.pendingSegment_;\n          segment = segmentInfo.playlist.segments[segmentInfo.mediaIndex];\n\n          // if a request times out, reset bandwidth tracking\n          if (request.timedout) {\n            this.abort_();\n            this.bandwidth = 1;\n            this.roundTrip = NaN;\n            this.state = 'READY';\n            return this.trigger('progress');\n          }\n\n          // trigger an event for other errors\n          if (!request.aborted && error) {\n            // abort will clear xhr_\n            keyXhrRequest = this.xhr_.keyXhr;\n            this.abort_();\n            this.error({\n              status: request.status,\n              message: request === keyXhrRequest ? 'HLS key request error at URL: ' + segment.key.uri : 'HLS segment request error at URL: ' + segmentInfo.uri,\n              code: 2,\n              xhr: request\n            });\n            this.state = 'READY';\n            this.pause();\n            return this.trigger('error');\n          }\n\n          // stop processing if the request was aborted\n          if (!request.response) {\n            this.abort_();\n            return;\n          }\n\n          if (request === this.xhr_.segmentXhr) {\n            // the segment request is no longer outstanding\n            this.xhr_.segmentXhr = null;\n            segmentInfo.startOfAppend = Date.now();\n\n            // calculate the download bandwidth based on segment request\n            this.roundTrip = request.roundTripTime;\n            this.bandwidth = request.bandwidth;\n            this.mediaBytesTransferred += request.bytesReceived || 0;\n            this.mediaRequests += 1;\n            this.mediaTransferDuration += request.roundTripTime || 0;\n\n            if (segment.key) {\n              segmentInfo.encryptedBytes = new Uint8Array(request.response);\n            } else {\n              segmentInfo.bytes = new Uint8Array(request.response);\n            }\n          }\n\n          if (request === this.xhr_.keyXhr) {\n            keyXhrRequest = this.xhr_.segmentXhr;\n            // the key request is no longer outstanding\n            this.xhr_.keyXhr = null;\n\n            if (request.response.byteLength !== 16) {\n              this.abort_();\n              this.error({\n                status: request.status,\n                message: 'Invalid HLS key at URL: ' + segment.key.uri,\n                code: 2,\n                xhr: request\n              });\n              this.state = 'READY';\n              this.pause();\n              return this.trigger('error');\n            }\n\n            view = new DataView(request.response);\n            segment.key.bytes = new Uint32Array([view.getUint32(0), view.getUint32(4), view.getUint32(8), view.getUint32(12)]);\n\n            // if the media sequence is greater than 2^32, the IV will be incorrect\n            // assuming 10s segments, that would be about 1300 years\n            segment.key.iv = segment.key.iv || new Uint32Array([0, 0, 0, segmentInfo.mediaIndex + segmentInfo.playlist.mediaSequence]);\n          }\n\n          if (request === this.xhr_.initSegmentXhr) {\n            // the init segment request is no longer outstanding\n            this.xhr_.initSegmentXhr = null;\n            segment.map.bytes = new Uint8Array(request.response);\n            this.initSegments_[initSegmentId(segment.map)] = segment.map;\n          }\n\n          if (!this.xhr_.segmentXhr && !this.xhr_.keyXhr && !this.xhr_.initSegmentXhr) {\n            this.xhr_ = null;\n            this.processResponse_();\n          }\n        }\n\n        /**\n         * clear anything that is currently in the buffer and throw it away\n         */\n      }, {\n        key: 'clearBuffer',\n        value: function clearBuffer() {\n          if (this.sourceUpdater_ && this.sourceUpdater_.buffered().length) {\n            this.sourceUpdater_.remove(0, Infinity);\n          }\n        }\n\n        /**\n         * Decrypt the segment that is being loaded if necessary\n         *\n         * @private\n         */\n      }, {\n        key: 'processResponse_',\n        value: function processResponse_() {\n          var segmentInfo = undefined;\n          var segment = undefined;\n\n          this.state = 'DECRYPTING';\n\n          segmentInfo = this.pendingSegment_;\n          segment = segmentInfo.playlist.segments[segmentInfo.mediaIndex];\n\n          // some videos don't start from presentation time zero\n          // if that is the case, set the timestamp offset on the first\n          // segment to adjust them so that it is not necessary to seek\n          // before playback can begin\n          if (segment.map && isNaN(this.zeroOffset_)) {\n            var timescales = _muxJsLibMp4Probe2['default'].timescale(segment.map.bytes);\n            var startTime = _muxJsLibMp4Probe2['default'].startTime(timescales, segmentInfo.bytes);\n\n            this.zeroOffset_ = startTime;\n            segmentInfo.timestampOffset -= startTime;\n          }\n\n          if (segment.key) {\n            // this is an encrypted segment\n            // incrementally decrypt the segment\n            /* eslint-disable no-new, handle-callback-err */\n            new _aesDecrypter.Decrypter(segmentInfo.encryptedBytes, segment.key.bytes, segment.key.iv, (function (err, bytes) {\n              // err always null\n              segmentInfo.bytes = bytes;\n              this.handleSegment_();\n            }).bind(this));\n            /* eslint-enable */\n          } else {\n            this.handleSegment_();\n          }\n        }\n\n        /**\n         * append a decrypted segement to the SourceBuffer through a SourceUpdater\n         *\n         * @private\n         */\n      }, {\n        key: 'handleSegment_',\n        value: function handleSegment_() {\n          var _this = this;\n\n          var segmentInfo = undefined;\n          var segment = undefined;\n\n          this.state = 'APPENDING';\n          segmentInfo = this.pendingSegment_;\n          segmentInfo.buffered = this.sourceUpdater_.buffered();\n          segment = segmentInfo.playlist.segments[segmentInfo.mediaIndex];\n          this.currentTimeline_ = segmentInfo.timeline;\n\n          if (segmentInfo.timestampOffset !== this.sourceUpdater_.timestampOffset()) {\n            this.sourceUpdater_.timestampOffset(segmentInfo.timestampOffset);\n          }\n\n          // if the media initialization segment is changing, append it\n          // before the content segment\n          if (segment.map) {\n            (function () {\n              var initId = initSegmentId(segment.map);\n\n              if (!_this.activeInitSegmentId_ || _this.activeInitSegmentId_ !== initId) {\n                var initSegment = _this.initSegments_[initId];\n\n                _this.sourceUpdater_.appendBuffer(initSegment.bytes, function () {\n                  _this.activeInitSegmentId_ = initId;\n                });\n              }\n            })();\n          }\n\n          segmentInfo.byteLength = segmentInfo.bytes.byteLength;\n\n          this.sourceUpdater_.appendBuffer(segmentInfo.bytes, this.handleUpdateEnd_.bind(this));\n        }\n\n        /**\n         * callback to run when appendBuffer is finished. detects if we are\n         * in a good state to do things with the data we got, or if we need\n         * to wait for more\n         *\n         * @private\n         */\n      }, {\n        key: 'handleUpdateEnd_',\n        value: function handleUpdateEnd_() {\n          var segmentInfo = this.pendingSegment_;\n          var currentTime = this.currentTime_();\n\n          this.pendingSegment_ = null;\n          this.recordThroughput_(segmentInfo);\n\n          // add segment metadata if it we have gained information during the\n          // last append\n          var timelineUpdated = this.updateTimeline_(segmentInfo);\n\n          this.trigger('progress');\n\n          var currentMediaIndex = segmentInfo.mediaIndex;\n\n          currentMediaIndex += segmentInfo.playlist.mediaSequence - this.playlist_.mediaSequence;\n\n          var currentBuffered = _ranges2['default'].findRange(this.sourceUpdater_.buffered(), currentTime);\n\n          // any time an update finishes and the last segment is in the\n          // buffer, end the stream. this ensures the \"ended\" event will\n          // fire if playback reaches that point.\n          var isEndOfStream = detectEndOfStream(segmentInfo.playlist, this.mediaSource_, currentMediaIndex + 1);\n\n          if (isEndOfStream) {\n            this.mediaSource_.endOfStream();\n          }\n\n          // when seeking to the beginning of the seekable range, it's\n          // possible that imprecise timing information may cause the seek to\n          // end up earlier than the start of the range\n          // in that case, seek again\n          var seekable = this.seekable_();\n          var next = _ranges2['default'].findNextRange(this.sourceUpdater_.buffered(), currentTime);\n\n          if (this.seeking_() && currentBuffered.length === 0) {\n            if (seekable.length && currentTime < seekable.start(0)) {\n\n              if (next.length) {\n                _videoJs2['default'].log('tried seeking to', currentTime, 'but that was too early, retrying at', next.start(0));\n                this.setCurrentTime_(next.start(0) + _ranges2['default'].TIME_FUDGE_FACTOR);\n              }\n            }\n          }\n\n          this.state = 'READY';\n\n          if (timelineUpdated) {\n            this.timeCorrection_ = 0;\n            if (!this.paused()) {\n              this.fillBuffer_();\n            }\n            return;\n          }\n\n          // the last segment append must have been entirely in the\n          // already buffered time ranges. adjust the timeCorrection\n          // offset to fetch forward until we find a segment that adds\n          // to the buffered time ranges and improves subsequent media\n          // index calculations.\n          var correctionApplied = this.incrementTimeCorrection_(segmentInfo.duration, 4);\n\n          if (correctionApplied && !this.paused()) {\n            this.fillBuffer_();\n          }\n        }\n\n        /**\n         * annotate the segment with any start and end time information\n         * added by the media processing\n         *\n         * @private\n         * @param {Object} segmentInfo annotate a segment with time info\n         */\n      }, {\n        key: 'updateTimeline_',\n        value: function updateTimeline_(segmentInfo) {\n          var segment = undefined;\n          var segmentEnd = undefined;\n          var timelineUpdated = false;\n          var playlist = segmentInfo.playlist;\n          var currentMediaIndex = segmentInfo.mediaIndex;\n\n          currentMediaIndex += playlist.mediaSequence - this.playlist_.mediaSequence;\n          segment = playlist.segments[currentMediaIndex];\n\n          // Update segment meta-data (duration and end-point) based on timeline\n          if (segment && segmentInfo && segmentInfo.playlist.uri === this.playlist_.uri) {\n            segmentEnd = _ranges2['default'].findSoleUncommonTimeRangesEnd(segmentInfo.buffered, this.sourceUpdater_.buffered());\n            timelineUpdated = updateSegmentMetadata(playlist, currentMediaIndex, segmentEnd);\n          }\n\n          return timelineUpdated;\n        }\n\n        /**\n         * Records the current throughput of the decrypt, transmux, and append\n         * portion of the semgment pipeline. `throughput.rate` is a the cumulative\n         * moving average of the throughput. `throughput.count` is the number of\n         * data points in the average.\n         *\n         * @private\n         * @param {Object} segmentInfo the object returned by loadSegment\n         */\n      }, {\n        key: 'recordThroughput_',\n        value: function recordThroughput_(segmentInfo) {\n          var rate = this.throughput.rate;\n          // Add one to the time to ensure that we don't accidentally attempt to divide\n          // by zero in the case where the throughput is ridiculously high\n          var segmentProcessingTime = Date.now() - segmentInfo.startOfAppend + 1;\n          // Multiply by 8000 to convert from bytes/millisecond to bits/second\n          var segmentProcessingThroughput = Math.floor(segmentInfo.byteLength / segmentProcessingTime * 8 * 1000);\n\n          // This is just a cumulative moving average calculation:\n          //   newAvg = oldAvg + (sample - oldAvg) / (sampleCount + 1)\n          this.throughput.rate += (segmentProcessingThroughput - rate) / ++this.throughput.count;\n        }\n\n        /**\n         * add a number of seconds to the currentTime when determining which\n         * segment to fetch in order to force the fetcher to advance in cases\n         * where it may get stuck on the same segment due to buffer gaps or\n         * missing segment annotation after a rendition switch (especially\n         * during a live stream)\n         *\n         * @private\n         * @param {Number} secondsToIncrement number of seconds to add to the\n         * timeCorrection_ variable\n         * @param {Number} maxSegmentsToWalk maximum number of times we allow this\n         * function to walk forward\n         */\n      }, {\n        key: 'incrementTimeCorrection_',\n        value: function incrementTimeCorrection_(secondsToIncrement, maxSegmentsToWalk) {\n          // If we have already incremented timeCorrection_ beyond the limit,\n          // stop searching for a segment and reset timeCorrection_\n          if (this.timeCorrection_ >= this.playlist_.targetDuration * maxSegmentsToWalk) {\n            this.timeCorrection_ = 0;\n            return false;\n          }\n\n          this.timeCorrection_ += secondsToIncrement;\n          return true;\n        }\n      }]);\n\n      return SegmentLoader;\n    })(_videoJs2['default'].EventTarget);\n\n    exports['default'] = SegmentLoader;\n    module.exports = exports['default'];\n  }).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./config\":3,\"./playlist\":7,\"./ranges\":8,\"./source-updater\":13,\"aes-decrypter\":19,\"global/window\":26,\"mux.js/lib/mp4/probe\":81}],13:[function(require,module,exports){\n  (function (global){\n    /**\n     * @file source-updater.js\n     */\n    'use strict';\n\n    Object.defineProperty(exports, '__esModule', {\n      value: true\n    });\n\n    var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n    function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n    function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n    var _videoJs = (typeof window !== \"undefined\" ? window['videojs'] : typeof global !== \"undefined\" ? global['videojs'] : null);\n\n    var _videoJs2 = _interopRequireDefault(_videoJs);\n\n    /**\n     * A queue of callbacks to be serialized and applied when a\n     * MediaSource and its associated SourceBuffers are not in the\n     * updating state. It is used by the segment loader to update the\n     * underlying SourceBuffers when new data is loaded, for instance.\n     *\n     * @class SourceUpdater\n     * @param {MediaSource} mediaSource the MediaSource to create the\n     * SourceBuffer from\n     * @param {String} mimeType the desired MIME type of the underlying\n     * SourceBuffer\n     */\n\n    var SourceUpdater = (function () {\n      function SourceUpdater(mediaSource, mimeType) {\n        var _this = this;\n\n        _classCallCheck(this, SourceUpdater);\n\n        var createSourceBuffer = function createSourceBuffer() {\n          _this.sourceBuffer_ = mediaSource.addSourceBuffer(mimeType);\n\n          // run completion handlers and process callbacks as updateend\n          // events fire\n          _this.onUpdateendCallback_ = function () {\n            var pendingCallback = _this.pendingCallback_;\n\n            _this.pendingCallback_ = null;\n\n            if (pendingCallback) {\n              pendingCallback();\n            }\n\n            _this.runCallback_();\n          };\n\n          _this.sourceBuffer_.addEventListener('updateend', _this.onUpdateendCallback_);\n\n          _this.runCallback_();\n        };\n\n        this.callbacks_ = [];\n        this.pendingCallback_ = null;\n        this.timestampOffset_ = 0;\n        this.mediaSource = mediaSource;\n\n        if (mediaSource.readyState === 'closed') {\n          mediaSource.addEventListener('sourceopen', createSourceBuffer);\n        } else {\n          createSourceBuffer();\n        }\n      }\n\n      /**\n       * Aborts the current segment and resets the segment parser.\n       *\n       * @param {Function} done function to call when done\n       * @see http://w3c.github.io/media-source/#widl-SourceBuffer-abort-void\n       */\n\n      _createClass(SourceUpdater, [{\n        key: 'abort',\n        value: function abort(done) {\n          var _this2 = this;\n\n          this.queueCallback_(function () {\n            _this2.sourceBuffer_.abort();\n          }, done);\n        }\n\n        /**\n         * Queue an update to append an ArrayBuffer.\n         *\n         * @param {ArrayBuffer} bytes\n         * @param {Function} done the function to call when done\n         * @see http://www.w3.org/TR/media-source/#widl-SourceBuffer-appendBuffer-void-ArrayBuffer-data\n         */\n      }, {\n        key: 'appendBuffer',\n        value: function appendBuffer(bytes, done) {\n          var _this3 = this;\n\n          this.queueCallback_(function () {\n            _this3.sourceBuffer_.appendBuffer(bytes);\n          }, done);\n        }\n\n        /**\n         * Indicates what TimeRanges are buffered in the managed SourceBuffer.\n         *\n         * @see http://www.w3.org/TR/media-source/#widl-SourceBuffer-buffered\n         */\n      }, {\n        key: 'buffered',\n        value: function buffered() {\n          if (!this.sourceBuffer_) {\n            return _videoJs2['default'].createTimeRanges();\n          }\n          return this.sourceBuffer_.buffered;\n        }\n\n        /**\n         * Queue an update to set the duration.\n         *\n         * @param {Double} duration what to set the duration to\n         * @see http://www.w3.org/TR/media-source/#widl-MediaSource-duration\n         */\n      }, {\n        key: 'duration',\n        value: function duration(_duration) {\n          var _this4 = this;\n\n          this.queueCallback_(function () {\n            _this4.sourceBuffer_.duration = _duration;\n          });\n        }\n\n        /**\n         * Queue an update to remove a time range from the buffer.\n         *\n         * @param {Number} start where to start the removal\n         * @param {Number} end where to end the removal\n         * @see http://www.w3.org/TR/media-source/#widl-SourceBuffer-remove-void-double-start-unrestricted-double-end\n         */\n      }, {\n        key: 'remove',\n        value: function remove(start, end) {\n          var _this5 = this;\n\n          this.queueCallback_(function () {\n            _this5.sourceBuffer_.remove(start, end);\n          });\n        }\n\n        /**\n         * wether the underlying sourceBuffer is updating or not\n         *\n         * @return {Boolean} the updating status of the SourceBuffer\n         */\n      }, {\n        key: 'updating',\n        value: function updating() {\n          return !this.sourceBuffer_ || this.sourceBuffer_.updating;\n        }\n\n        /**\n         * Set/get the timestampoffset on the SourceBuffer\n         *\n         * @return {Number} the timestamp offset\n         */\n      }, {\n        key: 'timestampOffset',\n        value: function timestampOffset(offset) {\n          var _this6 = this;\n\n          if (typeof offset !== 'undefined') {\n            this.queueCallback_(function () {\n              _this6.sourceBuffer_.timestampOffset = offset;\n            });\n            this.timestampOffset_ = offset;\n          }\n          return this.timestampOffset_;\n        }\n\n        /**\n         * que a callback to run\n         */\n      }, {\n        key: 'queueCallback_',\n        value: function queueCallback_(callback, done) {\n          this.callbacks_.push([callback.bind(this), done]);\n          this.runCallback_();\n        }\n\n        /**\n         * run a queued callback\n         */\n      }, {\n        key: 'runCallback_',\n        value: function runCallback_() {\n          var callbacks = undefined;\n\n          if (this.sourceBuffer_ && !this.sourceBuffer_.updating && this.callbacks_.length) {\n            callbacks = this.callbacks_.shift();\n            this.pendingCallback_ = callbacks[1];\n            callbacks[0]();\n          }\n        }\n\n        /**\n         * dispose of the source updater and the underlying sourceBuffer\n         */\n      }, {\n        key: 'dispose',\n        value: function dispose() {\n          this.sourceBuffer_.removeEventListener('updateend', this.onUpdateendCallback_);\n          if (this.sourceBuffer_ && this.mediaSource.readyState === 'open') {\n            this.sourceBuffer_.abort();\n          }\n        }\n      }]);\n\n      return SourceUpdater;\n    })();\n\n    exports['default'] = SourceUpdater;\n    module.exports = exports['default'];\n  }).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],14:[function(require,module,exports){\n  /**\n   * @file stream.js\n   */\n  /**\n   * A lightweight readable stream implemention that handles event dispatching.\n   *\n   * @class Stream\n   */\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  var Stream = (function () {\n    function Stream() {\n      _classCallCheck(this, Stream);\n\n      this.listeners = {};\n    }\n\n    /**\n     * Add a listener for a specified event type.\n     *\n     * @param {String} type the event name\n     * @param {Function} listener the callback to be invoked when an event of\n     * the specified type occurs\n     */\n\n    _createClass(Stream, [{\n      key: 'on',\n      value: function on(type, listener) {\n        if (!this.listeners[type]) {\n          this.listeners[type] = [];\n        }\n        this.listeners[type].push(listener);\n      }\n\n      /**\n       * Remove a listener for a specified event type.\n       *\n       * @param {String} type the event name\n       * @param {Function} listener  a function previously registered for this\n       * type of event through `on`\n       * @return {Boolean} if we could turn it off or not\n       */\n    }, {\n      key: 'off',\n      value: function off(type, listener) {\n        var index = undefined;\n\n        if (!this.listeners[type]) {\n          return false;\n        }\n        index = this.listeners[type].indexOf(listener);\n        this.listeners[type].splice(index, 1);\n        return index > -1;\n      }\n\n      /**\n       * Trigger an event of the specified type on this stream. Any additional\n       * arguments to this function are passed as parameters to event listeners.\n       *\n       * @param {String} type the event name\n       */\n    }, {\n      key: 'trigger',\n      value: function trigger(type) {\n        var callbacks = undefined;\n        var i = undefined;\n        var length = undefined;\n        var args = undefined;\n\n        callbacks = this.listeners[type];\n        if (!callbacks) {\n          return;\n        }\n        // Slicing the arguments on every invocation of this method\n        // can add a significant amount of overhead. Avoid the\n        // intermediate object creation for the common case of a\n        // single callback argument\n        if (arguments.length === 2) {\n          length = callbacks.length;\n          for (i = 0; i < length; ++i) {\n            callbacks[i].call(this, arguments[1]);\n          }\n        } else {\n          args = Array.prototype.slice.call(arguments, 1);\n          length = callbacks.length;\n          for (i = 0; i < length; ++i) {\n            callbacks[i].apply(this, args);\n          }\n        }\n      }\n\n      /**\n       * Destroys the stream and cleans up.\n       */\n    }, {\n      key: 'dispose',\n      value: function dispose() {\n        this.listeners = {};\n      }\n\n      /**\n       * Forwards all `data` events on this stream to the destination stream. The\n       * destination stream should provide a method `push` to receive the data\n       * events as they arrive.\n       *\n       * @param {Stream} destination the stream that will receive all `data` events\n       * @see http://nodejs.org/api/stream.html#stream_readable_pipe_destination_options\n       */\n    }, {\n      key: 'pipe',\n      value: function pipe(destination) {\n        this.on('data', function (data) {\n          destination.push(data);\n        });\n      }\n    }]);\n\n    return Stream;\n  })();\n\n  exports['default'] = Stream;\n  module.exports = exports['default'];\n},{}],15:[function(require,module,exports){\n  (function (global){\n    /**\n     * @file xhr.js\n     */\n\n    /**\n     * A wrapper for videojs.xhr that tracks bandwidth.\n     *\n     * @param {Object} options options for the XHR\n     * @param {Function} callback the callback to call when done\n     * @return {Request} the xhr request that is going to be made\n     */\n    'use strict';\n\n    Object.defineProperty(exports, '__esModule', {\n      value: true\n    });\n\n    var _videoJs = (typeof window !== \"undefined\" ? window['videojs'] : typeof global !== \"undefined\" ? global['videojs'] : null);\n\n    var xhrFactory = function xhrFactory() {\n      var xhr = function XhrFunction(options, callback) {\n        // Add a default timeout for all hls requests\n        options = (0, _videoJs.mergeOptions)({\n          timeout: 45e3\n        }, options);\n\n        // Allow an optional user-specified function to modify the option\n        // object before we construct the xhr request\n        if (XhrFunction.beforeRequest && typeof XhrFunction.beforeRequest === 'function') {\n          var newOptions = XhrFunction.beforeRequest(options);\n\n          if (newOptions) {\n            options = newOptions;\n          }\n        }\n\n        var request = (0, _videoJs.xhr)(options, function (error, response) {\n          if (!error && request.response) {\n            request.responseTime = Date.now();\n            request.roundTripTime = request.responseTime - request.requestTime;\n            request.bytesReceived = request.response.byteLength || request.response.length;\n            if (!request.bandwidth) {\n              request.bandwidth = Math.floor(request.bytesReceived / request.roundTripTime * 8 * 1000);\n            }\n          }\n\n          // videojs.xhr now uses a specific code\n          // on the error object to signal that a request has\n          // timed out errors of setting a boolean on the request object\n          if (error || request.timedout) {\n            request.timedout = request.timedout || error.code === 'ETIMEDOUT';\n          } else {\n            request.timedout = false;\n          }\n\n          // videojs.xhr no longer considers status codes outside of 200 and 0\n          // (for file uris) to be errors, but the old XHR did, so emulate that\n          // behavior. Status 206 may be used in response to byterange requests.\n          if (!error && response.statusCode !== 200 && response.statusCode !== 206 && response.statusCode !== 0) {\n            error = new Error('XHR Failed with a response of: ' + (request && (request.response || request.responseText)));\n          }\n\n          callback(error, request);\n        });\n\n        request.requestTime = Date.now();\n        return request;\n      };\n\n      return xhr;\n    };\n\n    exports['default'] = xhrFactory;\n    module.exports = exports['default'];\n  }).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],16:[function(require,module,exports){\n  /**\n   * @file aes.js\n   *\n   * This file contains an adaptation of the AES decryption algorithm\n   * from the Standford Javascript Cryptography Library. That work is\n   * covered by the following copyright and permissions notice:\n   *\n   * Copyright 2009-2010 Emily Stark, Mike Hamburg, Dan Boneh.\n   * All rights reserved.\n   *\n   * Redistribution and use in source and binary forms, with or without\n   * modification, are permitted provided that the following conditions are\n   * met:\n   *\n   * 1. Redistributions of source code must retain the above copyright\n   *    notice, this list of conditions and the following disclaimer.\n   *\n   * 2. Redistributions in binary form must reproduce the above\n   *    copyright notice, this list of conditions and the following\n   *    disclaimer in the documentation and/or other materials provided\n   *    with the distribution.\n   *\n   * THIS SOFTWARE IS PROVIDED BY THE AUTHORS ``AS IS'' AND ANY EXPRESS OR\n   * IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n   * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n   * DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> OR CONTRIBUTORS BE\n   * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n   * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n   * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR\n   * BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n   * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE\n   * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN\n   * IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n   *\n   * The views and conclusions contained in the software and documentation\n   * are those of the authors and should not be interpreted as representing\n   * official policies, either expressed or implied, of the authors.\n   */\n\n  /**\n   * Expand the S-box tables.\n   *\n   * @private\n   */\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  var precompute = function precompute() {\n    var tables = [[[], [], [], [], []], [[], [], [], [], []]];\n    var encTable = tables[0];\n    var decTable = tables[1];\n    var sbox = encTable[4];\n    var sboxInv = decTable[4];\n    var i = undefined;\n    var x = undefined;\n    var xInv = undefined;\n    var d = [];\n    var th = [];\n    var x2 = undefined;\n    var x4 = undefined;\n    var x8 = undefined;\n    var s = undefined;\n    var tEnc = undefined;\n    var tDec = undefined;\n\n    // Compute double and third tables\n    for (i = 0; i < 256; i++) {\n      th[(d[i] = i << 1 ^ (i >> 7) * 283) ^ i] = i;\n    }\n\n    for (x = xInv = 0; !sbox[x]; x ^= x2 || 1, xInv = th[xInv] || 1) {\n      // Compute sbox\n      s = xInv ^ xInv << 1 ^ xInv << 2 ^ xInv << 3 ^ xInv << 4;\n      s = s >> 8 ^ s & 255 ^ 99;\n      sbox[x] = s;\n      sboxInv[s] = x;\n\n      // Compute MixColumns\n      x8 = d[x4 = d[x2 = d[x]]];\n      tDec = x8 * 0x1010101 ^ x4 * 0x10001 ^ x2 * 0x101 ^ x * 0x1010100;\n      tEnc = d[s] * 0x101 ^ s * 0x1010100;\n\n      for (i = 0; i < 4; i++) {\n        encTable[i][x] = tEnc = tEnc << 24 ^ tEnc >>> 8;\n        decTable[i][s] = tDec = tDec << 24 ^ tDec >>> 8;\n      }\n    }\n\n    // Compactify. Considerable speedup on Firefox.\n    for (i = 0; i < 5; i++) {\n      encTable[i] = encTable[i].slice(0);\n      decTable[i] = decTable[i].slice(0);\n    }\n    return tables;\n  };\n  var aesTables = null;\n\n  /**\n   * Schedule out an AES key for both encryption and decryption. This\n   * is a low-level class. Use a cipher mode to do bulk encryption.\n   *\n   * @class AES\n   * @param key {Array} The key as an array of 4, 6 or 8 words.\n   */\n\n  var AES = (function () {\n    function AES(key) {\n      _classCallCheck(this, AES);\n\n      /**\n       * The expanded S-box and inverse S-box tables. These will be computed\n       * on the client so that we don't have to send them down the wire.\n       *\n       * There are two tables, _tables[0] is for encryption and\n       * _tables[1] is for decryption.\n       *\n       * The first 4 sub-tables are the expanded S-box with MixColumns. The\n       * last (_tables[01][4]) is the S-box itself.\n       *\n       * @private\n       */\n      // if we have yet to precompute the S-box tables\n      // do so now\n      if (!aesTables) {\n        aesTables = precompute();\n      }\n      // then make a copy of that object for use\n      this._tables = [[aesTables[0][0].slice(), aesTables[0][1].slice(), aesTables[0][2].slice(), aesTables[0][3].slice(), aesTables[0][4].slice()], [aesTables[1][0].slice(), aesTables[1][1].slice(), aesTables[1][2].slice(), aesTables[1][3].slice(), aesTables[1][4].slice()]];\n      var i = undefined;\n      var j = undefined;\n      var tmp = undefined;\n      var encKey = undefined;\n      var decKey = undefined;\n      var sbox = this._tables[0][4];\n      var decTable = this._tables[1];\n      var keyLen = key.length;\n      var rcon = 1;\n\n      if (keyLen !== 4 && keyLen !== 6 && keyLen !== 8) {\n        throw new Error('Invalid aes key size');\n      }\n\n      encKey = key.slice(0);\n      decKey = [];\n      this._key = [encKey, decKey];\n\n      // schedule encryption keys\n      for (i = keyLen; i < 4 * keyLen + 28; i++) {\n        tmp = encKey[i - 1];\n\n        // apply sbox\n        if (i % keyLen === 0 || keyLen === 8 && i % keyLen === 4) {\n          tmp = sbox[tmp >>> 24] << 24 ^ sbox[tmp >> 16 & 255] << 16 ^ sbox[tmp >> 8 & 255] << 8 ^ sbox[tmp & 255];\n\n          // shift rows and add rcon\n          if (i % keyLen === 0) {\n            tmp = tmp << 8 ^ tmp >>> 24 ^ rcon << 24;\n            rcon = rcon << 1 ^ (rcon >> 7) * 283;\n          }\n        }\n\n        encKey[i] = encKey[i - keyLen] ^ tmp;\n      }\n\n      // schedule decryption keys\n      for (j = 0; i; j++, i--) {\n        tmp = encKey[j & 3 ? i : i - 4];\n        if (i <= 4 || j < 4) {\n          decKey[j] = tmp;\n        } else {\n          decKey[j] = decTable[0][sbox[tmp >>> 24]] ^ decTable[1][sbox[tmp >> 16 & 255]] ^ decTable[2][sbox[tmp >> 8 & 255]] ^ decTable[3][sbox[tmp & 255]];\n        }\n      }\n    }\n\n    /**\n     * Decrypt 16 bytes, specified as four 32-bit words.\n     *\n     * @param {Number} encrypted0 the first word to decrypt\n     * @param {Number} encrypted1 the second word to decrypt\n     * @param {Number} encrypted2 the third word to decrypt\n     * @param {Number} encrypted3 the fourth word to decrypt\n     * @param {Int32Array} out the array to write the decrypted words\n     * into\n     * @param {Number} offset the offset into the output array to start\n     * writing results\n     * @return {Array} The plaintext.\n     */\n\n    _createClass(AES, [{\n      key: 'decrypt',\n      value: function decrypt(encrypted0, encrypted1, encrypted2, encrypted3, out, offset) {\n        var key = this._key[1];\n        // state variables a,b,c,d are loaded with pre-whitened data\n        var a = encrypted0 ^ key[0];\n        var b = encrypted3 ^ key[1];\n        var c = encrypted2 ^ key[2];\n        var d = encrypted1 ^ key[3];\n        var a2 = undefined;\n        var b2 = undefined;\n        var c2 = undefined;\n\n        // key.length === 2 ?\n        var nInnerRounds = key.length / 4 - 2;\n        var i = undefined;\n        var kIndex = 4;\n        var table = this._tables[1];\n\n        // load up the tables\n        var table0 = table[0];\n        var table1 = table[1];\n        var table2 = table[2];\n        var table3 = table[3];\n        var sbox = table[4];\n\n        // Inner rounds. Cribbed from OpenSSL.\n        for (i = 0; i < nInnerRounds; i++) {\n          a2 = table0[a >>> 24] ^ table1[b >> 16 & 255] ^ table2[c >> 8 & 255] ^ table3[d & 255] ^ key[kIndex];\n          b2 = table0[b >>> 24] ^ table1[c >> 16 & 255] ^ table2[d >> 8 & 255] ^ table3[a & 255] ^ key[kIndex + 1];\n          c2 = table0[c >>> 24] ^ table1[d >> 16 & 255] ^ table2[a >> 8 & 255] ^ table3[b & 255] ^ key[kIndex + 2];\n          d = table0[d >>> 24] ^ table1[a >> 16 & 255] ^ table2[b >> 8 & 255] ^ table3[c & 255] ^ key[kIndex + 3];\n          kIndex += 4;\n          a = a2;b = b2;c = c2;\n        }\n\n        // Last round.\n        for (i = 0; i < 4; i++) {\n          out[(3 & -i) + offset] = sbox[a >>> 24] << 24 ^ sbox[b >> 16 & 255] << 16 ^ sbox[c >> 8 & 255] << 8 ^ sbox[d & 255] ^ key[kIndex++];\n          a2 = a;a = b;b = c;c = d;d = a2;\n        }\n      }\n    }]);\n\n    return AES;\n  })();\n\n  exports['default'] = AES;\n  module.exports = exports['default'];\n},{}],17:[function(require,module,exports){\n  /**\n   * @file async-stream.js\n   */\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _stream = require('./stream');\n\n  var _stream2 = _interopRequireDefault(_stream);\n\n  /**\n   * A wrapper around the Stream class to use setTiemout\n   * and run stream \"jobs\" Asynchronously\n   *\n   * @class AsyncStream\n   * @extends Stream\n   */\n\n  var AsyncStream = (function (_Stream) {\n    _inherits(AsyncStream, _Stream);\n\n    function AsyncStream() {\n      _classCallCheck(this, AsyncStream);\n\n      _get(Object.getPrototypeOf(AsyncStream.prototype), 'constructor', this).call(this, _stream2['default']);\n      this.jobs = [];\n      this.delay = 1;\n      this.timeout_ = null;\n    }\n\n    /**\n     * process an async job\n     *\n     * @private\n     */\n\n    _createClass(AsyncStream, [{\n      key: 'processJob_',\n      value: function processJob_() {\n        this.jobs.shift()();\n        if (this.jobs.length) {\n          this.timeout_ = setTimeout(this.processJob_.bind(this), this.delay);\n        } else {\n          this.timeout_ = null;\n        }\n      }\n\n      /**\n       * push a job into the stream\n       *\n       * @param {Function} job the job to push into the stream\n       */\n    }, {\n      key: 'push',\n      value: function push(job) {\n        this.jobs.push(job);\n        if (!this.timeout_) {\n          this.timeout_ = setTimeout(this.processJob_.bind(this), this.delay);\n        }\n      }\n    }]);\n\n    return AsyncStream;\n  })(_stream2['default']);\n\n  exports['default'] = AsyncStream;\n  module.exports = exports['default'];\n},{\"./stream\":20}],18:[function(require,module,exports){\n  /**\n   * @file decrypter.js\n   *\n   * An asynchronous implementation of AES-128 CBC decryption with\n   * PKCS#7 padding.\n   */\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  var _aes = require('./aes');\n\n  var _aes2 = _interopRequireDefault(_aes);\n\n  var _asyncStream = require('./async-stream');\n\n  var _asyncStream2 = _interopRequireDefault(_asyncStream);\n\n  var _pkcs7 = require('pkcs7');\n\n  /**\n   * Convert network-order (big-endian) bytes into their little-endian\n   * representation.\n   */\n  var ntoh = function ntoh(word) {\n    return word << 24 | (word & 0xff00) << 8 | (word & 0xff0000) >> 8 | word >>> 24;\n  };\n\n  /**\n   * Decrypt bytes using AES-128 with CBC and PKCS#7 padding.\n   *\n   * @param {Uint8Array} encrypted the encrypted bytes\n   * @param {Uint32Array} key the bytes of the decryption key\n   * @param {Uint32Array} initVector the initialization vector (IV) to\n   * use for the first round of CBC.\n   * @return {Uint8Array} the decrypted bytes\n   *\n   * @see http://en.wikipedia.org/wiki/Advanced_Encryption_Standard\n   * @see http://en.wikipedia.org/wiki/Block_cipher_mode_of_operation#Cipher_Block_Chaining_.28CBC.29\n   * @see https://tools.ietf.org/html/rfc2315\n   */\n  var decrypt = function decrypt(encrypted, key, initVector) {\n    // word-level access to the encrypted bytes\n    var encrypted32 = new Int32Array(encrypted.buffer, encrypted.byteOffset, encrypted.byteLength >> 2);\n\n    var decipher = new _aes2['default'](Array.prototype.slice.call(key));\n\n    // byte and word-level access for the decrypted output\n    var decrypted = new Uint8Array(encrypted.byteLength);\n    var decrypted32 = new Int32Array(decrypted.buffer);\n\n    // temporary variables for working with the IV, encrypted, and\n    // decrypted data\n    var init0 = undefined;\n    var init1 = undefined;\n    var init2 = undefined;\n    var init3 = undefined;\n    var encrypted0 = undefined;\n    var encrypted1 = undefined;\n    var encrypted2 = undefined;\n    var encrypted3 = undefined;\n\n    // iteration variable\n    var wordIx = undefined;\n\n    // pull out the words of the IV to ensure we don't modify the\n    // passed-in reference and easier access\n    init0 = initVector[0];\n    init1 = initVector[1];\n    init2 = initVector[2];\n    init3 = initVector[3];\n\n    // decrypt four word sequences, applying cipher-block chaining (CBC)\n    // to each decrypted block\n    for (wordIx = 0; wordIx < encrypted32.length; wordIx += 4) {\n      // convert big-endian (network order) words into little-endian\n      // (javascript order)\n      encrypted0 = ntoh(encrypted32[wordIx]);\n      encrypted1 = ntoh(encrypted32[wordIx + 1]);\n      encrypted2 = ntoh(encrypted32[wordIx + 2]);\n      encrypted3 = ntoh(encrypted32[wordIx + 3]);\n\n      // decrypt the block\n      decipher.decrypt(encrypted0, encrypted1, encrypted2, encrypted3, decrypted32, wordIx);\n\n      // XOR with the IV, and restore network byte-order to obtain the\n      // plaintext\n      decrypted32[wordIx] = ntoh(decrypted32[wordIx] ^ init0);\n      decrypted32[wordIx + 1] = ntoh(decrypted32[wordIx + 1] ^ init1);\n      decrypted32[wordIx + 2] = ntoh(decrypted32[wordIx + 2] ^ init2);\n      decrypted32[wordIx + 3] = ntoh(decrypted32[wordIx + 3] ^ init3);\n\n      // setup the IV for the next round\n      init0 = encrypted0;\n      init1 = encrypted1;\n      init2 = encrypted2;\n      init3 = encrypted3;\n    }\n\n    return decrypted;\n  };\n\n  exports.decrypt = decrypt;\n  /**\n   * The `Decrypter` class that manages decryption of AES\n   * data through `AsyncStream` objects and the `decrypt`\n   * function\n   *\n   * @param {Uint8Array} encrypted the encrypted bytes\n   * @param {Uint32Array} key the bytes of the decryption key\n   * @param {Uint32Array} initVector the initialization vector (IV) to\n   * @param {Function} done the function to run when done\n   * @class Decrypter\n   */\n\n  var Decrypter = (function () {\n    function Decrypter(encrypted, key, initVector, done) {\n      _classCallCheck(this, Decrypter);\n\n      var step = Decrypter.STEP;\n      var encrypted32 = new Int32Array(encrypted.buffer);\n      var decrypted = new Uint8Array(encrypted.byteLength);\n      var i = 0;\n\n      this.asyncStream_ = new _asyncStream2['default']();\n\n      // split up the encryption job and do the individual chunks asynchronously\n      this.asyncStream_.push(this.decryptChunk_(encrypted32.subarray(i, i + step), key, initVector, decrypted));\n      for (i = step; i < encrypted32.length; i += step) {\n        initVector = new Uint32Array([ntoh(encrypted32[i - 4]), ntoh(encrypted32[i - 3]), ntoh(encrypted32[i - 2]), ntoh(encrypted32[i - 1])]);\n        this.asyncStream_.push(this.decryptChunk_(encrypted32.subarray(i, i + step), key, initVector, decrypted));\n      }\n      // invoke the done() callback when everything is finished\n      this.asyncStream_.push(function () {\n        // remove pkcs#7 padding from the decrypted bytes\n        done(null, (0, _pkcs7.unpad)(decrypted));\n      });\n    }\n\n    /**\n     * a getter for step the maximum number of bytes to process at one time\n     *\n     * @return {Number} the value of step 32000\n     */\n\n    _createClass(Decrypter, [{\n      key: 'decryptChunk_',\n\n      /**\n       * @private\n       */\n      value: function decryptChunk_(encrypted, key, initVector, decrypted) {\n        return function () {\n          var bytes = decrypt(encrypted, key, initVector);\n\n          decrypted.set(bytes, encrypted.byteOffset);\n        };\n      }\n    }], [{\n      key: 'STEP',\n      get: function get() {\n        // 4 * 8000;\n        return 32000;\n      }\n    }]);\n\n    return Decrypter;\n  })();\n\n  exports.Decrypter = Decrypter;\n  exports['default'] = {\n    Decrypter: Decrypter,\n    decrypt: decrypt\n  };\n},{\"./aes\":16,\"./async-stream\":17,\"pkcs7\":22}],19:[function(require,module,exports){\n  /**\n   * @file index.js\n   *\n   * Index module to easily import the primary components of AES-128\n   * decryption. Like this:\n   *\n   * ```js\n   * import {Decrypter, decrypt, AsyncStream} from 'aes-decrypter';\n   * ```\n   */\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  var _decrypter = require('./decrypter');\n\n  var _asyncStream = require('./async-stream');\n\n  var _asyncStream2 = _interopRequireDefault(_asyncStream);\n\n  exports['default'] = {\n    decrypt: _decrypter.decrypt,\n    Decrypter: _decrypter.Decrypter,\n    AsyncStream: _asyncStream2['default']\n  };\n  module.exports = exports['default'];\n},{\"./async-stream\":17,\"./decrypter\":18}],20:[function(require,module,exports){\n  arguments[4][14][0].apply(exports,arguments)\n},{\"dup\":14}],21:[function(require,module,exports){\n  /*\n   * pkcs7.pad\n   * https://github.com/brightcove/pkcs7\n   *\n   * Copyright (c) 2014 Brightcove\n   * Licensed under the apache2 license.\n   */\n\n  'use strict';\n\n  var PADDING;\n\n  /**\n   * Returns a new Uint8Array that is padded with PKCS#7 padding.\n   * @param plaintext {Uint8Array} the input bytes before encryption\n   * @return {Uint8Array} the padded bytes\n   * @see http://tools.ietf.org/html/rfc5652\n   */\n  module.exports = function pad(plaintext) {\n    var padding = PADDING[(plaintext.byteLength % 16) || 0],\n      result = new Uint8Array(plaintext.byteLength + padding.length);\n    result.set(plaintext);\n    result.set(padding, plaintext.byteLength);\n    return result;\n  };\n\n// pre-define the padding values\n  PADDING = [\n    [16, 16, 16, 16,\n      16, 16, 16, 16,\n      16, 16, 16, 16,\n      16, 16, 16, 16],\n\n    [15, 15, 15, 15,\n      15, 15, 15, 15,\n      15, 15, 15, 15,\n      15, 15, 15],\n\n    [14, 14, 14, 14,\n      14, 14, 14, 14,\n      14, 14, 14, 14,\n      14, 14],\n\n    [13, 13, 13, 13,\n      13, 13, 13, 13,\n      13, 13, 13, 13,\n      13],\n\n    [12, 12, 12, 12,\n      12, 12, 12, 12,\n      12, 12, 12, 12],\n\n    [11, 11, 11, 11,\n      11, 11, 11, 11,\n      11, 11, 11],\n\n    [10, 10, 10, 10,\n      10, 10, 10, 10,\n      10, 10],\n\n    [9, 9, 9, 9,\n      9, 9, 9, 9,\n      9],\n\n    [8, 8, 8, 8,\n      8, 8, 8, 8],\n\n    [7, 7, 7, 7,\n      7, 7, 7],\n\n    [6, 6, 6, 6,\n      6, 6],\n\n    [5, 5, 5, 5,\n      5],\n\n    [4, 4, 4, 4],\n\n    [3, 3, 3],\n\n    [2, 2],\n\n    [1]\n  ];\n\n},{}],22:[function(require,module,exports){\n  /*\n   * pkcs7\n   * https://github.com/brightcove/pkcs7\n   *\n   * Copyright (c) 2014 Brightcove\n   * Licensed under the apache2 license.\n   */\n\n  'use strict';\n\n  exports.pad = require('./pad.js');\n  exports.unpad = require('./unpad.js');\n\n},{\"./pad.js\":21,\"./unpad.js\":23}],23:[function(require,module,exports){\n  /*\n   * pkcs7.unpad\n   * https://github.com/brightcove/pkcs7\n   *\n   * Copyright (c) 2014 Brightcove\n   * Licensed under the apache2 license.\n   */\n\n  'use strict';\n\n  /**\n   * Returns the subarray of a Uint8Array without PKCS#7 padding.\n   * @param padded {Uint8Array} unencrypted bytes that have been padded\n   * @return {Uint8Array} the unpadded bytes\n   * @see http://tools.ietf.org/html/rfc5652\n   */\n  module.exports = function unpad(padded) {\n    return padded.subarray(0, padded.byteLength - padded[padded.byteLength - 1]);\n  };\n\n},{}],24:[function(require,module,exports){\n\n},{}],25:[function(require,module,exports){\n  (function (global){\n    var topLevel = typeof global !== 'undefined' ? global :\n      typeof window !== 'undefined' ? window : {}\n    var minDoc = require('min-document');\n\n    if (typeof document !== 'undefined') {\n      module.exports = document;\n    } else {\n      var doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'];\n\n      if (!doccy) {\n        doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'] = minDoc;\n      }\n\n      module.exports = doccy;\n    }\n\n  }).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"min-document\":24}],26:[function(require,module,exports){\n  (function (global){\n    if (typeof window !== \"undefined\") {\n      module.exports = window;\n    } else if (typeof global !== \"undefined\") {\n      module.exports = global;\n    } else if (typeof self !== \"undefined\"){\n      module.exports = self;\n    } else {\n      module.exports = {};\n    }\n\n  }).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],27:[function(require,module,exports){\n  /** Used as the `TypeError` message for \"Functions\" methods. */\n  var FUNC_ERROR_TEXT = 'Expected a function';\n\n  /* Native method references for those with the same name as other `lodash` methods. */\n  var nativeMax = Math.max;\n\n  /**\n   * Creates a function that invokes `func` with the `this` binding of the\n   * created function and arguments from `start` and beyond provided as an array.\n   *\n   * **Note:** This method is based on the [rest parameter](https://developer.mozilla.org/Web/JavaScript/Reference/Functions/rest_parameters).\n   *\n   * @static\n   * @memberOf _\n   * @category Function\n   * @param {Function} func The function to apply a rest parameter to.\n   * @param {number} [start=func.length-1] The start position of the rest parameter.\n   * @returns {Function} Returns the new function.\n   * @example\n   *\n   * var say = _.restParam(function(what, names) {\n *   return what + ' ' + _.initial(names).join(', ') +\n *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n * });\n   *\n   * say('hello', 'fred', 'barney', 'pebbles');\n   * // => 'hello fred, barney, & pebbles'\n   */\n  function restParam(func, start) {\n    if (typeof func != 'function') {\n      throw new TypeError(FUNC_ERROR_TEXT);\n    }\n    start = nativeMax(start === undefined ? (func.length - 1) : (+start || 0), 0);\n    return function() {\n      var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        rest = Array(length);\n\n      while (++index < length) {\n        rest[index] = args[start + index];\n      }\n      switch (start) {\n        case 0: return func.call(this, rest);\n        case 1: return func.call(this, args[0], rest);\n        case 2: return func.call(this, args[0], args[1], rest);\n      }\n      var otherArgs = Array(start + 1);\n      index = -1;\n      while (++index < start) {\n        otherArgs[index] = args[index];\n      }\n      otherArgs[start] = rest;\n      return func.apply(this, otherArgs);\n    };\n  }\n\n  module.exports = restParam;\n\n},{}],28:[function(require,module,exports){\n  /**\n   * Copies the values of `source` to `array`.\n   *\n   * @private\n   * @param {Array} source The array to copy values from.\n   * @param {Array} [array=[]] The array to copy values to.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayCopy(source, array) {\n    var index = -1,\n      length = source.length;\n\n    array || (array = Array(length));\n    while (++index < length) {\n      array[index] = source[index];\n    }\n    return array;\n  }\n\n  module.exports = arrayCopy;\n\n},{}],29:[function(require,module,exports){\n  /**\n   * A specialized version of `_.forEach` for arrays without support for callback\n   * shorthands and `this` binding.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEach(array, iteratee) {\n    var index = -1,\n      length = array.length;\n\n    while (++index < length) {\n      if (iteratee(array[index], index, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  module.exports = arrayEach;\n\n},{}],30:[function(require,module,exports){\n  /**\n   * Copies properties of `source` to `object`.\n   *\n   * @private\n   * @param {Object} source The object to copy properties from.\n   * @param {Array} props The property names to copy.\n   * @param {Object} [object={}] The object to copy properties to.\n   * @returns {Object} Returns `object`.\n   */\n  function baseCopy(source, props, object) {\n    object || (object = {});\n\n    var index = -1,\n      length = props.length;\n\n    while (++index < length) {\n      var key = props[index];\n      object[key] = source[key];\n    }\n    return object;\n  }\n\n  module.exports = baseCopy;\n\n},{}],31:[function(require,module,exports){\n  var createBaseFor = require('./createBaseFor');\n\n  /**\n   * The base implementation of `baseForIn` and `baseForOwn` which iterates\n   * over `object` properties returned by `keysFunc` invoking `iteratee` for\n   * each property. Iteratee functions may exit iteration early by explicitly\n   * returning `false`.\n   *\n   * @private\n   * @param {Object} object The object to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {Function} keysFunc The function to get the keys of `object`.\n   * @returns {Object} Returns `object`.\n   */\n  var baseFor = createBaseFor();\n\n  module.exports = baseFor;\n\n},{\"./createBaseFor\":38}],32:[function(require,module,exports){\n  var baseFor = require('./baseFor'),\n    keysIn = require('../object/keysIn');\n\n  /**\n   * The base implementation of `_.forIn` without support for callback\n   * shorthands and `this` binding.\n   *\n   * @private\n   * @param {Object} object The object to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Object} Returns `object`.\n   */\n  function baseForIn(object, iteratee) {\n    return baseFor(object, iteratee, keysIn);\n  }\n\n  module.exports = baseForIn;\n\n},{\"../object/keysIn\":59,\"./baseFor\":31}],33:[function(require,module,exports){\n  var arrayEach = require('./arrayEach'),\n    baseMergeDeep = require('./baseMergeDeep'),\n    isArray = require('../lang/isArray'),\n    isArrayLike = require('./isArrayLike'),\n    isObject = require('../lang/isObject'),\n    isObjectLike = require('./isObjectLike'),\n    isTypedArray = require('../lang/isTypedArray'),\n    keys = require('../object/keys');\n\n  /**\n   * The base implementation of `_.merge` without support for argument juggling,\n   * multiple sources, and `this` binding `customizer` functions.\n   *\n   * @private\n   * @param {Object} object The destination object.\n   * @param {Object} source The source object.\n   * @param {Function} [customizer] The function to customize merged values.\n   * @param {Array} [stackA=[]] Tracks traversed source objects.\n   * @param {Array} [stackB=[]] Associates values with source counterparts.\n   * @returns {Object} Returns `object`.\n   */\n  function baseMerge(object, source, customizer, stackA, stackB) {\n    if (!isObject(object)) {\n      return object;\n    }\n    var isSrcArr = isArrayLike(source) && (isArray(source) || isTypedArray(source)),\n      props = isSrcArr ? undefined : keys(source);\n\n    arrayEach(props || source, function(srcValue, key) {\n      if (props) {\n        key = srcValue;\n        srcValue = source[key];\n      }\n      if (isObjectLike(srcValue)) {\n        stackA || (stackA = []);\n        stackB || (stackB = []);\n        baseMergeDeep(object, source, key, baseMerge, customizer, stackA, stackB);\n      }\n      else {\n        var value = object[key],\n          result = customizer ? customizer(value, srcValue, key, object, source) : undefined,\n          isCommon = result === undefined;\n\n        if (isCommon) {\n          result = srcValue;\n        }\n        if ((result !== undefined || (isSrcArr && !(key in object))) &&\n          (isCommon || (result === result ? (result !== value) : (value === value)))) {\n          object[key] = result;\n        }\n      }\n    });\n    return object;\n  }\n\n  module.exports = baseMerge;\n\n},{\"../lang/isArray\":50,\"../lang/isObject\":53,\"../lang/isTypedArray\":56,\"../object/keys\":58,\"./arrayEach\":29,\"./baseMergeDeep\":34,\"./isArrayLike\":41,\"./isObjectLike\":46}],34:[function(require,module,exports){\n  var arrayCopy = require('./arrayCopy'),\n    isArguments = require('../lang/isArguments'),\n    isArray = require('../lang/isArray'),\n    isArrayLike = require('./isArrayLike'),\n    isPlainObject = require('../lang/isPlainObject'),\n    isTypedArray = require('../lang/isTypedArray'),\n    toPlainObject = require('../lang/toPlainObject');\n\n  /**\n   * A specialized version of `baseMerge` for arrays and objects which performs\n   * deep merges and tracks traversed objects enabling objects with circular\n   * references to be merged.\n   *\n   * @private\n   * @param {Object} object The destination object.\n   * @param {Object} source The source object.\n   * @param {string} key The key of the value to merge.\n   * @param {Function} mergeFunc The function to merge values.\n   * @param {Function} [customizer] The function to customize merged values.\n   * @param {Array} [stackA=[]] Tracks traversed source objects.\n   * @param {Array} [stackB=[]] Associates values with source counterparts.\n   * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n   */\n  function baseMergeDeep(object, source, key, mergeFunc, customizer, stackA, stackB) {\n    var length = stackA.length,\n      srcValue = source[key];\n\n    while (length--) {\n      if (stackA[length] == srcValue) {\n        object[key] = stackB[length];\n        return;\n      }\n    }\n    var value = object[key],\n      result = customizer ? customizer(value, srcValue, key, object, source) : undefined,\n      isCommon = result === undefined;\n\n    if (isCommon) {\n      result = srcValue;\n      if (isArrayLike(srcValue) && (isArray(srcValue) || isTypedArray(srcValue))) {\n        result = isArray(value)\n          ? value\n          : (isArrayLike(value) ? arrayCopy(value) : []);\n      }\n      else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n        result = isArguments(value)\n          ? toPlainObject(value)\n          : (isPlainObject(value) ? value : {});\n      }\n      else {\n        isCommon = false;\n      }\n    }\n    // Add the source value to the stack of traversed objects and associate\n    // it with its merged value.\n    stackA.push(srcValue);\n    stackB.push(result);\n\n    if (isCommon) {\n      // Recursively merge objects and arrays (susceptible to call stack limits).\n      object[key] = mergeFunc(result, srcValue, customizer, stackA, stackB);\n    } else if (result === result ? (result !== value) : (value === value)) {\n      object[key] = result;\n    }\n  }\n\n  module.exports = baseMergeDeep;\n\n},{\"../lang/isArguments\":49,\"../lang/isArray\":50,\"../lang/isPlainObject\":54,\"../lang/isTypedArray\":56,\"../lang/toPlainObject\":57,\"./arrayCopy\":28,\"./isArrayLike\":41}],35:[function(require,module,exports){\n  var toObject = require('./toObject');\n\n  /**\n   * The base implementation of `_.property` without support for deep paths.\n   *\n   * @private\n   * @param {string} key The key of the property to get.\n   * @returns {Function} Returns the new function.\n   */\n  function baseProperty(key) {\n    return function(object) {\n      return object == null ? undefined : toObject(object)[key];\n    };\n  }\n\n  module.exports = baseProperty;\n\n},{\"./toObject\":48}],36:[function(require,module,exports){\n  var identity = require('../utility/identity');\n\n  /**\n   * A specialized version of `baseCallback` which only supports `this` binding\n   * and specifying the number of arguments to provide to `func`.\n   *\n   * @private\n   * @param {Function} func The function to bind.\n   * @param {*} thisArg The `this` binding of `func`.\n   * @param {number} [argCount] The number of arguments to provide to `func`.\n   * @returns {Function} Returns the callback.\n   */\n  function bindCallback(func, thisArg, argCount) {\n    if (typeof func != 'function') {\n      return identity;\n    }\n    if (thisArg === undefined) {\n      return func;\n    }\n    switch (argCount) {\n      case 1: return function(value) {\n        return func.call(thisArg, value);\n      };\n      case 3: return function(value, index, collection) {\n        return func.call(thisArg, value, index, collection);\n      };\n      case 4: return function(accumulator, value, index, collection) {\n        return func.call(thisArg, accumulator, value, index, collection);\n      };\n      case 5: return function(value, other, key, object, source) {\n        return func.call(thisArg, value, other, key, object, source);\n      };\n    }\n    return function() {\n      return func.apply(thisArg, arguments);\n    };\n  }\n\n  module.exports = bindCallback;\n\n},{\"../utility/identity\":62}],37:[function(require,module,exports){\n  var bindCallback = require('./bindCallback'),\n    isIterateeCall = require('./isIterateeCall'),\n    restParam = require('../function/restParam');\n\n  /**\n   * Creates a `_.assign`, `_.defaults`, or `_.merge` function.\n   *\n   * @private\n   * @param {Function} assigner The function to assign values.\n   * @returns {Function} Returns the new assigner function.\n   */\n  function createAssigner(assigner) {\n    return restParam(function(object, sources) {\n      var index = -1,\n        length = object == null ? 0 : sources.length,\n        customizer = length > 2 ? sources[length - 2] : undefined,\n        guard = length > 2 ? sources[2] : undefined,\n        thisArg = length > 1 ? sources[length - 1] : undefined;\n\n      if (typeof customizer == 'function') {\n        customizer = bindCallback(customizer, thisArg, 5);\n        length -= 2;\n      } else {\n        customizer = typeof thisArg == 'function' ? thisArg : undefined;\n        length -= (customizer ? 1 : 0);\n      }\n      if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n        customizer = length < 3 ? undefined : customizer;\n        length = 1;\n      }\n      while (++index < length) {\n        var source = sources[index];\n        if (source) {\n          assigner(object, source, customizer);\n        }\n      }\n      return object;\n    });\n  }\n\n  module.exports = createAssigner;\n\n},{\"../function/restParam\":27,\"./bindCallback\":36,\"./isIterateeCall\":44}],38:[function(require,module,exports){\n  var toObject = require('./toObject');\n\n  /**\n   * Creates a base function for `_.forIn` or `_.forInRight`.\n   *\n   * @private\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {Function} Returns the new base function.\n   */\n  function createBaseFor(fromRight) {\n    return function(object, iteratee, keysFunc) {\n      var iterable = toObject(object),\n        props = keysFunc(object),\n        length = props.length,\n        index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length)) {\n        var key = props[index];\n        if (iteratee(iterable[key], key, iterable) === false) {\n          break;\n        }\n      }\n      return object;\n    };\n  }\n\n  module.exports = createBaseFor;\n\n},{\"./toObject\":48}],39:[function(require,module,exports){\n  var baseProperty = require('./baseProperty');\n\n  /**\n   * Gets the \"length\" property value of `object`.\n   *\n   * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n   * that affects Safari on at least iOS 8.1-8.3 ARM64.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {*} Returns the \"length\" value.\n   */\n  var getLength = baseProperty('length');\n\n  module.exports = getLength;\n\n},{\"./baseProperty\":35}],40:[function(require,module,exports){\n  var isNative = require('../lang/isNative');\n\n  /**\n   * Gets the native function at `key` of `object`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {string} key The key of the method to get.\n   * @returns {*} Returns the function if it's native, else `undefined`.\n   */\n  function getNative(object, key) {\n    var value = object == null ? undefined : object[key];\n    return isNative(value) ? value : undefined;\n  }\n\n  module.exports = getNative;\n\n},{\"../lang/isNative\":52}],41:[function(require,module,exports){\n  var getLength = require('./getLength'),\n    isLength = require('./isLength');\n\n  /**\n   * Checks if `value` is array-like.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n   */\n  function isArrayLike(value) {\n    return value != null && isLength(getLength(value));\n  }\n\n  module.exports = isArrayLike;\n\n},{\"./getLength\":39,\"./isLength\":45}],42:[function(require,module,exports){\n  /**\n   * Checks if `value` is a host object in IE < 9.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n   */\n  var isHostObject = (function() {\n    try {\n      Object({ 'toString': 0 } + '');\n    } catch(e) {\n      return function() { return false; };\n    }\n    return function(value) {\n      // IE < 9 presents many host objects as `Object` objects that can coerce\n      // to strings despite having improperly defined `toString` methods.\n      return typeof value.toString != 'function' && typeof (value + '') == 'string';\n    };\n  }());\n\n  module.exports = isHostObject;\n\n},{}],43:[function(require,module,exports){\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^\\d+$/;\n\n  /**\n   * Used as the [maximum length](http://ecma-international.org/ecma-262/6.0/#sec-number.max_safe_integer)\n   * of an array-like value.\n   */\n  var MAX_SAFE_INTEGER = 9007199254740991;\n\n  /**\n   * Checks if `value` is a valid array-like index.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n   * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n   */\n  function isIndex(value, length) {\n    value = (typeof value == 'number' || reIsUint.test(value)) ? +value : -1;\n    length = length == null ? MAX_SAFE_INTEGER : length;\n    return value > -1 && value % 1 == 0 && value < length;\n  }\n\n  module.exports = isIndex;\n\n},{}],44:[function(require,module,exports){\n  var isArrayLike = require('./isArrayLike'),\n    isIndex = require('./isIndex'),\n    isObject = require('../lang/isObject');\n\n  /**\n   * Checks if the provided arguments are from an iteratee call.\n   *\n   * @private\n   * @param {*} value The potential iteratee value argument.\n   * @param {*} index The potential iteratee index or key argument.\n   * @param {*} object The potential iteratee object argument.\n   * @returns {boolean} Returns `true` if the arguments are from an iteratee call, else `false`.\n   */\n  function isIterateeCall(value, index, object) {\n    if (!isObject(object)) {\n      return false;\n    }\n    var type = typeof index;\n    if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)) {\n      var other = object[index];\n      return value === value ? (value === other) : (other !== other);\n    }\n    return false;\n  }\n\n  module.exports = isIterateeCall;\n\n},{\"../lang/isObject\":53,\"./isArrayLike\":41,\"./isIndex\":43}],45:[function(require,module,exports){\n  /**\n   * Used as the [maximum length](http://ecma-international.org/ecma-262/6.0/#sec-number.max_safe_integer)\n   * of an array-like value.\n   */\n  var MAX_SAFE_INTEGER = 9007199254740991;\n\n  /**\n   * Checks if `value` is a valid array-like length.\n   *\n   * **Note:** This function is based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n   */\n  function isLength(value) {\n    return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n  }\n\n  module.exports = isLength;\n\n},{}],46:[function(require,module,exports){\n  /**\n   * Checks if `value` is object-like.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n   */\n  function isObjectLike(value) {\n    return !!value && typeof value == 'object';\n  }\n\n  module.exports = isObjectLike;\n\n},{}],47:[function(require,module,exports){\n  var isArguments = require('../lang/isArguments'),\n    isArray = require('../lang/isArray'),\n    isIndex = require('./isIndex'),\n    isLength = require('./isLength'),\n    isString = require('../lang/isString'),\n    keysIn = require('../object/keysIn');\n\n  /** Used for native method references. */\n  var objectProto = Object.prototype;\n\n  /** Used to check objects for own properties. */\n  var hasOwnProperty = objectProto.hasOwnProperty;\n\n  /**\n   * A fallback implementation of `Object.keys` which creates an array of the\n   * own enumerable property names of `object`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Array} Returns the array of property names.\n   */\n  function shimKeys(object) {\n    var props = keysIn(object),\n      propsLength = props.length,\n      length = propsLength && object.length;\n\n    var allowIndexes = !!length && isLength(length) &&\n      (isArray(object) || isArguments(object) || isString(object));\n\n    var index = -1,\n      result = [];\n\n    while (++index < propsLength) {\n      var key = props[index];\n      if ((allowIndexes && isIndex(key, length)) || hasOwnProperty.call(object, key)) {\n        result.push(key);\n      }\n    }\n    return result;\n  }\n\n  module.exports = shimKeys;\n\n},{\"../lang/isArguments\":49,\"../lang/isArray\":50,\"../lang/isString\":55,\"../object/keysIn\":59,\"./isIndex\":43,\"./isLength\":45}],48:[function(require,module,exports){\n  var isObject = require('../lang/isObject'),\n    isString = require('../lang/isString'),\n    support = require('../support');\n\n  /**\n   * Converts `value` to an object if it's not one.\n   *\n   * @private\n   * @param {*} value The value to process.\n   * @returns {Object} Returns the object.\n   */\n  function toObject(value) {\n    if (support.unindexedChars && isString(value)) {\n      var index = -1,\n        length = value.length,\n        result = Object(value);\n\n      while (++index < length) {\n        result[index] = value.charAt(index);\n      }\n      return result;\n    }\n    return isObject(value) ? value : Object(value);\n  }\n\n  module.exports = toObject;\n\n},{\"../lang/isObject\":53,\"../lang/isString\":55,\"../support\":61}],49:[function(require,module,exports){\n  var isArrayLike = require('../internal/isArrayLike'),\n    isObjectLike = require('../internal/isObjectLike');\n\n  /** Used for native method references. */\n  var objectProto = Object.prototype;\n\n  /** Used to check objects for own properties. */\n  var hasOwnProperty = objectProto.hasOwnProperty;\n\n  /** Native method references. */\n  var propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n  /**\n   * Checks if `value` is classified as an `arguments` object.\n   *\n   * @static\n   * @memberOf _\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n   * @example\n   *\n   * _.isArguments(function() { return arguments; }());\n   * // => true\n   *\n   * _.isArguments([1, 2, 3]);\n   * // => false\n   */\n  function isArguments(value) {\n    return isObjectLike(value) && isArrayLike(value) &&\n      hasOwnProperty.call(value, 'callee') && !propertyIsEnumerable.call(value, 'callee');\n  }\n\n  module.exports = isArguments;\n\n},{\"../internal/isArrayLike\":41,\"../internal/isObjectLike\":46}],50:[function(require,module,exports){\n  var getNative = require('../internal/getNative'),\n    isLength = require('../internal/isLength'),\n    isObjectLike = require('../internal/isObjectLike');\n\n  /** `Object#toString` result references. */\n  var arrayTag = '[object Array]';\n\n  /** Used for native method references. */\n  var objectProto = Object.prototype;\n\n  /**\n   * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n   * of values.\n   */\n  var objToString = objectProto.toString;\n\n  /* Native method references for those with the same name as other `lodash` methods. */\n  var nativeIsArray = getNative(Array, 'isArray');\n\n  /**\n   * Checks if `value` is classified as an `Array` object.\n   *\n   * @static\n   * @memberOf _\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n   * @example\n   *\n   * _.isArray([1, 2, 3]);\n   * // => true\n   *\n   * _.isArray(function() { return arguments; }());\n   * // => false\n   */\n  var isArray = nativeIsArray || function(value) {\n      return isObjectLike(value) && isLength(value.length) && objToString.call(value) == arrayTag;\n    };\n\n  module.exports = isArray;\n\n},{\"../internal/getNative\":40,\"../internal/isLength\":45,\"../internal/isObjectLike\":46}],51:[function(require,module,exports){\n  var isObject = require('./isObject');\n\n  /** `Object#toString` result references. */\n  var funcTag = '[object Function]';\n\n  /** Used for native method references. */\n  var objectProto = Object.prototype;\n\n  /**\n   * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n   * of values.\n   */\n  var objToString = objectProto.toString;\n\n  /**\n   * Checks if `value` is classified as a `Function` object.\n   *\n   * @static\n   * @memberOf _\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n   * @example\n   *\n   * _.isFunction(_);\n   * // => true\n   *\n   * _.isFunction(/abc/);\n   * // => false\n   */\n  function isFunction(value) {\n    // The use of `Object#toString` avoids issues with the `typeof` operator\n    // in older versions of Chrome and Safari which return 'function' for regexes\n    // and Safari 8 which returns 'object' for typed array constructors.\n    return isObject(value) && objToString.call(value) == funcTag;\n  }\n\n  module.exports = isFunction;\n\n},{\"./isObject\":53}],52:[function(require,module,exports){\n  var isFunction = require('./isFunction'),\n    isHostObject = require('../internal/isHostObject'),\n    isObjectLike = require('../internal/isObjectLike');\n\n  /** Used to detect host constructors (Safari > 5). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used for native method references. */\n  var objectProto = Object.prototype;\n\n  /** Used to resolve the decompiled source of functions. */\n  var fnToString = Function.prototype.toString;\n\n  /** Used to check objects for own properties. */\n  var hasOwnProperty = objectProto.hasOwnProperty;\n\n  /** Used to detect if a method is native. */\n  var reIsNative = RegExp('^' +\n    fnToString.call(hasOwnProperty).replace(/[\\\\^$.*+?()[\\]{}|]/g, '\\\\$&')\n      .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n  );\n\n  /**\n   * Checks if `value` is a native function.\n   *\n   * @static\n   * @memberOf _\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a native function, else `false`.\n   * @example\n   *\n   * _.isNative(Array.prototype.push);\n   * // => true\n   *\n   * _.isNative(_);\n   * // => false\n   */\n  function isNative(value) {\n    if (value == null) {\n      return false;\n    }\n    if (isFunction(value)) {\n      return reIsNative.test(fnToString.call(value));\n    }\n    return isObjectLike(value) && (isHostObject(value) ? reIsNative : reIsHostCtor).test(value);\n  }\n\n  module.exports = isNative;\n\n},{\"../internal/isHostObject\":42,\"../internal/isObjectLike\":46,\"./isFunction\":51}],53:[function(require,module,exports){\n  /**\n   * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n   * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n   *\n   * @static\n   * @memberOf _\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n   * @example\n   *\n   * _.isObject({});\n   * // => true\n   *\n   * _.isObject([1, 2, 3]);\n   * // => true\n   *\n   * _.isObject(1);\n   * // => false\n   */\n  function isObject(value) {\n    // Avoid a V8 JIT bug in Chrome 19-20.\n    // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n    var type = typeof value;\n    return !!value && (type == 'object' || type == 'function');\n  }\n\n  module.exports = isObject;\n\n},{}],54:[function(require,module,exports){\n  var baseForIn = require('../internal/baseForIn'),\n    isArguments = require('./isArguments'),\n    isHostObject = require('../internal/isHostObject'),\n    isObjectLike = require('../internal/isObjectLike'),\n    support = require('../support');\n\n  /** `Object#toString` result references. */\n  var objectTag = '[object Object]';\n\n  /** Used for native method references. */\n  var objectProto = Object.prototype;\n\n  /** Used to check objects for own properties. */\n  var hasOwnProperty = objectProto.hasOwnProperty;\n\n  /**\n   * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n   * of values.\n   */\n  var objToString = objectProto.toString;\n\n  /**\n   * Checks if `value` is a plain object, that is, an object created by the\n   * `Object` constructor or one with a `[[Prototype]]` of `null`.\n   *\n   * **Note:** This method assumes objects created by the `Object` constructor\n   * have no inherited enumerable properties.\n   *\n   * @static\n   * @memberOf _\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n   * @example\n   *\n   * function Foo() {\n *   this.a = 1;\n * }\n   *\n   * _.isPlainObject(new Foo);\n   * // => false\n   *\n   * _.isPlainObject([1, 2, 3]);\n   * // => false\n   *\n   * _.isPlainObject({ 'x': 0, 'y': 0 });\n   * // => true\n   *\n   * _.isPlainObject(Object.create(null));\n   * // => true\n   */\n  function isPlainObject(value) {\n    var Ctor;\n\n    // Exit early for non `Object` objects.\n    if (!(isObjectLike(value) && objToString.call(value) == objectTag && !isHostObject(value) && !isArguments(value)) ||\n      (!hasOwnProperty.call(value, 'constructor') && (Ctor = value.constructor, typeof Ctor == 'function' && !(Ctor instanceof Ctor)))) {\n      return false;\n    }\n    // IE < 9 iterates inherited properties before own properties. If the first\n    // iterated property is an object's own property then there are no inherited\n    // enumerable properties.\n    var result;\n    if (support.ownLast) {\n      baseForIn(value, function(subValue, key, object) {\n        result = hasOwnProperty.call(object, key);\n        return false;\n      });\n      return result !== false;\n    }\n    // In most environments an object's own properties are iterated before\n    // its inherited properties. If the last iterated property is an object's\n    // own property then there are no inherited enumerable properties.\n    baseForIn(value, function(subValue, key) {\n      result = key;\n    });\n    return result === undefined || hasOwnProperty.call(value, result);\n  }\n\n  module.exports = isPlainObject;\n\n},{\"../internal/baseForIn\":32,\"../internal/isHostObject\":42,\"../internal/isObjectLike\":46,\"../support\":61,\"./isArguments\":49}],55:[function(require,module,exports){\n  var isObjectLike = require('../internal/isObjectLike');\n\n  /** `Object#toString` result references. */\n  var stringTag = '[object String]';\n\n  /** Used for native method references. */\n  var objectProto = Object.prototype;\n\n  /**\n   * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n   * of values.\n   */\n  var objToString = objectProto.toString;\n\n  /**\n   * Checks if `value` is classified as a `String` primitive or object.\n   *\n   * @static\n   * @memberOf _\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n   * @example\n   *\n   * _.isString('abc');\n   * // => true\n   *\n   * _.isString(1);\n   * // => false\n   */\n  function isString(value) {\n    return typeof value == 'string' || (isObjectLike(value) && objToString.call(value) == stringTag);\n  }\n\n  module.exports = isString;\n\n},{\"../internal/isObjectLike\":46}],56:[function(require,module,exports){\n  var isLength = require('../internal/isLength'),\n    isObjectLike = require('../internal/isObjectLike');\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n    typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n      typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n        typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n          typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n    typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n      typedArrayTags[dateTag] = typedArrayTags[errorTag] =\n        typedArrayTags[funcTag] = typedArrayTags[mapTag] =\n          typedArrayTags[numberTag] = typedArrayTags[objectTag] =\n            typedArrayTags[regexpTag] = typedArrayTags[setTag] =\n              typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\n\n  /** Used for native method references. */\n  var objectProto = Object.prototype;\n\n  /**\n   * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n   * of values.\n   */\n  var objToString = objectProto.toString;\n\n  /**\n   * Checks if `value` is classified as a typed array.\n   *\n   * @static\n   * @memberOf _\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n   * @example\n   *\n   * _.isTypedArray(new Uint8Array);\n   * // => true\n   *\n   * _.isTypedArray([]);\n   * // => false\n   */\n  function isTypedArray(value) {\n    return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[objToString.call(value)];\n  }\n\n  module.exports = isTypedArray;\n\n},{\"../internal/isLength\":45,\"../internal/isObjectLike\":46}],57:[function(require,module,exports){\n  var baseCopy = require('../internal/baseCopy'),\n    keysIn = require('../object/keysIn');\n\n  /**\n   * Converts `value` to a plain object flattening inherited enumerable\n   * properties of `value` to own properties of the plain object.\n   *\n   * @static\n   * @memberOf _\n   * @category Lang\n   * @param {*} value The value to convert.\n   * @returns {Object} Returns the converted plain object.\n   * @example\n   *\n   * function Foo() {\n *   this.b = 2;\n * }\n   *\n   * Foo.prototype.c = 3;\n   *\n   * _.assign({ 'a': 1 }, new Foo);\n   * // => { 'a': 1, 'b': 2 }\n   *\n   * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n   * // => { 'a': 1, 'b': 2, 'c': 3 }\n   */\n  function toPlainObject(value) {\n    return baseCopy(value, keysIn(value));\n  }\n\n  module.exports = toPlainObject;\n\n},{\"../internal/baseCopy\":30,\"../object/keysIn\":59}],58:[function(require,module,exports){\n  var getNative = require('../internal/getNative'),\n    isArrayLike = require('../internal/isArrayLike'),\n    isObject = require('../lang/isObject'),\n    shimKeys = require('../internal/shimKeys'),\n    support = require('../support');\n\n  /* Native method references for those with the same name as other `lodash` methods. */\n  var nativeKeys = getNative(Object, 'keys');\n\n  /**\n   * Creates an array of the own enumerable property names of `object`.\n   *\n   * **Note:** Non-object values are coerced to objects. See the\n   * [ES spec](http://ecma-international.org/ecma-262/6.0/#sec-object.keys)\n   * for more details.\n   *\n   * @static\n   * @memberOf _\n   * @category Object\n   * @param {Object} object The object to query.\n   * @returns {Array} Returns the array of property names.\n   * @example\n   *\n   * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n   *\n   * Foo.prototype.c = 3;\n   *\n   * _.keys(new Foo);\n   * // => ['a', 'b'] (iteration order is not guaranteed)\n   *\n   * _.keys('hi');\n   * // => ['0', '1']\n   */\n  var keys = !nativeKeys ? shimKeys : function(object) {\n    var Ctor = object == null ? undefined : object.constructor;\n    if ((typeof Ctor == 'function' && Ctor.prototype === object) ||\n      (typeof object == 'function' ? support.enumPrototypes : isArrayLike(object))) {\n      return shimKeys(object);\n    }\n    return isObject(object) ? nativeKeys(object) : [];\n  };\n\n  module.exports = keys;\n\n},{\"../internal/getNative\":40,\"../internal/isArrayLike\":41,\"../internal/shimKeys\":47,\"../lang/isObject\":53,\"../support\":61}],59:[function(require,module,exports){\n  var arrayEach = require('../internal/arrayEach'),\n    isArguments = require('../lang/isArguments'),\n    isArray = require('../lang/isArray'),\n    isFunction = require('../lang/isFunction'),\n    isIndex = require('../internal/isIndex'),\n    isLength = require('../internal/isLength'),\n    isObject = require('../lang/isObject'),\n    isString = require('../lang/isString'),\n    support = require('../support');\n\n  /** `Object#toString` result references. */\n  var arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    stringTag = '[object String]';\n\n  /** Used to fix the JScript `[[DontEnum]]` bug. */\n  var shadowProps = [\n    'constructor', 'hasOwnProperty', 'isPrototypeOf', 'propertyIsEnumerable',\n    'toLocaleString', 'toString', 'valueOf'\n  ];\n\n  /** Used for native method references. */\n  var errorProto = Error.prototype,\n    objectProto = Object.prototype,\n    stringProto = String.prototype;\n\n  /** Used to check objects for own properties. */\n  var hasOwnProperty = objectProto.hasOwnProperty;\n\n  /**\n   * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n   * of values.\n   */\n  var objToString = objectProto.toString;\n\n  /** Used to avoid iterating over non-enumerable properties in IE < 9. */\n  var nonEnumProps = {};\n  nonEnumProps[arrayTag] = nonEnumProps[dateTag] = nonEnumProps[numberTag] = { 'constructor': true, 'toLocaleString': true, 'toString': true, 'valueOf': true };\n  nonEnumProps[boolTag] = nonEnumProps[stringTag] = { 'constructor': true, 'toString': true, 'valueOf': true };\n  nonEnumProps[errorTag] = nonEnumProps[funcTag] = nonEnumProps[regexpTag] = { 'constructor': true, 'toString': true };\n  nonEnumProps[objectTag] = { 'constructor': true };\n\n  arrayEach(shadowProps, function(key) {\n    for (var tag in nonEnumProps) {\n      if (hasOwnProperty.call(nonEnumProps, tag)) {\n        var props = nonEnumProps[tag];\n        props[key] = hasOwnProperty.call(props, key);\n      }\n    }\n  });\n\n  /**\n   * Creates an array of the own and inherited enumerable property names of `object`.\n   *\n   * **Note:** Non-object values are coerced to objects.\n   *\n   * @static\n   * @memberOf _\n   * @category Object\n   * @param {Object} object The object to query.\n   * @returns {Array} Returns the array of property names.\n   * @example\n   *\n   * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n   *\n   * Foo.prototype.c = 3;\n   *\n   * _.keysIn(new Foo);\n   * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n   */\n  function keysIn(object) {\n    if (object == null) {\n      return [];\n    }\n    if (!isObject(object)) {\n      object = Object(object);\n    }\n    var length = object.length;\n\n    length = (length && isLength(length) &&\n    (isArray(object) || isArguments(object) || isString(object)) && length) || 0;\n\n    var Ctor = object.constructor,\n      index = -1,\n      proto = (isFunction(Ctor) && Ctor.prototype) || objectProto,\n      isProto = proto === object,\n      result = Array(length),\n      skipIndexes = length > 0,\n      skipErrorProps = support.enumErrorProps && (object === errorProto || object instanceof Error),\n      skipProto = support.enumPrototypes && isFunction(object);\n\n    while (++index < length) {\n      result[index] = (index + '');\n    }\n    // lodash skips the `constructor` property when it infers it's iterating\n    // over a `prototype` object because IE < 9 can't set the `[[Enumerable]]`\n    // attribute of an existing property and the `constructor` property of a\n    // prototype defaults to non-enumerable.\n    for (var key in object) {\n      if (!(skipProto && key == 'prototype') &&\n        !(skipErrorProps && (key == 'message' || key == 'name')) &&\n        !(skipIndexes && isIndex(key, length)) &&\n        !(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n        result.push(key);\n      }\n    }\n    if (support.nonEnumShadows && object !== objectProto) {\n      var tag = object === stringProto ? stringTag : (object === errorProto ? errorTag : objToString.call(object)),\n        nonEnums = nonEnumProps[tag] || nonEnumProps[objectTag];\n\n      if (tag == objectTag) {\n        proto = objectProto;\n      }\n      length = shadowProps.length;\n      while (length--) {\n        key = shadowProps[length];\n        var nonEnum = nonEnums[key];\n        if (!(isProto && nonEnum) &&\n          (nonEnum ? hasOwnProperty.call(object, key) : object[key] !== proto[key])) {\n          result.push(key);\n        }\n      }\n    }\n    return result;\n  }\n\n  module.exports = keysIn;\n\n},{\"../internal/arrayEach\":29,\"../internal/isIndex\":43,\"../internal/isLength\":45,\"../lang/isArguments\":49,\"../lang/isArray\":50,\"../lang/isFunction\":51,\"../lang/isObject\":53,\"../lang/isString\":55,\"../support\":61}],60:[function(require,module,exports){\n  var baseMerge = require('../internal/baseMerge'),\n    createAssigner = require('../internal/createAssigner');\n\n  /**\n   * Recursively merges own enumerable properties of the source object(s), that\n   * don't resolve to `undefined` into the destination object. Subsequent sources\n   * overwrite property assignments of previous sources. If `customizer` is\n   * provided it's invoked to produce the merged values of the destination and\n   * source properties. If `customizer` returns `undefined` merging is handled\n   * by the method instead. The `customizer` is bound to `thisArg` and invoked\n   * with five arguments: (objectValue, sourceValue, key, object, source).\n   *\n   * @static\n   * @memberOf _\n   * @category Object\n   * @param {Object} object The destination object.\n   * @param {...Object} [sources] The source objects.\n   * @param {Function} [customizer] The function to customize assigned values.\n   * @param {*} [thisArg] The `this` binding of `customizer`.\n   * @returns {Object} Returns `object`.\n   * @example\n   *\n   * var users = {\n *   'data': [{ 'user': 'barney' }, { 'user': 'fred' }]\n * };\n   *\n   * var ages = {\n *   'data': [{ 'age': 36 }, { 'age': 40 }]\n * };\n   *\n   * _.merge(users, ages);\n   * // => { 'data': [{ 'user': 'barney', 'age': 36 }, { 'user': 'fred', 'age': 40 }] }\n   *\n   * // using a customizer callback\n   * var object = {\n *   'fruits': ['apple'],\n *   'vegetables': ['beet']\n * };\n   *\n   * var other = {\n *   'fruits': ['banana'],\n *   'vegetables': ['carrot']\n * };\n   *\n   * _.merge(object, other, function(a, b) {\n *   if (_.isArray(a)) {\n *     return a.concat(b);\n *   }\n * });\n   * // => { 'fruits': ['apple', 'banana'], 'vegetables': ['beet', 'carrot'] }\n   */\n  var merge = createAssigner(baseMerge);\n\n  module.exports = merge;\n\n},{\"../internal/baseMerge\":33,\"../internal/createAssigner\":37}],61:[function(require,module,exports){\n  /** Used for native method references. */\n  var arrayProto = Array.prototype,\n    errorProto = Error.prototype,\n    objectProto = Object.prototype;\n\n  /** Native method references. */\n  var propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice;\n\n  /**\n   * An object environment feature flags.\n   *\n   * @static\n   * @memberOf _\n   * @type Object\n   */\n  var support = {};\n\n  (function(x) {\n    var Ctor = function() { this.x = x; },\n      object = { '0': x, 'length': x },\n      props = [];\n\n    Ctor.prototype = { 'valueOf': x, 'y': x };\n    for (var key in new Ctor) { props.push(key); }\n\n    /**\n     * Detect if `name` or `message` properties of `Error.prototype` are\n     * enumerable by default (IE < 9, Safari < 5.1).\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.enumErrorProps = propertyIsEnumerable.call(errorProto, 'message') ||\n    propertyIsEnumerable.call(errorProto, 'name');\n\n    /**\n     * Detect if `prototype` properties are enumerable by default.\n     *\n     * Firefox < 3.6, Opera > 9.50 - Opera < 11.60, and Safari < 5.1\n     * (if the prototype or a property on the prototype has been set)\n     * incorrectly set the `[[Enumerable]]` value of a function's `prototype`\n     * property to `true`.\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.enumPrototypes = propertyIsEnumerable.call(Ctor, 'prototype');\n\n    /**\n     * Detect if properties shadowing those on `Object.prototype` are non-enumerable.\n     *\n     * In IE < 9 an object's own properties, shadowing non-enumerable ones,\n     * are made non-enumerable as well (a.k.a the JScript `[[DontEnum]]` bug).\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.nonEnumShadows = !/valueOf/.test(props);\n\n    /**\n     * Detect if own properties are iterated after inherited properties (IE < 9).\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.ownLast = props[0] != 'x';\n\n    /**\n     * Detect if `Array#shift` and `Array#splice` augment array-like objects\n     * correctly.\n     *\n     * Firefox < 10, compatibility modes of IE 8, and IE < 9 have buggy Array\n     * `shift()` and `splice()` functions that fail to remove the last element,\n     * `value[0]`, of array-like objects even though the \"length\" property is\n     * set to `0`. The `shift()` method is buggy in compatibility modes of IE 8,\n     * while `splice()` is buggy regardless of mode in IE < 9.\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.spliceObjects = (splice.call(object, 0, 1), !object[0]);\n\n    /**\n     * Detect lack of support for accessing string characters by index.\n     *\n     * IE < 8 can't access characters by index. IE 8 can only access characters\n     * by index on string literals, not string objects.\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.unindexedChars = ('x'[0] + Object('x')[0]) != 'xx';\n  }(1, 0));\n\n  module.exports = support;\n\n},{}],62:[function(require,module,exports){\n  /**\n   * This method returns the first argument provided to it.\n   *\n   * @static\n   * @memberOf _\n   * @category Utility\n   * @param {*} value Any value.\n   * @returns {*} Returns `value`.\n   * @example\n   *\n   * var object = { 'user': 'fred' };\n   *\n   * _.identity(object) === object;\n   * // => true\n   */\n  function identity(value) {\n    return value;\n  }\n\n  module.exports = identity;\n\n},{}],63:[function(require,module,exports){\n  /**\n   * @file m3u8/index.js\n   *\n   * Utilities for parsing M3U8 files. If the entire manifest is available,\n   * `Parser` will create an object representation with enough detail for managing\n   * playback. `ParseStream` and `LineStream` are lower-level parsing primitives\n   * that do not assume the entirety of the manifest is ready and expose a\n   * ReadableStream-like interface.\n   */\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  var _lineStream = require('./line-stream');\n\n  var _lineStream2 = _interopRequireDefault(_lineStream);\n\n  var _parseStream = require('./parse-stream');\n\n  var _parseStream2 = _interopRequireDefault(_parseStream);\n\n  var _parser = require('./parser');\n\n  var _parser2 = _interopRequireDefault(_parser);\n\n  exports['default'] = {\n    LineStream: _lineStream2['default'],\n    ParseStream: _parseStream2['default'],\n    Parser: _parser2['default']\n  };\n  module.exports = exports['default'];\n},{\"./line-stream\":64,\"./parse-stream\":65,\"./parser\":66}],64:[function(require,module,exports){\n  /**\n   * @file m3u8/line-stream.js\n   */\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _stream = require('./stream');\n\n  var _stream2 = _interopRequireDefault(_stream);\n\n  /**\n   * A stream that buffers string input and generates a `data` event for each\n   * line.\n   *\n   * @class LineStream\n   * @extends Stream\n   */\n\n  var LineStream = (function (_Stream) {\n    _inherits(LineStream, _Stream);\n\n    function LineStream() {\n      _classCallCheck(this, LineStream);\n\n      _get(Object.getPrototypeOf(LineStream.prototype), 'constructor', this).call(this);\n      this.buffer = '';\n    }\n\n    /**\n     * Add new data to be parsed.\n     *\n     * @param {String} data the text to process\n     */\n\n    _createClass(LineStream, [{\n      key: 'push',\n      value: function push(data) {\n        var nextNewline = undefined;\n\n        this.buffer += data;\n        nextNewline = this.buffer.indexOf('\\n');\n\n        for (; nextNewline > -1; nextNewline = this.buffer.indexOf('\\n')) {\n          this.trigger('data', this.buffer.substring(0, nextNewline));\n          this.buffer = this.buffer.substring(nextNewline + 1);\n        }\n      }\n    }]);\n\n    return LineStream;\n  })(_stream2['default']);\n\n  exports['default'] = LineStream;\n  module.exports = exports['default'];\n},{\"./stream\":67}],65:[function(require,module,exports){\n  /**\n   * @file m3u8/parse-stream.js\n   */\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _stream = require('./stream');\n\n  var _stream2 = _interopRequireDefault(_stream);\n\n  /**\n   * \"forgiving\" attribute list psuedo-grammar:\n   * attributes -> keyvalue (',' keyvalue)*\n   * keyvalue   -> key '=' value\n   * key        -> [^=]*\n   * value      -> '\"' [^\"]* '\"' | [^,]*\n   */\n  var attributeSeparator = function attributeSeparator() {\n    var key = '[^=]*';\n    var value = '\"[^\"]*\"|[^,]*';\n    var keyvalue = '(?:' + key + ')=(?:' + value + ')';\n\n    return new RegExp('(?:^|,)(' + keyvalue + ')');\n  };\n\n  /**\n   * Parse attributes from a line given the seperator\n   *\n   * @param {String} attributes the attibute line to parse\n   */\n  var parseAttributes = function parseAttributes(attributes) {\n    // split the string using attributes as the separator\n    var attrs = attributes.split(attributeSeparator());\n    var i = attrs.length;\n    var result = {};\n    var attr = undefined;\n\n    while (i--) {\n      // filter out unmatched portions of the string\n      if (attrs[i] === '') {\n        continue;\n      }\n\n      // split the key and value\n      attr = /([^=]*)=(.*)/.exec(attrs[i]).slice(1);\n      // trim whitespace and remove optional quotes around the value\n      attr[0] = attr[0].replace(/^\\s+|\\s+$/g, '');\n      attr[1] = attr[1].replace(/^\\s+|\\s+$/g, '');\n      attr[1] = attr[1].replace(/^['\"](.*)['\"]$/g, '$1');\n      result[attr[0]] = attr[1];\n    }\n    return result;\n  };\n\n  /**\n   * A line-level M3U8 parser event stream. It expects to receive input one\n   * line at a time and performs a context-free parse of its contents. A stream\n   * interpretation of a manifest can be useful if the manifest is expected to\n   * be too large to fit comfortably into memory or the entirety of the input\n   * is not immediately available. Otherwise, it's probably much easier to work\n   * with a regular `Parser` object.\n   *\n   * Produces `data` events with an object that captures the parser's\n   * interpretation of the input. That object has a property `tag` that is one\n   * of `uri`, `comment`, or `tag`. URIs only have a single additional\n   * property, `line`, which captures the entirety of the input without\n   * interpretation. Comments similarly have a single additional property\n   * `text` which is the input without the leading `#`.\n   *\n   * Tags always have a property `tagType` which is the lower-cased version of\n   * the M3U8 directive without the `#EXT` or `#EXT-X-` prefix. For instance,\n   * `#EXT-X-MEDIA-SEQUENCE` becomes `media-sequence` when parsed. Unrecognized\n   * tags are given the tag type `unknown` and a single additional property\n   * `data` with the remainder of the input.\n   *\n   * @class ParseStream\n   * @extends Stream\n   */\n\n  var ParseStream = (function (_Stream) {\n    _inherits(ParseStream, _Stream);\n\n    function ParseStream() {\n      _classCallCheck(this, ParseStream);\n\n      _get(Object.getPrototypeOf(ParseStream.prototype), 'constructor', this).call(this);\n    }\n\n    /**\n     * Parses an additional line of input.\n     *\n     * @param {String} line a single line of an M3U8 file to parse\n     */\n\n    _createClass(ParseStream, [{\n      key: 'push',\n      value: function push(line) {\n        var match = undefined;\n        var event = undefined;\n\n        // strip whitespace\n        line = line.replace(/^[\\u0000\\s]+|[\\u0000\\s]+$/g, '');\n        if (line.length === 0) {\n          // ignore empty lines\n          return;\n        }\n\n        // URIs\n        if (line[0] !== '#') {\n          this.trigger('data', {\n            type: 'uri',\n            uri: line\n          });\n          return;\n        }\n\n        // Comments\n        if (line.indexOf('#EXT') !== 0) {\n          this.trigger('data', {\n            type: 'comment',\n            text: line.slice(1)\n          });\n          return;\n        }\n\n        // strip off any carriage returns here so the regex matching\n        // doesn't have to account for them.\n        line = line.replace('\\r', '');\n\n        // Tags\n        match = /^#EXTM3U/.exec(line);\n        if (match) {\n          this.trigger('data', {\n            type: 'tag',\n            tagType: 'm3u'\n          });\n          return;\n        }\n        match = /^#EXTINF:?([0-9\\.]*)?,?(.*)?$/.exec(line);\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'inf'\n          };\n          if (match[1]) {\n            event.duration = parseFloat(match[1]);\n          }\n          if (match[2]) {\n            event.title = match[2];\n          }\n          this.trigger('data', event);\n          return;\n        }\n        match = /^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(line);\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'targetduration'\n          };\n          if (match[1]) {\n            event.duration = parseInt(match[1], 10);\n          }\n          this.trigger('data', event);\n          return;\n        }\n        match = /^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(line);\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'totalduration'\n          };\n          if (match[1]) {\n            event.duration = parseInt(match[1], 10);\n          }\n          this.trigger('data', event);\n          return;\n        }\n        match = /^#EXT-X-VERSION:?([0-9.]*)?/.exec(line);\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'version'\n          };\n          if (match[1]) {\n            event.version = parseInt(match[1], 10);\n          }\n          this.trigger('data', event);\n          return;\n        }\n        match = /^#EXT-X-MEDIA-SEQUENCE:?(\\-?[0-9.]*)?/.exec(line);\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'media-sequence'\n          };\n          if (match[1]) {\n            event.number = parseInt(match[1], 10);\n          }\n          this.trigger('data', event);\n          return;\n        }\n        match = /^#EXT-X-DISCONTINUITY-SEQUENCE:?(\\-?[0-9.]*)?/.exec(line);\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'discontinuity-sequence'\n          };\n          if (match[1]) {\n            event.number = parseInt(match[1], 10);\n          }\n          this.trigger('data', event);\n          return;\n        }\n        match = /^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(line);\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'playlist-type'\n          };\n          if (match[1]) {\n            event.playlistType = match[1];\n          }\n          this.trigger('data', event);\n          return;\n        }\n        match = /^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(line);\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'byterange'\n          };\n          if (match[1]) {\n            event.length = parseInt(match[1], 10);\n          }\n          if (match[2]) {\n            event.offset = parseInt(match[2], 10);\n          }\n          this.trigger('data', event);\n          return;\n        }\n        match = /^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(line);\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'allow-cache'\n          };\n          if (match[1]) {\n            event.allowed = !/NO/.test(match[1]);\n          }\n          this.trigger('data', event);\n          return;\n        }\n        match = /^#EXT-X-MAP:?(.*)$/.exec(line);\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'map'\n          };\n\n          if (match[1]) {\n            var attributes = parseAttributes(match[1]);\n\n            if (attributes.URI) {\n              event.uri = attributes.URI;\n            }\n            if (attributes.BYTERANGE) {\n              var _attributes$BYTERANGE$split = attributes.BYTERANGE.split('@');\n\n              var _attributes$BYTERANGE$split2 = _slicedToArray(_attributes$BYTERANGE$split, 2);\n\n              var _length = _attributes$BYTERANGE$split2[0];\n              var offset = _attributes$BYTERANGE$split2[1];\n\n              event.byterange = {};\n              if (_length) {\n                event.byterange.length = parseInt(_length, 10);\n              }\n              if (offset) {\n                event.byterange.offset = parseInt(offset, 10);\n              }\n            }\n          }\n\n          this.trigger('data', event);\n          return;\n        }\n        match = /^#EXT-X-STREAM-INF:?(.*)$/.exec(line);\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'stream-inf'\n          };\n          if (match[1]) {\n            event.attributes = parseAttributes(match[1]);\n\n            if (event.attributes.RESOLUTION) {\n              var split = event.attributes.RESOLUTION.split('x');\n              var resolution = {};\n\n              if (split[0]) {\n                resolution.width = parseInt(split[0], 10);\n              }\n              if (split[1]) {\n                resolution.height = parseInt(split[1], 10);\n              }\n              event.attributes.RESOLUTION = resolution;\n            }\n            if (event.attributes.BANDWIDTH) {\n              event.attributes.BANDWIDTH = parseInt(event.attributes.BANDWIDTH, 10);\n            }\n            if (event.attributes['PROGRAM-ID']) {\n              event.attributes['PROGRAM-ID'] = parseInt(event.attributes['PROGRAM-ID'], 10);\n            }\n          }\n          this.trigger('data', event);\n          return;\n        }\n        match = /^#EXT-X-MEDIA:?(.*)$/.exec(line);\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'media'\n          };\n          if (match[1]) {\n            event.attributes = parseAttributes(match[1]);\n          }\n          this.trigger('data', event);\n          return;\n        }\n        match = /^#EXT-X-ENDLIST/.exec(line);\n        if (match) {\n          this.trigger('data', {\n            type: 'tag',\n            tagType: 'endlist'\n          });\n          return;\n        }\n        match = /^#EXT-X-DISCONTINUITY/.exec(line);\n        if (match) {\n          this.trigger('data', {\n            type: 'tag',\n            tagType: 'discontinuity'\n          });\n          return;\n        }\n        match = /^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(line);\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'program-date-time'\n          };\n          if (match[1]) {\n            event.dateTimeString = match[1];\n            event.dateTimeObject = new Date(match[1]);\n          }\n          this.trigger('data', event);\n          return;\n        }\n        match = /^#EXT-X-KEY:?(.*)$/.exec(line);\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'key'\n          };\n          if (match[1]) {\n            event.attributes = parseAttributes(match[1]);\n            // parse the IV string into a Uint32Array\n            if (event.attributes.IV) {\n              if (event.attributes.IV.substring(0, 2).toLowerCase() === '0x') {\n                event.attributes.IV = event.attributes.IV.substring(2);\n              }\n\n              event.attributes.IV = event.attributes.IV.match(/.{8}/g);\n              event.attributes.IV[0] = parseInt(event.attributes.IV[0], 16);\n              event.attributes.IV[1] = parseInt(event.attributes.IV[1], 16);\n              event.attributes.IV[2] = parseInt(event.attributes.IV[2], 16);\n              event.attributes.IV[3] = parseInt(event.attributes.IV[3], 16);\n              event.attributes.IV = new Uint32Array(event.attributes.IV);\n            }\n          }\n          this.trigger('data', event);\n          return;\n        }\n        match = /^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(line);\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'cue-out-cont'\n          };\n          if (match[1]) {\n            event.data = match[1];\n          } else {\n            event.data = '';\n          }\n          this.trigger('data', event);\n          return;\n        }\n        match = /^#EXT-X-CUE-OUT:?(.*)?$/.exec(line);\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'cue-out'\n          };\n          if (match[1]) {\n            event.data = match[1];\n          } else {\n            event.data = '';\n          }\n          this.trigger('data', event);\n          return;\n        }\n        match = /^#EXT-X-CUE-IN:?(.*)?$/.exec(line);\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'cue-in'\n          };\n          if (match[1]) {\n            event.data = match[1];\n          } else {\n            event.data = '';\n          }\n          this.trigger('data', event);\n          return;\n        }\n\n        // unknown tag type\n        this.trigger('data', {\n          type: 'tag',\n          data: line.slice(4)\n        });\n      }\n    }]);\n\n    return ParseStream;\n  })(_stream2['default']);\n\n  exports['default'] = ParseStream;\n  module.exports = exports['default'];\n},{\"./stream\":67}],66:[function(require,module,exports){\n  /**\n   * @file m3u8/parser.js\n   */\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _stream = require('./stream');\n\n  var _stream2 = _interopRequireDefault(_stream);\n\n  var _lineStream = require('./line-stream');\n\n  var _lineStream2 = _interopRequireDefault(_lineStream);\n\n  var _parseStream = require('./parse-stream');\n\n  var _parseStream2 = _interopRequireDefault(_parseStream);\n\n  var _lodashCompatObjectMerge = require('lodash-compat/object/merge');\n\n  var _lodashCompatObjectMerge2 = _interopRequireDefault(_lodashCompatObjectMerge);\n\n  /**\n   * A parser for M3U8 files. The current interpretation of the input is\n   * exposed as a property `manifest` on parser objects. It's just two lines to\n   * create and parse a manifest once you have the contents available as a string:\n   *\n   * ```js\n   * var parser = new m3u8.Parser();\n   * parser.push(xhr.responseText);\n   * ```\n   *\n   * New input can later be applied to update the manifest object by calling\n   * `push` again.\n   *\n   * The parser attempts to create a usable manifest object even if the\n   * underlying input is somewhat nonsensical. It emits `info` and `warning`\n   * events during the parse if it encounters input that seems invalid or\n   * requires some property of the manifest object to be defaulted.\n   *\n   * @class Parser\n   * @extends Stream\n   */\n\n  var Parser = (function (_Stream) {\n    _inherits(Parser, _Stream);\n\n    function Parser() {\n      _classCallCheck(this, Parser);\n\n      _get(Object.getPrototypeOf(Parser.prototype), 'constructor', this).call(this);\n      this.lineStream = new _lineStream2['default']();\n      this.parseStream = new _parseStream2['default']();\n      this.lineStream.pipe(this.parseStream);\n      /* eslint-disable consistent-this */\n      var self = this;\n      /* eslint-enable consistent-this */\n      var uris = [];\n      var currentUri = {};\n      // if specified, the active EXT-X-MAP definition\n      var currentMap = undefined;\n      // if specified, the active decryption key\n      var _key = undefined;\n      var noop = function noop() {};\n      var defaultMediaGroups = {\n        'AUDIO': {},\n        'VIDEO': {},\n        'CLOSED-CAPTIONS': {},\n        'SUBTITLES': {}\n      };\n      // group segments into numbered timelines delineated by discontinuities\n      var currentTimeline = 0;\n\n      // the manifest is empty until the parse stream begins delivering data\n      this.manifest = {\n        allowCache: true,\n        discontinuityStarts: []\n      };\n\n      // update the manifest with the m3u8 entry from the parse stream\n      this.parseStream.on('data', function (entry) {\n        var mediaGroup = undefined;\n        var rendition = undefined;\n\n        ({\n          tag: function tag() {\n            // switch based on the tag type\n            (({\n              'allow-cache': function allowCache() {\n                this.manifest.allowCache = entry.allowed;\n                if (!('allowed' in entry)) {\n                  this.trigger('info', {\n                    message: 'defaulting allowCache to YES'\n                  });\n                  this.manifest.allowCache = true;\n                }\n              },\n              byterange: function byterange() {\n                var byterange = {};\n\n                if ('length' in entry) {\n                  currentUri.byterange = byterange;\n                  byterange.length = entry.length;\n\n                  if (!('offset' in entry)) {\n                    this.trigger('info', {\n                      message: 'defaulting offset to zero'\n                    });\n                    entry.offset = 0;\n                  }\n                }\n                if ('offset' in entry) {\n                  currentUri.byterange = byterange;\n                  byterange.offset = entry.offset;\n                }\n              },\n              endlist: function endlist() {\n                this.manifest.endList = true;\n              },\n              inf: function inf() {\n                if (!('mediaSequence' in this.manifest)) {\n                  this.manifest.mediaSequence = 0;\n                  this.trigger('info', {\n                    message: 'defaulting media sequence to zero'\n                  });\n                }\n                if (!('discontinuitySequence' in this.manifest)) {\n                  this.manifest.discontinuitySequence = 0;\n                  this.trigger('info', {\n                    message: 'defaulting discontinuity sequence to zero'\n                  });\n                }\n                if (entry.duration > 0) {\n                  currentUri.duration = entry.duration;\n                }\n\n                if (entry.duration === 0) {\n                  currentUri.duration = 0.01;\n                  this.trigger('info', {\n                    message: 'updating zero segment duration to a small value'\n                  });\n                }\n\n                this.manifest.segments = uris;\n              },\n              key: function key() {\n                if (!entry.attributes) {\n                  this.trigger('warn', {\n                    message: 'ignoring key declaration without attribute list'\n                  });\n                  return;\n                }\n                // clear the active encryption key\n                if (entry.attributes.METHOD === 'NONE') {\n                  _key = null;\n                  return;\n                }\n                if (!entry.attributes.URI) {\n                  this.trigger('warn', {\n                    message: 'ignoring key declaration without URI'\n                  });\n                  return;\n                }\n                if (!entry.attributes.METHOD) {\n                  this.trigger('warn', {\n                    message: 'defaulting key method to AES-128'\n                  });\n                }\n\n                // setup an encryption key for upcoming segments\n                _key = {\n                  method: entry.attributes.METHOD || 'AES-128',\n                  uri: entry.attributes.URI\n                };\n\n                if (typeof entry.attributes.IV !== 'undefined') {\n                  _key.iv = entry.attributes.IV;\n                }\n              },\n              'media-sequence': function mediaSequence() {\n                if (!isFinite(entry.number)) {\n                  this.trigger('warn', {\n                    message: 'ignoring invalid media sequence: ' + entry.number\n                  });\n                  return;\n                }\n                this.manifest.mediaSequence = entry.number;\n              },\n              'discontinuity-sequence': function discontinuitySequence() {\n                if (!isFinite(entry.number)) {\n                  this.trigger('warn', {\n                    message: 'ignoring invalid discontinuity sequence: ' + entry.number\n                  });\n                  return;\n                }\n                this.manifest.discontinuitySequence = entry.number;\n                currentTimeline = entry.number;\n              },\n              'playlist-type': function playlistType() {\n                if (!/VOD|EVENT/.test(entry.playlistType)) {\n                  this.trigger('warn', {\n                    message: 'ignoring unknown playlist type: ' + entry.playlist\n                  });\n                  return;\n                }\n                this.manifest.playlistType = entry.playlistType;\n              },\n              map: function map() {\n                currentMap = {};\n                if (entry.uri) {\n                  currentMap.uri = entry.uri;\n                }\n                if (entry.byterange) {\n                  currentMap.byterange = entry.byterange;\n                }\n              },\n              'stream-inf': function streamInf() {\n                this.manifest.playlists = uris;\n                this.manifest.mediaGroups = this.manifest.mediaGroups || defaultMediaGroups;\n\n                if (!entry.attributes) {\n                  this.trigger('warn', {\n                    message: 'ignoring empty stream-inf attributes'\n                  });\n                  return;\n                }\n\n                if (!currentUri.attributes) {\n                  currentUri.attributes = {};\n                }\n                currentUri.attributes = (0, _lodashCompatObjectMerge2['default'])(currentUri.attributes, entry.attributes);\n              },\n              media: function media() {\n                this.manifest.mediaGroups = this.manifest.mediaGroups || defaultMediaGroups;\n\n                if (!(entry.attributes && entry.attributes.TYPE && entry.attributes['GROUP-ID'] && entry.attributes.NAME)) {\n                  this.trigger('warn', {\n                    message: 'ignoring incomplete or missing media group'\n                  });\n                  return;\n                }\n\n                // find the media group, creating defaults as necessary\n                var mediaGroupType = this.manifest.mediaGroups[entry.attributes.TYPE];\n\n                mediaGroupType[entry.attributes['GROUP-ID']] = mediaGroupType[entry.attributes['GROUP-ID']] || {};\n                mediaGroup = mediaGroupType[entry.attributes['GROUP-ID']];\n\n                // collect the rendition metadata\n                rendition = {\n                  'default': /yes/i.test(entry.attributes.DEFAULT)\n                };\n                if (rendition['default']) {\n                  rendition.autoselect = true;\n                } else {\n                  rendition.autoselect = /yes/i.test(entry.attributes.AUTOSELECT);\n                }\n                if (entry.attributes.LANGUAGE) {\n                  rendition.language = entry.attributes.LANGUAGE;\n                }\n                if (entry.attributes.URI) {\n                  rendition.uri = entry.attributes.URI;\n                }\n                if (entry.attributes['INSTREAM-ID']) {\n                  rendition.instreamId = entry.attributes['INSTREAM-ID'];\n                }\n\n                // insert the new rendition\n                mediaGroup[entry.attributes.NAME] = rendition;\n              },\n              discontinuity: function discontinuity() {\n                currentTimeline += 1;\n                currentUri.discontinuity = true;\n                this.manifest.discontinuityStarts.push(uris.length);\n              },\n              'program-date-time': function programDateTime() {\n                this.manifest.dateTimeString = entry.dateTimeString;\n                this.manifest.dateTimeObject = entry.dateTimeObject;\n              },\n              targetduration: function targetduration() {\n                if (!isFinite(entry.duration) || entry.duration < 0) {\n                  this.trigger('warn', {\n                    message: 'ignoring invalid target duration: ' + entry.duration\n                  });\n                  return;\n                }\n                this.manifest.targetDuration = entry.duration;\n              },\n              totalduration: function totalduration() {\n                if (!isFinite(entry.duration) || entry.duration < 0) {\n                  this.trigger('warn', {\n                    message: 'ignoring invalid total duration: ' + entry.duration\n                  });\n                  return;\n                }\n                this.manifest.totalDuration = entry.duration;\n              },\n              'cue-out': function cueOut() {\n                currentUri.cueOut = entry.data;\n              },\n              'cue-out-cont': function cueOutCont() {\n                currentUri.cueOutCont = entry.data;\n              },\n              'cue-in': function cueIn() {\n                currentUri.cueIn = entry.data;\n              }\n            })[entry.tagType] || noop).call(self);\n          },\n          uri: function uri() {\n            currentUri.uri = entry.uri;\n            uris.push(currentUri);\n\n            // if no explicit duration was declared, use the target duration\n            if (this.manifest.targetDuration && !('duration' in currentUri)) {\n              this.trigger('warn', {\n                message: 'defaulting segment duration to the target duration'\n              });\n              currentUri.duration = this.manifest.targetDuration;\n            }\n            // annotate with encryption information, if necessary\n            if (_key) {\n              currentUri.key = _key;\n            }\n            currentUri.timeline = currentTimeline;\n            // annotate with initialization segment information, if necessary\n            if (currentMap) {\n              currentUri.map = currentMap;\n            }\n\n            // prepare for the next URI\n            currentUri = {};\n          },\n          comment: function comment() {\n            // comments are not important for playback\n          }\n        })[entry.type].call(self);\n      });\n    }\n\n    /**\n     * Parse the input string and update the manifest object.\n     *\n     * @param {String} chunk a potentially incomplete portion of the manifest\n     */\n\n    _createClass(Parser, [{\n      key: 'push',\n      value: function push(chunk) {\n        this.lineStream.push(chunk);\n      }\n\n      /**\n       * Flush any remaining input. This can be handy if the last line of an M3U8\n       * manifest did not contain a trailing newline but the file has been\n       * completely received.\n       */\n    }, {\n      key: 'end',\n      value: function end() {\n        // flush any buffered input\n        this.lineStream.push('\\n');\n      }\n    }]);\n\n    return Parser;\n  })(_stream2['default']);\n\n  exports['default'] = Parser;\n  module.exports = exports['default'];\n},{\"./line-stream\":64,\"./parse-stream\":65,\"./stream\":67,\"lodash-compat/object/merge\":60}],67:[function(require,module,exports){\n  arguments[4][14][0].apply(exports,arguments)\n},{\"dup\":14}],68:[function(require,module,exports){\n  /**\n   * mux.js\n   *\n   * Copyright (c) 2016 Brightcove\n   * All rights reserved.\n   *\n   * A stream-based aac to mp4 converter. This utility can be used to\n   * deliver mp4s to a SourceBuffer on platforms that support native\n   * Media Source Extensions.\n   */\n  'use strict';\n  var Stream = require('../utils/stream.js');\n\n// Constants\n  var AacStream;\n\n  /**\n   * Splits an incoming stream of binary data into ADTS and ID3 Frames.\n   */\n\n  AacStream = function() {\n    var\n      everything = new Uint8Array(),\n      timeStamp = 0;\n\n    AacStream.prototype.init.call(this);\n\n    this.setTimestamp = function(timestamp) {\n      timeStamp = timestamp;\n    };\n\n    this.parseId3TagSize = function(header, byteIndex) {\n      var\n        returnSize = (header[byteIndex + 6] << 21) |\n          (header[byteIndex + 7] << 14) |\n          (header[byteIndex + 8] << 7) |\n          (header[byteIndex + 9]),\n        flags = header[byteIndex + 5],\n        footerPresent = (flags & 16) >> 4;\n\n      if (footerPresent) {\n        return returnSize + 20;\n      }\n      return returnSize + 10;\n    };\n\n    this.parseAdtsSize = function(header, byteIndex) {\n      var\n        lowThree = (header[byteIndex + 5] & 0xE0) >> 5,\n        middle = header[byteIndex + 4] << 3,\n        highTwo = header[byteIndex + 3] & 0x3 << 11;\n\n      return (highTwo | middle) | lowThree;\n    };\n\n    this.push = function(bytes) {\n      var\n        frameSize = 0,\n        byteIndex = 0,\n        bytesLeft,\n        chunk,\n        packet,\n        tempLength;\n\n      // If there are bytes remaining from the last segment, prepend them to the\n      // bytes that were pushed in\n      if (everything.length) {\n        tempLength = everything.length;\n        everything = new Uint8Array(bytes.byteLength + tempLength);\n        everything.set(everything.subarray(0, tempLength));\n        everything.set(bytes, tempLength);\n      } else {\n        everything = bytes;\n      }\n\n      while (everything.length - byteIndex >= 3) {\n        if ((everything[byteIndex] === 'I'.charCodeAt(0)) &&\n          (everything[byteIndex + 1] === 'D'.charCodeAt(0)) &&\n          (everything[byteIndex + 2] === '3'.charCodeAt(0))) {\n\n          // Exit early because we don't have enough to parse\n          // the ID3 tag header\n          if (everything.length - byteIndex < 10) {\n            break;\n          }\n\n          // check framesize\n          frameSize = this.parseId3TagSize(everything, byteIndex);\n\n          // Exit early if we don't have enough in the buffer\n          // to emit a full packet\n          if (frameSize > everything.length) {\n            break;\n          }\n          chunk = {\n            type: 'timed-metadata',\n            data: everything.subarray(byteIndex, byteIndex + frameSize)\n          };\n          this.trigger('data', chunk);\n          byteIndex += frameSize;\n          continue;\n        } else if ((everything[byteIndex] & 0xff === 0xff) &&\n          ((everything[byteIndex + 1] & 0xf0) === 0xf0)) {\n\n          // Exit early because we don't have enough to parse\n          // the ADTS frame header\n          if (everything.length - byteIndex < 7) {\n            break;\n          }\n\n          frameSize = this.parseAdtsSize(everything, byteIndex);\n\n          // Exit early if we don't have enough in the buffer\n          // to emit a full packet\n          if (frameSize > everything.length) {\n            break;\n          }\n\n          packet = {\n            type: 'audio',\n            data: everything.subarray(byteIndex, byteIndex + frameSize),\n            pts: timeStamp,\n            dts: timeStamp\n          };\n          this.trigger('data', packet);\n          byteIndex += frameSize;\n          continue;\n        }\n        byteIndex++;\n      }\n      bytesLeft = everything.length - byteIndex;\n\n      if (bytesLeft > 0) {\n        everything = everything.subarray(byteIndex);\n      } else {\n        everything = new Uint8Array();\n      }\n    };\n  };\n\n  AacStream.prototype = new Stream();\n\n  module.exports = AacStream;\n\n},{\"../utils/stream.js\":84}],69:[function(require,module,exports){\n  'use strict';\n\n  var Stream = require('../utils/stream.js');\n\n  var AdtsStream;\n\n  var\n    ADTS_SAMPLING_FREQUENCIES = [\n      96000,\n      88200,\n      64000,\n      48000,\n      44100,\n      32000,\n      24000,\n      22050,\n      16000,\n      12000,\n      11025,\n      8000,\n      7350\n    ];\n\n  /*\n   * Accepts a ElementaryStream and emits data events with parsed\n   * AAC Audio Frames of the individual packets. Input audio in ADTS\n   * format is unpacked and re-emitted as AAC frames.\n   *\n   * @see http://wiki.multimedia.cx/index.php?title=ADTS\n   * @see http://wiki.multimedia.cx/?title=Understanding_AAC\n   */\n  AdtsStream = function() {\n    var buffer;\n\n    AdtsStream.prototype.init.call(this);\n\n    this.push = function(packet) {\n      var\n        i = 0,\n        frameNum = 0,\n        frameLength,\n        protectionSkipBytes,\n        frameEnd,\n        oldBuffer,\n        sampleCount,\n        adtsFrameDuration;\n\n      if (packet.type !== 'audio') {\n        // ignore non-audio data\n        return;\n      }\n\n      // Prepend any data in the buffer to the input data so that we can parse\n      // aac frames the cross a PES packet boundary\n      if (buffer) {\n        oldBuffer = buffer;\n        buffer = new Uint8Array(oldBuffer.byteLength + packet.data.byteLength);\n        buffer.set(oldBuffer);\n        buffer.set(packet.data, oldBuffer.byteLength);\n      } else {\n        buffer = packet.data;\n      }\n\n      // unpack any ADTS frames which have been fully received\n      // for details on the ADTS header, see http://wiki.multimedia.cx/index.php?title=ADTS\n      while (i + 5 < buffer.length) {\n\n        // Loook for the start of an ADTS header..\n        if (buffer[i] !== 0xFF || (buffer[i + 1] & 0xF6) !== 0xF0) {\n          // If a valid header was not found,  jump one forward and attempt to\n          // find a valid ADTS header starting at the next byte\n          i++;\n          continue;\n        }\n\n        // The protection skip bit tells us if we have 2 bytes of CRC data at the\n        // end of the ADTS header\n        protectionSkipBytes = (~buffer[i + 1] & 0x01) * 2;\n\n        // Frame length is a 13 bit integer starting 16 bits from the\n        // end of the sync sequence\n        frameLength = ((buffer[i + 3] & 0x03) << 11) |\n        (buffer[i + 4] << 3) |\n        ((buffer[i + 5] & 0xe0) >> 5);\n\n        sampleCount = ((buffer[i + 6] & 0x03) + 1) * 1024;\n        adtsFrameDuration = (sampleCount * 90000) /\n        ADTS_SAMPLING_FREQUENCIES[(buffer[i + 2] & 0x3c) >>> 2];\n\n        frameEnd = i + frameLength;\n\n        // If we don't have enough data to actually finish this ADTS frame, return\n        // and wait for more data\n        if (buffer.byteLength < frameEnd) {\n          return;\n        }\n\n        // Otherwise, deliver the complete AAC frame\n        this.trigger('data', {\n          pts: packet.pts + (frameNum * adtsFrameDuration),\n          dts: packet.dts + (frameNum * adtsFrameDuration),\n          sampleCount: sampleCount,\n          audioobjecttype: ((buffer[i + 2] >>> 6) & 0x03) + 1,\n          channelcount: ((buffer[i + 2] & 1) << 2) |\n          ((buffer[i + 3] & 0xc0) >>> 6),\n          samplerate: ADTS_SAMPLING_FREQUENCIES[(buffer[i + 2] & 0x3c) >>> 2],\n          samplingfrequencyindex: (buffer[i + 2] & 0x3c) >>> 2,\n          // assume ISO/IEC 14496-12 AudioSampleEntry default of 16\n          samplesize: 16,\n          data: buffer.subarray(i + 7 + protectionSkipBytes, frameEnd)\n        });\n\n        // If the buffer is empty, clear it and return\n        if (buffer.byteLength === frameEnd) {\n          buffer = undefined;\n          return;\n        }\n\n        frameNum++;\n\n        // Remove the finished frame from the buffer and start the process again\n        buffer = buffer.subarray(frameEnd);\n      }\n    };\n    this.flush = function() {\n      this.trigger('done');\n    };\n  };\n\n  AdtsStream.prototype = new Stream();\n\n  module.exports = AdtsStream;\n\n},{\"../utils/stream.js\":84}],70:[function(require,module,exports){\n  'use strict';\n\n  var Stream = require('../utils/stream.js');\n  var ExpGolomb = require('../utils/exp-golomb.js');\n\n  var H264Stream, NalByteStream;\n  var PROFILES_WITH_OPTIONAL_SPS_DATA;\n\n  /**\n   * Accepts a NAL unit byte stream and unpacks the embedded NAL units.\n   */\n  NalByteStream = function() {\n    var\n      syncPoint = 0,\n      i,\n      buffer;\n    NalByteStream.prototype.init.call(this);\n\n    this.push = function(data) {\n      var swapBuffer;\n\n      if (!buffer) {\n        buffer = data.data;\n      } else {\n        swapBuffer = new Uint8Array(buffer.byteLength + data.data.byteLength);\n        swapBuffer.set(buffer);\n        swapBuffer.set(data.data, buffer.byteLength);\n        buffer = swapBuffer;\n      }\n\n      // Rec. ITU-T H.264, Annex B\n      // scan for NAL unit boundaries\n\n      // a match looks like this:\n      // 0 0 1 .. NAL .. 0 0 1\n      // ^ sync point        ^ i\n      // or this:\n      // 0 0 1 .. NAL .. 0 0 0\n      // ^ sync point        ^ i\n\n      // advance the sync point to a NAL start, if necessary\n      for (; syncPoint < buffer.byteLength - 3; syncPoint++) {\n        if (buffer[syncPoint + 2] === 1) {\n          // the sync point is properly aligned\n          i = syncPoint + 5;\n          break;\n        }\n      }\n\n      while (i < buffer.byteLength) {\n        // look at the current byte to determine if we've hit the end of\n        // a NAL unit boundary\n        switch (buffer[i]) {\n          case 0:\n            // skip past non-sync sequences\n            if (buffer[i - 1] !== 0) {\n              i += 2;\n              break;\n            } else if (buffer[i - 2] !== 0) {\n              i++;\n              break;\n            }\n\n            // deliver the NAL unit if it isn't empty\n            if (syncPoint + 3 !== i - 2) {\n              this.trigger('data', buffer.subarray(syncPoint + 3, i - 2));\n            }\n\n            // drop trailing zeroes\n            do {\n              i++;\n            } while (buffer[i] !== 1 && i < buffer.length);\n            syncPoint = i - 2;\n            i += 3;\n            break;\n          case 1:\n            // skip past non-sync sequences\n            if (buffer[i - 1] !== 0 ||\n              buffer[i - 2] !== 0) {\n              i += 3;\n              break;\n            }\n\n            // deliver the NAL unit\n            this.trigger('data', buffer.subarray(syncPoint + 3, i - 2));\n            syncPoint = i - 2;\n            i += 3;\n            break;\n          default:\n            // the current byte isn't a one or zero, so it cannot be part\n            // of a sync sequence\n            i += 3;\n            break;\n        }\n      }\n      // filter out the NAL units that were delivered\n      buffer = buffer.subarray(syncPoint);\n      i -= syncPoint;\n      syncPoint = 0;\n    };\n\n    this.flush = function() {\n      // deliver the last buffered NAL unit\n      if (buffer && buffer.byteLength > 3) {\n        this.trigger('data', buffer.subarray(syncPoint + 3));\n      }\n      // reset the stream state\n      buffer = null;\n      syncPoint = 0;\n      this.trigger('done');\n    };\n  };\n  NalByteStream.prototype = new Stream();\n\n// values of profile_idc that indicate additional fields are included in the SPS\n// see Recommendation ITU-T H.264 (4/2013),\n// 7.3.2.1.1 Sequence parameter set data syntax\n  PROFILES_WITH_OPTIONAL_SPS_DATA = {\n    100: true,\n    110: true,\n    122: true,\n    244: true,\n    44: true,\n    83: true,\n    86: true,\n    118: true,\n    128: true,\n    138: true,\n    139: true,\n    134: true\n  };\n\n  /**\n   * Accepts input from a ElementaryStream and produces H.264 NAL unit data\n   * events.\n   */\n  H264Stream = function() {\n    var\n      nalByteStream = new NalByteStream(),\n      self,\n      trackId,\n      currentPts,\n      currentDts,\n\n      discardEmulationPreventionBytes,\n      readSequenceParameterSet,\n      skipScalingList;\n\n    H264Stream.prototype.init.call(this);\n    self = this;\n\n    this.push = function(packet) {\n      if (packet.type !== 'video') {\n        return;\n      }\n      trackId = packet.trackId;\n      currentPts = packet.pts;\n      currentDts = packet.dts;\n\n      nalByteStream.push(packet);\n    };\n\n    nalByteStream.on('data', function(data) {\n      var\n        event = {\n          trackId: trackId,\n          pts: currentPts,\n          dts: currentDts,\n          data: data\n        };\n\n      switch (data[0] & 0x1f) {\n        case 0x05:\n          event.nalUnitType = 'slice_layer_without_partitioning_rbsp_idr';\n          break;\n        case 0x06:\n          event.nalUnitType = 'sei_rbsp';\n          event.escapedRBSP = discardEmulationPreventionBytes(data.subarray(1));\n          break;\n        case 0x07:\n          event.nalUnitType = 'seq_parameter_set_rbsp';\n          event.escapedRBSP = discardEmulationPreventionBytes(data.subarray(1));\n          event.config = readSequenceParameterSet(event.escapedRBSP);\n          break;\n        case 0x08:\n          event.nalUnitType = 'pic_parameter_set_rbsp';\n          break;\n        case 0x09:\n          event.nalUnitType = 'access_unit_delimiter_rbsp';\n          break;\n\n        default:\n          break;\n      }\n      self.trigger('data', event);\n    });\n    nalByteStream.on('done', function() {\n      self.trigger('done');\n    });\n\n    this.flush = function() {\n      nalByteStream.flush();\n    };\n\n    /**\n     * Advance the ExpGolomb decoder past a scaling list. The scaling\n     * list is optionally transmitted as part of a sequence parameter\n     * set and is not relevant to transmuxing.\n     * @param count {number} the number of entries in this scaling list\n     * @param expGolombDecoder {object} an ExpGolomb pointed to the\n     * start of a scaling list\n     * @see Recommendation ITU-T H.264, Section 7.3.2.1.1.1\n     */\n    skipScalingList = function(count, expGolombDecoder) {\n      var\n        lastScale = 8,\n        nextScale = 8,\n        j,\n        deltaScale;\n\n      for (j = 0; j < count; j++) {\n        if (nextScale !== 0) {\n          deltaScale = expGolombDecoder.readExpGolomb();\n          nextScale = (lastScale + deltaScale + 256) % 256;\n        }\n\n        lastScale = (nextScale === 0) ? lastScale : nextScale;\n      }\n    };\n\n    /**\n     * Expunge any \"Emulation Prevention\" bytes from a \"Raw Byte\n     * Sequence Payload\"\n     * @param data {Uint8Array} the bytes of a RBSP from a NAL\n     * unit\n     * @return {Uint8Array} the RBSP without any Emulation\n     * Prevention Bytes\n     */\n    discardEmulationPreventionBytes = function(data) {\n      var\n        length = data.byteLength,\n        emulationPreventionBytesPositions = [],\n        i = 1,\n        newLength, newData;\n\n      // Find all `Emulation Prevention Bytes`\n      while (i < length - 2) {\n        if (data[i] === 0 && data[i + 1] === 0 && data[i + 2] === 0x03) {\n          emulationPreventionBytesPositions.push(i + 2);\n          i += 2;\n        } else {\n          i++;\n        }\n      }\n\n      // If no Emulation Prevention Bytes were found just return the original\n      // array\n      if (emulationPreventionBytesPositions.length === 0) {\n        return data;\n      }\n\n      // Create a new array to hold the NAL unit data\n      newLength = length - emulationPreventionBytesPositions.length;\n      newData = new Uint8Array(newLength);\n      var sourceIndex = 0;\n\n      for (i = 0; i < newLength; sourceIndex++, i++) {\n        if (sourceIndex === emulationPreventionBytesPositions[0]) {\n          // Skip this byte\n          sourceIndex++;\n          // Remove this position index\n          emulationPreventionBytesPositions.shift();\n        }\n        newData[i] = data[sourceIndex];\n      }\n\n      return newData;\n    };\n\n    /**\n     * Read a sequence parameter set and return some interesting video\n     * properties. A sequence parameter set is the H264 metadata that\n     * describes the properties of upcoming video frames.\n     * @param data {Uint8Array} the bytes of a sequence parameter set\n     * @return {object} an object with configuration parsed from the\n     * sequence parameter set, including the dimensions of the\n     * associated video frames.\n     */\n    readSequenceParameterSet = function(data) {\n      var\n        frameCropLeftOffset = 0,\n        frameCropRightOffset = 0,\n        frameCropTopOffset = 0,\n        frameCropBottomOffset = 0,\n        sarScale = 1,\n        expGolombDecoder, profileIdc, levelIdc, profileCompatibility,\n        chromaFormatIdc, picOrderCntType,\n        numRefFramesInPicOrderCntCycle, picWidthInMbsMinus1,\n        picHeightInMapUnitsMinus1,\n        frameMbsOnlyFlag,\n        scalingListCount,\n        sarRatio,\n        aspectRatioIdc,\n        i;\n\n      expGolombDecoder = new ExpGolomb(data);\n      profileIdc = expGolombDecoder.readUnsignedByte(); // profile_idc\n      profileCompatibility = expGolombDecoder.readUnsignedByte(); // constraint_set[0-5]_flag\n      levelIdc = expGolombDecoder.readUnsignedByte(); // level_idc u(8)\n      expGolombDecoder.skipUnsignedExpGolomb(); // seq_parameter_set_id\n\n      // some profiles have more optional data we don't need\n      if (PROFILES_WITH_OPTIONAL_SPS_DATA[profileIdc]) {\n        chromaFormatIdc = expGolombDecoder.readUnsignedExpGolomb();\n        if (chromaFormatIdc === 3) {\n          expGolombDecoder.skipBits(1); // separate_colour_plane_flag\n        }\n        expGolombDecoder.skipUnsignedExpGolomb(); // bit_depth_luma_minus8\n        expGolombDecoder.skipUnsignedExpGolomb(); // bit_depth_chroma_minus8\n        expGolombDecoder.skipBits(1); // qpprime_y_zero_transform_bypass_flag\n        if (expGolombDecoder.readBoolean()) { // seq_scaling_matrix_present_flag\n          scalingListCount = (chromaFormatIdc !== 3) ? 8 : 12;\n          for (i = 0; i < scalingListCount; i++) {\n            if (expGolombDecoder.readBoolean()) { // seq_scaling_list_present_flag[ i ]\n              if (i < 6) {\n                skipScalingList(16, expGolombDecoder);\n              } else {\n                skipScalingList(64, expGolombDecoder);\n              }\n            }\n          }\n        }\n      }\n\n      expGolombDecoder.skipUnsignedExpGolomb(); // log2_max_frame_num_minus4\n      picOrderCntType = expGolombDecoder.readUnsignedExpGolomb();\n\n      if (picOrderCntType === 0) {\n        expGolombDecoder.readUnsignedExpGolomb(); // log2_max_pic_order_cnt_lsb_minus4\n      } else if (picOrderCntType === 1) {\n        expGolombDecoder.skipBits(1); // delta_pic_order_always_zero_flag\n        expGolombDecoder.skipExpGolomb(); // offset_for_non_ref_pic\n        expGolombDecoder.skipExpGolomb(); // offset_for_top_to_bottom_field\n        numRefFramesInPicOrderCntCycle = expGolombDecoder.readUnsignedExpGolomb();\n        for (i = 0; i < numRefFramesInPicOrderCntCycle; i++) {\n          expGolombDecoder.skipExpGolomb(); // offset_for_ref_frame[ i ]\n        }\n      }\n\n      expGolombDecoder.skipUnsignedExpGolomb(); // max_num_ref_frames\n      expGolombDecoder.skipBits(1); // gaps_in_frame_num_value_allowed_flag\n\n      picWidthInMbsMinus1 = expGolombDecoder.readUnsignedExpGolomb();\n      picHeightInMapUnitsMinus1 = expGolombDecoder.readUnsignedExpGolomb();\n\n      frameMbsOnlyFlag = expGolombDecoder.readBits(1);\n      if (frameMbsOnlyFlag === 0) {\n        expGolombDecoder.skipBits(1); // mb_adaptive_frame_field_flag\n      }\n\n      expGolombDecoder.skipBits(1); // direct_8x8_inference_flag\n      if (expGolombDecoder.readBoolean()) { // frame_cropping_flag\n        frameCropLeftOffset = expGolombDecoder.readUnsignedExpGolomb();\n        frameCropRightOffset = expGolombDecoder.readUnsignedExpGolomb();\n        frameCropTopOffset = expGolombDecoder.readUnsignedExpGolomb();\n        frameCropBottomOffset = expGolombDecoder.readUnsignedExpGolomb();\n      }\n      if (expGolombDecoder.readBoolean()) {\n        // vui_parameters_present_flag\n        if (expGolombDecoder.readBoolean()) {\n          // aspect_ratio_info_present_flag\n          aspectRatioIdc = expGolombDecoder.readUnsignedByte();\n          switch (aspectRatioIdc) {\n            case 1: sarRatio = [1, 1]; break;\n            case 2: sarRatio = [12, 11]; break;\n            case 3: sarRatio = [10, 11]; break;\n            case 4: sarRatio = [16, 11]; break;\n            case 5: sarRatio = [40, 33]; break;\n            case 6: sarRatio = [24, 11]; break;\n            case 7: sarRatio = [20, 11]; break;\n            case 8: sarRatio = [32, 11]; break;\n            case 9: sarRatio = [80, 33]; break;\n            case 10: sarRatio = [18, 11]; break;\n            case 11: sarRatio = [15, 11]; break;\n            case 12: sarRatio = [64, 33]; break;\n            case 13: sarRatio = [160, 99]; break;\n            case 14: sarRatio = [4, 3]; break;\n            case 15: sarRatio = [3, 2]; break;\n            case 16: sarRatio = [2, 1]; break;\n            case 255: {\n              sarRatio = [expGolombDecoder.readUnsignedByte() << 8 |\n              expGolombDecoder.readUnsignedByte(),\n                expGolombDecoder.readUnsignedByte() << 8 |\n                expGolombDecoder.readUnsignedByte() ];\n              break;\n            }\n          }\n          if (sarRatio) {\n            sarScale = sarRatio[0] / sarRatio[1];\n          }\n        }\n      }\n      return {\n        profileIdc: profileIdc,\n        levelIdc: levelIdc,\n        profileCompatibility: profileCompatibility,\n        width: Math.ceil((((picWidthInMbsMinus1 + 1) * 16) - frameCropLeftOffset * 2 - frameCropRightOffset * 2) * sarScale),\n        height: ((2 - frameMbsOnlyFlag) * (picHeightInMapUnitsMinus1 + 1) * 16) - (frameCropTopOffset * 2) - (frameCropBottomOffset * 2)\n      };\n    };\n\n  };\n  H264Stream.prototype = new Stream();\n\n  module.exports = {\n    H264Stream: H264Stream,\n    NalByteStream: NalByteStream\n  };\n\n},{\"../utils/exp-golomb.js\":83,\"../utils/stream.js\":84}],71:[function(require,module,exports){\n  /**\n   * An object that stores the bytes of an FLV tag and methods for\n   * querying and manipulating that data.\n   * @see http://download.macromedia.com/f4v/video_file_format_spec_v10_1.pdf\n   */\n  'use strict';\n\n  var FlvTag;\n\n// (type:uint, extraData:Boolean = false) extends ByteArray\n  FlvTag = function(type, extraData) {\n    var\n    // Counter if this is a metadata tag, nal start marker if this is a video\n    // tag. unused if this is an audio tag\n      adHoc = 0, // :uint\n\n    // The default size is 16kb but this is not enough to hold iframe\n    // data and the resizing algorithm costs a bit so we create a larger\n    // starting buffer for video tags\n      bufferStartSize = 16384,\n\n    // checks whether the FLV tag has enough capacity to accept the proposed\n    // write and re-allocates the internal buffers if necessary\n      prepareWrite = function(flv, count) {\n        var\n          bytes,\n          minLength = flv.position + count;\n        if (minLength < flv.bytes.byteLength) {\n          // there's enough capacity so do nothing\n          return;\n        }\n\n        // allocate a new buffer and copy over the data that will not be modified\n        bytes = new Uint8Array(minLength * 2);\n        bytes.set(flv.bytes.subarray(0, flv.position), 0);\n        flv.bytes = bytes;\n        flv.view = new DataView(flv.bytes.buffer);\n      },\n\n    // commonly used metadata properties\n      widthBytes = FlvTag.widthBytes || new Uint8Array('width'.length),\n      heightBytes = FlvTag.heightBytes || new Uint8Array('height'.length),\n      videocodecidBytes = FlvTag.videocodecidBytes || new Uint8Array('videocodecid'.length),\n      i;\n\n    if (!FlvTag.widthBytes) {\n      // calculating the bytes of common metadata names ahead of time makes the\n      // corresponding writes faster because we don't have to loop over the\n      // characters\n      // re-test with test/perf.html if you're planning on changing this\n      for (i = 0; i < 'width'.length; i++) {\n        widthBytes[i] = 'width'.charCodeAt(i);\n      }\n      for (i = 0; i < 'height'.length; i++) {\n        heightBytes[i] = 'height'.charCodeAt(i);\n      }\n      for (i = 0; i < 'videocodecid'.length; i++) {\n        videocodecidBytes[i] = 'videocodecid'.charCodeAt(i);\n      }\n\n      FlvTag.widthBytes = widthBytes;\n      FlvTag.heightBytes = heightBytes;\n      FlvTag.videocodecidBytes = videocodecidBytes;\n    }\n\n    this.keyFrame = false; // :Boolean\n\n    switch (type) {\n      case FlvTag.VIDEO_TAG:\n        this.length = 16;\n        // Start the buffer at 256k\n        bufferStartSize *= 6;\n        break;\n      case FlvTag.AUDIO_TAG:\n        this.length = 13;\n        this.keyFrame = true;\n        break;\n      case FlvTag.METADATA_TAG:\n        this.length = 29;\n        this.keyFrame = true;\n        break;\n      default:\n        throw new Error('Unknown FLV tag type');\n    }\n\n    this.bytes = new Uint8Array(bufferStartSize);\n    this.view = new DataView(this.bytes.buffer);\n    this.bytes[0] = type;\n    this.position = this.length;\n    this.keyFrame = extraData; // Defaults to false\n\n    // presentation timestamp\n    this.pts = 0;\n    // decoder timestamp\n    this.dts = 0;\n\n    // ByteArray#writeBytes(bytes:ByteArray, offset:uint = 0, length:uint = 0)\n    this.writeBytes = function(bytes, offset, length) {\n      var\n        start = offset || 0,\n        end;\n      length = length || bytes.byteLength;\n      end = start + length;\n\n      prepareWrite(this, length);\n      this.bytes.set(bytes.subarray(start, end), this.position);\n\n      this.position += length;\n      this.length = Math.max(this.length, this.position);\n    };\n\n    // ByteArray#writeByte(value:int):void\n    this.writeByte = function(byte) {\n      prepareWrite(this, 1);\n      this.bytes[this.position] = byte;\n      this.position++;\n      this.length = Math.max(this.length, this.position);\n    };\n\n    // ByteArray#writeShort(value:int):void\n    this.writeShort = function(short) {\n      prepareWrite(this, 2);\n      this.view.setUint16(this.position, short);\n      this.position += 2;\n      this.length = Math.max(this.length, this.position);\n    };\n\n    // Negative index into array\n    // (pos:uint):int\n    this.negIndex = function(pos) {\n      return this.bytes[this.length - pos];\n    };\n\n    // The functions below ONLY work when this[0] == VIDEO_TAG.\n    // We are not going to check for that because we dont want the overhead\n    // (nal:ByteArray = null):int\n    this.nalUnitSize = function() {\n      if (adHoc === 0) {\n        return 0;\n      }\n\n      return this.length - (adHoc + 4);\n    };\n\n    this.startNalUnit = function() {\n      // remember position and add 4 bytes\n      if (adHoc > 0) {\n        throw new Error('Attempted to create new NAL wihout closing the old one');\n      }\n\n      // reserve 4 bytes for nal unit size\n      adHoc = this.length;\n      this.length += 4;\n      this.position = this.length;\n    };\n\n    // (nal:ByteArray = null):void\n    this.endNalUnit = function(nalContainer) {\n      var\n        nalStart, // :uint\n        nalLength; // :uint\n\n      // Rewind to the marker and write the size\n      if (this.length === adHoc + 4) {\n        // we started a nal unit, but didnt write one, so roll back the 4 byte size value\n        this.length -= 4;\n      } else if (adHoc > 0) {\n        nalStart = adHoc + 4;\n        nalLength = this.length - nalStart;\n\n        this.position = adHoc;\n        this.view.setUint32(this.position, nalLength);\n        this.position = this.length;\n\n        if (nalContainer) {\n          // Add the tag to the NAL unit\n          nalContainer.push(this.bytes.subarray(nalStart, nalStart + nalLength));\n        }\n      }\n\n      adHoc = 0;\n    };\n\n    /**\n     * Write out a 64-bit floating point valued metadata property. This method is\n     * called frequently during a typical parse and needs to be fast.\n     */\n      // (key:String, val:Number):void\n    this.writeMetaDataDouble = function(key, val) {\n      var i;\n      prepareWrite(this, 2 + key.length + 9);\n\n      // write size of property name\n      this.view.setUint16(this.position, key.length);\n      this.position += 2;\n\n      // this next part looks terrible but it improves parser throughput by\n      // 10kB/s in my testing\n\n      // write property name\n      if (key === 'width') {\n        this.bytes.set(widthBytes, this.position);\n        this.position += 5;\n      } else if (key === 'height') {\n        this.bytes.set(heightBytes, this.position);\n        this.position += 6;\n      } else if (key === 'videocodecid') {\n        this.bytes.set(videocodecidBytes, this.position);\n        this.position += 12;\n      } else {\n        for (i = 0; i < key.length; i++) {\n          this.bytes[this.position] = key.charCodeAt(i);\n          this.position++;\n        }\n      }\n\n      // skip null byte\n      this.position++;\n\n      // write property value\n      this.view.setFloat64(this.position, val);\n      this.position += 8;\n\n      // update flv tag length\n      this.length = Math.max(this.length, this.position);\n      ++adHoc;\n    };\n\n    // (key:String, val:Boolean):void\n    this.writeMetaDataBoolean = function(key, val) {\n      var i;\n      prepareWrite(this, 2);\n      this.view.setUint16(this.position, key.length);\n      this.position += 2;\n      for (i = 0; i < key.length; i++) {\n        // if key.charCodeAt(i) >= 255, handle error\n        prepareWrite(this, 1);\n        this.bytes[this.position] = key.charCodeAt(i);\n        this.position++;\n      }\n      prepareWrite(this, 2);\n      this.view.setUint8(this.position, 0x01);\n      this.position++;\n      this.view.setUint8(this.position, val ? 0x01 : 0x00);\n      this.position++;\n      this.length = Math.max(this.length, this.position);\n      ++adHoc;\n    };\n\n    // ():ByteArray\n    this.finalize = function() {\n      var\n        dtsDelta, // :int\n        len; // :int\n\n      switch (this.bytes[0]) {\n        // Video Data\n        case FlvTag.VIDEO_TAG:\n          // We only support AVC, 1 = key frame (for AVC, a seekable\n          // frame), 2 = inter frame (for AVC, a non-seekable frame)\n          this.bytes[11] = ((this.keyFrame || extraData) ? 0x10 : 0x20) | 0x07;\n          this.bytes[12] = extraData ?  0x00 : 0x01;\n\n          dtsDelta = this.pts - this.dts;\n          this.bytes[13] = (dtsDelta & 0x00FF0000) >>> 16;\n          this.bytes[14] = (dtsDelta & 0x0000FF00) >>>  8;\n          this.bytes[15] = (dtsDelta & 0x000000FF) >>>  0;\n          break;\n\n        case FlvTag.AUDIO_TAG:\n          this.bytes[11] = 0xAF; // 44 kHz, 16-bit stereo\n          this.bytes[12] = extraData ? 0x00 : 0x01;\n          break;\n\n        case FlvTag.METADATA_TAG:\n          this.position = 11;\n          this.view.setUint8(this.position, 0x02); // String type\n          this.position++;\n          this.view.setUint16(this.position, 0x0A); // 10 Bytes\n          this.position += 2;\n          // set \"onMetaData\"\n          this.bytes.set([0x6f, 0x6e, 0x4d, 0x65,\n            0x74, 0x61, 0x44, 0x61,\n            0x74, 0x61], this.position);\n          this.position += 10;\n          this.bytes[this.position] = 0x08; // Array type\n          this.position++;\n          this.view.setUint32(this.position, adHoc);\n          this.position = this.length;\n          this.bytes.set([0, 0, 9], this.position);\n          this.position += 3; // End Data Tag\n          this.length = this.position;\n          break;\n      }\n\n      len = this.length - 11;\n\n      // write the DataSize field\n      this.bytes[ 1] = (len & 0x00FF0000) >>> 16;\n      this.bytes[ 2] = (len & 0x0000FF00) >>>  8;\n      this.bytes[ 3] = (len & 0x000000FF) >>>  0;\n      // write the Timestamp\n      this.bytes[ 4] = (this.dts & 0x00FF0000) >>> 16;\n      this.bytes[ 5] = (this.dts & 0x0000FF00) >>>  8;\n      this.bytes[ 6] = (this.dts & 0x000000FF) >>>  0;\n      this.bytes[ 7] = (this.dts & 0xFF000000) >>> 24;\n      // write the StreamID\n      this.bytes[ 8] = 0;\n      this.bytes[ 9] = 0;\n      this.bytes[10] = 0;\n\n      // Sometimes we're at the end of the view and have one slot to write a\n      // uint32, so, prepareWrite of count 4, since, view is uint8\n      prepareWrite(this, 4);\n      this.view.setUint32(this.length, this.length);\n      this.length += 4;\n      this.position += 4;\n\n      // trim down the byte buffer to what is actually being used\n      this.bytes = this.bytes.subarray(0, this.length);\n      this.frameTime = FlvTag.frameTime(this.bytes);\n      // if bytes.bytelength isn't equal to this.length, handle error\n      return this;\n    };\n  };\n\n  FlvTag.AUDIO_TAG = 0x08; // == 8, :uint\n  FlvTag.VIDEO_TAG = 0x09; // == 9, :uint\n  FlvTag.METADATA_TAG = 0x12; // == 18, :uint\n\n// (tag:ByteArray):Boolean {\n  FlvTag.isAudioFrame = function(tag) {\n    return FlvTag.AUDIO_TAG === tag[0];\n  };\n\n// (tag:ByteArray):Boolean {\n  FlvTag.isVideoFrame = function(tag) {\n    return FlvTag.VIDEO_TAG === tag[0];\n  };\n\n// (tag:ByteArray):Boolean {\n  FlvTag.isMetaData = function(tag) {\n    return FlvTag.METADATA_TAG === tag[0];\n  };\n\n// (tag:ByteArray):Boolean {\n  FlvTag.isKeyFrame = function(tag) {\n    if (FlvTag.isVideoFrame(tag)) {\n      return tag[11] === 0x17;\n    }\n\n    if (FlvTag.isAudioFrame(tag)) {\n      return true;\n    }\n\n    if (FlvTag.isMetaData(tag)) {\n      return true;\n    }\n\n    return false;\n  };\n\n// (tag:ByteArray):uint {\n  FlvTag.frameTime = function(tag) {\n    var pts = tag[ 4] << 16; // :uint\n    pts |= tag[ 5] <<  8;\n    pts |= tag[ 6] <<  0;\n    pts |= tag[ 7] << 24;\n    return pts;\n  };\n\n  module.exports = FlvTag;\n\n},{}],72:[function(require,module,exports){\n  module.exports = {\n    tag: require('./flv-tag'),\n    Transmuxer: require('./transmuxer')\n  };\n\n},{\"./flv-tag\":71,\"./transmuxer\":73}],73:[function(require,module,exports){\n  'use strict';\n\n  var Stream = require('../utils/stream.js');\n  var FlvTag = require('./flv-tag.js');\n  var m2ts = require('../m2ts/m2ts.js');\n  var AdtsStream = require('../codecs/adts.js');\n  var H264Stream = require('../codecs/h264').H264Stream;\n\n  var\n    Transmuxer,\n    VideoSegmentStream,\n    AudioSegmentStream,\n    CoalesceStream,\n    collectTimelineInfo,\n    metaDataTag,\n    extraDataTag;\n\n  /**\n   * Store information about the start and end of the tracka and the\n   * duration for each frame/sample we process in order to calculate\n   * the baseMediaDecodeTime\n   */\n  collectTimelineInfo = function(track, data) {\n    if (typeof data.pts === 'number') {\n      if (track.timelineStartInfo.pts === undefined) {\n        track.timelineStartInfo.pts = data.pts;\n      } else {\n        track.timelineStartInfo.pts =\n          Math.min(track.timelineStartInfo.pts, data.pts);\n      }\n    }\n\n    if (typeof data.dts === 'number') {\n      if (track.timelineStartInfo.dts === undefined) {\n        track.timelineStartInfo.dts = data.dts;\n      } else {\n        track.timelineStartInfo.dts =\n          Math.min(track.timelineStartInfo.dts, data.dts);\n      }\n    }\n  };\n\n  metaDataTag = function(track, pts) {\n    var\n      tag = new FlvTag(FlvTag.METADATA_TAG); // :FlvTag\n\n    tag.dts = pts;\n    tag.pts = pts;\n\n    tag.writeMetaDataDouble('videocodecid', 7);\n    tag.writeMetaDataDouble('width', track.width);\n    tag.writeMetaDataDouble('height', track.height);\n\n    return tag;\n  };\n\n  extraDataTag = function(track, pts) {\n    var\n      i,\n      tag = new FlvTag(FlvTag.VIDEO_TAG, true);\n\n    tag.dts = pts;\n    tag.pts = pts;\n\n    tag.writeByte(0x01);// version\n    tag.writeByte(track.profileIdc);// profile\n    tag.writeByte(track.profileCompatibility);// compatibility\n    tag.writeByte(track.levelIdc);// level\n    tag.writeByte(0xFC | 0x03); // reserved (6 bits), NULA length size - 1 (2 bits)\n    tag.writeByte(0xE0 | 0x01); // reserved (3 bits), num of SPS (5 bits)\n    tag.writeShort(track.sps[0].length); // data of SPS\n    tag.writeBytes(track.sps[0]); // SPS\n\n    tag.writeByte(track.pps.length); // num of PPS (will there ever be more that 1 PPS?)\n    for (i = 0; i < track.pps.length; ++i) {\n      tag.writeShort(track.pps[i].length); // 2 bytes for length of PPS\n      tag.writeBytes(track.pps[i]); // data of PPS\n    }\n\n    return tag;\n  };\n\n  /**\n   * Constructs a single-track, media segment from AAC data\n   * events. The output of this stream can be fed to flash.\n   */\n  AudioSegmentStream = function(track) {\n    var\n      adtsFrames = [],\n      oldExtraData;\n\n    AudioSegmentStream.prototype.init.call(this);\n\n    this.push = function(data) {\n      collectTimelineInfo(track, data);\n\n      if (track && track.channelcount === undefined) {\n        track.audioobjecttype = data.audioobjecttype;\n        track.channelcount = data.channelcount;\n        track.samplerate = data.samplerate;\n        track.samplingfrequencyindex = data.samplingfrequencyindex;\n        track.samplesize = data.samplesize;\n        track.extraData = (track.audioobjecttype << 11) |\n        (track.samplingfrequencyindex << 7) |\n        (track.channelcount << 3);\n      }\n\n      data.pts = Math.round(data.pts / 90);\n      data.dts = Math.round(data.dts / 90);\n\n      // buffer audio data until end() is called\n      adtsFrames.push(data);\n    };\n\n    this.flush = function() {\n      var currentFrame, adtsFrame, lastMetaPts, tags = [];\n      // return early if no audio data has been observed\n      if (adtsFrames.length === 0) {\n        this.trigger('done');\n        return;\n      }\n\n      lastMetaPts = -Infinity;\n\n      while (adtsFrames.length) {\n        currentFrame = adtsFrames.shift();\n\n        // write out metadata tags every 1 second so that the decoder\n        // is re-initialized quickly after seeking into a different\n        // audio configuration\n        if (track.extraData !== oldExtraData || currentFrame.pts - lastMetaPts >= 1000) {\n          adtsFrame = new FlvTag(FlvTag.METADATA_TAG);\n          adtsFrame.pts = currentFrame.pts;\n          adtsFrame.dts = currentFrame.dts;\n\n          // AAC is always 10\n          adtsFrame.writeMetaDataDouble('audiocodecid', 10);\n          adtsFrame.writeMetaDataBoolean('stereo', track.channelcount === 2);\n          adtsFrame.writeMetaDataDouble('audiosamplerate', track.samplerate);\n          // Is AAC always 16 bit?\n          adtsFrame.writeMetaDataDouble('audiosamplesize', 16);\n\n          tags.push(adtsFrame);\n\n          oldExtraData = track.extraData;\n\n          adtsFrame = new FlvTag(FlvTag.AUDIO_TAG, true);\n          // For audio, DTS is always the same as PTS. We want to set the DTS\n          // however so we can compare with video DTS to determine approximate\n          // packet order\n          adtsFrame.pts = currentFrame.pts;\n          adtsFrame.dts = currentFrame.dts;\n\n          adtsFrame.view.setUint16(adtsFrame.position, track.extraData);\n          adtsFrame.position += 2;\n          adtsFrame.length = Math.max(adtsFrame.length, adtsFrame.position);\n\n          tags.push(adtsFrame);\n\n          lastMetaPts = currentFrame.pts;\n        }\n        adtsFrame = new FlvTag(FlvTag.AUDIO_TAG);\n        adtsFrame.pts = currentFrame.pts;\n        adtsFrame.dts = currentFrame.dts;\n\n        adtsFrame.writeBytes(currentFrame.data);\n\n        tags.push(adtsFrame);\n      }\n\n      oldExtraData = null;\n      this.trigger('data', {track: track, tags: tags});\n\n      this.trigger('done');\n    };\n  };\n  AudioSegmentStream.prototype = new Stream();\n\n  /**\n   * Store FlvTags for the h264 stream\n   * @param track {object} track metadata configuration\n   */\n  VideoSegmentStream = function(track) {\n    var\n      nalUnits = [],\n      config,\n      h264Frame;\n    VideoSegmentStream.prototype.init.call(this);\n\n    this.finishFrame = function(tags, frame) {\n      if (!frame) {\n        return;\n      }\n      // Check if keyframe and the length of tags.\n      // This makes sure we write metadata on the first frame of a segment.\n      if (config && track && track.newMetadata &&\n        (frame.keyFrame || tags.length === 0)) {\n        // Push extra data on every IDR frame in case we did a stream change + seek\n        tags.push(metaDataTag(config, frame.dts));\n        tags.push(extraDataTag(track, frame.dts));\n        track.newMetadata = false;\n      }\n\n      frame.endNalUnit();\n      tags.push(frame);\n      h264Frame = null;\n    };\n\n    this.push = function(data) {\n      collectTimelineInfo(track, data);\n\n      data.pts = Math.round(data.pts / 90);\n      data.dts = Math.round(data.dts / 90);\n\n      // buffer video until flush() is called\n      nalUnits.push(data);\n    };\n\n    this.flush = function() {\n      var\n        currentNal,\n        tags = [];\n\n      // Throw away nalUnits at the start of the byte stream until we find\n      // the first AUD\n      while (nalUnits.length) {\n        if (nalUnits[0].nalUnitType === 'access_unit_delimiter_rbsp') {\n          break;\n        }\n        nalUnits.shift();\n      }\n\n      // return early if no video data has been observed\n      if (nalUnits.length === 0) {\n        this.trigger('done');\n        return;\n      }\n\n      while (nalUnits.length) {\n        currentNal = nalUnits.shift();\n\n        // record the track config\n        if (currentNal.nalUnitType === 'seq_parameter_set_rbsp') {\n          track.newMetadata = true;\n          config = currentNal.config;\n          track.width = config.width;\n          track.height = config.height;\n          track.sps = [currentNal.data];\n          track.profileIdc = config.profileIdc;\n          track.levelIdc = config.levelIdc;\n          track.profileCompatibility = config.profileCompatibility;\n          h264Frame.endNalUnit();\n        } else if (currentNal.nalUnitType === 'pic_parameter_set_rbsp') {\n          track.newMetadata = true;\n          track.pps = [currentNal.data];\n          h264Frame.endNalUnit();\n        } else if (currentNal.nalUnitType === 'access_unit_delimiter_rbsp') {\n          if (h264Frame) {\n            this.finishFrame(tags, h264Frame);\n          }\n          h264Frame = new FlvTag(FlvTag.VIDEO_TAG);\n          h264Frame.pts = currentNal.pts;\n          h264Frame.dts = currentNal.dts;\n        } else {\n          if (currentNal.nalUnitType === 'slice_layer_without_partitioning_rbsp_idr') {\n            // the current sample is a key frame\n            h264Frame.keyFrame = true;\n          }\n          h264Frame.endNalUnit();\n        }\n        h264Frame.startNalUnit();\n        h264Frame.writeBytes(currentNal.data);\n      }\n      if (h264Frame) {\n        this.finishFrame(tags, h264Frame);\n      }\n\n      this.trigger('data', {track: track, tags: tags});\n\n      // Continue with the flush process now\n      this.trigger('done');\n    };\n  };\n\n  VideoSegmentStream.prototype = new Stream();\n\n  /**\n   * The final stage of the transmuxer that emits the flv tags\n   * for audio, video, and metadata. Also tranlates in time and\n   * outputs caption data and id3 cues.\n   */\n  CoalesceStream = function(options) {\n    // Number of Tracks per output segment\n    // If greater than 1, we combine multiple\n    // tracks into a single segment\n    this.numberOfTracks = 0;\n    this.metadataStream = options.metadataStream;\n\n    this.videoTags = [];\n    this.audioTags = [];\n    this.videoTrack = null;\n    this.audioTrack = null;\n    this.pendingCaptions = [];\n    this.pendingMetadata = [];\n    this.pendingTracks = 0;\n\n    CoalesceStream.prototype.init.call(this);\n\n    // Take output from multiple\n    this.push = function(output) {\n      // buffer incoming captions until the associated video segment\n      // finishes\n      if (output.text) {\n        return this.pendingCaptions.push(output);\n      }\n      // buffer incoming id3 tags until the final flush\n      if (output.frames) {\n        return this.pendingMetadata.push(output);\n      }\n\n      if (output.track.type === 'video') {\n        this.videoTrack = output.track;\n        this.videoTags = output.tags;\n        this.pendingTracks++;\n      }\n      if (output.track.type === 'audio') {\n        this.audioTrack = output.track;\n        this.audioTags = output.tags;\n        this.pendingTracks++;\n      }\n    };\n  };\n\n  CoalesceStream.prototype = new Stream();\n  CoalesceStream.prototype.flush = function() {\n    var\n      id3,\n      caption,\n      i,\n      timelineStartPts,\n      event = {\n        tags: {},\n        captions: [],\n        metadata: []\n      };\n\n    if (this.pendingTracks < this.numberOfTracks) {\n      return;\n    }\n\n    if (this.videoTrack) {\n      timelineStartPts = this.videoTrack.timelineStartInfo.pts;\n    } else if (this.audioTrack) {\n      timelineStartPts = this.audioTrack.timelineStartInfo.pts;\n    }\n\n    event.tags.videoTags = this.videoTags;\n    event.tags.audioTags = this.audioTags;\n\n    // Translate caption PTS times into second offsets into the\n    // video timeline for the segment\n    for (i = 0; i < this.pendingCaptions.length; i++) {\n      caption = this.pendingCaptions[i];\n      caption.startTime = caption.startPts - timelineStartPts;\n      caption.startTime /= 90e3;\n      caption.endTime = caption.endPts - timelineStartPts;\n      caption.endTime /= 90e3;\n      event.captions.push(caption);\n    }\n\n    // Translate ID3 frame PTS times into second offsets into the\n    // video timeline for the segment\n    for (i = 0; i < this.pendingMetadata.length; i++) {\n      id3 = this.pendingMetadata[i];\n      id3.cueTime = id3.pts - timelineStartPts;\n      id3.cueTime /= 90e3;\n      event.metadata.push(id3);\n    }\n    // We add this to every single emitted segment even though we only need\n    // it for the first\n    event.metadata.dispatchType = this.metadataStream.dispatchType;\n\n    // Reset stream state\n    this.videoTrack = null;\n    this.audioTrack = null;\n    this.videoTags = [];\n    this.audioTags = [];\n    this.pendingCaptions.length = 0;\n    this.pendingMetadata.length = 0;\n    this.pendingTracks = 0;\n\n    // Emit the final segment\n    this.trigger('data', event);\n\n    this.trigger('done');\n  };\n\n  /**\n   * An object that incrementally transmuxes MPEG2 Trasport Stream\n   * chunks into an FLV.\n   */\n  Transmuxer = function(options) {\n    var\n      self = this,\n\n      packetStream, parseStream, elementaryStream,\n      videoTimestampRolloverStream, audioTimestampRolloverStream,\n      timedMetadataTimestampRolloverStream,\n      adtsStream, h264Stream,\n      videoSegmentStream, audioSegmentStream, captionStream,\n      coalesceStream;\n\n    Transmuxer.prototype.init.call(this);\n\n    options = options || {};\n\n    // expose the metadata stream\n    this.metadataStream = new m2ts.MetadataStream();\n\n    options.metadataStream = this.metadataStream;\n\n    // set up the parsing pipeline\n    packetStream = new m2ts.TransportPacketStream();\n    parseStream = new m2ts.TransportParseStream();\n    elementaryStream = new m2ts.ElementaryStream();\n    videoTimestampRolloverStream = new m2ts.TimestampRolloverStream('video');\n    audioTimestampRolloverStream = new m2ts.TimestampRolloverStream('audio');\n    timedMetadataTimestampRolloverStream = new m2ts.TimestampRolloverStream('timed-metadata');\n\n    adtsStream = new AdtsStream();\n    h264Stream = new H264Stream();\n    coalesceStream = new CoalesceStream(options);\n\n    // disassemble MPEG2-TS packets into elementary streams\n    packetStream\n      .pipe(parseStream)\n      .pipe(elementaryStream);\n\n    // !!THIS ORDER IS IMPORTANT!!\n    // demux the streams\n    elementaryStream\n      .pipe(videoTimestampRolloverStream)\n      .pipe(h264Stream);\n    elementaryStream\n      .pipe(audioTimestampRolloverStream)\n      .pipe(adtsStream);\n\n    elementaryStream\n      .pipe(timedMetadataTimestampRolloverStream)\n      .pipe(this.metadataStream)\n      .pipe(coalesceStream);\n    // if CEA-708 parsing is available, hook up a caption stream\n    captionStream = new m2ts.CaptionStream();\n    h264Stream.pipe(captionStream)\n      .pipe(coalesceStream);\n\n    // hook up the segment streams once track metadata is delivered\n    elementaryStream.on('data', function(data) {\n      var i, videoTrack, audioTrack;\n\n      if (data.type === 'metadata') {\n        i = data.tracks.length;\n\n        // scan the tracks listed in the metadata\n        while (i--) {\n          if (data.tracks[i].type === 'video') {\n            videoTrack = data.tracks[i];\n          } else if (data.tracks[i].type === 'audio') {\n            audioTrack = data.tracks[i];\n          }\n        }\n\n        // hook up the video segment stream to the first track with h264 data\n        if (videoTrack && !videoSegmentStream) {\n          coalesceStream.numberOfTracks++;\n          videoSegmentStream = new VideoSegmentStream(videoTrack);\n\n          // Set up the final part of the video pipeline\n          h264Stream\n            .pipe(videoSegmentStream)\n            .pipe(coalesceStream);\n        }\n\n        if (audioTrack && !audioSegmentStream) {\n          // hook up the audio segment stream to the first track with aac data\n          coalesceStream.numberOfTracks++;\n          audioSegmentStream = new AudioSegmentStream(audioTrack);\n\n          // Set up the final part of the audio pipeline\n          adtsStream\n            .pipe(audioSegmentStream)\n            .pipe(coalesceStream);\n        }\n      }\n    });\n\n    // feed incoming data to the front of the parsing pipeline\n    this.push = function(data) {\n      packetStream.push(data);\n    };\n\n    // flush any buffered data\n    this.flush = function() {\n      // Start at the top of the pipeline and flush all pending work\n      packetStream.flush();\n    };\n\n    // Re-emit any data coming from the coalesce stream to the outside world\n    coalesceStream.on('data', function(event) {\n      self.trigger('data', event);\n    });\n\n    // Let the consumer know we have finished flushing the entire pipeline\n    coalesceStream.on('done', function() {\n      self.trigger('done');\n    });\n\n    // For information on the FLV format, see\n    // http://download.macromedia.com/f4v/video_file_format_spec_v10_1.pdf.\n    // Technically, this function returns the header and a metadata FLV tag\n    // if duration is greater than zero\n    // duration in seconds\n    // @return {object} the bytes of the FLV header as a Uint8Array\n    this.getFlvHeader = function(duration, audio, video) { // :ByteArray {\n      var\n        headBytes = new Uint8Array(3 + 1 + 1 + 4),\n        head = new DataView(headBytes.buffer),\n        metadata,\n        result,\n        metadataLength;\n\n      // default arguments\n      duration = duration || 0;\n      audio = audio === undefined ? true : audio;\n      video = video === undefined ? true : video;\n\n      // signature\n      head.setUint8(0, 0x46); // 'F'\n      head.setUint8(1, 0x4c); // 'L'\n      head.setUint8(2, 0x56); // 'V'\n\n      // version\n      head.setUint8(3, 0x01);\n\n      // flags\n      head.setUint8(4, (audio ? 0x04 : 0x00) | (video ? 0x01 : 0x00));\n\n      // data offset, should be 9 for FLV v1\n      head.setUint32(5, headBytes.byteLength);\n\n      // init the first FLV tag\n      if (duration <= 0) {\n        // no duration available so just write the first field of the first\n        // FLV tag\n        result = new Uint8Array(headBytes.byteLength + 4);\n        result.set(headBytes);\n        result.set([0, 0, 0, 0], headBytes.byteLength);\n        return result;\n      }\n\n      // write out the duration metadata tag\n      metadata = new FlvTag(FlvTag.METADATA_TAG);\n      metadata.pts = metadata.dts = 0;\n      metadata.writeMetaDataDouble('duration', duration);\n      metadataLength = metadata.finalize().length;\n      result = new Uint8Array(headBytes.byteLength + metadataLength);\n      result.set(headBytes);\n      result.set(head.byteLength, metadataLength);\n\n      return result;\n    };\n  };\n  Transmuxer.prototype = new Stream();\n\n// forward compatibility\n  module.exports = Transmuxer;\n\n},{\"../codecs/adts.js\":69,\"../codecs/h264\":70,\"../m2ts/m2ts.js\":75,\"../utils/stream.js\":84,\"./flv-tag.js\":71}],74:[function(require,module,exports){\n  /**\n   * mux.js\n   *\n   * Copyright (c) 2015 Brightcove\n   * All rights reserved.\n   *\n   * Reads in-band caption information from a video elementary\n   * stream. Captions must follow the CEA-708 standard for injection\n   * into an MPEG-2 transport streams.\n   * @see https://en.wikipedia.org/wiki/CEA-708\n   */\n\n  'use strict';\n\n// -----------------\n// Link To Transport\n// -----------------\n\n// Supplemental enhancement information (SEI) NAL units have a\n// payload type field to indicate how they are to be\n// interpreted. CEAS-708 caption content is always transmitted with\n// payload type 0x04.\n  var USER_DATA_REGISTERED_ITU_T_T35 = 4,\n    RBSP_TRAILING_BITS = 128,\n    Stream = require('../utils/stream');\n\n  /**\n   * Parse a supplemental enhancement information (SEI) NAL unit.\n   * Stops parsing once a message of type ITU T T35 has been found.\n   *\n   * @param bytes {Uint8Array} the bytes of a SEI NAL unit\n   * @return {object} the parsed SEI payload\n   * @see Rec. ITU-T H.264, 7.3.2.3.1\n   */\n  var parseSei = function(bytes) {\n    var\n      i = 0,\n      result = {\n        payloadType: -1,\n        payloadSize: 0\n      },\n      payloadType = 0,\n      payloadSize = 0;\n\n    // go through the sei_rbsp parsing each each individual sei_message\n    while (i < bytes.byteLength) {\n      // stop once we have hit the end of the sei_rbsp\n      if (bytes[i] === RBSP_TRAILING_BITS) {\n        break;\n      }\n\n      // Parse payload type\n      while (bytes[i] === 0xFF) {\n        payloadType += 255;\n        i++;\n      }\n      payloadType += bytes[i++];\n\n      // Parse payload size\n      while (bytes[i] === 0xFF) {\n        payloadSize += 255;\n        i++;\n      }\n      payloadSize += bytes[i++];\n\n      // this sei_message is a 608/708 caption so save it and break\n      // there can only ever be one caption message in a frame's sei\n      if (!result.payload && payloadType === USER_DATA_REGISTERED_ITU_T_T35) {\n        result.payloadType = payloadType;\n        result.payloadSize = payloadSize;\n        result.payload = bytes.subarray(i, i + payloadSize);\n        break;\n      }\n\n      // skip the payload and parse the next message\n      i += payloadSize;\n      payloadType = 0;\n      payloadSize = 0;\n    }\n\n    return result;\n  };\n\n// see ANSI/SCTE 128-1 (2013), section 8.1\n  var parseUserData = function(sei) {\n    // itu_t_t35_contry_code must be 181 (United States) for\n    // captions\n    if (sei.payload[0] !== 181) {\n      return null;\n    }\n\n    // itu_t_t35_provider_code should be 49 (ATSC) for captions\n    if (((sei.payload[1] << 8) | sei.payload[2]) !== 49) {\n      return null;\n    }\n\n    // the user_identifier should be \"GA94\" to indicate ATSC1 data\n    if (String.fromCharCode(sei.payload[3],\n        sei.payload[4],\n        sei.payload[5],\n        sei.payload[6]) !== 'GA94') {\n      return null;\n    }\n\n    // finally, user_data_type_code should be 0x03 for caption data\n    if (sei.payload[7] !== 0x03) {\n      return null;\n    }\n\n    // return the user_data_type_structure and strip the trailing\n    // marker bits\n    return sei.payload.subarray(8, sei.payload.length - 1);\n  };\n\n// see CEA-708-D, section 4.4\n  var parseCaptionPackets = function(pts, userData) {\n    var results = [], i, count, offset, data;\n\n    // if this is just filler, return immediately\n    if (!(userData[0] & 0x40)) {\n      return results;\n    }\n\n    // parse out the cc_data_1 and cc_data_2 fields\n    count = userData[0] & 0x1f;\n    for (i = 0; i < count; i++) {\n      offset = i * 3;\n      data = {\n        type: userData[offset + 2] & 0x03,\n        pts: pts\n      };\n\n      // capture cc data when cc_valid is 1\n      if (userData[offset + 2] & 0x04) {\n        data.ccData = (userData[offset + 3] << 8) | userData[offset + 4];\n        results.push(data);\n      }\n    }\n    return results;\n  };\n\n  var CaptionStream = function() {\n    CaptionStream.prototype.init.call(this);\n\n    this.captionPackets_ = [];\n\n    this.field1_ = new Cea608Stream(); // eslint-disable-line no-use-before-define\n\n    // forward data and done events from field1_ to this CaptionStream\n    this.field1_.on('data', this.trigger.bind(this, 'data'));\n    this.field1_.on('done', this.trigger.bind(this, 'done'));\n  };\n  CaptionStream.prototype = new Stream();\n  CaptionStream.prototype.push = function(event) {\n    var sei, userData;\n\n    // only examine SEI NALs\n    if (event.nalUnitType !== 'sei_rbsp') {\n      return;\n    }\n\n    // parse the sei\n    sei = parseSei(event.escapedRBSP);\n\n    // ignore everything but user_data_registered_itu_t_t35\n    if (sei.payloadType !== USER_DATA_REGISTERED_ITU_T_T35) {\n      return;\n    }\n\n    // parse out the user data payload\n    userData = parseUserData(sei);\n\n    // ignore unrecognized userData\n    if (!userData) {\n      return;\n    }\n\n    // parse out CC data packets and save them for later\n    this.captionPackets_ = this.captionPackets_.concat(parseCaptionPackets(event.pts, userData));\n  };\n\n  CaptionStream.prototype.flush = function() {\n    // make sure we actually parsed captions before proceeding\n    if (!this.captionPackets_.length) {\n      this.field1_.flush();\n      return;\n    }\n\n    // In Chrome, the Array#sort function is not stable so add a\n    // presortIndex that we can use to ensure we get a stable-sort\n    this.captionPackets_.forEach(function(elem, idx) {\n      elem.presortIndex = idx;\n    });\n\n    // sort caption byte-pairs based on their PTS values\n    this.captionPackets_.sort(function(a, b) {\n      if (a.pts === b.pts) {\n        return a.presortIndex - b.presortIndex;\n      }\n      return a.pts - b.pts;\n    });\n\n    // Push each caption into Cea608Stream\n    this.captionPackets_.forEach(this.field1_.push, this.field1_);\n\n    this.captionPackets_.length = 0;\n    this.field1_.flush();\n    return;\n  };\n// ----------------------\n// Session to Application\n// ----------------------\n\n  var BASIC_CHARACTER_TRANSLATION = {\n    0x2a: 0xe1,\n    0x5c: 0xe9,\n    0x5e: 0xed,\n    0x5f: 0xf3,\n    0x60: 0xfa,\n    0x7b: 0xe7,\n    0x7c: 0xf7,\n    0x7d: 0xd1,\n    0x7e: 0xf1,\n    0x7f: 0x2588\n  };\n\n  var getCharFromCode = function(code) {\n    if (code === null) {\n      return '';\n    }\n    code = BASIC_CHARACTER_TRANSLATION[code] || code;\n    return String.fromCharCode(code);\n  };\n\n// Constants for the byte codes recognized by Cea608Stream. This\n// list is not exhaustive. For a more comprehensive listing and\n// semantics see\n// http://www.gpo.gov/fdsys/pkg/CFR-2010-title47-vol1/pdf/CFR-2010-title47-vol1-sec15-119.pdf\n  var PADDING                    = 0x0000,\n\n  // Pop-on Mode\n    RESUME_CAPTION_LOADING     = 0x1420,\n    END_OF_CAPTION             = 0x142f,\n\n  // Roll-up Mode\n    ROLL_UP_2_ROWS             = 0x1425,\n    ROLL_UP_3_ROWS             = 0x1426,\n    ROLL_UP_4_ROWS             = 0x1427,\n    CARRIAGE_RETURN            = 0x142d,\n  // Erasure\n    BACKSPACE                  = 0x1421,\n    ERASE_DISPLAYED_MEMORY     = 0x142c,\n    ERASE_NON_DISPLAYED_MEMORY = 0x142e;\n\n// the index of the last row in a CEA-608 display buffer\n  var BOTTOM_ROW = 14;\n// CEA-608 captions are rendered onto a 34x15 matrix of character\n// cells. The \"bottom\" row is the last element in the outer array.\n  var createDisplayBuffer = function() {\n    var result = [], i = BOTTOM_ROW + 1;\n    while (i--) {\n      result.push('');\n    }\n    return result;\n  };\n\n  var Cea608Stream = function() {\n    Cea608Stream.prototype.init.call(this);\n\n    this.mode_ = 'popOn';\n    // When in roll-up mode, the index of the last row that will\n    // actually display captions. If a caption is shifted to a row\n    // with a lower index than this, it is cleared from the display\n    // buffer\n    this.topRow_ = 0;\n    this.startPts_ = 0;\n    this.displayed_ = createDisplayBuffer();\n    this.nonDisplayed_ = createDisplayBuffer();\n    this.lastControlCode_ = null;\n\n    this.push = function(packet) {\n      // Ignore other channels\n      if (packet.type !== 0) {\n        return;\n      }\n      var data, swap, char0, char1;\n      // remove the parity bits\n      data = packet.ccData & 0x7f7f;\n\n      // ignore duplicate control codes\n      if (data === this.lastControlCode_) {\n        this.lastControlCode_ = null;\n        return;\n      }\n\n      // Store control codes\n      if ((data & 0xf000) === 0x1000) {\n        this.lastControlCode_ = data;\n      } else {\n        this.lastControlCode_ = null;\n      }\n\n      switch (data) {\n        case PADDING:\n          break;\n        case RESUME_CAPTION_LOADING:\n          this.mode_ = 'popOn';\n          break;\n        case END_OF_CAPTION:\n          // if a caption was being displayed, it's gone now\n          this.flushDisplayed(packet.pts);\n\n          // flip memory\n          swap = this.displayed_;\n          this.displayed_ = this.nonDisplayed_;\n          this.nonDisplayed_ = swap;\n\n          // start measuring the time to display the caption\n          this.startPts_ = packet.pts;\n          break;\n\n        case ROLL_UP_2_ROWS:\n          this.topRow_ = BOTTOM_ROW - 1;\n          this.mode_ = 'rollUp';\n          break;\n        case ROLL_UP_3_ROWS:\n          this.topRow_ = BOTTOM_ROW - 2;\n          this.mode_ = 'rollUp';\n          break;\n        case ROLL_UP_4_ROWS:\n          this.topRow_ = BOTTOM_ROW - 3;\n          this.mode_ = 'rollUp';\n          break;\n        case CARRIAGE_RETURN:\n          this.flushDisplayed(packet.pts);\n          this.shiftRowsUp_();\n          this.startPts_ = packet.pts;\n          break;\n\n        case BACKSPACE:\n          if (this.mode_ === 'popOn') {\n            this.nonDisplayed_[BOTTOM_ROW] = this.nonDisplayed_[BOTTOM_ROW].slice(0, -1);\n          } else {\n            this.displayed_[BOTTOM_ROW] = this.displayed_[BOTTOM_ROW].slice(0, -1);\n          }\n          break;\n        case ERASE_DISPLAYED_MEMORY:\n          this.flushDisplayed(packet.pts);\n          this.displayed_ = createDisplayBuffer();\n          break;\n        case ERASE_NON_DISPLAYED_MEMORY:\n          this.nonDisplayed_ = createDisplayBuffer();\n          break;\n        default:\n          char0 = data >>> 8;\n          char1 = data & 0xff;\n\n          // Look for a Channel 1 Preamble Address Code\n          if (char0 >= 0x10 && char0 <= 0x17 &&\n            char1 >= 0x40 && char1 <= 0x7F &&\n            (char0 !== 0x10 || char1 < 0x60)) {\n            // Follow Safari's lead and replace the PAC with a space\n            char0 = 0x20;\n            // we only want one space so make the second character null\n            // which will get become '' in getCharFromCode\n            char1 = null;\n          }\n\n          // Look for special character sets\n          if ((char0 === 0x11 || char0 === 0x19) &&\n            (char1 >= 0x30 && char1 <= 0x3F)) {\n            // Put in eigth note and space\n            char0 = 0x266A;\n            char1 = '';\n          }\n\n          // ignore unsupported control codes\n          if ((char0 & 0xf0) === 0x10) {\n            return;\n          }\n\n          // character handling is dependent on the current mode\n          this[this.mode_](packet.pts, char0, char1);\n          break;\n      }\n    };\n  };\n  Cea608Stream.prototype = new Stream();\n// Trigger a cue point that captures the current state of the\n// display buffer\n  Cea608Stream.prototype.flushDisplayed = function(pts) {\n    var content = this.displayed_\n      // remove spaces from the start and end of the string\n      .map(function(row) {\n        return row.trim();\n      })\n      // remove empty rows\n      .filter(function(row) {\n        return row.length;\n      })\n      // combine all text rows to display in one cue\n      .join('\\n');\n\n    if (content.length) {\n      this.trigger('data', {\n        startPts: this.startPts_,\n        endPts: pts,\n        text: content\n      });\n    }\n  };\n\n// Mode Implementations\n  Cea608Stream.prototype.popOn = function(pts, char0, char1) {\n    var baseRow = this.nonDisplayed_[BOTTOM_ROW];\n\n    // buffer characters\n    baseRow += getCharFromCode(char0);\n    baseRow += getCharFromCode(char1);\n    this.nonDisplayed_[BOTTOM_ROW] = baseRow;\n  };\n\n  Cea608Stream.prototype.rollUp = function(pts, char0, char1) {\n    var baseRow = this.displayed_[BOTTOM_ROW];\n    if (baseRow === '') {\n      // we're starting to buffer new display input, so flush out the\n      // current display\n      this.flushDisplayed(pts);\n\n      this.startPts_ = pts;\n    }\n\n    baseRow += getCharFromCode(char0);\n    baseRow += getCharFromCode(char1);\n\n    this.displayed_[BOTTOM_ROW] = baseRow;\n  };\n  Cea608Stream.prototype.shiftRowsUp_ = function() {\n    var i;\n    // clear out inactive rows\n    for (i = 0; i < this.topRow_; i++) {\n      this.displayed_[i] = '';\n    }\n    // shift displayed rows up\n    for (i = this.topRow_; i < BOTTOM_ROW; i++) {\n      this.displayed_[i] = this.displayed_[i + 1];\n    }\n    // clear out the bottom row\n    this.displayed_[BOTTOM_ROW] = '';\n  };\n\n// exports\n  module.exports = {\n    CaptionStream: CaptionStream,\n    Cea608Stream: Cea608Stream\n  };\n\n},{\"../utils/stream\":84}],75:[function(require,module,exports){\n  /**\n   * mux.js\n   *\n   * Copyright (c) 2015 Brightcove\n   * All rights reserved.\n   *\n   * A stream-based mp2t to mp4 converter. This utility can be used to\n   * deliver mp4s to a SourceBuffer on platforms that support native\n   * Media Source Extensions.\n   */\n  'use strict';\n  var Stream = require('../utils/stream.js'),\n    CaptionStream = require('./caption-stream'),\n    StreamTypes = require('./stream-types'),\n    TimestampRolloverStream = require('./timestamp-rollover-stream').TimestampRolloverStream;\n\n  var m2tsStreamTypes = require('./stream-types.js');\n\n// object types\n  var TransportPacketStream, TransportParseStream, ElementaryStream;\n\n// constants\n  var\n    MP2T_PACKET_LENGTH = 188, // bytes\n    SYNC_BYTE = 0x47;\n\n  /**\n   * Splits an incoming stream of binary data into MPEG-2 Transport\n   * Stream packets.\n   */\n  TransportPacketStream = function() {\n    var\n      buffer = new Uint8Array(MP2T_PACKET_LENGTH),\n      bytesInBuffer = 0;\n\n    TransportPacketStream.prototype.init.call(this);\n\n    // Deliver new bytes to the stream.\n\n    this.push = function(bytes) {\n      var\n        startIndex = 0,\n        endIndex = MP2T_PACKET_LENGTH,\n        everything;\n\n      // If there are bytes remaining from the last segment, prepend them to the\n      // bytes that were pushed in\n      if (bytesInBuffer) {\n        everything = new Uint8Array(bytes.byteLength + bytesInBuffer);\n        everything.set(buffer.subarray(0, bytesInBuffer));\n        everything.set(bytes, bytesInBuffer);\n        bytesInBuffer = 0;\n      } else {\n        everything = bytes;\n      }\n\n      // While we have enough data for a packet\n      while (endIndex < everything.byteLength) {\n        // Look for a pair of start and end sync bytes in the data..\n        if (everything[startIndex] === SYNC_BYTE && everything[endIndex] === SYNC_BYTE) {\n          // We found a packet so emit it and jump one whole packet forward in\n          // the stream\n          this.trigger('data', everything.subarray(startIndex, endIndex));\n          startIndex += MP2T_PACKET_LENGTH;\n          endIndex += MP2T_PACKET_LENGTH;\n          continue;\n        }\n        // If we get here, we have somehow become de-synchronized and we need to step\n        // forward one byte at a time until we find a pair of sync bytes that denote\n        // a packet\n        startIndex++;\n        endIndex++;\n      }\n\n      // If there was some data left over at the end of the segment that couldn't\n      // possibly be a whole packet, keep it because it might be the start of a packet\n      // that continues in the next segment\n      if (startIndex < everything.byteLength) {\n        buffer.set(everything.subarray(startIndex), 0);\n        bytesInBuffer = everything.byteLength - startIndex;\n      }\n    };\n\n    this.flush = function() {\n      // If the buffer contains a whole packet when we are being flushed, emit it\n      // and empty the buffer. Otherwise hold onto the data because it may be\n      // important for decoding the next segment\n      if (bytesInBuffer === MP2T_PACKET_LENGTH && buffer[0] === SYNC_BYTE) {\n        this.trigger('data', buffer);\n        bytesInBuffer = 0;\n      }\n      this.trigger('done');\n    };\n  };\n  TransportPacketStream.prototype = new Stream();\n\n  /**\n   * Accepts an MP2T TransportPacketStream and emits data events with parsed\n   * forms of the individual transport stream packets.\n   */\n  TransportParseStream = function() {\n    var parsePsi, parsePat, parsePmt, self;\n    TransportParseStream.prototype.init.call(this);\n    self = this;\n\n    this.packetsWaitingForPmt = [];\n    this.programMapTable = undefined;\n\n    parsePsi = function(payload, psi) {\n      var offset = 0;\n\n      // PSI packets may be split into multiple sections and those\n      // sections may be split into multiple packets. If a PSI\n      // section starts in this packet, the payload_unit_start_indicator\n      // will be true and the first byte of the payload will indicate\n      // the offset from the current position to the start of the\n      // section.\n      if (psi.payloadUnitStartIndicator) {\n        offset += payload[offset] + 1;\n      }\n\n      if (psi.type === 'pat') {\n        parsePat(payload.subarray(offset), psi);\n      } else {\n        parsePmt(payload.subarray(offset), psi);\n      }\n    };\n\n    parsePat = function(payload, pat) {\n      pat.section_number = payload[7]; // eslint-disable-line camelcase\n      pat.last_section_number = payload[8]; // eslint-disable-line camelcase\n\n      // skip the PSI header and parse the first PMT entry\n      self.pmtPid = (payload[10] & 0x1F) << 8 | payload[11];\n      pat.pmtPid = self.pmtPid;\n    };\n\n    /**\n     * Parse out the relevant fields of a Program Map Table (PMT).\n     * @param payload {Uint8Array} the PMT-specific portion of an MP2T\n     * packet. The first byte in this array should be the table_id\n     * field.\n     * @param pmt {object} the object that should be decorated with\n     * fields parsed from the PMT.\n     */\n    parsePmt = function(payload, pmt) {\n      var sectionLength, tableEnd, programInfoLength, offset;\n\n      // PMTs can be sent ahead of the time when they should actually\n      // take effect. We don't believe this should ever be the case\n      // for HLS but we'll ignore \"forward\" PMT declarations if we see\n      // them. Future PMT declarations have the current_next_indicator\n      // set to zero.\n      if (!(payload[5] & 0x01)) {\n        return;\n      }\n\n      // overwrite any existing program map table\n      self.programMapTable = {};\n\n      // the mapping table ends at the end of the current section\n      sectionLength = (payload[1] & 0x0f) << 8 | payload[2];\n      tableEnd = 3 + sectionLength - 4;\n\n      // to determine where the table is, we have to figure out how\n      // long the program info descriptors are\n      programInfoLength = (payload[10] & 0x0f) << 8 | payload[11];\n\n      // advance the offset to the first entry in the mapping table\n      offset = 12 + programInfoLength;\n      while (offset < tableEnd) {\n        // add an entry that maps the elementary_pid to the stream_type\n        self.programMapTable[(payload[offset + 1] & 0x1F) << 8 | payload[offset + 2]] = payload[offset];\n\n        // move to the next table entry\n        // skip past the elementary stream descriptors, if present\n        offset += ((payload[offset + 3] & 0x0F) << 8 | payload[offset + 4]) + 5;\n      }\n\n      // record the map on the packet as well\n      pmt.programMapTable = self.programMapTable;\n\n      // if there are any packets waiting for a PMT to be found, process them now\n      while (self.packetsWaitingForPmt.length) {\n        self.processPes_.apply(self, self.packetsWaitingForPmt.shift());\n      }\n    };\n\n    /**\n     * Deliver a new MP2T packet to the stream.\n     */\n    this.push = function(packet) {\n      var\n        result = {},\n        offset = 4;\n\n      result.payloadUnitStartIndicator = !!(packet[1] & 0x40);\n\n      // pid is a 13-bit field starting at the last bit of packet[1]\n      result.pid = packet[1] & 0x1f;\n      result.pid <<= 8;\n      result.pid |= packet[2];\n\n      // if an adaption field is present, its length is specified by the\n      // fifth byte of the TS packet header. The adaptation field is\n      // used to add stuffing to PES packets that don't fill a complete\n      // TS packet, and to specify some forms of timing and control data\n      // that we do not currently use.\n      if (((packet[3] & 0x30) >>> 4) > 0x01) {\n        offset += packet[offset] + 1;\n      }\n\n      // parse the rest of the packet based on the type\n      if (result.pid === 0) {\n        result.type = 'pat';\n        parsePsi(packet.subarray(offset), result);\n        this.trigger('data', result);\n      } else if (result.pid === this.pmtPid) {\n        result.type = 'pmt';\n        parsePsi(packet.subarray(offset), result);\n        this.trigger('data', result);\n      } else if (this.programMapTable === undefined) {\n        // When we have not seen a PMT yet, defer further processing of\n        // PES packets until one has been parsed\n        this.packetsWaitingForPmt.push([packet, offset, result]);\n      } else {\n        this.processPes_(packet, offset, result);\n      }\n    };\n\n    this.processPes_ = function(packet, offset, result) {\n      result.streamType = this.programMapTable[result.pid];\n      result.type = 'pes';\n      result.data = packet.subarray(offset);\n\n      this.trigger('data', result);\n    };\n\n  };\n  TransportParseStream.prototype = new Stream();\n  TransportParseStream.STREAM_TYPES  = {\n    h264: 0x1b,\n    adts: 0x0f\n  };\n\n  /**\n   * Reconsistutes program elementary stream (PES) packets from parsed\n   * transport stream packets. That is, if you pipe an\n   * mp2t.TransportParseStream into a mp2t.ElementaryStream, the output\n   * events will be events which capture the bytes for individual PES\n   * packets plus relevant metadata that has been extracted from the\n   * container.\n   */\n  ElementaryStream = function() {\n    var\n      self = this,\n    // PES packet fragments\n      video = {\n        data: [],\n        size: 0\n      },\n      audio = {\n        data: [],\n        size: 0\n      },\n      timedMetadata = {\n        data: [],\n        size: 0\n      },\n      parsePes = function(payload, pes) {\n        var ptsDtsFlags;\n\n        // find out if this packets starts a new keyframe\n        pes.dataAlignmentIndicator = (payload[6] & 0x04) !== 0;\n        // PES packets may be annotated with a PTS value, or a PTS value\n        // and a DTS value. Determine what combination of values is\n        // available to work with.\n        ptsDtsFlags = payload[7];\n\n        // PTS and DTS are normally stored as a 33-bit number.  Javascript\n        // performs all bitwise operations on 32-bit integers but javascript\n        // supports a much greater range (52-bits) of integer using standard\n        // mathematical operations.\n        // We construct a 31-bit value using bitwise operators over the 31\n        // most significant bits and then multiply by 4 (equal to a left-shift\n        // of 2) before we add the final 2 least significant bits of the\n        // timestamp (equal to an OR.)\n        if (ptsDtsFlags & 0xC0) {\n          // the PTS and DTS are not written out directly. For information\n          // on how they are encoded, see\n          // http://dvd.sourceforge.net/dvdinfo/pes-hdr.html\n          pes.pts = (payload[9] & 0x0E) << 27 |\n          (payload[10] & 0xFF) << 20 |\n          (payload[11] & 0xFE) << 12 |\n          (payload[12] & 0xFF) <<  5 |\n          (payload[13] & 0xFE) >>>  3;\n          pes.pts *= 4; // Left shift by 2\n          pes.pts += (payload[13] & 0x06) >>> 1; // OR by the two LSBs\n          pes.dts = pes.pts;\n          if (ptsDtsFlags & 0x40) {\n            pes.dts = (payload[14] & 0x0E) << 27 |\n            (payload[15] & 0xFF) << 20 |\n            (payload[16] & 0xFE) << 12 |\n            (payload[17] & 0xFF) << 5 |\n            (payload[18] & 0xFE) >>> 3;\n            pes.dts *= 4; // Left shift by 2\n            pes.dts += (payload[18] & 0x06) >>> 1; // OR by the two LSBs\n          }\n        }\n        // the data section starts immediately after the PES header.\n        // pes_header_data_length specifies the number of header bytes\n        // that follow the last byte of the field.\n        pes.data = payload.subarray(9 + payload[8]);\n      },\n      flushStream = function(stream, type) {\n        var\n          packetData = new Uint8Array(stream.size),\n          event = {\n            type: type\n          },\n          i = 0,\n          fragment;\n\n        // do nothing if there is no buffered data\n        if (!stream.data.length) {\n          return;\n        }\n        event.trackId = stream.data[0].pid;\n\n        // reassemble the packet\n        while (stream.data.length) {\n          fragment = stream.data.shift();\n\n          packetData.set(fragment.data, i);\n          i += fragment.data.byteLength;\n        }\n\n        // parse assembled packet's PES header\n        parsePes(packetData, event);\n\n        stream.size = 0;\n\n        self.trigger('data', event);\n      };\n\n    ElementaryStream.prototype.init.call(this);\n\n    this.push = function(data) {\n      ({\n        pat: function() {\n          // we have to wait for the PMT to arrive as well before we\n          // have any meaningful metadata\n        },\n        pes: function() {\n          var stream, streamType;\n\n          switch (data.streamType) {\n            case StreamTypes.H264_STREAM_TYPE:\n            case m2tsStreamTypes.H264_STREAM_TYPE:\n              stream = video;\n              streamType = 'video';\n              break;\n            case StreamTypes.ADTS_STREAM_TYPE:\n              stream = audio;\n              streamType = 'audio';\n              break;\n            case StreamTypes.METADATA_STREAM_TYPE:\n              stream = timedMetadata;\n              streamType = 'timed-metadata';\n              break;\n            default:\n              // ignore unknown stream types\n              return;\n          }\n\n          // if a new packet is starting, we can flush the completed\n          // packet\n          if (data.payloadUnitStartIndicator) {\n            flushStream(stream, streamType);\n          }\n\n          // buffer this fragment until we are sure we've received the\n          // complete payload\n          stream.data.push(data);\n          stream.size += data.data.byteLength;\n        },\n        pmt: function() {\n          var\n            event = {\n              type: 'metadata',\n              tracks: []\n            },\n            programMapTable = data.programMapTable,\n            k,\n            track;\n\n          // translate streams to tracks\n          for (k in programMapTable) {\n            if (programMapTable.hasOwnProperty(k)) {\n              track = {\n                timelineStartInfo: {\n                  baseMediaDecodeTime: 0\n                }\n              };\n              track.id = +k;\n              if (programMapTable[k] === m2tsStreamTypes.H264_STREAM_TYPE) {\n                track.codec = 'avc';\n                track.type = 'video';\n              } else if (programMapTable[k] === m2tsStreamTypes.ADTS_STREAM_TYPE) {\n                track.codec = 'adts';\n                track.type = 'audio';\n              }\n              event.tracks.push(track);\n            }\n          }\n          self.trigger('data', event);\n        }\n      })[data.type]();\n    };\n\n    /**\n     * Flush any remaining input. Video PES packets may be of variable\n     * length. Normally, the start of a new video packet can trigger the\n     * finalization of the previous packet. That is not possible if no\n     * more video is forthcoming, however. In that case, some other\n     * mechanism (like the end of the file) has to be employed. When it is\n     * clear that no additional data is forthcoming, calling this method\n     * will flush the buffered packets.\n     */\n    this.flush = function() {\n      // !!THIS ORDER IS IMPORTANT!!\n      // video first then audio\n      flushStream(video, 'video');\n      flushStream(audio, 'audio');\n      flushStream(timedMetadata, 'timed-metadata');\n      this.trigger('done');\n    };\n  };\n  ElementaryStream.prototype = new Stream();\n\n  var m2ts = {\n    PAT_PID: 0x0000,\n    MP2T_PACKET_LENGTH: MP2T_PACKET_LENGTH,\n    TransportPacketStream: TransportPacketStream,\n    TransportParseStream: TransportParseStream,\n    ElementaryStream: ElementaryStream,\n    TimestampRolloverStream: TimestampRolloverStream,\n    CaptionStream: CaptionStream.CaptionStream,\n    Cea608Stream: CaptionStream.Cea608Stream,\n    MetadataStream: require('./metadata-stream')\n  };\n\n  for (var type in StreamTypes) {\n    if (StreamTypes.hasOwnProperty(type)) {\n      m2ts[type] = StreamTypes[type];\n    }\n  }\n\n  module.exports = m2ts;\n\n},{\"../utils/stream.js\":84,\"./caption-stream\":74,\"./metadata-stream\":76,\"./stream-types\":77,\"./stream-types.js\":77,\"./timestamp-rollover-stream\":78}],76:[function(require,module,exports){\n  /**\n   * Accepts program elementary stream (PES) data events and parses out\n   * ID3 metadata from them, if present.\n   * @see http://id3.org/id3v2.3.0\n   */\n  'use strict';\n  var\n    Stream = require('../utils/stream'),\n    StreamTypes = require('./stream-types'),\n  // return a percent-encoded representation of the specified byte range\n  // @see http://en.wikipedia.org/wiki/Percent-encoding\n    percentEncode = function(bytes, start, end) {\n      var i, result = '';\n      for (i = start; i < end; i++) {\n        result += '%' + ('00' + bytes[i].toString(16)).slice(-2);\n      }\n      return result;\n    },\n  // return the string representation of the specified byte range,\n  // interpreted as UTf-8.\n    parseUtf8 = function(bytes, start, end) {\n      return decodeURIComponent(percentEncode(bytes, start, end));\n    },\n  // return the string representation of the specified byte range,\n  // interpreted as ISO-8859-1.\n    parseIso88591 = function(bytes, start, end) {\n      return unescape(percentEncode(bytes, start, end)); // jshint ignore:line\n    },\n    parseSyncSafeInteger = function(data) {\n      return (data[0] << 21) |\n        (data[1] << 14) |\n        (data[2] << 7) |\n        (data[3]);\n    },\n    tagParsers = {\n      TXXX: function(tag) {\n        var i;\n        if (tag.data[0] !== 3) {\n          // ignore frames with unrecognized character encodings\n          return;\n        }\n\n        for (i = 1; i < tag.data.length; i++) {\n          if (tag.data[i] === 0) {\n            // parse the text fields\n            tag.description = parseUtf8(tag.data, 1, i);\n            // do not include the null terminator in the tag value\n            tag.value = parseUtf8(tag.data, i + 1, tag.data.length - 1);\n            break;\n          }\n        }\n        tag.data = tag.value;\n      },\n      WXXX: function(tag) {\n        var i;\n        if (tag.data[0] !== 3) {\n          // ignore frames with unrecognized character encodings\n          return;\n        }\n\n        for (i = 1; i < tag.data.length; i++) {\n          if (tag.data[i] === 0) {\n            // parse the description and URL fields\n            tag.description = parseUtf8(tag.data, 1, i);\n            tag.url = parseUtf8(tag.data, i + 1, tag.data.length);\n            break;\n          }\n        }\n      },\n      PRIV: function(tag) {\n        var i;\n\n        for (i = 0; i < tag.data.length; i++) {\n          if (tag.data[i] === 0) {\n            // parse the description and URL fields\n            tag.owner = parseIso88591(tag.data, 0, i);\n            break;\n          }\n        }\n        tag.privateData = tag.data.subarray(i + 1);\n        tag.data = tag.privateData;\n      }\n    },\n    MetadataStream;\n\n  MetadataStream = function(options) {\n    var\n      settings = {\n        debug: !!(options && options.debug),\n\n        // the bytes of the program-level descriptor field in MP2T\n        // see ISO/IEC 13818-1:2013 (E), section 2.6 \"Program and\n        // program element descriptors\"\n        descriptor: options && options.descriptor\n      },\n    // the total size in bytes of the ID3 tag being parsed\n      tagSize = 0,\n    // tag data that is not complete enough to be parsed\n      buffer = [],\n    // the total number of bytes currently in the buffer\n      bufferSize = 0,\n      i;\n\n    MetadataStream.prototype.init.call(this);\n\n    // calculate the text track in-band metadata track dispatch type\n    // https://html.spec.whatwg.org/multipage/embedded-content.html#steps-to-expose-a-media-resource-specific-text-track\n    this.dispatchType = StreamTypes.METADATA_STREAM_TYPE.toString(16);\n    if (settings.descriptor) {\n      for (i = 0; i < settings.descriptor.length; i++) {\n        this.dispatchType += ('00' + settings.descriptor[i].toString(16)).slice(-2);\n      }\n    }\n\n    this.push = function(chunk) {\n      var tag, frameStart, frameSize, frame, i, frameHeader;\n      if (chunk.type !== 'timed-metadata') {\n        return;\n      }\n\n      // if data_alignment_indicator is set in the PES header,\n      // we must have the start of a new ID3 tag. Assume anything\n      // remaining in the buffer was malformed and throw it out\n      if (chunk.dataAlignmentIndicator) {\n        bufferSize = 0;\n        buffer.length = 0;\n      }\n\n      // ignore events that don't look like ID3 data\n      if (buffer.length === 0 &&\n        (chunk.data.length < 10 ||\n        chunk.data[0] !== 'I'.charCodeAt(0) ||\n        chunk.data[1] !== 'D'.charCodeAt(0) ||\n        chunk.data[2] !== '3'.charCodeAt(0))) {\n        if (settings.debug) {\n          // eslint-disable-next-line no-console\n          console.log('Skipping unrecognized metadata packet');\n        }\n        return;\n      }\n\n      // add this chunk to the data we've collected so far\n\n      buffer.push(chunk);\n      bufferSize += chunk.data.byteLength;\n\n      // grab the size of the entire frame from the ID3 header\n      if (buffer.length === 1) {\n        // the frame size is transmitted as a 28-bit integer in the\n        // last four bytes of the ID3 header.\n        // The most significant bit of each byte is dropped and the\n        // results concatenated to recover the actual value.\n        tagSize = parseSyncSafeInteger(chunk.data.subarray(6, 10));\n\n        // ID3 reports the tag size excluding the header but it's more\n        // convenient for our comparisons to include it\n        tagSize += 10;\n      }\n\n      // if the entire frame has not arrived, wait for more data\n      if (bufferSize < tagSize) {\n        return;\n      }\n\n      // collect the entire frame so it can be parsed\n      tag = {\n        data: new Uint8Array(tagSize),\n        frames: [],\n        pts: buffer[0].pts,\n        dts: buffer[0].dts\n      };\n      for (i = 0; i < tagSize;) {\n        tag.data.set(buffer[0].data.subarray(0, tagSize - i), i);\n        i += buffer[0].data.byteLength;\n        bufferSize -= buffer[0].data.byteLength;\n        buffer.shift();\n      }\n\n      // find the start of the first frame and the end of the tag\n      frameStart = 10;\n      if (tag.data[5] & 0x40) {\n        // advance the frame start past the extended header\n        frameStart += 4; // header size field\n        frameStart += parseSyncSafeInteger(tag.data.subarray(10, 14));\n\n        // clip any padding off the end\n        tagSize -= parseSyncSafeInteger(tag.data.subarray(16, 20));\n      }\n\n      // parse one or more ID3 frames\n      // http://id3.org/id3v2.3.0#ID3v2_frame_overview\n      do {\n        // determine the number of bytes in this frame\n        frameSize = parseSyncSafeInteger(tag.data.subarray(frameStart + 4, frameStart + 8));\n        if (frameSize < 1) {\n          // eslint-disable-next-line no-console\n          return console.log('Malformed ID3 frame encountered. Skipping metadata parsing.');\n        }\n        frameHeader = String.fromCharCode(tag.data[frameStart],\n          tag.data[frameStart + 1],\n          tag.data[frameStart + 2],\n          tag.data[frameStart + 3]);\n\n\n        frame = {\n          id: frameHeader,\n          data: tag.data.subarray(frameStart + 10, frameStart + frameSize + 10)\n        };\n        frame.key = frame.id;\n        if (tagParsers[frame.id]) {\n          tagParsers[frame.id](frame);\n\n          // handle the special PRIV frame used to indicate the start\n          // time for raw AAC data\n          if (frame.owner === 'com.apple.streaming.transportStreamTimestamp') {\n            var\n              d = frame.data,\n              size = ((d[3] & 0x01)  << 30) |\n                (d[4]  << 22) |\n                (d[5] << 14) |\n                (d[6] << 6) |\n                (d[7] >>> 2);\n\n            size *= 4;\n            size += d[7] & 0x03;\n            frame.timeStamp = size;\n            // in raw AAC, all subsequent data will be timestamped based\n            // on the value of this frame\n            // we couldn't have known the appropriate pts and dts before\n            // parsing this ID3 tag so set those values now\n            if (tag.pts === undefined && tag.dts === undefined) {\n              tag.pts = frame.timeStamp;\n              tag.dts = frame.timeStamp;\n            }\n            this.trigger('timestamp', frame);\n          }\n        }\n        tag.frames.push(frame);\n\n        frameStart += 10; // advance past the frame header\n        frameStart += frameSize; // advance past the frame body\n      } while (frameStart < tagSize);\n      this.trigger('data', tag);\n    };\n  };\n  MetadataStream.prototype = new Stream();\n\n  module.exports = MetadataStream;\n\n},{\"../utils/stream\":84,\"./stream-types\":77}],77:[function(require,module,exports){\n  'use strict';\n\n  module.exports = {\n    H264_STREAM_TYPE: 0x1B,\n    ADTS_STREAM_TYPE: 0x0F,\n    METADATA_STREAM_TYPE: 0x15\n  };\n\n},{}],78:[function(require,module,exports){\n  /**\n   * mux.js\n   *\n   * Copyright (c) 2016 Brightcove\n   * All rights reserved.\n   *\n   * Accepts program elementary stream (PES) data events and corrects\n   * decode and presentation time stamps to account for a rollover\n   * of the 33 bit value.\n   */\n\n  'use strict';\n\n  var Stream = require('../utils/stream');\n\n  var MAX_TS = 8589934592;\n\n  var RO_THRESH = 4294967296;\n\n  var handleRollover = function(value, reference) {\n    var direction = 1;\n\n    if (value > reference) {\n      // If the current timestamp value is greater than our reference timestamp and we detect a\n      // timestamp rollover, this means the roll over is happening in the opposite direction.\n      // Example scenario: Enter a long stream/video just after a rollover occurred. The reference\n      // point will be set to a small number, e.g. 1. The user then seeks backwards over the\n      // rollover point. In loading this segment, the timestamp values will be very large,\n      // e.g. 2^33 - 1. Since this comes before the data we loaded previously, we want to adjust\n      // the time stamp to be `value - 2^33`.\n      direction = -1;\n    }\n\n    // Note: A seek forwards or back that is greater than the RO_THRESH (2^32, ~13 hours) will\n    // cause an incorrect adjustment.\n    while (Math.abs(reference - value) > RO_THRESH) {\n      value += (direction * MAX_TS);\n    }\n\n    return value;\n  };\n\n  var TimestampRolloverStream = function(type) {\n    var lastDTS, referenceDTS;\n\n    TimestampRolloverStream.prototype.init.call(this);\n\n    this.type_ = type;\n\n    this.push = function(data) {\n      if (data.type !== this.type_) {\n        return;\n      }\n\n      if (referenceDTS === undefined) {\n        referenceDTS = data.dts;\n      }\n\n      data.dts = handleRollover(data.dts, referenceDTS);\n      data.pts = handleRollover(data.pts, referenceDTS);\n\n      lastDTS = data.dts;\n\n      this.trigger('data', data);\n    };\n\n    this.flush = function() {\n      referenceDTS = lastDTS;\n      this.trigger('done');\n    };\n\n  };\n\n  TimestampRolloverStream.prototype = new Stream();\n\n  module.exports = {\n    TimestampRolloverStream: TimestampRolloverStream,\n    handleRollover: handleRollover\n  };\n\n},{\"../utils/stream\":84}],79:[function(require,module,exports){\n  module.exports = {\n    generator: require('./mp4-generator'),\n    Transmuxer: require('./transmuxer').Transmuxer,\n    AudioSegmentStream: require('./transmuxer').AudioSegmentStream,\n    VideoSegmentStream: require('./transmuxer').VideoSegmentStream\n  };\n\n},{\"./mp4-generator\":80,\"./transmuxer\":82}],80:[function(require,module,exports){\n  /**\n   * mux.js\n   *\n   * Copyright (c) 2015 Brightcove\n   * All rights reserved.\n   *\n   * Functions that generate fragmented MP4s suitable for use with Media\n   * Source Extensions.\n   */\n  'use strict';\n\n  var UINT32_MAX = Math.pow(2, 32) - 1;\n\n  var box, dinf, esds, ftyp, mdat, mfhd, minf, moof, moov, mvex, mvhd,\n    trak, tkhd, mdia, mdhd, hdlr, sdtp, stbl, stsd, traf, trex,\n    trun, types, MAJOR_BRAND, MINOR_VERSION, AVC1_BRAND, VIDEO_HDLR,\n    AUDIO_HDLR, HDLR_TYPES, VMHD, SMHD, DREF, STCO, STSC, STSZ, STTS;\n\n// pre-calculate constants\n  (function() {\n    var i;\n    types = {\n      avc1: [], // codingname\n      avcC: [],\n      btrt: [],\n      dinf: [],\n      dref: [],\n      esds: [],\n      ftyp: [],\n      hdlr: [],\n      mdat: [],\n      mdhd: [],\n      mdia: [],\n      mfhd: [],\n      minf: [],\n      moof: [],\n      moov: [],\n      mp4a: [], // codingname\n      mvex: [],\n      mvhd: [],\n      sdtp: [],\n      smhd: [],\n      stbl: [],\n      stco: [],\n      stsc: [],\n      stsd: [],\n      stsz: [],\n      stts: [],\n      styp: [],\n      tfdt: [],\n      tfhd: [],\n      traf: [],\n      trak: [],\n      trun: [],\n      trex: [],\n      tkhd: [],\n      vmhd: []\n    };\n\n    // In environments where Uint8Array is undefined (e.g., IE8), skip set up so that we\n    // don't throw an error\n    if (typeof Uint8Array === 'undefined') {\n      return;\n    }\n\n    for (i in types) {\n      if (types.hasOwnProperty(i)) {\n        types[i] = [\n          i.charCodeAt(0),\n          i.charCodeAt(1),\n          i.charCodeAt(2),\n          i.charCodeAt(3)\n        ];\n      }\n    }\n\n    MAJOR_BRAND = new Uint8Array([\n      'i'.charCodeAt(0),\n      's'.charCodeAt(0),\n      'o'.charCodeAt(0),\n      'm'.charCodeAt(0)\n    ]);\n    AVC1_BRAND = new Uint8Array([\n      'a'.charCodeAt(0),\n      'v'.charCodeAt(0),\n      'c'.charCodeAt(0),\n      '1'.charCodeAt(0)\n    ]);\n    MINOR_VERSION = new Uint8Array([0, 0, 0, 1]);\n    VIDEO_HDLR = new Uint8Array([\n      0x00, // version 0\n      0x00, 0x00, 0x00, // flags\n      0x00, 0x00, 0x00, 0x00, // pre_defined\n      0x76, 0x69, 0x64, 0x65, // handler_type: 'vide'\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x56, 0x69, 0x64, 0x65,\n      0x6f, 0x48, 0x61, 0x6e,\n      0x64, 0x6c, 0x65, 0x72, 0x00 // name: 'VideoHandler'\n    ]);\n    AUDIO_HDLR = new Uint8Array([\n      0x00, // version 0\n      0x00, 0x00, 0x00, // flags\n      0x00, 0x00, 0x00, 0x00, // pre_defined\n      0x73, 0x6f, 0x75, 0x6e, // handler_type: 'soun'\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x53, 0x6f, 0x75, 0x6e,\n      0x64, 0x48, 0x61, 0x6e,\n      0x64, 0x6c, 0x65, 0x72, 0x00 // name: 'SoundHandler'\n    ]);\n    HDLR_TYPES = {\n      video: VIDEO_HDLR,\n      audio: AUDIO_HDLR\n    };\n    DREF = new Uint8Array([\n      0x00, // version 0\n      0x00, 0x00, 0x00, // flags\n      0x00, 0x00, 0x00, 0x01, // entry_count\n      0x00, 0x00, 0x00, 0x0c, // entry_size\n      0x75, 0x72, 0x6c, 0x20, // 'url' type\n      0x00, // version 0\n      0x00, 0x00, 0x01 // entry_flags\n    ]);\n    SMHD = new Uint8Array([\n      0x00,             // version\n      0x00, 0x00, 0x00, // flags\n      0x00, 0x00,       // balance, 0 means centered\n      0x00, 0x00        // reserved\n    ]);\n    STCO = new Uint8Array([\n      0x00, // version\n      0x00, 0x00, 0x00, // flags\n      0x00, 0x00, 0x00, 0x00 // entry_count\n    ]);\n    STSC = STCO;\n    STSZ = new Uint8Array([\n      0x00, // version\n      0x00, 0x00, 0x00, // flags\n      0x00, 0x00, 0x00, 0x00, // sample_size\n      0x00, 0x00, 0x00, 0x00 // sample_count\n    ]);\n    STTS = STCO;\n    VMHD = new Uint8Array([\n      0x00, // version\n      0x00, 0x00, 0x01, // flags\n      0x00, 0x00, // graphicsmode\n      0x00, 0x00,\n      0x00, 0x00,\n      0x00, 0x00 // opcolor\n    ]);\n  }());\n\n  box = function(type) {\n    var\n      payload = [],\n      size = 0,\n      i,\n      result,\n      view;\n\n    for (i = 1; i < arguments.length; i++) {\n      payload.push(arguments[i]);\n    }\n\n    i = payload.length;\n\n    // calculate the total size we need to allocate\n    while (i--) {\n      size += payload[i].byteLength;\n    }\n    result = new Uint8Array(size + 8);\n    view = new DataView(result.buffer, result.byteOffset, result.byteLength);\n    view.setUint32(0, result.byteLength);\n    result.set(type, 4);\n\n    // copy the payload into the result\n    for (i = 0, size = 8; i < payload.length; i++) {\n      result.set(payload[i], size);\n      size += payload[i].byteLength;\n    }\n    return result;\n  };\n\n  dinf = function() {\n    return box(types.dinf, box(types.dref, DREF));\n  };\n\n  esds = function(track) {\n    return box(types.esds, new Uint8Array([\n      0x00, // version\n      0x00, 0x00, 0x00, // flags\n\n      // ES_Descriptor\n      0x03, // tag, ES_DescrTag\n      0x19, // length\n      0x00, 0x00, // ES_ID\n      0x00, // streamDependenceFlag, URL_flag, reserved, streamPriority\n\n      // DecoderConfigDescriptor\n      0x04, // tag, DecoderConfigDescrTag\n      0x11, // length\n      0x40, // object type\n      0x15,  // streamType\n      0x00, 0x06, 0x00, // bufferSizeDB\n      0x00, 0x00, 0xda, 0xc0, // maxBitrate\n      0x00, 0x00, 0xda, 0xc0, // avgBitrate\n\n      // DecoderSpecificInfo\n      0x05, // tag, DecoderSpecificInfoTag\n      0x02, // length\n      // ISO/IEC 14496-3, AudioSpecificConfig\n      // for samplingFrequencyIndex see ISO/IEC 13818-7:2006, 8.1.3.2.2, Table 35\n      (track.audioobjecttype << 3) | (track.samplingfrequencyindex >>> 1),\n      (track.samplingfrequencyindex << 7) | (track.channelcount << 3),\n      0x06, 0x01, 0x02 // GASpecificConfig\n    ]));\n  };\n\n  ftyp = function() {\n    return box(types.ftyp, MAJOR_BRAND, MINOR_VERSION, MAJOR_BRAND, AVC1_BRAND);\n  };\n\n  hdlr = function(type) {\n    return box(types.hdlr, HDLR_TYPES[type]);\n  };\n  mdat = function(data) {\n    return box(types.mdat, data);\n  };\n  mdhd = function(track) {\n    var result = new Uint8Array([\n      0x00,                   // version 0\n      0x00, 0x00, 0x00,       // flags\n      0x00, 0x00, 0x00, 0x02, // creation_time\n      0x00, 0x00, 0x00, 0x03, // modification_time\n      0x00, 0x01, 0x5f, 0x90, // timescale, 90,000 \"ticks\" per second\n\n      (track.duration >>> 24) & 0xFF,\n      (track.duration >>> 16) & 0xFF,\n      (track.duration >>>  8) & 0xFF,\n      track.duration & 0xFF,  // duration\n      0x55, 0xc4,             // 'und' language (undetermined)\n      0x00, 0x00\n    ]);\n\n    // Use the sample rate from the track metadata, when it is\n    // defined. The sample rate can be parsed out of an ADTS header, for\n    // instance.\n    if (track.samplerate) {\n      result[12] = (track.samplerate >>> 24) & 0xFF;\n      result[13] = (track.samplerate >>> 16) & 0xFF;\n      result[14] = (track.samplerate >>>  8) & 0xFF;\n      result[15] = (track.samplerate)        & 0xFF;\n    }\n\n    return box(types.mdhd, result);\n  };\n  mdia = function(track) {\n    return box(types.mdia, mdhd(track), hdlr(track.type), minf(track));\n  };\n  mfhd = function(sequenceNumber) {\n    return box(types.mfhd, new Uint8Array([\n      0x00,\n      0x00, 0x00, 0x00, // flags\n      (sequenceNumber & 0xFF000000) >> 24,\n      (sequenceNumber & 0xFF0000) >> 16,\n      (sequenceNumber & 0xFF00) >> 8,\n      sequenceNumber & 0xFF // sequence_number\n    ]));\n  };\n  minf = function(track) {\n    return box(types.minf,\n      track.type === 'video' ? box(types.vmhd, VMHD) : box(types.smhd, SMHD),\n      dinf(),\n      stbl(track));\n  };\n  moof = function(sequenceNumber, tracks) {\n    var\n      trackFragments = [],\n      i = tracks.length;\n    // build traf boxes for each track fragment\n    while (i--) {\n      trackFragments[i] = traf(tracks[i]);\n    }\n    return box.apply(null, [\n      types.moof,\n      mfhd(sequenceNumber)\n    ].concat(trackFragments));\n  };\n  /**\n   * Returns a movie box.\n   * @param tracks {array} the tracks associated with this movie\n   * @see ISO/IEC 14496-12:2012(E), section 8.2.1\n   */\n  moov = function(tracks) {\n    var\n      i = tracks.length,\n      boxes = [];\n\n    while (i--) {\n      boxes[i] = trak(tracks[i]);\n    }\n\n    return box.apply(null, [types.moov, mvhd(0xffffffff)].concat(boxes).concat(mvex(tracks)));\n  };\n  mvex = function(tracks) {\n    var\n      i = tracks.length,\n      boxes = [];\n\n    while (i--) {\n      boxes[i] = trex(tracks[i]);\n    }\n    return box.apply(null, [types.mvex].concat(boxes));\n  };\n  mvhd = function(duration) {\n    var\n      bytes = new Uint8Array([\n        0x00, // version 0\n        0x00, 0x00, 0x00, // flags\n        0x00, 0x00, 0x00, 0x01, // creation_time\n        0x00, 0x00, 0x00, 0x02, // modification_time\n        0x00, 0x01, 0x5f, 0x90, // timescale, 90,000 \"ticks\" per second\n        (duration & 0xFF000000) >> 24,\n        (duration & 0xFF0000) >> 16,\n        (duration & 0xFF00) >> 8,\n        duration & 0xFF, // duration\n        0x00, 0x01, 0x00, 0x00, // 1.0 rate\n        0x01, 0x00, // 1.0 volume\n        0x00, 0x00, // reserved\n        0x00, 0x00, 0x00, 0x00, // reserved\n        0x00, 0x00, 0x00, 0x00, // reserved\n        0x00, 0x01, 0x00, 0x00,\n        0x00, 0x00, 0x00, 0x00,\n        0x00, 0x00, 0x00, 0x00,\n        0x00, 0x00, 0x00, 0x00,\n        0x00, 0x01, 0x00, 0x00,\n        0x00, 0x00, 0x00, 0x00,\n        0x00, 0x00, 0x00, 0x00,\n        0x00, 0x00, 0x00, 0x00,\n        0x40, 0x00, 0x00, 0x00, // transformation: unity matrix\n        0x00, 0x00, 0x00, 0x00,\n        0x00, 0x00, 0x00, 0x00,\n        0x00, 0x00, 0x00, 0x00,\n        0x00, 0x00, 0x00, 0x00,\n        0x00, 0x00, 0x00, 0x00,\n        0x00, 0x00, 0x00, 0x00, // pre_defined\n        0xff, 0xff, 0xff, 0xff // next_track_ID\n      ]);\n    return box(types.mvhd, bytes);\n  };\n\n  sdtp = function(track) {\n    var\n      samples = track.samples || [],\n      bytes = new Uint8Array(4 + samples.length),\n      flags,\n      i;\n\n    // leave the full box header (4 bytes) all zero\n\n    // write the sample table\n    for (i = 0; i < samples.length; i++) {\n      flags = samples[i].flags;\n\n      bytes[i + 4] = (flags.dependsOn << 4) |\n      (flags.isDependedOn << 2) |\n      (flags.hasRedundancy);\n    }\n\n    return box(types.sdtp,\n      bytes);\n  };\n\n  stbl = function(track) {\n    return box(types.stbl,\n      stsd(track),\n      box(types.stts, STTS),\n      box(types.stsc, STSC),\n      box(types.stsz, STSZ),\n      box(types.stco, STCO));\n  };\n\n  (function() {\n    var videoSample, audioSample;\n\n    stsd = function(track) {\n\n      return box(types.stsd, new Uint8Array([\n        0x00, // version 0\n        0x00, 0x00, 0x00, // flags\n        0x00, 0x00, 0x00, 0x01\n      ]), track.type === 'video' ? videoSample(track) : audioSample(track));\n    };\n\n    videoSample = function(track) {\n      var\n        sps = track.sps || [],\n        pps = track.pps || [],\n        sequenceParameterSets = [],\n        pictureParameterSets = [],\n        i;\n\n      // assemble the SPSs\n      for (i = 0; i < sps.length; i++) {\n        sequenceParameterSets.push((sps[i].byteLength & 0xFF00) >>> 8);\n        sequenceParameterSets.push((sps[i].byteLength & 0xFF)); // sequenceParameterSetLength\n        sequenceParameterSets = sequenceParameterSets.concat(Array.prototype.slice.call(sps[i])); // SPS\n      }\n\n      // assemble the PPSs\n      for (i = 0; i < pps.length; i++) {\n        pictureParameterSets.push((pps[i].byteLength & 0xFF00) >>> 8);\n        pictureParameterSets.push((pps[i].byteLength & 0xFF));\n        pictureParameterSets = pictureParameterSets.concat(Array.prototype.slice.call(pps[i]));\n      }\n\n      return box(types.avc1, new Uint8Array([\n          0x00, 0x00, 0x00,\n          0x00, 0x00, 0x00, // reserved\n          0x00, 0x01, // data_reference_index\n          0x00, 0x00, // pre_defined\n          0x00, 0x00, // reserved\n          0x00, 0x00, 0x00, 0x00,\n          0x00, 0x00, 0x00, 0x00,\n          0x00, 0x00, 0x00, 0x00, // pre_defined\n          (track.width & 0xff00) >> 8,\n          track.width & 0xff, // width\n          (track.height & 0xff00) >> 8,\n          track.height & 0xff, // height\n          0x00, 0x48, 0x00, 0x00, // horizresolution\n          0x00, 0x48, 0x00, 0x00, // vertresolution\n          0x00, 0x00, 0x00, 0x00, // reserved\n          0x00, 0x01, // frame_count\n          0x13,\n          0x76, 0x69, 0x64, 0x65,\n          0x6f, 0x6a, 0x73, 0x2d,\n          0x63, 0x6f, 0x6e, 0x74,\n          0x72, 0x69, 0x62, 0x2d,\n          0x68, 0x6c, 0x73, 0x00,\n          0x00, 0x00, 0x00, 0x00,\n          0x00, 0x00, 0x00, 0x00,\n          0x00, 0x00, 0x00, // compressorname\n          0x00, 0x18, // depth = 24\n          0x11, 0x11 // pre_defined = -1\n        ]), box(types.avcC, new Uint8Array([\n          0x01, // configurationVersion\n          track.profileIdc, // AVCProfileIndication\n          track.profileCompatibility, // profile_compatibility\n          track.levelIdc, // AVCLevelIndication\n          0xff // lengthSizeMinusOne, hard-coded to 4 bytes\n        ].concat([\n            sps.length // numOfSequenceParameterSets\n          ]).concat(sequenceParameterSets).concat([\n            pps.length // numOfPictureParameterSets\n          ]).concat(pictureParameterSets))), // \"PPS\"\n        box(types.btrt, new Uint8Array([\n          0x00, 0x1c, 0x9c, 0x80, // bufferSizeDB\n          0x00, 0x2d, 0xc6, 0xc0, // maxBitrate\n          0x00, 0x2d, 0xc6, 0xc0\n        ])) // avgBitrate\n      );\n    };\n\n    audioSample = function(track) {\n      return box(types.mp4a, new Uint8Array([\n\n        // SampleEntry, ISO/IEC 14496-12\n        0x00, 0x00, 0x00,\n        0x00, 0x00, 0x00, // reserved\n        0x00, 0x01, // data_reference_index\n\n        // AudioSampleEntry, ISO/IEC 14496-12\n        0x00, 0x00, 0x00, 0x00, // reserved\n        0x00, 0x00, 0x00, 0x00, // reserved\n        (track.channelcount & 0xff00) >> 8,\n        (track.channelcount & 0xff), // channelcount\n\n        (track.samplesize & 0xff00) >> 8,\n        (track.samplesize & 0xff), // samplesize\n        0x00, 0x00, // pre_defined\n        0x00, 0x00, // reserved\n\n        (track.samplerate & 0xff00) >> 8,\n        (track.samplerate & 0xff),\n        0x00, 0x00 // samplerate, 16.16\n\n        // MP4AudioSampleEntry, ISO/IEC 14496-14\n      ]), esds(track));\n    };\n  }());\n\n  tkhd = function(track) {\n    var result = new Uint8Array([\n      0x00, // version 0\n      0x00, 0x00, 0x07, // flags\n      0x00, 0x00, 0x00, 0x00, // creation_time\n      0x00, 0x00, 0x00, 0x00, // modification_time\n      (track.id & 0xFF000000) >> 24,\n      (track.id & 0xFF0000) >> 16,\n      (track.id & 0xFF00) >> 8,\n      track.id & 0xFF, // track_ID\n      0x00, 0x00, 0x00, 0x00, // reserved\n      (track.duration & 0xFF000000) >> 24,\n      (track.duration & 0xFF0000) >> 16,\n      (track.duration & 0xFF00) >> 8,\n      track.duration & 0xFF, // duration\n      0x00, 0x00, 0x00, 0x00,\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x00, 0x00, // layer\n      0x00, 0x00, // alternate_group\n      0x01, 0x00, // non-audio track volume\n      0x00, 0x00, // reserved\n      0x00, 0x01, 0x00, 0x00,\n      0x00, 0x00, 0x00, 0x00,\n      0x00, 0x00, 0x00, 0x00,\n      0x00, 0x00, 0x00, 0x00,\n      0x00, 0x01, 0x00, 0x00,\n      0x00, 0x00, 0x00, 0x00,\n      0x00, 0x00, 0x00, 0x00,\n      0x00, 0x00, 0x00, 0x00,\n      0x40, 0x00, 0x00, 0x00, // transformation: unity matrix\n      (track.width & 0xFF00) >> 8,\n      track.width & 0xFF,\n      0x00, 0x00, // width\n      (track.height & 0xFF00) >> 8,\n      track.height & 0xFF,\n      0x00, 0x00 // height\n    ]);\n\n    return box(types.tkhd, result);\n  };\n\n  /**\n   * Generate a track fragment (traf) box. A traf box collects metadata\n   * about tracks in a movie fragment (moof) box.\n   */\n  traf = function(track) {\n    var trackFragmentHeader, trackFragmentDecodeTime, trackFragmentRun,\n      sampleDependencyTable, dataOffset,\n      upperWordBaseMediaDecodeTime, lowerWordBaseMediaDecodeTime;\n\n    trackFragmentHeader = box(types.tfhd, new Uint8Array([\n      0x00, // version 0\n      0x00, 0x00, 0x3a, // flags\n      (track.id & 0xFF000000) >> 24,\n      (track.id & 0xFF0000) >> 16,\n      (track.id & 0xFF00) >> 8,\n      (track.id & 0xFF), // track_ID\n      0x00, 0x00, 0x00, 0x01, // sample_description_index\n      0x00, 0x00, 0x00, 0x00, // default_sample_duration\n      0x00, 0x00, 0x00, 0x00, // default_sample_size\n      0x00, 0x00, 0x00, 0x00  // default_sample_flags\n    ]));\n\n    upperWordBaseMediaDecodeTime = Math.floor(track.baseMediaDecodeTime / (UINT32_MAX + 1));\n    lowerWordBaseMediaDecodeTime = Math.floor(track.baseMediaDecodeTime % (UINT32_MAX + 1));\n\n    trackFragmentDecodeTime = box(types.tfdt, new Uint8Array([\n      0x01, // version 1\n      0x00, 0x00, 0x00, // flags\n      // baseMediaDecodeTime\n      (upperWordBaseMediaDecodeTime >>> 24) & 0xFF,\n      (upperWordBaseMediaDecodeTime >>> 16) & 0xFF,\n      (upperWordBaseMediaDecodeTime >>>  8) & 0xFF,\n      upperWordBaseMediaDecodeTime & 0xFF,\n      (lowerWordBaseMediaDecodeTime >>> 24) & 0xFF,\n      (lowerWordBaseMediaDecodeTime >>> 16) & 0xFF,\n      (lowerWordBaseMediaDecodeTime >>>  8) & 0xFF,\n      lowerWordBaseMediaDecodeTime & 0xFF\n    ]));\n\n    // the data offset specifies the number of bytes from the start of\n    // the containing moof to the first payload byte of the associated\n    // mdat\n    dataOffset = (32 + // tfhd\n    20 + // tfdt\n    8 +  // traf header\n    16 + // mfhd\n    8 +  // moof header\n    8);  // mdat header\n\n    // audio tracks require less metadata\n    if (track.type === 'audio') {\n      trackFragmentRun = trun(track, dataOffset);\n      return box(types.traf,\n        trackFragmentHeader,\n        trackFragmentDecodeTime,\n        trackFragmentRun);\n    }\n\n    // video tracks should contain an independent and disposable samples\n    // box (sdtp)\n    // generate one and adjust offsets to match\n    sampleDependencyTable = sdtp(track);\n    trackFragmentRun = trun(track,\n      sampleDependencyTable.length + dataOffset);\n    return box(types.traf,\n      trackFragmentHeader,\n      trackFragmentDecodeTime,\n      trackFragmentRun,\n      sampleDependencyTable);\n  };\n\n  /**\n   * Generate a track box.\n   * @param track {object} a track definition\n   * @return {Uint8Array} the track box\n   */\n  trak = function(track) {\n    track.duration = track.duration || 0xffffffff;\n    return box(types.trak,\n      tkhd(track),\n      mdia(track));\n  };\n\n  trex = function(track) {\n    var result = new Uint8Array([\n      0x00, // version 0\n      0x00, 0x00, 0x00, // flags\n      (track.id & 0xFF000000) >> 24,\n      (track.id & 0xFF0000) >> 16,\n      (track.id & 0xFF00) >> 8,\n      (track.id & 0xFF), // track_ID\n      0x00, 0x00, 0x00, 0x01, // default_sample_description_index\n      0x00, 0x00, 0x00, 0x00, // default_sample_duration\n      0x00, 0x00, 0x00, 0x00, // default_sample_size\n      0x00, 0x01, 0x00, 0x01 // default_sample_flags\n    ]);\n    // the last two bytes of default_sample_flags is the sample\n    // degradation priority, a hint about the importance of this sample\n    // relative to others. Lower the degradation priority for all sample\n    // types other than video.\n    if (track.type !== 'video') {\n      result[result.length - 1] = 0x00;\n    }\n\n    return box(types.trex, result);\n  };\n\n  (function() {\n    var audioTrun, videoTrun, trunHeader;\n\n    // This method assumes all samples are uniform. That is, if a\n    // duration is present for the first sample, it will be present for\n    // all subsequent samples.\n    // see ISO/IEC 14496-12:2012, Section 8.8.8.1\n    trunHeader = function(samples, offset) {\n      var durationPresent = 0, sizePresent = 0,\n        flagsPresent = 0, compositionTimeOffset = 0;\n\n      // trun flag constants\n      if (samples.length) {\n        if (samples[0].duration !== undefined) {\n          durationPresent = 0x1;\n        }\n        if (samples[0].size !== undefined) {\n          sizePresent = 0x2;\n        }\n        if (samples[0].flags !== undefined) {\n          flagsPresent = 0x4;\n        }\n        if (samples[0].compositionTimeOffset !== undefined) {\n          compositionTimeOffset = 0x8;\n        }\n      }\n\n      return [\n        0x00, // version 0\n        0x00,\n        durationPresent | sizePresent | flagsPresent | compositionTimeOffset,\n        0x01, // flags\n        (samples.length & 0xFF000000) >>> 24,\n        (samples.length & 0xFF0000) >>> 16,\n        (samples.length & 0xFF00) >>> 8,\n        samples.length & 0xFF, // sample_count\n        (offset & 0xFF000000) >>> 24,\n        (offset & 0xFF0000) >>> 16,\n        (offset & 0xFF00) >>> 8,\n        offset & 0xFF // data_offset\n      ];\n    };\n\n    videoTrun = function(track, offset) {\n      var bytes, samples, sample, i;\n\n      samples = track.samples || [];\n      offset += 8 + 12 + (16 * samples.length);\n\n      bytes = trunHeader(samples, offset);\n\n      for (i = 0; i < samples.length; i++) {\n        sample = samples[i];\n        bytes = bytes.concat([\n          (sample.duration & 0xFF000000) >>> 24,\n          (sample.duration & 0xFF0000) >>> 16,\n          (sample.duration & 0xFF00) >>> 8,\n          sample.duration & 0xFF, // sample_duration\n          (sample.size & 0xFF000000) >>> 24,\n          (sample.size & 0xFF0000) >>> 16,\n          (sample.size & 0xFF00) >>> 8,\n          sample.size & 0xFF, // sample_size\n          (sample.flags.isLeading << 2) | sample.flags.dependsOn,\n          (sample.flags.isDependedOn << 6) |\n          (sample.flags.hasRedundancy << 4) |\n          (sample.flags.paddingValue << 1) |\n          sample.flags.isNonSyncSample,\n          sample.flags.degradationPriority & 0xF0 << 8,\n          sample.flags.degradationPriority & 0x0F, // sample_flags\n          (sample.compositionTimeOffset & 0xFF000000) >>> 24,\n          (sample.compositionTimeOffset & 0xFF0000) >>> 16,\n          (sample.compositionTimeOffset & 0xFF00) >>> 8,\n          sample.compositionTimeOffset & 0xFF // sample_composition_time_offset\n        ]);\n      }\n      return box(types.trun, new Uint8Array(bytes));\n    };\n\n    audioTrun = function(track, offset) {\n      var bytes, samples, sample, i;\n\n      samples = track.samples || [];\n      offset += 8 + 12 + (8 * samples.length);\n\n      bytes = trunHeader(samples, offset);\n\n      for (i = 0; i < samples.length; i++) {\n        sample = samples[i];\n        bytes = bytes.concat([\n          (sample.duration & 0xFF000000) >>> 24,\n          (sample.duration & 0xFF0000) >>> 16,\n          (sample.duration & 0xFF00) >>> 8,\n          sample.duration & 0xFF, // sample_duration\n          (sample.size & 0xFF000000) >>> 24,\n          (sample.size & 0xFF0000) >>> 16,\n          (sample.size & 0xFF00) >>> 8,\n          sample.size & 0xFF]); // sample_size\n      }\n\n      return box(types.trun, new Uint8Array(bytes));\n    };\n\n    trun = function(track, offset) {\n      if (track.type === 'audio') {\n        return audioTrun(track, offset);\n      }\n\n      return videoTrun(track, offset);\n    };\n  }());\n\n  module.exports = {\n    ftyp: ftyp,\n    mdat: mdat,\n    moof: moof,\n    moov: moov,\n    initSegment: function(tracks) {\n      var\n        fileType = ftyp(),\n        movie = moov(tracks),\n        result;\n\n      result = new Uint8Array(fileType.byteLength + movie.byteLength);\n      result.set(fileType);\n      result.set(movie, fileType.byteLength);\n      return result;\n    }\n  };\n\n},{}],81:[function(require,module,exports){\n  /**\n   * mux.js\n   *\n   * Copyright (c) 2015 Brightcove\n   * All rights reserved.\n   *\n   * Utilities to detect basic properties and metadata about MP4s.\n   */\n  'use strict';\n\n  var findBox, parseType, timescale, startTime;\n\n// Find the data for a box specified by its path\n  findBox = function(data, path) {\n    var results = [],\n      i, size, type, end, subresults;\n\n    if (!path.length) {\n      // short-circuit the search for empty paths\n      return null;\n    }\n\n    for (i = 0; i < data.byteLength;) {\n      size  = data[i]     << 24;\n      size |= data[i + 1] << 16;\n      size |= data[i + 2] << 8;\n      size |= data[i + 3];\n\n      type = parseType(data.subarray(i + 4, i + 8));\n\n      end = size > 1 ? i + size : data.byteLength;\n\n      if (type === path[0]) {\n        if (path.length === 1) {\n          // this is the end of the path and we've found the box we were\n          // looking for\n          results.push(data.subarray(i + 8, end));\n        } else {\n          // recursively search for the next box along the path\n          subresults = findBox(data.subarray(i + 8, end), path.slice(1));\n          if (subresults.length) {\n            results = results.concat(subresults);\n          }\n        }\n      }\n      i = end;\n    }\n\n    // we've finished searching all of data\n    return results;\n  };\n\n  /**\n   * Returns the string representation of an ASCII encoded four byte buffer.\n   * @param buffer {Uint8Array} a four-byte buffer to translate\n   * @return {string} the corresponding string\n   */\n  parseType = function(buffer) {\n    var result = '';\n    result += String.fromCharCode(buffer[0]);\n    result += String.fromCharCode(buffer[1]);\n    result += String.fromCharCode(buffer[2]);\n    result += String.fromCharCode(buffer[3]);\n    return result;\n  };\n\n  /**\n   * Parses an MP4 initialization segment and extracts the timescale\n   * values for any declared tracks. Timescale values indicate the\n   * number of clock ticks per second to assume for time-based values\n   * elsewhere in the MP4.\n   *\n   * To determine the start time of an MP4, you need two pieces of\n   * information: the timescale unit and the earliest base media decode\n   * time. Multiple timescales can be specified within an MP4 but the\n   * base media decode time is always expressed in the timescale from\n   * the media header box for the track:\n   * ```\n   * moov > trak > mdia > mdhd.timescale\n   * ```\n   * @param init {Uint8Array} the bytes of the init segment\n   * @return {object} a hash of track ids to timescale values or null if\n   * the init segment is malformed.\n   */\n  timescale = function(init) {\n    var\n      result = {},\n      traks = findBox(init, ['moov', 'trak']);\n\n    // mdhd timescale\n    return traks.reduce(function(result, trak) {\n      var tkhd, version, index, id, mdhd;\n\n      tkhd = findBox(trak, ['tkhd'])[0];\n      if (!tkhd) {\n        return null;\n      }\n      version = tkhd[0];\n      index = version === 0 ? 12 : 20;\n      id = tkhd[index]     << 24 |\n      tkhd[index + 1] << 16 |\n      tkhd[index + 2] <<  8 |\n      tkhd[index + 3];\n\n      mdhd = findBox(trak, ['mdia', 'mdhd'])[0];\n      if (!mdhd) {\n        return null;\n      }\n      version = mdhd[0];\n      index = version === 0 ? 12 : 20;\n      result[id] = mdhd[index]     << 24 |\n      mdhd[index + 1] << 16 |\n      mdhd[index + 2] <<  8 |\n      mdhd[index + 3];\n      return result;\n    }, result);\n  };\n\n  /**\n   * Determine the base media decode start time, in seconds, for an MP4\n   * fragment. If multiple fragments are specified, the earliest time is\n   * returned.\n   *\n   * The base media decode time can be parsed from track fragment\n   * metadata:\n   * ```\n   * moof > traf > tfdt.baseMediaDecodeTime\n   * ```\n   * It requires the timescale value from the mdhd to interpret.\n   *\n   * @param timescale {object} a hash of track ids to timescale values.\n   * @return {number} the earliest base media decode start time for the\n   * fragment, in seconds\n   */\n  startTime = function(timescale, fragment) {\n    var trafs, baseTimes, result;\n\n    // we need info from two childrend of each track fragment box\n    trafs = findBox(fragment, ['moof', 'traf']);\n\n    // determine the start times for each track\n    baseTimes = [].concat.apply([], trafs.map(function(traf) {\n      return findBox(traf, ['tfhd']).map(function(tfhd) {\n        var id, scale, baseTime;\n\n        // get the track id from the tfhd\n        id = tfhd[4] << 24 |\n        tfhd[5] << 16 |\n        tfhd[6] << 8 |\n        tfhd[7];\n        // assume a 90kHz clock if no timescale was specified\n        scale = timescale[id] || 90e3;\n\n        // get the base media decode time from the tfdt\n        baseTime = findBox(traf, ['tfdt']).map(function(tfdt) {\n          var version, result;\n\n          version = tfdt[0];\n          result = tfdt[4] << 24 |\n          tfdt[5] << 16 |\n          tfdt[6] <<  8 |\n          tfdt[7];\n          if (version ===  1) {\n            result *= Math.pow(2, 32);\n            result += tfdt[8]  << 24 |\n            tfdt[9]  << 16 |\n            tfdt[10] <<  8 |\n            tfdt[11];\n          }\n          return result;\n        })[0];\n        baseTime = baseTime || Infinity;\n\n        // convert base time to seconds\n        return baseTime / scale;\n      });\n    }));\n\n    // return the minimum\n    result = Math.min.apply(null, baseTimes);\n    return isFinite(result) ? result : 0;\n  };\n\n  module.exports = {\n    parseType: parseType,\n    timescale: timescale,\n    startTime: startTime\n  };\n\n},{}],82:[function(require,module,exports){\n  /**\n   * mux.js\n   *\n   * Copyright (c) 2015 Brightcove\n   * All rights reserved.\n   *\n   * A stream-based mp2t to mp4 converter. This utility can be used to\n   * deliver mp4s to a SourceBuffer on platforms that support native\n   * Media Source Extensions.\n   */\n  'use strict';\n\n  var Stream = require('../utils/stream.js');\n  var mp4 = require('./mp4-generator.js');\n  var m2ts = require('../m2ts/m2ts.js');\n  var AdtsStream = require('../codecs/adts.js');\n  var H264Stream = require('../codecs/h264').H264Stream;\n  var AacStream = require('../aac');\n\n// constants\n  var AUDIO_PROPERTIES = [\n    'audioobjecttype',\n    'channelcount',\n    'samplerate',\n    'samplingfrequencyindex',\n    'samplesize'\n  ];\n\n  var VIDEO_PROPERTIES = [\n    'width',\n    'height',\n    'profileIdc',\n    'levelIdc',\n    'profileCompatibility'\n  ];\n\n// object types\n  var VideoSegmentStream, AudioSegmentStream, Transmuxer, CoalesceStream;\n\n// Helper functions\n  var\n    createDefaultSample,\n    isLikelyAacData,\n    collectDtsInfo,\n    clearDtsInfo,\n    calculateTrackBaseMediaDecodeTime,\n    arrayEquals,\n    sumFrameByteLengths;\n\n  /**\n   * Default sample object\n   * see ISO/IEC 14496-12:2012, section 8.6.4.3\n   */\n  createDefaultSample = function() {\n    return {\n      size: 0,\n      flags: {\n        isLeading: 0,\n        dependsOn: 1,\n        isDependedOn: 0,\n        hasRedundancy: 0,\n        degradationPriority: 0\n      }\n    };\n  };\n\n  isLikelyAacData = function(data) {\n    if ((data[0] === 'I'.charCodeAt(0)) &&\n      (data[1] === 'D'.charCodeAt(0)) &&\n      (data[2] === '3'.charCodeAt(0))) {\n      return true;\n    }\n    return false;\n  };\n\n  /**\n   * Compare two arrays (even typed) for same-ness\n   */\n  arrayEquals = function(a, b) {\n    var\n      i;\n\n    if (a.length !== b.length) {\n      return false;\n    }\n\n    // compare the value of each element in the array\n    for (i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  /**\n   * Sum the `byteLength` properties of the data in each AAC frame\n   */\n  sumFrameByteLengths = function(array) {\n    var\n      i,\n      currentObj,\n      sum = 0;\n\n    // sum the byteLength's all each nal unit in the frame\n    for (i = 0; i < array.length; i++) {\n      currentObj = array[i];\n      sum += currentObj.data.byteLength;\n    }\n\n    return sum;\n  };\n\n  /**\n   * Constructs a single-track, ISO BMFF media segment from AAC data\n   * events. The output of this stream can be fed to a SourceBuffer\n   * configured with a suitable initialization segment.\n   */\n  AudioSegmentStream = function(track) {\n    var\n      adtsFrames = [],\n      sequenceNumber = 0,\n      earliestAllowedDts = 0;\n\n    AudioSegmentStream.prototype.init.call(this);\n\n    this.push = function(data) {\n      collectDtsInfo(track, data);\n\n      if (track) {\n        AUDIO_PROPERTIES.forEach(function(prop) {\n          track[prop] = data[prop];\n        });\n      }\n\n      // buffer audio data until end() is called\n      adtsFrames.push(data);\n    };\n\n    this.setEarliestDts = function(earliestDts) {\n      earliestAllowedDts = earliestDts - track.timelineStartInfo.baseMediaDecodeTime;\n    };\n\n    this.flush = function() {\n      var\n        frames,\n        moof,\n        mdat,\n        boxes;\n\n      // return early if no audio data has been observed\n      if (adtsFrames.length === 0) {\n        this.trigger('done', 'AudioSegmentStream');\n        return;\n      }\n\n      frames = this.trimAdtsFramesByEarliestDts_(adtsFrames);\n\n      // we have to build the index from byte locations to\n      // samples (that is, adts frames) in the audio data\n      track.samples = this.generateSampleTable_(frames);\n\n      // concatenate the audio data to constuct the mdat\n      mdat = mp4.mdat(this.concatenateFrameData_(frames));\n\n      adtsFrames = [];\n\n      calculateTrackBaseMediaDecodeTime(track);\n      moof = mp4.moof(sequenceNumber, [track]);\n      boxes = new Uint8Array(moof.byteLength + mdat.byteLength);\n\n      // bump the sequence number for next time\n      sequenceNumber++;\n\n      boxes.set(moof);\n      boxes.set(mdat, moof.byteLength);\n\n      clearDtsInfo(track);\n\n      this.trigger('data', {track: track, boxes: boxes});\n      this.trigger('done', 'AudioSegmentStream');\n    };\n\n    // If the audio segment extends before the earliest allowed dts\n    // value, remove AAC frames until starts at or after the earliest\n    // allowed DTS so that we don't end up with a negative baseMedia-\n    // DecodeTime for the audio track\n    this.trimAdtsFramesByEarliestDts_ = function(adtsFrames) {\n      if (track.minSegmentDts >= earliestAllowedDts) {\n        return adtsFrames;\n      }\n\n      // We will need to recalculate the earliest segment Dts\n      track.minSegmentDts = Infinity;\n\n      return adtsFrames.filter(function(currentFrame) {\n        // If this is an allowed frame, keep it and record it's Dts\n        if (currentFrame.dts >= earliestAllowedDts) {\n          track.minSegmentDts = Math.min(track.minSegmentDts, currentFrame.dts);\n          track.minSegmentPts = track.minSegmentDts;\n          return true;\n        }\n        // Otherwise, discard it\n        return false;\n      });\n    };\n\n    // generate the track's raw mdat data from an array of frames\n    this.generateSampleTable_ = function(frames) {\n      var\n        i,\n        currentFrame,\n        samples = [];\n\n      for (i = 0; i < frames.length; i++) {\n        currentFrame = frames[i];\n        samples.push({\n          size: currentFrame.data.byteLength,\n          duration: 1024 // For AAC audio, all samples contain 1024 samples\n        });\n      }\n      return samples;\n    };\n\n    // generate the track's sample table from an array of frames\n    this.concatenateFrameData_ = function(frames) {\n      var\n        i,\n        currentFrame,\n        dataOffset = 0,\n        data = new Uint8Array(sumFrameByteLengths(frames));\n\n      for (i = 0; i < frames.length; i++) {\n        currentFrame = frames[i];\n\n        data.set(currentFrame.data, dataOffset);\n        dataOffset += currentFrame.data.byteLength;\n      }\n      return data;\n    };\n  };\n\n  AudioSegmentStream.prototype = new Stream();\n\n  /**\n   * Constructs a single-track, ISO BMFF media segment from H264 data\n   * events. The output of this stream can be fed to a SourceBuffer\n   * configured with a suitable initialization segment.\n   * @param track {object} track metadata configuration\n   */\n  VideoSegmentStream = function(track) {\n    var\n      sequenceNumber = 0,\n      nalUnits = [],\n      config,\n      pps;\n\n    VideoSegmentStream.prototype.init.call(this);\n\n    delete track.minPTS;\n\n    this.gopCache_ = [];\n\n    this.push = function(nalUnit) {\n      collectDtsInfo(track, nalUnit);\n\n      // record the track config\n      if (nalUnit.nalUnitType === 'seq_parameter_set_rbsp' && !config) {\n        config = nalUnit.config;\n        track.sps = [nalUnit.data];\n\n        VIDEO_PROPERTIES.forEach(function(prop) {\n          track[prop] = config[prop];\n        }, this);\n      }\n\n      if (nalUnit.nalUnitType === 'pic_parameter_set_rbsp' &&\n        !pps) {\n        pps = nalUnit.data;\n        track.pps = [nalUnit.data];\n      }\n\n      // buffer video until flush() is called\n      nalUnits.push(nalUnit);\n    };\n\n    this.flush = function() {\n      var\n        frames,\n        gopForFusion,\n        gops,\n        moof,\n        mdat,\n        boxes;\n\n      // Throw away nalUnits at the start of the byte stream until\n      // we find the first AUD\n      while (nalUnits.length) {\n        if (nalUnits[0].nalUnitType === 'access_unit_delimiter_rbsp') {\n          break;\n        }\n        nalUnits.shift();\n      }\n\n      // Return early if no video data has been observed\n      if (nalUnits.length === 0) {\n        this.resetStream_();\n        this.trigger('done', 'VideoSegmentStream');\n        return;\n      }\n\n      // Organize the raw nal-units into arrays that represent\n      // higher-level constructs such as frames and gops\n      // (group-of-pictures)\n      frames = this.groupNalsIntoFrames_(nalUnits);\n      gops = this.groupFramesIntoGops_(frames);\n\n      // If the first frame of this fragment is not a keyframe we have\n      // a problem since MSE (on Chrome) requires a leading keyframe.\n      //\n      // We have two approaches to repairing this situation:\n      // 1) GOP-FUSION:\n      //    This is where we keep track of the GOPS (group-of-pictures)\n      //    from previous fragments and attempt to find one that we can\n      //    prepend to the current fragment in order to create a valid\n      //    fragment.\n      // 2) KEYFRAME-PULLING:\n      //    Here we search for the first keyframe in the fragment and\n      //    throw away all the frames between the start of the fragment\n      //    and that keyframe. We then extend the duration and pull the\n      //    PTS of the keyframe forward so that it covers the time range\n      //    of the frames that were disposed of.\n      //\n      // #1 is far prefereable over #2 which can cause \"stuttering\" but\n      // requires more things to be just right.\n      if (!gops[0][0].keyFrame) {\n        // Search for a gop for fusion from our gopCache\n        gopForFusion = this.getGopForFusion_(nalUnits[0], track);\n\n        if (gopForFusion) {\n          gops.unshift(gopForFusion);\n          // Adjust Gops' metadata to account for the inclusion of the\n          // new gop at the beginning\n          gops.byteLength += gopForFusion.byteLength;\n          gops.nalCount += gopForFusion.nalCount;\n          gops.pts = gopForFusion.pts;\n          gops.dts = gopForFusion.dts;\n          gops.duration += gopForFusion.duration;\n        } else {\n          // If we didn't find a candidate gop fall back to keyrame-pulling\n          gops = this.extendFirstKeyFrame_(gops);\n        }\n      }\n      collectDtsInfo(track, gops);\n\n      // First, we have to build the index from byte locations to\n      // samples (that is, frames) in the video data\n      track.samples = this.generateSampleTable_(gops);\n\n      // Concatenate the video data and construct the mdat\n      mdat = mp4.mdat(this.concatenateNalData_(gops));\n\n      // save all the nals in the last GOP into the gop cache\n      this.gopCache_.unshift({\n        gop: gops.pop(),\n        pps: track.pps,\n        sps: track.sps\n      });\n\n      // Keep a maximum of 6 GOPs in the cache\n      this.gopCache_.length = Math.min(6, this.gopCache_.length);\n\n      // Clear nalUnits\n      nalUnits = [];\n\n      calculateTrackBaseMediaDecodeTime(track);\n\n      this.trigger('timelineStartInfo', track.timelineStartInfo);\n\n      moof = mp4.moof(sequenceNumber, [track]);\n\n      // it would be great to allocate this array up front instead of\n      // throwing away hundreds of media segment fragments\n      boxes = new Uint8Array(moof.byteLength + mdat.byteLength);\n\n      // Bump the sequence number for next time\n      sequenceNumber++;\n\n      boxes.set(moof);\n      boxes.set(mdat, moof.byteLength);\n\n      this.trigger('data', {track: track, boxes: boxes});\n\n      this.resetStream_();\n\n      // Continue with the flush process now\n      this.trigger('done', 'VideoSegmentStream');\n    };\n\n    this.resetStream_ = function() {\n      clearDtsInfo(track);\n\n      // reset config and pps because they may differ across segments\n      // for instance, when we are rendition switching\n      config = undefined;\n      pps = undefined;\n    };\n\n    // Search for a candidate Gop for gop-fusion from the gop cache and\n    // return it or return null if no good candidate was found\n    this.getGopForFusion_ = function(nalUnit) {\n      var\n        halfSecond = 45000, // Half-a-second in a 90khz clock\n        allowableOverlap = 10000, // About 3 frames @ 30fps\n        nearestDistance = Infinity,\n        dtsDistance,\n        nearestGopObj,\n        currentGop,\n        currentGopObj,\n        i;\n\n      // Search for the GOP nearest to the beginning of this nal unit\n      for (i = 0; i < this.gopCache_.length; i++) {\n        currentGopObj = this.gopCache_[i];\n        currentGop = currentGopObj.gop;\n\n        // Reject Gops with different SPS or PPS\n        if (!(track.pps && arrayEquals(track.pps[0], currentGopObj.pps[0])) ||\n          !(track.sps && arrayEquals(track.sps[0], currentGopObj.sps[0]))) {\n          continue;\n        }\n\n        // Reject Gops that would require a negative baseMediaDecodeTime\n        if (currentGop.dts < track.timelineStartInfo.dts) {\n          continue;\n        }\n\n        // The distance between the end of the gop and the start of the nalUnit\n        dtsDistance = (nalUnit.dts - currentGop.dts) - currentGop.duration;\n\n        // Only consider GOPS that start before the nal unit and end within\n        // a half-second of the nal unit\n        if (dtsDistance >= -allowableOverlap &&\n          dtsDistance <= halfSecond) {\n\n          // Always use the closest GOP we found if there is more than\n          // one candidate\n          if (!nearestGopObj ||\n            nearestDistance > dtsDistance) {\n            nearestGopObj = currentGopObj;\n            nearestDistance = dtsDistance;\n          }\n        }\n      }\n\n      if (nearestGopObj) {\n        return nearestGopObj.gop;\n      }\n      return null;\n    };\n\n    this.extendFirstKeyFrame_ = function(gops) {\n      var currentGop;\n\n      if (!gops[0][0].keyFrame) {\n        // Remove the first GOP\n        currentGop = gops.shift();\n\n        gops.byteLength -=  currentGop.byteLength;\n        gops.nalCount -= currentGop.nalCount;\n\n        // Extend the first frame of what is now the\n        // first gop to cover the time period of the\n        // frames we just removed\n        gops[0][0].dts = currentGop.dts;\n        gops[0][0].pts = currentGop.pts;\n        gops[0][0].duration += currentGop.duration;\n      }\n\n      return gops;\n    };\n\n    // Convert an array of nal units into an array of frames with each frame being\n    // composed of the nal units that make up that frame\n    // Also keep track of cummulative data about the frame from the nal units such\n    // as the frame duration, starting pts, etc.\n    this.groupNalsIntoFrames_ = function(nalUnits) {\n      var\n        i,\n        currentNal,\n        currentFrame = [],\n        frames = [];\n\n      currentFrame.byteLength = 0;\n\n      for (i = 0; i < nalUnits.length; i++) {\n        currentNal = nalUnits[i];\n\n        // Split on 'aud'-type nal units\n        if (currentNal.nalUnitType === 'access_unit_delimiter_rbsp') {\n          // Since the very first nal unit is expected to be an AUD\n          // only push to the frames array when currentFrame is not empty\n          if (currentFrame.length) {\n            currentFrame.duration = currentNal.dts - currentFrame.dts;\n            frames.push(currentFrame);\n          }\n          currentFrame = [currentNal];\n          currentFrame.byteLength = currentNal.data.byteLength;\n          currentFrame.pts = currentNal.pts;\n          currentFrame.dts = currentNal.dts;\n        } else {\n          // Specifically flag key frames for ease of use later\n          if (currentNal.nalUnitType === 'slice_layer_without_partitioning_rbsp_idr') {\n            currentFrame.keyFrame = true;\n          }\n          currentFrame.duration = currentNal.dts - currentFrame.dts;\n          currentFrame.byteLength += currentNal.data.byteLength;\n          currentFrame.push(currentNal);\n        }\n      }\n\n      // For the last frame, use the duration of the previous frame if we\n      // have nothing better to go on\n      if (frames.length &&\n        (!currentFrame.duration ||\n        currentFrame.duration <= 0)) {\n        currentFrame.duration = frames[frames.length - 1].duration;\n      }\n\n      // Push the final frame\n      frames.push(currentFrame);\n      return frames;\n    };\n\n    // Convert an array of frames into an array of Gop with each Gop being composed\n    // of the frames that make up that Gop\n    // Also keep track of cummulative data about the Gop from the frames such as the\n    // Gop duration, starting pts, etc.\n    this.groupFramesIntoGops_ = function(frames) {\n      var\n        i,\n        currentFrame,\n        currentGop = [],\n        gops = [];\n\n      // We must pre-set some of the values on the Gop since we\n      // keep running totals of these values\n      currentGop.byteLength = 0;\n      currentGop.nalCount = 0;\n      currentGop.duration = 0;\n      currentGop.pts = frames[0].pts;\n      currentGop.dts = frames[0].dts;\n\n      // store some metadata about all the Gops\n      gops.byteLength = 0;\n      gops.nalCount = 0;\n      gops.duration = 0;\n      gops.pts = frames[0].pts;\n      gops.dts = frames[0].dts;\n\n      for (i = 0; i < frames.length; i++) {\n        currentFrame = frames[i];\n\n        if (currentFrame.keyFrame) {\n          // Since the very first frame is expected to be an keyframe\n          // only push to the gops array when currentGop is not empty\n          if (currentGop.length) {\n            gops.push(currentGop);\n            gops.byteLength += currentGop.byteLength;\n            gops.nalCount += currentGop.nalCount;\n            gops.duration += currentGop.duration;\n          }\n\n          currentGop = [currentFrame];\n          currentGop.nalCount = currentFrame.length;\n          currentGop.byteLength = currentFrame.byteLength;\n          currentGop.pts = currentFrame.pts;\n          currentGop.dts = currentFrame.dts;\n          currentGop.duration = currentFrame.duration;\n        } else {\n          currentGop.duration += currentFrame.duration;\n          currentGop.nalCount += currentFrame.length;\n          currentGop.byteLength += currentFrame.byteLength;\n          currentGop.push(currentFrame);\n        }\n      }\n\n      if (gops.length && currentGop.duration <= 0) {\n        currentGop.duration = gops[gops.length - 1].duration;\n      }\n      gops.byteLength += currentGop.byteLength;\n      gops.nalCount += currentGop.nalCount;\n      gops.duration += currentGop.duration;\n\n      // push the final Gop\n      gops.push(currentGop);\n      return gops;\n    };\n\n    // generate the track's sample table from an array of gops\n    this.generateSampleTable_ = function(gops, baseDataOffset) {\n      var\n        h, i,\n        sample,\n        currentGop,\n        currentFrame,\n        dataOffset = baseDataOffset || 0,\n        samples = [];\n\n      for (h = 0; h < gops.length; h++) {\n        currentGop = gops[h];\n\n        for (i = 0; i < currentGop.length; i++) {\n          currentFrame = currentGop[i];\n\n          sample = createDefaultSample();\n\n          sample.dataOffset = dataOffset;\n          sample.compositionTimeOffset = currentFrame.pts - currentFrame.dts;\n          sample.duration = currentFrame.duration;\n          sample.size = 4 * currentFrame.length; // Space for nal unit size\n          sample.size += currentFrame.byteLength;\n\n          if (currentFrame.keyFrame) {\n            sample.flags.dependsOn = 2;\n          }\n\n          dataOffset += sample.size;\n\n          samples.push(sample);\n        }\n      }\n      return samples;\n    };\n\n    // generate the track's raw mdat data from an array of gops\n    this.concatenateNalData_ = function(gops) {\n      var\n        h, i, j,\n        currentGop,\n        currentFrame,\n        currentNal,\n        dataOffset = 0,\n        nalsByteLength = gops.byteLength,\n        numberOfNals = gops.nalCount,\n        totalByteLength = nalsByteLength + 4 * numberOfNals,\n        data = new Uint8Array(totalByteLength),\n        view = new DataView(data.buffer);\n\n      // For each Gop..\n      for (h = 0; h < gops.length; h++) {\n        currentGop = gops[h];\n\n        // For each Frame..\n        for (i = 0; i < currentGop.length; i++) {\n          currentFrame = currentGop[i];\n\n          // For each NAL..\n          for (j = 0; j < currentFrame.length; j++) {\n            currentNal = currentFrame[j];\n\n            view.setUint32(dataOffset, currentNal.data.byteLength);\n            dataOffset += 4;\n            data.set(currentNal.data, dataOffset);\n            dataOffset += currentNal.data.byteLength;\n          }\n        }\n      }\n      return data;\n    };\n  };\n\n  VideoSegmentStream.prototype = new Stream();\n\n  /**\n   * Store information about the start and end of the track and the\n   * duration for each frame/sample we process in order to calculate\n   * the baseMediaDecodeTime\n   */\n  collectDtsInfo = function(track, data) {\n    if (typeof data.pts === 'number') {\n      if (track.timelineStartInfo.pts === undefined) {\n        track.timelineStartInfo.pts = data.pts;\n      }\n\n      if (track.minSegmentPts === undefined) {\n        track.minSegmentPts = data.pts;\n      } else {\n        track.minSegmentPts = Math.min(track.minSegmentPts, data.pts);\n      }\n\n      if (track.maxSegmentPts === undefined) {\n        track.maxSegmentPts = data.pts;\n      } else {\n        track.maxSegmentPts = Math.max(track.maxSegmentPts, data.pts);\n      }\n    }\n\n    if (typeof data.dts === 'number') {\n      if (track.timelineStartInfo.dts === undefined) {\n        track.timelineStartInfo.dts = data.dts;\n      }\n\n      if (track.minSegmentDts === undefined) {\n        track.minSegmentDts = data.dts;\n      } else {\n        track.minSegmentDts = Math.min(track.minSegmentDts, data.dts);\n      }\n\n      if (track.maxSegmentDts === undefined) {\n        track.maxSegmentDts = data.dts;\n      } else {\n        track.maxSegmentDts = Math.max(track.maxSegmentDts, data.dts);\n      }\n    }\n  };\n\n  /**\n   * Clear values used to calculate the baseMediaDecodeTime between\n   * tracks\n   */\n  clearDtsInfo = function(track) {\n    delete track.minSegmentDts;\n    delete track.maxSegmentDts;\n    delete track.minSegmentPts;\n    delete track.maxSegmentPts;\n  };\n\n  /**\n   * Calculate the track's baseMediaDecodeTime based on the earliest\n   * DTS the transmuxer has ever seen and the minimum DTS for the\n   * current track\n   */\n  calculateTrackBaseMediaDecodeTime = function(track) {\n    var\n      oneSecondInPTS = 90000, // 90kHz clock\n      scale,\n    // Calculate the distance, in time, that this segment starts from the start\n    // of the timeline (earliest time seen since the transmuxer initialized)\n      timeSinceStartOfTimeline = track.minSegmentDts - track.timelineStartInfo.dts,\n    // Calculate the first sample's effective compositionTimeOffset\n      firstSampleCompositionOffset = track.minSegmentPts - track.minSegmentDts;\n\n    // track.timelineStartInfo.baseMediaDecodeTime is the location, in time, where\n    // we want the start of the first segment to be placed\n    track.baseMediaDecodeTime = track.timelineStartInfo.baseMediaDecodeTime;\n\n    // Add to that the distance this segment is from the very first\n    track.baseMediaDecodeTime += timeSinceStartOfTimeline;\n\n    // Subtract this segment's \"compositionTimeOffset\" so that the first frame of\n    // this segment is displayed exactly at the `baseMediaDecodeTime` or at the\n    // end of the previous segment\n    track.baseMediaDecodeTime -= firstSampleCompositionOffset;\n\n    // baseMediaDecodeTime must not become negative\n    track.baseMediaDecodeTime = Math.max(0, track.baseMediaDecodeTime);\n\n    if (track.type === 'audio') {\n      // Audio has a different clock equal to the sampling_rate so we need to\n      // scale the PTS values into the clock rate of the track\n      scale = track.samplerate / oneSecondInPTS;\n      track.baseMediaDecodeTime *= scale;\n      track.baseMediaDecodeTime = Math.floor(track.baseMediaDecodeTime);\n    }\n  };\n\n  /**\n   * A Stream that can combine multiple streams (ie. audio & video)\n   * into a single output segment for MSE. Also supports audio-only\n   * and video-only streams.\n   */\n  CoalesceStream = function(options, metadataStream) {\n    // Number of Tracks per output segment\n    // If greater than 1, we combine multiple\n    // tracks into a single segment\n    this.numberOfTracks = 0;\n    this.metadataStream = metadataStream;\n\n    if (typeof options.remux !== 'undefined') {\n      this.remuxTracks = !!options.remux;\n    } else {\n      this.remuxTracks = true;\n    }\n\n    this.pendingTracks = [];\n    this.videoTrack = null;\n    this.pendingBoxes = [];\n    this.pendingCaptions = [];\n    this.pendingMetadata = [];\n    this.pendingBytes = 0;\n    this.emittedTracks = 0;\n\n    CoalesceStream.prototype.init.call(this);\n\n    // Take output from multiple\n    this.push = function(output) {\n      // buffer incoming captions until the associated video segment\n      // finishes\n      if (output.text) {\n        return this.pendingCaptions.push(output);\n      }\n      // buffer incoming id3 tags until the final flush\n      if (output.frames) {\n        return this.pendingMetadata.push(output);\n      }\n\n      // Add this track to the list of pending tracks and store\n      // important information required for the construction of\n      // the final segment\n      this.pendingTracks.push(output.track);\n      this.pendingBoxes.push(output.boxes);\n      this.pendingBytes += output.boxes.byteLength;\n\n      if (output.track.type === 'video') {\n        this.videoTrack = output.track;\n      }\n      if (output.track.type === 'audio') {\n        this.audioTrack = output.track;\n      }\n    };\n  };\n\n  CoalesceStream.prototype = new Stream();\n  CoalesceStream.prototype.flush = function(flushSource) {\n    var\n      offset = 0,\n      event = {\n        captions: [],\n        metadata: [],\n        info: {}\n      },\n      caption,\n      id3,\n      initSegment,\n      timelineStartPts = 0,\n      i;\n\n    if (this.pendingTracks.length < this.numberOfTracks) {\n      if (flushSource !== 'VideoSegmentStream' &&\n        flushSource !== 'AudioSegmentStream') {\n        // Return because we haven't received a flush from a data-generating\n        // portion of the segment (meaning that we have only recieved meta-data\n        // or captions.)\n        return;\n      } else if (this.remuxTracks) {\n        // Return until we have enough tracks from the pipeline to remux (if we\n        // are remuxing audio and video into a single MP4)\n        return;\n      } else if (this.pendingTracks.length === 0) {\n        // In the case where we receive a flush without any data having been\n        // received we consider it an emitted track for the purposes of coalescing\n        // `done` events.\n        // We do this for the case where there is an audio and video track in the\n        // segment but no audio data. (seen in several playlists with alternate\n        // audio tracks and no audio present in the main TS segments.)\n        this.emittedTracks++;\n\n        if (this.emittedTracks >= this.numberOfTracks) {\n          this.trigger('done');\n          this.emittedTracks = 0;\n        }\n        return;\n      }\n    }\n\n    if (this.videoTrack) {\n      timelineStartPts = this.videoTrack.timelineStartInfo.pts;\n      VIDEO_PROPERTIES.forEach(function(prop) {\n        event.info[prop] = this.videoTrack[prop];\n      }, this);\n    } else if (this.audioTrack) {\n      timelineStartPts = this.audioTrack.timelineStartInfo.pts;\n      AUDIO_PROPERTIES.forEach(function(prop) {\n        event.info[prop] = this.audioTrack[prop];\n      }, this);\n    }\n\n    if (this.pendingTracks.length === 1) {\n      event.type = this.pendingTracks[0].type;\n    } else {\n      event.type = 'combined';\n    }\n\n    this.emittedTracks += this.pendingTracks.length;\n\n    initSegment = mp4.initSegment(this.pendingTracks);\n\n    // Create a new typed array to hold the init segment\n    event.initSegment = new Uint8Array(initSegment.byteLength);\n\n    // Create an init segment containing a moov\n    // and track definitions\n    event.initSegment.set(initSegment);\n\n    // Create a new typed array to hold the moof+mdats\n    event.data = new Uint8Array(this.pendingBytes);\n\n    // Append each moof+mdat (one per track) together\n    for (i = 0; i < this.pendingBoxes.length; i++) {\n      event.data.set(this.pendingBoxes[i], offset);\n      offset += this.pendingBoxes[i].byteLength;\n    }\n\n    // Translate caption PTS times into second offsets into the\n    // video timeline for the segment\n    for (i = 0; i < this.pendingCaptions.length; i++) {\n      caption = this.pendingCaptions[i];\n      caption.startTime = (caption.startPts - timelineStartPts);\n      caption.startTime /= 90e3;\n      caption.endTime = (caption.endPts - timelineStartPts);\n      caption.endTime /= 90e3;\n      event.captions.push(caption);\n    }\n\n    // Translate ID3 frame PTS times into second offsets into the\n    // video timeline for the segment\n    for (i = 0; i < this.pendingMetadata.length; i++) {\n      id3 = this.pendingMetadata[i];\n      id3.cueTime = (id3.pts - timelineStartPts);\n      id3.cueTime /= 90e3;\n      event.metadata.push(id3);\n    }\n    // We add this to every single emitted segment even though we only need\n    // it for the first\n    event.metadata.dispatchType = this.metadataStream.dispatchType;\n\n    // Reset stream state\n    this.pendingTracks.length = 0;\n    this.videoTrack = null;\n    this.pendingBoxes.length = 0;\n    this.pendingCaptions.length = 0;\n    this.pendingBytes = 0;\n    this.pendingMetadata.length = 0;\n\n    // Emit the built segment\n    this.trigger('data', event);\n\n    // Only emit `done` if all tracks have been flushed and emitted\n    if (this.emittedTracks >= this.numberOfTracks) {\n      this.trigger('done');\n      this.emittedTracks = 0;\n    }\n  };\n  /**\n   * A Stream that expects MP2T binary data as input and produces\n   * corresponding media segments, suitable for use with Media Source\n   * Extension (MSE) implementations that support the ISO BMFF byte\n   * stream format, like Chrome.\n   */\n  Transmuxer = function(options) {\n    var\n      self = this,\n      hasFlushed = true,\n      videoTrack,\n      audioTrack;\n\n    Transmuxer.prototype.init.call(this);\n\n    options = options || {};\n    this.baseMediaDecodeTime = options.baseMediaDecodeTime || 0;\n    this.transmuxPipeline_ = {};\n\n    this.setupAacPipeline = function() {\n      var pipeline = {};\n      this.transmuxPipeline_ = pipeline;\n\n      pipeline.type = 'aac';\n      pipeline.metadataStream = new m2ts.MetadataStream();\n\n      // set up the parsing pipeline\n      pipeline.aacStream = new AacStream();\n      pipeline.audioTimestampRolloverStream = new m2ts.TimestampRolloverStream('audio');\n      pipeline.timedMetadataTimestampRolloverStream = new m2ts.TimestampRolloverStream('timed-metadata');\n      pipeline.adtsStream = new AdtsStream();\n      pipeline.coalesceStream = new CoalesceStream(options, pipeline.metadataStream);\n      pipeline.headOfPipeline = pipeline.aacStream;\n\n      pipeline.aacStream\n        .pipe(pipeline.audioTimestampRolloverStream)\n        .pipe(pipeline.adtsStream);\n      pipeline.aacStream\n        .pipe(pipeline.timedMetadataTimestampRolloverStream)\n        .pipe(pipeline.metadataStream)\n        .pipe(pipeline.coalesceStream);\n\n      pipeline.metadataStream.on('timestamp', function(frame) {\n        pipeline.aacStream.setTimestamp(frame.timeStamp);\n      });\n\n      pipeline.aacStream.on('data', function(data) {\n        if (data.type === 'timed-metadata' && !pipeline.audioSegmentStream) {\n          audioTrack = audioTrack || {\n            timelineStartInfo: {\n              baseMediaDecodeTime: self.baseMediaDecodeTime\n            },\n            codec: 'adts',\n            type: 'audio'\n          };\n          // hook up the audio segment stream to the first track with aac data\n          pipeline.coalesceStream.numberOfTracks++;\n          pipeline.audioSegmentStream = new AudioSegmentStream(audioTrack);\n          // Set up the final part of the audio pipeline\n          pipeline.adtsStream\n            .pipe(pipeline.audioSegmentStream)\n            .pipe(pipeline.coalesceStream);\n        }\n      });\n\n      // Re-emit any data coming from the coalesce stream to the outside world\n      pipeline.coalesceStream.on('data', this.trigger.bind(this, 'data'));\n      // Let the consumer know we have finished flushing the entire pipeline\n      pipeline.coalesceStream.on('done', this.trigger.bind(this, 'done'));\n    };\n\n    this.setupTsPipeline = function() {\n      var pipeline = {};\n      this.transmuxPipeline_ = pipeline;\n\n      pipeline.type = 'ts';\n      pipeline.metadataStream = new m2ts.MetadataStream();\n\n      // set up the parsing pipeline\n      pipeline.packetStream = new m2ts.TransportPacketStream();\n      pipeline.parseStream = new m2ts.TransportParseStream();\n      pipeline.elementaryStream = new m2ts.ElementaryStream();\n      pipeline.videoTimestampRolloverStream = new m2ts.TimestampRolloverStream('video');\n      pipeline.audioTimestampRolloverStream = new m2ts.TimestampRolloverStream('audio');\n      pipeline.timedMetadataTimestampRolloverStream = new m2ts.TimestampRolloverStream('timed-metadata');\n      pipeline.adtsStream = new AdtsStream();\n      pipeline.h264Stream = new H264Stream();\n      pipeline.captionStream = new m2ts.CaptionStream();\n      pipeline.coalesceStream = new CoalesceStream(options, pipeline.metadataStream);\n      pipeline.headOfPipeline = pipeline.packetStream;\n\n      // disassemble MPEG2-TS packets into elementary streams\n      pipeline.packetStream\n        .pipe(pipeline.parseStream)\n        .pipe(pipeline.elementaryStream);\n\n      // !!THIS ORDER IS IMPORTANT!!\n      // demux the streams\n      pipeline.elementaryStream\n        .pipe(pipeline.videoTimestampRolloverStream)\n        .pipe(pipeline.h264Stream);\n      pipeline.elementaryStream\n        .pipe(pipeline.audioTimestampRolloverStream)\n        .pipe(pipeline.adtsStream);\n\n      pipeline.elementaryStream\n        .pipe(pipeline.timedMetadataTimestampRolloverStream)\n        .pipe(pipeline.metadataStream)\n        .pipe(pipeline.coalesceStream);\n\n      // Hook up CEA-608/708 caption stream\n      pipeline.h264Stream.pipe(pipeline.captionStream)\n        .pipe(pipeline.coalesceStream);\n\n      pipeline.elementaryStream.on('data', function(data) {\n        var i;\n\n        if (data.type === 'metadata') {\n          i = data.tracks.length;\n\n          // scan the tracks listed in the metadata\n          while (i--) {\n            if (!videoTrack && data.tracks[i].type === 'video') {\n              videoTrack = data.tracks[i];\n              videoTrack.timelineStartInfo.baseMediaDecodeTime = self.baseMediaDecodeTime;\n            } else if (!audioTrack && data.tracks[i].type === 'audio') {\n              audioTrack = data.tracks[i];\n              audioTrack.timelineStartInfo.baseMediaDecodeTime = self.baseMediaDecodeTime;\n            }\n          }\n\n          // hook up the video segment stream to the first track with h264 data\n          if (videoTrack && !pipeline.videoSegmentStream) {\n            pipeline.coalesceStream.numberOfTracks++;\n            pipeline.videoSegmentStream = new VideoSegmentStream(videoTrack);\n\n            pipeline.videoSegmentStream.on('timelineStartInfo', function(timelineStartInfo) {\n              // When video emits timelineStartInfo data after a flush, we forward that\n              // info to the AudioSegmentStream, if it exists, because video timeline\n              // data takes precedence.\n              if (audioTrack) {\n                audioTrack.timelineStartInfo = timelineStartInfo;\n                // On the first segment we trim AAC frames that exist before the\n                // very earliest DTS we have seen in video because Chrome will\n                // interpret any video track with a baseMediaDecodeTime that is\n                // non-zero as a gap.\n                pipeline.audioSegmentStream.setEarliestDts(timelineStartInfo.dts);\n              }\n            });\n\n            // Set up the final part of the video pipeline\n            pipeline.h264Stream\n              .pipe(pipeline.videoSegmentStream)\n              .pipe(pipeline.coalesceStream);\n          }\n\n          if (audioTrack && !pipeline.audioSegmentStream) {\n            // hook up the audio segment stream to the first track with aac data\n            pipeline.coalesceStream.numberOfTracks++;\n            pipeline.audioSegmentStream = new AudioSegmentStream(audioTrack);\n\n            // Set up the final part of the audio pipeline\n            pipeline.adtsStream\n              .pipe(pipeline.audioSegmentStream)\n              .pipe(pipeline.coalesceStream);\n          }\n        }\n      });\n\n      // Re-emit any data coming from the coalesce stream to the outside world\n      pipeline.coalesceStream.on('data', this.trigger.bind(this, 'data'));\n      // Let the consumer know we have finished flushing the entire pipeline\n      pipeline.coalesceStream.on('done', this.trigger.bind(this, 'done'));\n    };\n\n    // hook up the segment streams once track metadata is delivered\n    this.setBaseMediaDecodeTime = function(baseMediaDecodeTime) {\n      var pipeline = this.transmuxPipeline_;\n\n      this.baseMediaDecodeTime = baseMediaDecodeTime;\n      if (audioTrack) {\n        audioTrack.timelineStartInfo.dts = undefined;\n        audioTrack.timelineStartInfo.pts = undefined;\n        clearDtsInfo(audioTrack);\n        audioTrack.timelineStartInfo.baseMediaDecodeTime = baseMediaDecodeTime;\n      }\n      if (videoTrack) {\n        if (pipeline.videoSegmentStream) {\n          pipeline.videoSegmentStream.gopCache_ = [];\n        }\n        videoTrack.timelineStartInfo.dts = undefined;\n        videoTrack.timelineStartInfo.pts = undefined;\n        clearDtsInfo(videoTrack);\n        videoTrack.timelineStartInfo.baseMediaDecodeTime = baseMediaDecodeTime;\n      }\n    };\n\n    // feed incoming data to the front of the parsing pipeline\n    this.push = function(data) {\n      if (hasFlushed) {\n        var isAac = isLikelyAacData(data);\n\n        if (isAac && this.transmuxPipeline_.type !== 'aac') {\n          this.setupAacPipeline();\n        } else if (!isAac && this.transmuxPipeline_.type !== 'ts') {\n          this.setupTsPipeline();\n        }\n        hasFlushed = false;\n      }\n      this.transmuxPipeline_.headOfPipeline.push(data);\n    };\n\n    // flush any buffered data\n    this.flush = function() {\n      hasFlushed = true;\n      // Start at the top of the pipeline and flush all pending work\n      this.transmuxPipeline_.headOfPipeline.flush();\n    };\n  };\n  Transmuxer.prototype = new Stream();\n\n  module.exports = {\n    Transmuxer: Transmuxer,\n    VideoSegmentStream: VideoSegmentStream,\n    AudioSegmentStream: AudioSegmentStream,\n    AUDIO_PROPERTIES: AUDIO_PROPERTIES,\n    VIDEO_PROPERTIES: VIDEO_PROPERTIES\n  };\n\n},{\"../aac\":68,\"../codecs/adts.js\":69,\"../codecs/h264\":70,\"../m2ts/m2ts.js\":75,\"../utils/stream.js\":84,\"./mp4-generator.js\":80}],83:[function(require,module,exports){\n  'use strict';\n\n  var ExpGolomb;\n\n  /**\n   * Parser for exponential Golomb codes, a variable-bitwidth number encoding\n   * scheme used by h264.\n   */\n  ExpGolomb = function(workingData) {\n    var\n    // the number of bytes left to examine in workingData\n      workingBytesAvailable = workingData.byteLength,\n\n    // the current word being examined\n      workingWord = 0, // :uint\n\n    // the number of bits left to examine in the current word\n      workingBitsAvailable = 0; // :uint;\n\n    // ():uint\n    this.length = function() {\n      return (8 * workingBytesAvailable);\n    };\n\n    // ():uint\n    this.bitsAvailable = function() {\n      return (8 * workingBytesAvailable) + workingBitsAvailable;\n    };\n\n    // ():void\n    this.loadWord = function() {\n      var\n        position = workingData.byteLength - workingBytesAvailable,\n        workingBytes = new Uint8Array(4),\n        availableBytes = Math.min(4, workingBytesAvailable);\n\n      if (availableBytes === 0) {\n        throw new Error('no bytes available');\n      }\n\n      workingBytes.set(workingData.subarray(position,\n        position + availableBytes));\n      workingWord = new DataView(workingBytes.buffer).getUint32(0);\n\n      // track the amount of workingData that has been processed\n      workingBitsAvailable = availableBytes * 8;\n      workingBytesAvailable -= availableBytes;\n    };\n\n    // (count:int):void\n    this.skipBits = function(count) {\n      var skipBytes; // :int\n      if (workingBitsAvailable > count) {\n        workingWord          <<= count;\n        workingBitsAvailable -= count;\n      } else {\n        count -= workingBitsAvailable;\n        skipBytes = Math.floor(count / 8);\n\n        count -= (skipBytes * 8);\n        workingBytesAvailable -= skipBytes;\n\n        this.loadWord();\n\n        workingWord <<= count;\n        workingBitsAvailable -= count;\n      }\n    };\n\n    // (size:int):uint\n    this.readBits = function(size) {\n      var\n        bits = Math.min(workingBitsAvailable, size), // :uint\n        valu = workingWord >>> (32 - bits); // :uint\n      // if size > 31, handle error\n      workingBitsAvailable -= bits;\n      if (workingBitsAvailable > 0) {\n        workingWord <<= bits;\n      } else if (workingBytesAvailable > 0) {\n        this.loadWord();\n      }\n\n      bits = size - bits;\n      if (bits > 0) {\n        return valu << bits | this.readBits(bits);\n      }\n      return valu;\n    };\n\n    // ():uint\n    this.skipLeadingZeros = function() {\n      var leadingZeroCount; // :uint\n      for (leadingZeroCount = 0; leadingZeroCount < workingBitsAvailable; ++leadingZeroCount) {\n        if ((workingWord & (0x80000000 >>> leadingZeroCount)) !== 0) {\n          // the first bit of working word is 1\n          workingWord <<= leadingZeroCount;\n          workingBitsAvailable -= leadingZeroCount;\n          return leadingZeroCount;\n        }\n      }\n\n      // we exhausted workingWord and still have not found a 1\n      this.loadWord();\n      return leadingZeroCount + this.skipLeadingZeros();\n    };\n\n    // ():void\n    this.skipUnsignedExpGolomb = function() {\n      this.skipBits(1 + this.skipLeadingZeros());\n    };\n\n    // ():void\n    this.skipExpGolomb = function() {\n      this.skipBits(1 + this.skipLeadingZeros());\n    };\n\n    // ():uint\n    this.readUnsignedExpGolomb = function() {\n      var clz = this.skipLeadingZeros(); // :uint\n      return this.readBits(clz + 1) - 1;\n    };\n\n    // ():int\n    this.readExpGolomb = function() {\n      var valu = this.readUnsignedExpGolomb(); // :int\n      if (0x01 & valu) {\n        // the number is odd if the low order bit is set\n        return (1 + valu) >>> 1; // add 1 to make it even, and divide by 2\n      }\n      return -1 * (valu >>> 1); // divide by two then make it negative\n    };\n\n    // Some convenience functions\n    // :Boolean\n    this.readBoolean = function() {\n      return this.readBits(1) === 1;\n    };\n\n    // ():int\n    this.readUnsignedByte = function() {\n      return this.readBits(8);\n    };\n\n    this.loadWord();\n  };\n\n  module.exports = ExpGolomb;\n\n},{}],84:[function(require,module,exports){\n  /**\n   * mux.js\n   *\n   * Copyright (c) 2014 Brightcove\n   * All rights reserved.\n   *\n   * A lightweight readable stream implemention that handles event dispatching.\n   * Objects that inherit from streams should call init in their constructors.\n   */\n  'use strict';\n\n  var Stream = function() {\n    this.init = function() {\n      var listeners = {};\n      /**\n       * Add a listener for a specified event type.\n       * @param type {string} the event name\n       * @param listener {function} the callback to be invoked when an event of\n       * the specified type occurs\n       */\n      this.on = function(type, listener) {\n        if (!listeners[type]) {\n          listeners[type] = [];\n        }\n        listeners[type] = listeners[type].concat(listener);\n      };\n      /**\n       * Remove a listener for a specified event type.\n       * @param type {string} the event name\n       * @param listener {function} a function previously registered for this\n       * type of event through `on`\n       */\n      this.off = function(type, listener) {\n        var index;\n        if (!listeners[type]) {\n          return false;\n        }\n        index = listeners[type].indexOf(listener);\n        listeners[type] = listeners[type].slice();\n        listeners[type].splice(index, 1);\n        return index > -1;\n      };\n      /**\n       * Trigger an event of the specified type on this stream. Any additional\n       * arguments to this function are passed as parameters to event listeners.\n       * @param type {string} the event name\n       */\n      this.trigger = function(type) {\n        var callbacks, i, length, args;\n        callbacks = listeners[type];\n        if (!callbacks) {\n          return;\n        }\n        // Slicing the arguments on every invocation of this method\n        // can add a significant amount of overhead. Avoid the\n        // intermediate object creation for the common case of a\n        // single callback argument\n        if (arguments.length === 2) {\n          length = callbacks.length;\n          for (i = 0; i < length; ++i) {\n            callbacks[i].call(this, arguments[1]);\n          }\n        } else {\n          args = [];\n          i = arguments.length;\n          for (i = 1; i < arguments.length; ++i) {\n            args.push(arguments[i]);\n          }\n          length = callbacks.length;\n          for (i = 0; i < length; ++i) {\n            callbacks[i].apply(this, args);\n          }\n        }\n      };\n      /**\n       * Destroys the stream and cleans up.\n       */\n      this.dispose = function() {\n        listeners = {};\n      };\n    };\n  };\n\n  /**\n   * Forwards all `data` events on this stream to the destination stream. The\n   * destination stream should provide a method `push` to receive the data\n   * events as they arrive.\n   * @param destination {stream} the stream that will receive all `data` events\n   * @param autoFlush {boolean} if false, we will not call `flush` on the destination\n   *                            when the current stream emits a 'done' event\n   * @see http://nodejs.org/api/stream.html#stream_readable_pipe_destination_options\n   */\n  Stream.prototype.pipe = function(destination) {\n    this.on('data', function(data) {\n      destination.push(data);\n    });\n\n    this.on('done', function(flushSource) {\n      destination.flush(flushSource);\n    });\n\n    return destination;\n  };\n\n// Default stream functions that are expected to be overridden to perform\n// actual work. These are provided by the prototype as a sort of no-op\n// implementation so that we don't have to check for their existence in the\n// `pipe` function above.\n  Stream.prototype.push = function(data) {\n    this.trigger('data', data);\n  };\n\n  Stream.prototype.flush = function(flushSource) {\n    this.trigger('done', flushSource);\n  };\n\n  module.exports = Stream;\n\n},{}],85:[function(require,module,exports){\n  /* jshint ignore:start */\n  (function(root) {\n    /* jshint ignore:end */\n    var URLToolkit = {\n      // build an absolute URL from a relative one using the provided baseURL\n      // if relativeURL is an absolute URL it will be returned as is.\n      buildAbsoluteURL: function(baseURL, relativeURL) {\n        // remove any remaining space and CRLF\n        relativeURL = relativeURL.trim();\n        if (/^[a-z]+:/i.test(relativeURL)) {\n          // complete url, not relative\n          return relativeURL;\n        }\n\n        var relativeURLQuery = null;\n        var relativeURLHash = null;\n\n        var relativeURLHashSplit = /^([^#]*)(.*)$/.exec(relativeURL);\n        if (relativeURLHashSplit) {\n          relativeURLHash = relativeURLHashSplit[2];\n          relativeURL = relativeURLHashSplit[1];\n        }\n        var relativeURLQuerySplit = /^([^\\?]*)(.*)$/.exec(relativeURL);\n        if (relativeURLQuerySplit) {\n          relativeURLQuery = relativeURLQuerySplit[2];\n          relativeURL = relativeURLQuerySplit[1];\n        }\n\n        var baseURLHashSplit = /^([^#]*)(.*)$/.exec(baseURL);\n        if (baseURLHashSplit) {\n          baseURL = baseURLHashSplit[1];\n        }\n        var baseURLQuerySplit = /^([^\\?]*)(.*)$/.exec(baseURL);\n        if (baseURLQuerySplit) {\n          baseURL = baseURLQuerySplit[1];\n        }\n\n        var baseURLDomainSplit = /^(([a-z]+:)?\\/\\/[a-z0-9\\.\\-_~]+(:[0-9]+)?)?(\\/.*)$/i.exec(baseURL);\n        if (!baseURLDomainSplit) {\n          throw new Error('Error trying to parse base URL.');\n        }\n\n        // e.g. 'http:', 'https:', ''\n        var baseURLProtocol = baseURLDomainSplit[2] || '';\n        // e.g. 'http://example.com', '//example.com', ''\n        var baseURLProtocolDomain = baseURLDomainSplit[1] || '';\n        // e.g. '/a/b/c/playlist.m3u8'\n        var baseURLPath = baseURLDomainSplit[4];\n\n        var builtURL = null;\n        if (/^\\/\\//.test(relativeURL)) {\n          // relative url starts wth '//' so copy protocol (which may be '' if baseUrl didn't provide one)\n          builtURL = baseURLProtocol+'//'+URLToolkit.buildAbsolutePath('', relativeURL.substring(2));\n        }\n        else if (/^\\//.test(relativeURL)) {\n          // relative url starts with '/' so start from root of domain\n          builtURL = baseURLProtocolDomain+'/'+URLToolkit.buildAbsolutePath('', relativeURL.substring(1));\n        }\n        else {\n          builtURL = URLToolkit.buildAbsolutePath(baseURLProtocolDomain+baseURLPath, relativeURL);\n        }\n\n        // put the query and hash parts back\n        if (relativeURLQuery) {\n          builtURL += relativeURLQuery;\n        }\n        if (relativeURLHash) {\n          builtURL += relativeURLHash;\n        }\n        return builtURL;\n      },\n\n      // build an absolute path using the provided basePath\n      // adapted from https://developer.mozilla.org/en-US/docs/Web/API/document/cookie#Using_relative_URLs_in_the_path_parameter\n      // this does not handle the case where relativePath is \"/\" or \"//\". These cases should be handled outside this.\n      buildAbsolutePath: function(basePath, relativePath) {\n        var sRelPath = relativePath;\n        var nUpLn, sDir = '', sPath = basePath.replace(/[^\\/]*$/, sRelPath.replace(/(\\/|^)(?:\\.?\\/+)+/g, '$1'));\n        for (var nEnd, nStart = 0; nEnd = sPath.indexOf('/../', nStart), nEnd > -1; nStart = nEnd + nUpLn) {\n          nUpLn = /^\\/(?:\\.\\.\\/)*/.exec(sPath.slice(nEnd))[0].length;\n          sDir = (sDir + sPath.substring(nStart, nEnd)).replace(new RegExp('(?:\\\\\\/+[^\\\\\\/]*){0,' + ((nUpLn - 1) / 3) + '}$'), '/');\n        }\n        return sDir + sPath.substr(nStart);\n      }\n    };\n\n    /* jshint ignore:start */\n    if(typeof exports === 'object' && typeof module === 'object')\n      module.exports = URLToolkit;\n    else if(typeof define === 'function' && define.amd)\n      define([], function() { return URLToolkit; });\n    else if(typeof exports === 'object')\n      exports[\"URLToolkit\"] = URLToolkit;\n    else\n      root[\"URLToolkit\"] = URLToolkit;\n  })(this);\n  /* jshint ignore:end */\n\n},{}],86:[function(require,module,exports){\n  (function (global){\n    /**\n     * @file add-text-track-data.js\n     */\n    'use strict';\n\n    Object.defineProperty(exports, '__esModule', {\n      value: true\n    });\n\n    function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n    var _globalWindow = require('global/window');\n\n    var _globalWindow2 = _interopRequireDefault(_globalWindow);\n\n    var _videoJs = (typeof window !== \"undefined\" ? window['videojs'] : typeof global !== \"undefined\" ? global['videojs'] : null);\n\n    var _videoJs2 = _interopRequireDefault(_videoJs);\n\n    /**\n     * Define properties on a cue for backwards compatability,\n     * but warn the user that the way that they are using it\n     * is depricated and will be removed at a later date.\n     *\n     * @param {Cue} cue the cue to add the properties on\n     * @private\n     */\n    var deprecateOldCue = function deprecateOldCue(cue) {\n      Object.defineProperties(cue.frame, {\n        id: {\n          get: function get() {\n            _videoJs2['default'].log.warn('cue.frame.id is deprecated. Use cue.value.key instead.');\n            return cue.value.key;\n          }\n        },\n        value: {\n          get: function get() {\n            _videoJs2['default'].log.warn('cue.frame.value is deprecated. Use cue.value.data instead.');\n            return cue.value.data;\n          }\n        },\n        privateData: {\n          get: function get() {\n            _videoJs2['default'].log.warn('cue.frame.privateData is deprecated. Use cue.value.data instead.');\n            return cue.value.data;\n          }\n        }\n      });\n    };\n\n    var durationOfVideo = function durationOfVideo(duration) {\n      var dur = undefined;\n\n      if (isNaN(duration) || Math.abs(duration) === Infinity) {\n        dur = Number.MAX_VALUE;\n      } else {\n        dur = duration;\n      }\n      return dur;\n    };\n    /**\n     * Add text track data to a source handler given the captions and\n     * metadata from the buffer.\n     *\n     * @param {Object} sourceHandler the flash or virtual source buffer\n     * @param {Array} captionArray an array of caption data\n     * @param {Array} cue an array of meta data\n     * @private\n     */\n    var addTextTrackData = function addTextTrackData(sourceHandler, captionArray, metadataArray) {\n      var Cue = _globalWindow2['default'].WebKitDataCue || _globalWindow2['default'].VTTCue;\n\n      if (captionArray) {\n        captionArray.forEach(function (caption) {\n          this.inbandTextTrack_.addCue(new Cue(caption.startTime + this.timestampOffset, caption.endTime + this.timestampOffset, caption.text));\n        }, sourceHandler);\n      }\n\n      if (metadataArray) {\n        var videoDuration = durationOfVideo(sourceHandler.mediaSource_.duration);\n\n        metadataArray.forEach(function (metadata) {\n          var time = metadata.cueTime + this.timestampOffset;\n\n          metadata.frames.forEach(function (frame) {\n            var cue = new Cue(time, time, frame.value || frame.url || frame.data || '');\n\n            cue.frame = frame;\n            cue.value = frame;\n            deprecateOldCue(cue);\n\n            this.metadataTrack_.addCue(cue);\n          }, this);\n        }, sourceHandler);\n\n        // Updating the metadeta cues so that\n        // the endTime of each cue is the startTime of the next cue\n        // the endTime of last cue is the duration of the video\n        if (sourceHandler.metadataTrack_ && sourceHandler.metadataTrack_.cues && sourceHandler.metadataTrack_.cues.length) {\n          var cues = sourceHandler.metadataTrack_.cues;\n          var cuesArray = [];\n\n          for (var j = 0; j < cues.length; j++) {\n            cuesArray.push(cues[j]);\n          }\n          cuesArray.sort(function (first, second) {\n            return first.startTime - second.startTime;\n          });\n\n          for (var i = 0; i < cuesArray.length - 1; i++) {\n            if (cuesArray[i].endTime !== cuesArray[i + 1].startTime) {\n              cuesArray[i].endTime = cuesArray[i + 1].startTime;\n            }\n          }\n          cuesArray[cuesArray.length - 1].endTime = videoDuration;\n        }\n      }\n    };\n\n    exports['default'] = {\n      addTextTrackData: addTextTrackData,\n      durationOfVideo: durationOfVideo\n    };\n    module.exports = exports['default'];\n  }).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"global/window\":26}],87:[function(require,module,exports){\n  /**\n   * @file codec-utils.js\n   */\n\n  /**\n   * Check if a codec string refers to an audio codec.\n   *\n   * @param {String} codec codec string to check\n   * @return {Boolean} if this is an audio codec\n   * @private\n   */\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  var isAudioCodec = function isAudioCodec(codec) {\n    return (/mp4a\\.\\d+.\\d+/i.test(codec)\n    );\n  };\n\n  /**\n   * Check if a codec string refers to a video codec.\n   *\n   * @param {String} codec codec string to check\n   * @return {Boolean} if this is a video codec\n   * @private\n   */\n  var isVideoCodec = function isVideoCodec(codec) {\n    return (/avc1\\.[\\da-f]+/i.test(codec)\n    );\n  };\n\n  /**\n   * Parse a content type header into a type and parameters\n   * object\n   *\n   * @param {String} type the content type header\n   * @return {Object} the parsed content-type\n   * @private\n   */\n  var parseContentType = function parseContentType(type) {\n    var object = { type: '', parameters: {} };\n    var parameters = type.trim().split(';');\n\n    // first parameter should always be content-type\n    object.type = parameters.shift().trim();\n    parameters.forEach(function (parameter) {\n      var pair = parameter.trim().split('=');\n\n      if (pair.length > 1) {\n        var _name = pair[0].replace(/\"/g, '').trim();\n        var value = pair[1].replace(/\"/g, '').trim();\n\n        object.parameters[_name] = value;\n      }\n    });\n\n    return object;\n  };\n\n  exports['default'] = {\n    isAudioCodec: isAudioCodec,\n    parseContentType: parseContentType,\n    isVideoCodec: isVideoCodec\n  };\n  module.exports = exports['default'];\n},{}],88:[function(require,module,exports){\n  /**\n   * @file create-text-tracks-if-necessary.js\n   */\n\n  /**\n   * Create text tracks on video.js if they exist on a segment.\n   *\n   * @param {Object} sourceBuffer the VSB or FSB\n   * @param {Object} mediaSource the HTML or Flash media source\n   * @param {Object} segment the segment that may contain the text track\n   * @private\n   */\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  var createTextTracksIfNecessary = function createTextTracksIfNecessary(sourceBuffer, mediaSource, segment) {\n    // create an in-band caption track if one is present in the segment\n    if (segment.captions && segment.captions.length && !sourceBuffer.inbandTextTrack_) {\n      sourceBuffer.inbandTextTrack_ = mediaSource.player_.addTextTrack('captions', 'cc1');\n    }\n\n    if (segment.metadata && segment.metadata.length && !sourceBuffer.metadataTrack_) {\n      sourceBuffer.metadataTrack_ = mediaSource.player_.addTextTrack('metadata', 'Timed Metadata');\n      sourceBuffer.metadataTrack_.inBandMetadataTrackDispatchType = segment.metadata.dispatchType;\n    }\n  };\n\n  exports['default'] = createTextTracksIfNecessary;\n  module.exports = exports['default'];\n},{}],89:[function(require,module,exports){\n  /**\n   * @file flash-constants.js\n   */\n  /**\n   * The maximum size in bytes for append operations to the video.js\n   * SWF. Calling through to Flash blocks and can be expensive so\n   * we chunk data and pass through 4KB at a time, yielding to the\n   * browser between chunks. This gives a theoretical maximum rate of\n   * 1MB/s into Flash. Any higher and we begin to drop frames and UI\n   * responsiveness suffers.\n   *\n   * @private\n   */\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  var flashConstants = {\n    // times in milliseconds\n    TIME_BETWEEN_CHUNKS: 4,\n    BYTES_PER_CHUNK: 4096\n  };\n\n  exports[\"default\"] = flashConstants;\n  module.exports = exports[\"default\"];\n},{}],90:[function(require,module,exports){\n  (function (global){\n    /**\n     * @file flash-media-source.js\n     */\n    'use strict';\n\n    Object.defineProperty(exports, '__esModule', {\n      value: true\n    });\n\n    var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n    var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n    function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n    function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n    function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n    var _globalDocument = require('global/document');\n\n    var _globalDocument2 = _interopRequireDefault(_globalDocument);\n\n    var _videoJs = (typeof window !== \"undefined\" ? window['videojs'] : typeof global !== \"undefined\" ? global['videojs'] : null);\n\n    var _videoJs2 = _interopRequireDefault(_videoJs);\n\n    var _flashSourceBuffer = require('./flash-source-buffer');\n\n    var _flashSourceBuffer2 = _interopRequireDefault(_flashSourceBuffer);\n\n    var _flashConstants = require('./flash-constants');\n\n    var _flashConstants2 = _interopRequireDefault(_flashConstants);\n\n    var _codecUtils = require('./codec-utils');\n\n    /**\n     * A flash implmentation of HTML MediaSources and a polyfill\n     * for browsers that don't support native or HTML MediaSources..\n     *\n     * @link https://developer.mozilla.org/en-US/docs/Web/API/MediaSource\n     * @class FlashMediaSource\n     * @extends videojs.EventTarget\n     */\n\n    var FlashMediaSource = (function (_videojs$EventTarget) {\n      _inherits(FlashMediaSource, _videojs$EventTarget);\n\n      function FlashMediaSource() {\n        var _this = this;\n\n        _classCallCheck(this, FlashMediaSource);\n\n        _get(Object.getPrototypeOf(FlashMediaSource.prototype), 'constructor', this).call(this);\n        this.sourceBuffers = [];\n        this.readyState = 'closed';\n\n        this.on(['sourceopen', 'webkitsourceopen'], function (event) {\n          // find the swf where we will push media data\n          _this.swfObj = _globalDocument2['default'].getElementById(event.swfId);\n          _this.player_ = (0, _videoJs2['default'])(_this.swfObj.parentNode);\n          _this.tech_ = _this.swfObj.tech;\n          _this.readyState = 'open';\n\n          _this.tech_.on('seeking', function () {\n            var i = _this.sourceBuffers.length;\n\n            while (i--) {\n              _this.sourceBuffers[i].abort();\n            }\n          });\n\n          // trigger load events\n          if (_this.swfObj) {\n            _this.swfObj.vjs_load();\n          }\n        });\n      }\n\n      /**\n       * Set or return the presentation duration.\n       *\n       * @param {Double} value the duration of the media in seconds\n       * @param {Double} the current presentation duration\n       * @link http://www.w3.org/TR/media-source/#widl-MediaSource-duration\n       */\n\n      /**\n       * We have this function so that the html and flash interfaces\n       * are the same.\n       *\n       * @private\n       */\n\n      _createClass(FlashMediaSource, [{\n        key: 'addSeekableRange_',\n        value: function addSeekableRange_() {}\n        // intentional no-op\n\n        /**\n         * Create a new flash source buffer and add it to our flash media source.\n         *\n         * @link https://developer.mozilla.org/en-US/docs/Web/API/MediaSource/addSourceBuffer\n         * @param {String} type the content-type of the source\n         * @return {Object} the flash source buffer\n         */\n\n      }, {\n        key: 'addSourceBuffer',\n        value: function addSourceBuffer(type) {\n          var parsedType = (0, _codecUtils.parseContentType)(type);\n          var sourceBuffer = undefined;\n\n          // if this is an FLV type, we'll push data to flash\n          if (parsedType.type === 'video/mp2t') {\n            // Flash source buffers\n            sourceBuffer = new _flashSourceBuffer2['default'](this);\n          } else {\n            throw new Error('NotSupportedError (Video.js)');\n          }\n\n          this.sourceBuffers.push(sourceBuffer);\n          return sourceBuffer;\n        }\n\n        /**\n         * Signals the end of the stream.\n         *\n         * @link https://w3c.github.io/media-source/#widl-MediaSource-endOfStream-void-EndOfStreamError-error\n         * @param {String=} error Signals that a playback error\n         * has occurred. If specified, it must be either \"network\" or\n         * \"decode\".\n         */\n      }, {\n        key: 'endOfStream',\n        value: function endOfStream(error) {\n          if (error === 'network') {\n            // MEDIA_ERR_NETWORK\n            this.tech_.error(2);\n          } else if (error === 'decode') {\n            // MEDIA_ERR_DECODE\n            this.tech_.error(3);\n          }\n          if (this.readyState !== 'ended') {\n            this.readyState = 'ended';\n            this.swfObj.vjs_endOfStream();\n          }\n        }\n      }]);\n\n      return FlashMediaSource;\n    })(_videoJs2['default'].EventTarget);\n\n    exports['default'] = FlashMediaSource;\n    try {\n      Object.defineProperty(FlashMediaSource.prototype, 'duration', {\n        /**\n         * Return the presentation duration.\n         *\n         * @return {Double} the duration of the media in seconds\n         * @link http://www.w3.org/TR/media-source/#widl-MediaSource-duration\n         */\n        get: function get() {\n          if (!this.swfObj) {\n            return NaN;\n          }\n          // get the current duration from the SWF\n          return this.swfObj.vjs_getProperty('duration');\n        },\n        /**\n         * Set the presentation duration.\n         *\n         * @param {Double} value the duration of the media in seconds\n         * @return {Double} the duration of the media in seconds\n         * @link http://www.w3.org/TR/media-source/#widl-MediaSource-duration\n         */\n        set: function set(value) {\n          var i = undefined;\n          var oldDuration = this.swfObj.vjs_getProperty('duration');\n\n          this.swfObj.vjs_setProperty('duration', value);\n\n          if (value < oldDuration) {\n            // In MSE, this triggers the range removal algorithm which causes\n            // an update to occur\n            for (i = 0; i < this.sourceBuffers.length; i++) {\n              this.sourceBuffers[i].remove(value, oldDuration);\n            }\n          }\n\n          return value;\n        }\n      });\n    } catch (e) {\n      // IE8 throws if defineProperty is called on a non-DOM node. We\n      // don't support IE8 but we shouldn't throw an error if loaded\n      // there.\n      FlashMediaSource.prototype.duration = NaN;\n    }\n\n    for (var property in _flashConstants2['default']) {\n      FlashMediaSource[property] = _flashConstants2['default'][property];\n    }\n    module.exports = exports['default'];\n  }).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./codec-utils\":87,\"./flash-constants\":89,\"./flash-source-buffer\":91,\"global/document\":25}],91:[function(require,module,exports){\n  (function (global){\n    /**\n     * @file flash-source-buffer.js\n     */\n    'use strict';\n\n    Object.defineProperty(exports, '__esModule', {\n      value: true\n    });\n\n    var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n    var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n    function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n    function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n    function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n    var _globalWindow = require('global/window');\n\n    var _globalWindow2 = _interopRequireDefault(_globalWindow);\n\n    var _videoJs = (typeof window !== \"undefined\" ? window['videojs'] : typeof global !== \"undefined\" ? global['videojs'] : null);\n\n    var _videoJs2 = _interopRequireDefault(_videoJs);\n\n    var _muxJsLibFlv = require('mux.js/lib/flv');\n\n    var _muxJsLibFlv2 = _interopRequireDefault(_muxJsLibFlv);\n\n    var _removeCuesFromTrack = require('./remove-cues-from-track');\n\n    var _removeCuesFromTrack2 = _interopRequireDefault(_removeCuesFromTrack);\n\n    var _createTextTracksIfNecessary = require('./create-text-tracks-if-necessary');\n\n    var _createTextTracksIfNecessary2 = _interopRequireDefault(_createTextTracksIfNecessary);\n\n    var _addTextTrackData = require('./add-text-track-data');\n\n    var _flashConstants = require('./flash-constants');\n\n    var _flashConstants2 = _interopRequireDefault(_flashConstants);\n\n    /**\n     * A wrapper around the setTimeout function that uses\n     * the flash constant time between ticks value.\n     *\n     * @param {Function} func the function callback to run\n     * @private\n     */\n    var scheduleTick = function scheduleTick(func) {\n      // Chrome doesn't invoke requestAnimationFrame callbacks\n      // in background tabs, so use setTimeout.\n      _globalWindow2['default'].setTimeout(func, _flashConstants2['default'].TIME_BETWEEN_CHUNKS);\n    };\n\n    /**\n     * Round a number to a specified number of places much like\n     * toFixed but return a number instead of a string representation.\n     *\n     * @param {Number} num A number\n     * @param {Number} places The number of decimal places which to\n     * round\n     * @private\n     */\n    var toDecimalPlaces = function toDecimalPlaces(num, places) {\n      if (typeof places !== 'number' || places < 0) {\n        places = 0;\n      }\n\n      var scale = Math.pow(10, places);\n\n      return Math.round(num * scale) / scale;\n    };\n\n    /**\n     * A SourceBuffer implementation for Flash rather than HTML.\n     *\n     * @link https://developer.mozilla.org/en-US/docs/Web/API/MediaSource\n     * @param {Object} mediaSource the flash media source\n     * @class FlashSourceBuffer\n     * @extends videojs.EventTarget\n     */\n\n    var FlashSourceBuffer = (function (_videojs$EventTarget) {\n      _inherits(FlashSourceBuffer, _videojs$EventTarget);\n\n      function FlashSourceBuffer(mediaSource) {\n        var _this = this;\n\n        _classCallCheck(this, FlashSourceBuffer);\n\n        _get(Object.getPrototypeOf(FlashSourceBuffer.prototype), 'constructor', this).call(this);\n        var encodedHeader = undefined;\n\n        // Start off using the globally defined value but refine\n        // as we append data into flash\n        this.chunkSize_ = _flashConstants2['default'].BYTES_PER_CHUNK;\n\n        // byte arrays queued to be appended\n        this.buffer_ = [];\n\n        // the total number of queued bytes\n        this.bufferSize_ = 0;\n\n        // to be able to determine the correct position to seek to, we\n        // need to retain information about the mapping between the\n        // media timeline and PTS values\n        this.basePtsOffset_ = NaN;\n\n        this.mediaSource_ = mediaSource;\n\n        // indicates whether the asynchronous continuation of an operation\n        // is still being processed\n        // see https://w3c.github.io/media-source/#widl-SourceBuffer-updating\n        this.updating = false;\n        this.timestampOffset_ = 0;\n\n        // TS to FLV transmuxer\n        this.segmentParser_ = new _muxJsLibFlv2['default'].Transmuxer();\n        this.segmentParser_.on('data', this.receiveBuffer_.bind(this));\n        encodedHeader = _globalWindow2['default'].btoa(String.fromCharCode.apply(null, Array.prototype.slice.call(this.segmentParser_.getFlvHeader())));\n        this.mediaSource_.swfObj.vjs_appendBuffer(encodedHeader);\n\n        this.one('updateend', function () {\n          _this.mediaSource_.tech_.trigger('loadedmetadata');\n        });\n\n        Object.defineProperty(this, 'timestampOffset', {\n          get: function get() {\n            return this.timestampOffset_;\n          },\n          set: function set(val) {\n            if (typeof val === 'number' && val >= 0) {\n              this.timestampOffset_ = val;\n              this.segmentParser_ = new _muxJsLibFlv2['default'].Transmuxer();\n              this.segmentParser_.on('data', this.receiveBuffer_.bind(this));\n              // We have to tell flash to expect a discontinuity\n              this.mediaSource_.swfObj.vjs_discontinuity();\n              // the media <-> PTS mapping must be re-established after\n              // the discontinuity\n              this.basePtsOffset_ = NaN;\n            }\n          }\n        });\n\n        Object.defineProperty(this, 'buffered', {\n          get: function get() {\n            if (!this.mediaSource_ || !this.mediaSource_.swfObj || !('vjs_getProperty' in this.mediaSource_.swfObj)) {\n              return _videoJs2['default'].createTimeRange();\n            }\n\n            var buffered = this.mediaSource_.swfObj.vjs_getProperty('buffered');\n\n            if (buffered && buffered.length) {\n              buffered[0][0] = toDecimalPlaces(buffered[0][0], 3);\n              buffered[0][1] = toDecimalPlaces(buffered[0][1], 3);\n            }\n            return _videoJs2['default'].createTimeRanges(buffered);\n          }\n        });\n\n        // On a seek we remove all text track data since flash has no concept\n        // of a buffered-range and everything else is reset on seek\n        this.mediaSource_.player_.on('seeked', function () {\n          (0, _removeCuesFromTrack2['default'])(0, Infinity, _this.metadataTrack_);\n          (0, _removeCuesFromTrack2['default'])(0, Infinity, _this.inbandTextTrack_);\n        });\n      }\n\n      /**\n       * Append bytes to the sourcebuffers buffer, in this case we\n       * have to append it to swf object.\n       *\n       * @link https://developer.mozilla.org/en-US/docs/Web/API/SourceBuffer/appendBuffer\n       * @param {Array} bytes\n       */\n\n      _createClass(FlashSourceBuffer, [{\n        key: 'appendBuffer',\n        value: function appendBuffer(bytes) {\n          var _this2 = this;\n\n          var error = undefined;\n          var chunk = 512 * 1024;\n          var i = 0;\n\n          if (this.updating) {\n            error = new Error('SourceBuffer.append() cannot be called ' + 'while an update is in progress');\n            error.name = 'InvalidStateError';\n            error.code = 11;\n            throw error;\n          }\n\n          this.updating = true;\n          this.mediaSource_.readyState = 'open';\n          this.trigger({ type: 'update' });\n\n          // this is here to use recursion\n          var chunkInData = function chunkInData() {\n            _this2.segmentParser_.push(bytes.subarray(i, i + chunk));\n            i += chunk;\n            if (i < bytes.byteLength) {\n              scheduleTick(chunkInData);\n            } else {\n              scheduleTick(_this2.segmentParser_.flush.bind(_this2.segmentParser_));\n            }\n          };\n\n          chunkInData();\n        }\n\n        /**\n         * Reset the parser and remove any data queued to be sent to the SWF.\n         *\n         * @link https://developer.mozilla.org/en-US/docs/Web/API/SourceBuffer/abort\n         */\n      }, {\n        key: 'abort',\n        value: function abort() {\n          this.buffer_ = [];\n          this.bufferSize_ = 0;\n          this.mediaSource_.swfObj.vjs_abort();\n\n          // report any outstanding updates have ended\n          if (this.updating) {\n            this.updating = false;\n            this.trigger({ type: 'updateend' });\n          }\n        }\n\n        /**\n         * Flash cannot remove ranges already buffered in the NetStream\n         * but seeking clears the buffer entirely. For most purposes,\n         * having this operation act as a no-op is acceptable.\n         *\n         * @link https://developer.mozilla.org/en-US/docs/Web/API/SourceBuffer/remove\n         * @param {Double} start start of the section to remove\n         * @param {Double} end end of the section to remove\n         */\n      }, {\n        key: 'remove',\n        value: function remove(start, end) {\n          (0, _removeCuesFromTrack2['default'])(start, end, this.metadataTrack_);\n          (0, _removeCuesFromTrack2['default'])(start, end, this.inbandTextTrack_);\n          this.trigger({ type: 'update' });\n          this.trigger({ type: 'updateend' });\n        }\n\n        /**\n         * Receive a buffer from the flv.\n         *\n         * @param {Object} segment\n         * @private\n         */\n      }, {\n        key: 'receiveBuffer_',\n        value: function receiveBuffer_(segment) {\n          var _this3 = this;\n\n          // create an in-band caption track if one is present in the segment\n          (0, _createTextTracksIfNecessary2['default'])(this, this.mediaSource_, segment);\n          (0, _addTextTrackData.addTextTrackData)(this, segment.captions, segment.metadata);\n\n          // Do this asynchronously since convertTagsToData_ can be time consuming\n          scheduleTick(function () {\n            var flvBytes = _this3.convertTagsToData_(segment);\n\n            if (_this3.buffer_.length === 0) {\n              scheduleTick(_this3.processBuffer_.bind(_this3));\n            }\n\n            if (flvBytes) {\n              _this3.buffer_.push(flvBytes);\n              _this3.bufferSize_ += flvBytes.byteLength;\n            }\n          });\n        }\n\n        /**\n         * Append a portion of the current buffer to the SWF.\n         *\n         * @private\n         */\n      }, {\n        key: 'processBuffer_',\n        value: function processBuffer_() {\n          var chunkSize = _flashConstants2['default'].BYTES_PER_CHUNK;\n\n          if (!this.buffer_.length) {\n            if (this.updating !== false) {\n              this.updating = false;\n              this.trigger({ type: 'updateend' });\n            }\n            // do nothing if the buffer is empty\n            return;\n          }\n\n          // concatenate appends up to the max append size\n          var chunk = this.buffer_[0].subarray(0, chunkSize);\n\n          // requeue any bytes that won't make it this round\n          if (chunk.byteLength < chunkSize || this.buffer_[0].byteLength === chunkSize) {\n            this.buffer_.shift();\n          } else {\n            this.buffer_[0] = this.buffer_[0].subarray(chunkSize);\n          }\n\n          this.bufferSize_ -= chunk.byteLength;\n\n          // base64 encode the bytes\n          var binary = '';\n          var length = chunk.byteLength;\n\n          for (var i = 0; i < length; i++) {\n            binary += String.fromCharCode(chunk[i]);\n          }\n          var b64str = _globalWindow2['default'].btoa(binary);\n\n          // bypass normal ExternalInterface calls and pass xml directly\n          // IE can be slow by default\n          this.mediaSource_.swfObj.CallFunction('<invoke name=\"vjs_appendBuffer\"' + 'returntype=\"javascript\"><arguments><string>' + b64str + '</string></arguments></invoke>');\n\n          // schedule another append if necessary\n          if (this.bufferSize_ !== 0) {\n            scheduleTick(this.processBuffer_.bind(this));\n          } else {\n            this.updating = false;\n            this.trigger({ type: 'updateend' });\n          }\n        }\n\n        /**\n         * Turns an array of flv tags into a Uint8Array representing the\n         * flv data. Also removes any tags that are before the current\n         * time so that playback begins at or slightly after the right\n         * place on a seek\n         *\n         * @private\n         * @param {Object} segmentData object of segment data\n         */\n      }, {\n        key: 'convertTagsToData_',\n        value: function convertTagsToData_(segmentData) {\n          var segmentByteLength = 0;\n          var tech = this.mediaSource_.tech_;\n          var targetPts = 0;\n          var i = undefined;\n          var j = undefined;\n          var segment = undefined;\n          var filteredTags = [];\n          var tags = this.getOrderedTags_(segmentData);\n\n          // Establish the media timeline to PTS translation if we don't\n          // have one already\n          if (isNaN(this.basePtsOffset_) && tags.length) {\n            this.basePtsOffset_ = tags[0].pts;\n          }\n\n          // Trim to currentTime if it's ahead of buffered or buffered doesn't exist\n          if (tech.seeking()) {\n            targetPts = Math.max(targetPts, tech.currentTime() - this.timestampOffset);\n          }\n\n          // PTS values are represented in milliseconds\n          targetPts *= 1e3;\n          targetPts += this.basePtsOffset_;\n\n          // skip tags with a presentation time less than the seek target\n          for (i = 0; i < tags.length; i++) {\n            if (tags[i].pts >= targetPts) {\n              filteredTags.push(tags[i]);\n            }\n          }\n\n          if (filteredTags.length === 0) {\n            return;\n          }\n\n          // concatenate the bytes into a single segment\n          for (i = 0; i < filteredTags.length; i++) {\n            segmentByteLength += filteredTags[i].bytes.byteLength;\n          }\n          segment = new Uint8Array(segmentByteLength);\n          for (i = 0, j = 0; i < filteredTags.length; i++) {\n            segment.set(filteredTags[i].bytes, j);\n            j += filteredTags[i].bytes.byteLength;\n          }\n\n          return segment;\n        }\n\n        /**\n         * Assemble the FLV tags in decoder order.\n         *\n         * @private\n         * @param {Object} segmentData object of segment data\n         */\n      }, {\n        key: 'getOrderedTags_',\n        value: function getOrderedTags_(segmentData) {\n          var videoTags = segmentData.tags.videoTags;\n          var audioTags = segmentData.tags.audioTags;\n          var tag = undefined;\n          var tags = [];\n\n          while (videoTags.length || audioTags.length) {\n            if (!videoTags.length) {\n              // only audio tags remain\n              tag = audioTags.shift();\n            } else if (!audioTags.length) {\n              // only video tags remain\n              tag = videoTags.shift();\n            } else if (audioTags[0].dts < videoTags[0].dts) {\n              // audio should be decoded next\n              tag = audioTags.shift();\n            } else {\n              // video should be decoded next\n              tag = videoTags.shift();\n            }\n\n            tags.push(tag.finalize());\n          }\n\n          return tags;\n        }\n      }]);\n\n      return FlashSourceBuffer;\n    })(_videoJs2['default'].EventTarget);\n\n    exports['default'] = FlashSourceBuffer;\n    module.exports = exports['default'];\n  }).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./add-text-track-data\":86,\"./create-text-tracks-if-necessary\":88,\"./flash-constants\":89,\"./remove-cues-from-track\":93,\"global/window\":26,\"mux.js/lib/flv\":72}],92:[function(require,module,exports){\n  (function (global){\n    /**\n     * @file html-media-source.js\n     */\n    'use strict';\n\n    Object.defineProperty(exports, '__esModule', {\n      value: true\n    });\n\n    var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n    var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n    function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n    function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n    function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n    var _globalWindow = require('global/window');\n\n    var _globalWindow2 = _interopRequireDefault(_globalWindow);\n\n    var _globalDocument = require('global/document');\n\n    var _globalDocument2 = _interopRequireDefault(_globalDocument);\n\n    var _videoJs = (typeof window !== \"undefined\" ? window['videojs'] : typeof global !== \"undefined\" ? global['videojs'] : null);\n\n    var _videoJs2 = _interopRequireDefault(_videoJs);\n\n    var _virtualSourceBuffer = require('./virtual-source-buffer');\n\n    var _virtualSourceBuffer2 = _interopRequireDefault(_virtualSourceBuffer);\n\n    var _addTextTrackData = require('./add-text-track-data');\n\n    var _codecUtils = require('./codec-utils');\n\n    /**\n     * Replace the old apple-style `avc1.<dd>.<dd>` codec string with the standard\n     * `avc1.<hhhhhh>`\n     *\n     * @param {Array} codecs an array of codec strings to fix\n     * @return {Array} the translated codec array\n     * @private\n     */\n    var translateLegacyCodecs = function translateLegacyCodecs(codecs) {\n      return codecs.map(function (codec) {\n        return codec.replace(/avc1\\.(\\d+)\\.(\\d+)/i, function (orig, profile, avcLevel) {\n          var profileHex = ('00' + Number(profile).toString(16)).slice(-2);\n          var avcLevelHex = ('00' + Number(avcLevel).toString(16)).slice(-2);\n\n          return 'avc1.' + profileHex + '00' + avcLevelHex;\n        });\n      });\n    };\n\n    /**\n     * Our MediaSource implementation in HTML, mimics native\n     * MediaSource where/if possible.\n     *\n     * @link https://developer.mozilla.org/en-US/docs/Web/API/MediaSource\n     * @class HtmlMediaSource\n     * @extends videojs.EventTarget\n     */\n\n    var HtmlMediaSource = (function (_videojs$EventTarget) {\n      _inherits(HtmlMediaSource, _videojs$EventTarget);\n\n      function HtmlMediaSource() {\n        var _this = this;\n\n        _classCallCheck(this, HtmlMediaSource);\n\n        _get(Object.getPrototypeOf(HtmlMediaSource.prototype), 'constructor', this).call(this);\n        var property = undefined;\n\n        this.nativeMediaSource_ = new _globalWindow2['default'].MediaSource();\n        // delegate to the native MediaSource's methods by default\n        for (property in this.nativeMediaSource_) {\n          if (!(property in HtmlMediaSource.prototype) && typeof this.nativeMediaSource_[property] === 'function') {\n            this[property] = this.nativeMediaSource_[property].bind(this.nativeMediaSource_);\n          }\n        }\n\n        // emulate `duration` and `seekable` until seeking can be\n        // handled uniformly for live streams\n        // see https://github.com/w3c/media-source/issues/5\n        this.duration_ = NaN;\n        Object.defineProperty(this, 'duration', {\n          get: function get() {\n            if (this.duration_ === Infinity) {\n              return this.duration_;\n            }\n            return this.nativeMediaSource_.duration;\n          },\n          set: function set(duration) {\n            this.duration_ = duration;\n            if (duration !== Infinity) {\n              this.nativeMediaSource_.duration = duration;\n              return;\n            }\n          }\n        });\n        Object.defineProperty(this, 'seekable', {\n          get: function get() {\n            if (this.duration_ === Infinity) {\n              return _videoJs2['default'].createTimeRanges([[0, this.nativeMediaSource_.duration]]);\n            }\n            return this.nativeMediaSource_.seekable;\n          }\n        });\n\n        Object.defineProperty(this, 'readyState', {\n          get: function get() {\n            return this.nativeMediaSource_.readyState;\n          }\n        });\n\n        Object.defineProperty(this, 'activeSourceBuffers', {\n          get: function get() {\n            return this.activeSourceBuffers_;\n          }\n        });\n\n        // the list of virtual and native SourceBuffers created by this\n        // MediaSource\n        this.sourceBuffers = [];\n\n        this.activeSourceBuffers_ = [];\n\n        /**\n         * update the list of active source buffers based upon various\n         * imformation from HLS and video.js\n         *\n         * @private\n         */\n        this.updateActiveSourceBuffers_ = function () {\n          // Retain the reference but empty the array\n          _this.activeSourceBuffers_.length = 0;\n\n          // By default, the audio in the combined virtual source buffer is enabled\n          // and the audio-only source buffer (if it exists) is disabled.\n          var combined = false;\n          var audioOnly = true;\n\n          // TODO: maybe we can store the sourcebuffers on the track objects?\n          // safari may do something like this\n          for (var i = 0; i < _this.player_.audioTracks().length; i++) {\n            var track = _this.player_.audioTracks()[i];\n\n            if (track.enabled && track.kind !== 'main') {\n              // The enabled track is an alternate audio track so disable the audio in\n              // the combined source buffer and enable the audio-only source buffer.\n              combined = true;\n              audioOnly = false;\n              break;\n            }\n          }\n\n          // Since we currently support a max of two source buffers, add all of the source\n          // buffers (in order).\n          _this.sourceBuffers.forEach(function (sourceBuffer) {\n            /* eslinst-disable */\n            // TODO once codecs are required, we can switch to using the codecs to determine\n            //      what stream is the video stream, rather than relying on videoTracks\n            /* eslinst-enable */\n\n            sourceBuffer.appendAudioInitSegment_ = true;\n\n            if (sourceBuffer.videoCodec_ && sourceBuffer.audioCodec_) {\n              // combined\n              sourceBuffer.audioDisabled_ = combined;\n            } else if (sourceBuffer.videoCodec_ && !sourceBuffer.audioCodec_) {\n              // If the \"combined\" source buffer is video only, then we do not want\n              // disable the audio-only source buffer (this is mostly for demuxed\n              // audio and video hls)\n              sourceBuffer.audioDisabled_ = true;\n              audioOnly = false;\n            } else if (!sourceBuffer.videoCodec_ && sourceBuffer.audioCodec_) {\n              // audio only\n              sourceBuffer.audioDisabled_ = audioOnly;\n              if (audioOnly) {\n                return;\n              }\n            }\n\n            _this.activeSourceBuffers_.push(sourceBuffer);\n          });\n        };\n\n        this.onPlayerMediachange_ = function () {\n          _this.sourceBuffers.forEach(function (sourceBuffer) {\n            sourceBuffer.appendAudioInitSegment_ = true;\n          });\n        };\n\n        // Re-emit MediaSource events on the polyfill\n        ['sourceopen', 'sourceclose', 'sourceended'].forEach(function (eventName) {\n          this.nativeMediaSource_.addEventListener(eventName, this.trigger.bind(this));\n        }, this);\n\n        // capture the associated player when the MediaSource is\n        // successfully attached\n        this.on('sourceopen', function (event) {\n          // Get the player this MediaSource is attached to\n          var video = _globalDocument2['default'].querySelector('[src=\"' + _this.url_ + '\"]');\n\n          if (!video) {\n            return;\n          }\n\n          _this.player_ = (0, _videoJs2['default'])(video.parentNode);\n\n          if (_this.player_.audioTracks && _this.player_.audioTracks()) {\n            _this.player_.audioTracks().on('change', _this.updateActiveSourceBuffers_);\n            _this.player_.audioTracks().on('addtrack', _this.updateActiveSourceBuffers_);\n            _this.player_.audioTracks().on('removetrack', _this.updateActiveSourceBuffers_);\n          }\n\n          _this.player_.on('mediachange', _this.onPlayerMediachange_);\n        });\n\n        this.on('sourceended', function (event) {\n          var duration = (0, _addTextTrackData.durationOfVideo)(_this.duration);\n\n          for (var i = 0; i < _this.sourceBuffers.length; i++) {\n            var sourcebuffer = _this.sourceBuffers[i];\n            var cues = sourcebuffer.metadataTrack_ && sourcebuffer.metadataTrack_.cues;\n\n            if (cues && cues.length) {\n              cues[cues.length - 1].endTime = duration;\n            }\n          }\n        });\n\n        // explicitly terminate any WebWorkers that were created\n        // by SourceHandlers\n        this.on('sourceclose', function (event) {\n          this.sourceBuffers.forEach(function (sourceBuffer) {\n            if (sourceBuffer.transmuxer_) {\n              sourceBuffer.transmuxer_.terminate();\n            }\n          });\n          this.sourceBuffers.length = 0;\n          if (!this.player_) {\n            return;\n          }\n\n          if (this.player_.audioTracks && this.player_.audioTracks()) {\n            this.player_.audioTracks().off('change', this.updateActiveSourceBuffers_);\n            this.player_.audioTracks().off('addtrack', this.updateActiveSourceBuffers_);\n            this.player_.audioTracks().off('removetrack', this.updateActiveSourceBuffers_);\n          }\n\n          this.player_.off('mediachange', this.onPlayerMediachange_);\n        });\n      }\n\n      /**\n       * Add a range that that can now be seeked to.\n       *\n       * @param {Double} start where to start the addition\n       * @param {Double} end where to end the addition\n       * @private\n       */\n\n      _createClass(HtmlMediaSource, [{\n        key: 'addSeekableRange_',\n        value: function addSeekableRange_(start, end) {\n          var error = undefined;\n\n          if (this.duration !== Infinity) {\n            error = new Error('MediaSource.addSeekableRange() can only be invoked ' + 'when the duration is Infinity');\n            error.name = 'InvalidStateError';\n            error.code = 11;\n            throw error;\n          }\n\n          if (end > this.nativeMediaSource_.duration || isNaN(this.nativeMediaSource_.duration)) {\n            this.nativeMediaSource_.duration = end;\n          }\n        }\n\n        /**\n         * Add a source buffer to the media source.\n         *\n         * @link https://developer.mozilla.org/en-US/docs/Web/API/MediaSource/addSourceBuffer\n         * @param {String} type the content-type of the content\n         * @return {Object} the created source buffer\n         */\n      }, {\n        key: 'addSourceBuffer',\n        value: function addSourceBuffer(type) {\n          var buffer = undefined;\n          var parsedType = (0, _codecUtils.parseContentType)(type);\n\n          // Create a VirtualSourceBuffer to transmux MPEG-2 transport\n          // stream segments into fragmented MP4s\n          if (/^(video|audio)\\/mp2t$/i.test(parsedType.type)) {\n            var codecs = [];\n\n            if (parsedType.parameters && parsedType.parameters.codecs) {\n              codecs = parsedType.parameters.codecs.split(',');\n              codecs = translateLegacyCodecs(codecs);\n              codecs = codecs.filter(function (codec) {\n                return (0, _codecUtils.isAudioCodec)(codec) || (0, _codecUtils.isVideoCodec)(codec);\n              });\n            }\n\n            if (codecs.length === 0) {\n              codecs = ['avc1.4d400d', 'mp4a.40.2'];\n            }\n\n            buffer = new _virtualSourceBuffer2['default'](this, codecs);\n\n            if (this.sourceBuffers.length !== 0) {\n              // If another VirtualSourceBuffer already exists, then we are creating a\n              // SourceBuffer for an alternate audio track and therefore we know that\n              // the source has both an audio and video track.\n              // That means we should trigger the manual creation of the real\n              // SourceBuffers instead of waiting for the transmuxer to return data\n              this.sourceBuffers[0].createRealSourceBuffers_();\n              buffer.createRealSourceBuffers_();\n\n              // Automatically disable the audio on the first source buffer if\n              // a second source buffer is ever created\n              this.sourceBuffers[0].audioDisabled_ = true;\n            }\n          } else {\n            // delegate to the native implementation\n            buffer = this.nativeMediaSource_.addSourceBuffer(type);\n          }\n\n          this.sourceBuffers.push(buffer);\n          return buffer;\n        }\n      }]);\n\n      return HtmlMediaSource;\n    })(_videoJs2['default'].EventTarget);\n\n    exports['default'] = HtmlMediaSource;\n    module.exports = exports['default'];\n  }).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./add-text-track-data\":86,\"./codec-utils\":87,\"./virtual-source-buffer\":96,\"global/document\":25,\"global/window\":26}],93:[function(require,module,exports){\n  /**\n   * @file remove-cues-from-track.js\n   */\n\n  /**\n   * Remove cues from a track on video.js.\n   *\n   * @param {Double} start start of where we should remove the cue\n   * @param {Double} end end of where the we should remove the cue\n   * @param {Object} track the text track to remove the cues from\n   * @private\n   */\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  var removeCuesFromTrack = function removeCuesFromTrack(start, end, track) {\n    var i = undefined;\n    var cue = undefined;\n\n    if (!track) {\n      return;\n    }\n\n    i = track.cues.length;\n\n    while (i--) {\n      cue = track.cues[i];\n\n      // Remove any overlapping cue\n      if (cue.startTime <= end && cue.endTime >= start) {\n        track.removeCue(cue);\n      }\n    }\n  };\n\n  exports[\"default\"] = removeCuesFromTrack;\n  module.exports = exports[\"default\"];\n},{}],94:[function(require,module,exports){\n  /**\n   * @file transmuxer-worker.js\n   */\n\n  /**\n   * videojs-contrib-media-sources\n   *\n   * Copyright (c) 2015 Brightcove\n   * All rights reserved.\n   *\n   * Handles communication between the browser-world and the mux.js\n   * transmuxer running inside of a WebWorker by exposing a simple\n   * message-based interface to a Transmuxer object.\n   */\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  var _globalWindow = require('global/window');\n\n  var _globalWindow2 = _interopRequireDefault(_globalWindow);\n\n  var _muxJsLibMp4 = require('mux.js/lib/mp4');\n\n  var _muxJsLibMp42 = _interopRequireDefault(_muxJsLibMp4);\n\n  /**\n   * Re-emits tranmsuxer events by converting them into messages to the\n   * world outside the worker.\n   *\n   * @param {Object} transmuxer the transmuxer to wire events on\n   * @private\n   */\n  var wireTransmuxerEvents = function wireTransmuxerEvents(transmuxer) {\n    transmuxer.on('data', function (segment) {\n      // transfer ownership of the underlying ArrayBuffer\n      // instead of doing a copy to save memory\n      // ArrayBuffers are transferable but generic TypedArrays are not\n      // @link https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers#Passing_data_by_transferring_ownership_(transferable_objects)\n      var initArray = segment.initSegment;\n\n      segment.initSegment = {\n        data: initArray.buffer,\n        byteOffset: initArray.byteOffset,\n        byteLength: initArray.byteLength\n      };\n\n      var typedArray = segment.data;\n\n      segment.data = typedArray.buffer;\n      _globalWindow2['default'].postMessage({\n        action: 'data',\n        segment: segment,\n        byteOffset: typedArray.byteOffset,\n        byteLength: typedArray.byteLength\n      }, [segment.data]);\n    });\n\n    if (transmuxer.captionStream) {\n      transmuxer.captionStream.on('data', function (caption) {\n        _globalWindow2['default'].postMessage({\n          action: 'caption',\n          data: caption\n        });\n      });\n    }\n\n    transmuxer.on('done', function (data) {\n      _globalWindow2['default'].postMessage({ action: 'done' });\n    });\n  };\n\n  /**\n   * All incoming messages route through this hash. If no function exists\n   * to handle an incoming message, then we ignore the message.\n   *\n   * @class MessageHandlers\n   * @param {Object} options the options to initialize with\n   */\n\n  var MessageHandlers = (function () {\n    function MessageHandlers(options) {\n      _classCallCheck(this, MessageHandlers);\n\n      this.options = options || {};\n      this.init();\n    }\n\n    /**\n     * Our web wroker interface so that things can talk to mux.js\n     * that will be running in a web worker. the scope is passed to this by\n     * webworkify.\n     *\n     * @param {Object} self the scope for the web worker\n     */\n\n    /**\n     * initialize our web worker and wire all the events.\n     */\n\n    _createClass(MessageHandlers, [{\n      key: 'init',\n      value: function init() {\n        if (this.transmuxer) {\n          this.transmuxer.dispose();\n        }\n        this.transmuxer = new _muxJsLibMp42['default'].Transmuxer(this.options);\n        wireTransmuxerEvents(this.transmuxer);\n      }\n\n      /**\n       * Adds data (a ts segment) to the start of the transmuxer pipeline for\n       * processing.\n       *\n       * @param {ArrayBuffer} data data to push into the muxer\n       */\n    }, {\n      key: 'push',\n      value: function push(data) {\n        // Cast array buffer to correct type for transmuxer\n        var segment = new Uint8Array(data.data, data.byteOffset, data.byteLength);\n\n        this.transmuxer.push(segment);\n      }\n\n      /**\n       * Recreate the transmuxer so that the next segment added via `push`\n       * start with a fresh transmuxer.\n       */\n    }, {\n      key: 'reset',\n      value: function reset() {\n        this.init();\n      }\n\n      /**\n       * Set the value that will be used as the `baseMediaDecodeTime` time for the\n       * next segment pushed in. Subsequent segments will have their `baseMediaDecodeTime`\n       * set relative to the first based on the PTS values.\n       *\n       * @param {Object} data used to set the timestamp offset in the muxer\n       */\n    }, {\n      key: 'setTimestampOffset',\n      value: function setTimestampOffset(data) {\n        var timestampOffset = data.timestampOffset || 0;\n\n        this.transmuxer.setBaseMediaDecodeTime(Math.round(timestampOffset * 90000));\n      }\n\n      /**\n       * Forces the pipeline to finish processing the last segment and emit it's\n       * results.\n       *\n       * @param {Object} data event data, not really used\n       */\n    }, {\n      key: 'flush',\n      value: function flush(data) {\n        this.transmuxer.flush();\n      }\n    }]);\n\n    return MessageHandlers;\n  })();\n\n  var Worker = function Worker(self) {\n    self.onmessage = function (event) {\n      if (event.data.action === 'init' && event.data.options) {\n        this.messageHandlers = new MessageHandlers(event.data.options);\n        return;\n      }\n\n      if (!this.messageHandlers) {\n        this.messageHandlers = new MessageHandlers();\n      }\n\n      if (event.data && event.data.action && event.data.action !== 'init') {\n        if (this.messageHandlers[event.data.action]) {\n          this.messageHandlers[event.data.action](event.data);\n        }\n      }\n    };\n  };\n\n  exports['default'] = function (self) {\n    return new Worker(self);\n  };\n\n  module.exports = exports['default'];\n},{\"global/window\":26,\"mux.js/lib/mp4\":79}],95:[function(require,module,exports){\n  (function (global){\n    /**\n     * @file videojs-contrib-media-sources.js\n     */\n    'use strict';\n\n    Object.defineProperty(exports, '__esModule', {\n      value: true\n    });\n\n    function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n    var _globalWindow = require('global/window');\n\n    var _globalWindow2 = _interopRequireDefault(_globalWindow);\n\n    var _flashMediaSource = require('./flash-media-source');\n\n    var _flashMediaSource2 = _interopRequireDefault(_flashMediaSource);\n\n    var _htmlMediaSource = require('./html-media-source');\n\n    var _htmlMediaSource2 = _interopRequireDefault(_htmlMediaSource);\n\n    var _videoJs = (typeof window !== \"undefined\" ? window['videojs'] : typeof global !== \"undefined\" ? global['videojs'] : null);\n\n    var _videoJs2 = _interopRequireDefault(_videoJs);\n\n    var urlCount = 0;\n\n// ------------\n// Media Source\n// ------------\n\n    var defaults = {\n      // how to determine the MediaSource implementation to use. There\n      // are three available modes:\n      // - auto: use native MediaSources where available and Flash\n      //   everywhere else\n      // - html5: always use native MediaSources\n      // - flash: always use the Flash MediaSource polyfill\n      mode: 'auto'\n    };\n\n// store references to the media sources so they can be connected\n// to a video element (a swf object)\n// TODO: can we store this somewhere local to this module?\n    _videoJs2['default'].mediaSources = {};\n\n    /**\n     * Provide a method for a swf object to notify JS that a\n     * media source is now open.\n     *\n     * @param {String} msObjectURL string referencing the MSE Object URL\n     * @param {String} swfId the swf id\n     */\n    var open = function open(msObjectURL, swfId) {\n      var mediaSource = _videoJs2['default'].mediaSources[msObjectURL];\n\n      if (mediaSource) {\n        mediaSource.trigger({ type: 'sourceopen', swfId: swfId });\n      } else {\n        throw new Error('Media Source not found (Video.js)');\n      }\n    };\n\n    /**\n     * Check to see if the native MediaSource object exists and supports\n     * an MP4 container with both H.264 video and AAC-LC audio.\n     *\n     * @return {Boolean} if  native media sources are supported\n     */\n    var supportsNativeMediaSources = function supportsNativeMediaSources() {\n      return !!_globalWindow2['default'].MediaSource && !!_globalWindow2['default'].MediaSource.isTypeSupported && _globalWindow2['default'].MediaSource.isTypeSupported('video/mp4;codecs=\"avc1.4d400d,mp4a.40.2\"');\n    };\n\n    /**\n     * An emulation of the MediaSource API so that we can support\n     * native and non-native functionality such as flash and\n     * video/mp2t videos. returns an instance of HtmlMediaSource or\n     * FlashMediaSource depending on what is supported and what options\n     * are passed in.\n     *\n     * @link https://developer.mozilla.org/en-US/docs/Web/API/MediaSource/MediaSource\n     * @param {Object} options options to use during setup.\n     */\n    var MediaSource = function MediaSource(options) {\n      var settings = _videoJs2['default'].mergeOptions(defaults, options);\n\n      this.MediaSource = {\n        open: open,\n        supportsNativeMediaSources: supportsNativeMediaSources\n      };\n\n      // determine whether HTML MediaSources should be used\n      if (settings.mode === 'html5' || settings.mode === 'auto' && supportsNativeMediaSources()) {\n        return new _htmlMediaSource2['default']();\n      }\n\n      // otherwise, emulate them through the SWF\n      return new _flashMediaSource2['default']();\n    };\n\n    exports.MediaSource = MediaSource;\n    MediaSource.open = open;\n    MediaSource.supportsNativeMediaSources = supportsNativeMediaSources;\n\n    /**\n     * A wrapper around the native URL for our MSE object\n     * implementation, this object is exposed under videojs.URL\n     *\n     * @link https://developer.mozilla.org/en-US/docs/Web/API/URL/URL\n     */\n    var URL = {\n      /**\n       * A wrapper around the native createObjectURL for our objects.\n       * This function maps a native or emulated mediaSource to a blob\n       * url so that it can be loaded into video.js\n       *\n       * @link https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL\n       * @param {MediaSource} object the object to create a blob url to\n       */\n      createObjectURL: function createObjectURL(object) {\n        var objectUrlPrefix = 'blob:vjs-media-source/';\n        var url = undefined;\n\n        // use the native MediaSource to generate an object URL\n        if (object instanceof _htmlMediaSource2['default']) {\n          url = _globalWindow2['default'].URL.createObjectURL(object.nativeMediaSource_);\n          object.url_ = url;\n          return url;\n        }\n        // if the object isn't an emulated MediaSource, delegate to the\n        // native implementation\n        if (!(object instanceof _flashMediaSource2['default'])) {\n          url = _globalWindow2['default'].URL.createObjectURL(object);\n          object.url_ = url;\n          return url;\n        }\n\n        // build a URL that can be used to map back to the emulated\n        // MediaSource\n        url = objectUrlPrefix + urlCount;\n\n        urlCount++;\n\n        // setup the mapping back to object\n        _videoJs2['default'].mediaSources[url] = object;\n\n        return url;\n      }\n    };\n\n    exports.URL = URL;\n    _videoJs2['default'].MediaSource = MediaSource;\n    _videoJs2['default'].URL = URL;\n  }).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./flash-media-source\":90,\"./html-media-source\":92,\"global/window\":26}],96:[function(require,module,exports){\n  (function (global){\n    /**\n     * @file virtual-source-buffer.js\n     */\n    'use strict';\n\n    Object.defineProperty(exports, '__esModule', {\n      value: true\n    });\n\n    var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n    var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n    function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n    function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n    function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n    var _videoJs = (typeof window !== \"undefined\" ? window['videojs'] : typeof global !== \"undefined\" ? global['videojs'] : null);\n\n    var _videoJs2 = _interopRequireDefault(_videoJs);\n\n    var _createTextTracksIfNecessary = require('./create-text-tracks-if-necessary');\n\n    var _createTextTracksIfNecessary2 = _interopRequireDefault(_createTextTracksIfNecessary);\n\n    var _removeCuesFromTrack = require('./remove-cues-from-track');\n\n    var _removeCuesFromTrack2 = _interopRequireDefault(_removeCuesFromTrack);\n\n    var _addTextTrackData = require('./add-text-track-data');\n\n    var _webworkify = require('webworkify');\n\n    var _webworkify2 = _interopRequireDefault(_webworkify);\n\n    var _transmuxerWorker = require('./transmuxer-worker');\n\n    var _transmuxerWorker2 = _interopRequireDefault(_transmuxerWorker);\n\n    var _codecUtils = require('./codec-utils');\n\n    /**\n     * VirtualSourceBuffers exist so that we can transmux non native formats\n     * into a native format, but keep the same api as a native source buffer.\n     * It creates a transmuxer, that works in its own thread (a web worker) and\n     * that transmuxer muxes the data into a native format. VirtualSourceBuffer will\n     * then send all of that data to the naive sourcebuffer so that it is\n     * indestinguishable from a natively supported format.\n     *\n     * @param {HtmlMediaSource} mediaSource the parent mediaSource\n     * @param {Array} codecs array of codecs that we will be dealing with\n     * @class VirtualSourceBuffer\n     * @extends video.js.EventTarget\n     */\n\n    var VirtualSourceBuffer = (function (_videojs$EventTarget) {\n      _inherits(VirtualSourceBuffer, _videojs$EventTarget);\n\n      function VirtualSourceBuffer(mediaSource, codecs) {\n        var _this = this;\n\n        _classCallCheck(this, VirtualSourceBuffer);\n\n        _get(Object.getPrototypeOf(VirtualSourceBuffer.prototype), 'constructor', this).call(this, _videoJs2['default'].EventTarget);\n        this.timestampOffset_ = 0;\n        this.pendingBuffers_ = [];\n        this.bufferUpdating_ = false;\n        this.mediaSource_ = mediaSource;\n        this.codecs_ = codecs;\n        this.audioCodec_ = null;\n        this.videoCodec_ = null;\n        this.audioDisabled_ = false;\n        this.appendAudioInitSegment_ = true;\n\n        var options = {\n          remux: false\n        };\n\n        this.codecs_.forEach(function (codec) {\n          if ((0, _codecUtils.isAudioCodec)(codec)) {\n            _this.audioCodec_ = codec;\n          } else if ((0, _codecUtils.isVideoCodec)(codec)) {\n            _this.videoCodec_ = codec;\n          }\n        });\n\n        // append muxed segments to their respective native buffers as\n        // soon as they are available\n        this.transmuxer_ = (0, _webworkify2['default'])(_transmuxerWorker2['default']);\n        this.transmuxer_.postMessage({ action: 'init', options: options });\n\n        this.transmuxer_.onmessage = function (event) {\n          if (event.data.action === 'data') {\n            return _this.data_(event);\n          }\n\n          if (event.data.action === 'done') {\n            return _this.done_(event);\n          }\n        };\n\n        // this timestampOffset is a property with the side-effect of resetting\n        // baseMediaDecodeTime in the transmuxer on the setter\n        Object.defineProperty(this, 'timestampOffset', {\n          get: function get() {\n            return this.timestampOffset_;\n          },\n          set: function set(val) {\n            if (typeof val === 'number' && val >= 0) {\n              this.timestampOffset_ = val;\n              this.appendAudioInitSegment_ = true;\n\n              // We have to tell the transmuxer to set the baseMediaDecodeTime to\n              // the desired timestampOffset for the next segment\n              this.transmuxer_.postMessage({\n                action: 'setTimestampOffset',\n                timestampOffset: val\n              });\n            }\n          }\n        });\n\n        // setting the append window affects both source buffers\n        Object.defineProperty(this, 'appendWindowStart', {\n          get: function get() {\n            return (this.videoBuffer_ || this.audioBuffer_).appendWindowStart;\n          },\n          set: function set(start) {\n            if (this.videoBuffer_) {\n              this.videoBuffer_.appendWindowStart = start;\n            }\n            if (this.audioBuffer_) {\n              this.audioBuffer_.appendWindowStart = start;\n            }\n          }\n        });\n\n        // this buffer is \"updating\" if either of its native buffers are\n        Object.defineProperty(this, 'updating', {\n          get: function get() {\n            return !!(this.bufferUpdating_ || !this.audioDisabled_ && this.audioBuffer_ && this.audioBuffer_.updating || this.videoBuffer_ && this.videoBuffer_.updating);\n          }\n        });\n\n        // the buffered property is the intersection of the buffered\n        // ranges of the native source buffers\n        Object.defineProperty(this, 'buffered', {\n          get: function get() {\n            var start = null;\n            var end = null;\n            var arity = 0;\n            var extents = [];\n            var ranges = [];\n\n            // neither buffer has been created yet\n            if (!this.videoBuffer_ && !this.audioBuffer_) {\n              return _videoJs2['default'].createTimeRange();\n            }\n\n            // only one buffer is configured\n            if (!this.videoBuffer_) {\n              return this.audioBuffer_.buffered;\n            }\n            if (!this.audioBuffer_) {\n              return this.videoBuffer_.buffered;\n            }\n\n            // both buffers are configured\n            if (this.audioDisabled_) {\n              return this.videoBuffer_.buffered;\n            }\n\n            // both buffers are empty\n            if (this.videoBuffer_.buffered.length === 0 && this.audioBuffer_.buffered.length === 0) {\n              return _videoJs2['default'].createTimeRange();\n            }\n\n            // Handle the case where we have both buffers and create an\n            // intersection of the two\n            var videoBuffered = this.videoBuffer_.buffered;\n            var audioBuffered = this.audioBuffer_.buffered;\n            var count = videoBuffered.length;\n\n            // A) Gather up all start and end times\n            while (count--) {\n              extents.push({ time: videoBuffered.start(count), type: 'start' });\n              extents.push({ time: videoBuffered.end(count), type: 'end' });\n            }\n            count = audioBuffered.length;\n            while (count--) {\n              extents.push({ time: audioBuffered.start(count), type: 'start' });\n              extents.push({ time: audioBuffered.end(count), type: 'end' });\n            }\n            // B) Sort them by time\n            extents.sort(function (a, b) {\n              return a.time - b.time;\n            });\n\n            // C) Go along one by one incrementing arity for start and decrementing\n            //    arity for ends\n            for (count = 0; count < extents.length; count++) {\n              if (extents[count].type === 'start') {\n                arity++;\n\n                // D) If arity is ever incremented to 2 we are entering an\n                //    overlapping range\n                if (arity === 2) {\n                  start = extents[count].time;\n                }\n              } else if (extents[count].type === 'end') {\n                arity--;\n\n                // E) If arity is ever decremented to 1 we leaving an\n                //    overlapping range\n                if (arity === 1) {\n                  end = extents[count].time;\n                }\n              }\n\n              // F) Record overlapping ranges\n              if (start !== null && end !== null) {\n                ranges.push([start, end]);\n                start = null;\n                end = null;\n              }\n            }\n\n            return _videoJs2['default'].createTimeRanges(ranges);\n          }\n        });\n      }\n\n      /**\n       * When we get a data event from the transmuxer\n       * we call this function and handle the data that\n       * was sent to us\n       *\n       * @private\n       * @param {Event} event the data event from the transmuxer\n       */\n\n      _createClass(VirtualSourceBuffer, [{\n        key: 'data_',\n        value: function data_(event) {\n          var segment = event.data.segment;\n\n          // Cast ArrayBuffer to TypedArray\n          segment.data = new Uint8Array(segment.data, event.data.byteOffset, event.data.byteLength);\n\n          segment.initSegment = new Uint8Array(segment.initSegment.data, segment.initSegment.byteOffset, segment.initSegment.byteLength);\n\n          (0, _createTextTracksIfNecessary2['default'])(this, this.mediaSource_, segment);\n\n          // Add the segments to the pendingBuffers array\n          this.pendingBuffers_.push(segment);\n          return;\n        }\n\n        /**\n         * When we get a done event from the transmuxer\n         * we call this function and we process all\n         * of the pending data that we have been saving in the\n         * data_ function\n         *\n         * @private\n         * @param {Event} event the done event from the transmuxer\n         */\n      }, {\n        key: 'done_',\n        value: function done_(event) {\n          // All buffers should have been flushed from the muxer\n          // start processing anything we have received\n          this.processPendingSegments_();\n          return;\n        }\n\n        /**\n         * Create our internal native audio/video source buffers and add\n         * event handlers to them with the following conditions:\n         * 1. they do not already exist on the mediaSource\n         * 2. this VSB has a codec for them\n         *\n         * @private\n         */\n      }, {\n        key: 'createRealSourceBuffers_',\n        value: function createRealSourceBuffers_() {\n          var _this2 = this;\n\n          var types = ['audio', 'video'];\n\n          types.forEach(function (type) {\n            // Don't create a SourceBuffer of this type if we don't have a\n            // codec for it\n            if (!_this2[type + 'Codec_']) {\n              return;\n            }\n\n            // Do nothing if a SourceBuffer of this type already exists\n            if (_this2[type + 'Buffer_']) {\n              return;\n            }\n\n            var buffer = null;\n\n            // If the mediasource already has a SourceBuffer for the codec\n            // use that\n            if (_this2.mediaSource_[type + 'Buffer_']) {\n              buffer = _this2.mediaSource_[type + 'Buffer_'];\n            } else {\n              buffer = _this2.mediaSource_.nativeMediaSource_.addSourceBuffer(type + '/mp4;codecs=\"' + _this2[type + 'Codec_'] + '\"');\n              _this2.mediaSource_[type + 'Buffer_'] = buffer;\n            }\n\n            _this2[type + 'Buffer_'] = buffer;\n\n            // Wire up the events to the SourceBuffer\n            ['update', 'updatestart', 'updateend'].forEach(function (event) {\n              buffer.addEventListener(event, function () {\n                // if audio is disabled\n                if (type === 'audio' && _this2.audioDisabled_) {\n                  return;\n                }\n\n                var shouldTrigger = types.every(function (t) {\n                  // skip checking audio's updating status if audio\n                  // is not enabled\n                  if (t === 'audio' && _this2.audioDisabled_) {\n                    return true;\n                  }\n                  // if the other type if updating we don't trigger\n                  if (type !== t && _this2[t + 'Buffer_'] && _this2[t + 'Buffer_'].updating) {\n                    return false;\n                  }\n                  return true;\n                });\n\n                if (shouldTrigger) {\n                  return _this2.trigger(event);\n                }\n              });\n            });\n          });\n        }\n\n        /**\n         * Emulate the native mediasource function, but our function will\n         * send all of the proposed segments to the transmuxer so that we\n         * can transmux them before we append them to our internal\n         * native source buffers in the correct format.\n         *\n         * @link https://developer.mozilla.org/en-US/docs/Web/API/SourceBuffer/appendBuffer\n         * @param {Uint8Array} segment the segment to append to the buffer\n         */\n      }, {\n        key: 'appendBuffer',\n        value: function appendBuffer(segment) {\n          // Start the internal \"updating\" state\n          this.bufferUpdating_ = true;\n\n          this.transmuxer_.postMessage({\n            action: 'push',\n            // Send the typed-array of data as an ArrayBuffer so that\n            // it can be sent as a \"Transferable\" and avoid the costly\n            // memory copy\n            data: segment.buffer,\n\n            // To recreate the original typed-array, we need information\n            // about what portion of the ArrayBuffer it was a view into\n            byteOffset: segment.byteOffset,\n            byteLength: segment.byteLength\n          }, [segment.buffer]);\n          this.transmuxer_.postMessage({ action: 'flush' });\n        }\n\n        /**\n         * Emulate the native mediasource function and remove parts\n         * of the buffer from any of our internal buffers that exist\n         *\n         * @link https://developer.mozilla.org/en-US/docs/Web/API/SourceBuffer/remove\n         * @param {Double} start position to start the remove at\n         * @param {Double} end position to end the remove at\n         */\n      }, {\n        key: 'remove',\n        value: function remove(start, end) {\n          if (this.videoBuffer_) {\n            this.videoBuffer_.remove(start, end);\n          }\n          if (this.audioBuffer_) {\n            this.audioBuffer_.remove(start, end);\n          }\n\n          // Remove Metadata Cues (id3)\n          (0, _removeCuesFromTrack2['default'])(start, end, this.metadataTrack_);\n\n          // Remove Any Captions\n          (0, _removeCuesFromTrack2['default'])(start, end, this.inbandTextTrack_);\n        }\n\n        /**\n         * Process any segments that the muxer has output\n         * Concatenate segments together based on type and append them into\n         * their respective sourceBuffers\n         *\n         * @private\n         */\n      }, {\n        key: 'processPendingSegments_',\n        value: function processPendingSegments_() {\n          var sortedSegments = {\n            video: {\n              segments: [],\n              bytes: 0\n            },\n            audio: {\n              segments: [],\n              bytes: 0\n            },\n            captions: [],\n            metadata: []\n          };\n\n          // Sort segments into separate video/audio arrays and\n          // keep track of their total byte lengths\n          sortedSegments = this.pendingBuffers_.reduce(function (segmentObj, segment) {\n            var type = segment.type;\n            var data = segment.data;\n            var initSegment = segment.initSegment;\n\n            segmentObj[type].segments.push(data);\n            segmentObj[type].bytes += data.byteLength;\n\n            segmentObj[type].initSegment = initSegment;\n\n            // Gather any captions into a single array\n            if (segment.captions) {\n              segmentObj.captions = segmentObj.captions.concat(segment.captions);\n            }\n\n            if (segment.info) {\n              segmentObj[type].info = segment.info;\n            }\n\n            // Gather any metadata into a single array\n            if (segment.metadata) {\n              segmentObj.metadata = segmentObj.metadata.concat(segment.metadata);\n            }\n\n            return segmentObj;\n          }, sortedSegments);\n\n          // Create the real source buffers if they don't exist by now since we\n          // finally are sure what tracks are contained in the source\n          if (!this.videoBuffer_ && !this.audioBuffer_) {\n            // Remove any codecs that may have been specified by default but\n            // are no longer applicable now\n            if (sortedSegments.video.bytes === 0) {\n              this.videoCodec_ = null;\n            }\n            if (sortedSegments.audio.bytes === 0) {\n              this.audioCodec_ = null;\n            }\n\n            this.createRealSourceBuffers_();\n          }\n\n          if (sortedSegments.audio.info) {\n            this.mediaSource_.trigger({ type: 'audioinfo', info: sortedSegments.audio.info });\n          }\n          if (sortedSegments.video.info) {\n            this.mediaSource_.trigger({ type: 'videoinfo', info: sortedSegments.video.info });\n          }\n\n          if (this.appendAudioInitSegment_) {\n            if (!this.audioDisabled_ && this.audioBuffer_) {\n              sortedSegments.audio.segments.unshift(sortedSegments.audio.initSegment);\n              sortedSegments.audio.bytes += sortedSegments.audio.initSegment.byteLength;\n            }\n            this.appendAudioInitSegment_ = false;\n          }\n\n          // Merge multiple video and audio segments into one and append\n          if (this.videoBuffer_) {\n            sortedSegments.video.segments.unshift(sortedSegments.video.initSegment);\n            sortedSegments.video.bytes += sortedSegments.video.initSegment.byteLength;\n            this.concatAndAppendSegments_(sortedSegments.video, this.videoBuffer_);\n            // TODO: are video tracks the only ones with text tracks?\n            (0, _addTextTrackData.addTextTrackData)(this, sortedSegments.captions, sortedSegments.metadata);\n          }\n          if (!this.audioDisabled_ && this.audioBuffer_) {\n            this.concatAndAppendSegments_(sortedSegments.audio, this.audioBuffer_);\n          }\n\n          this.pendingBuffers_.length = 0;\n\n          // We are no longer in the internal \"updating\" state\n          this.bufferUpdating_ = false;\n        }\n\n        /**\n         * Combine all segments into a single Uint8Array and then append them\n         * to the destination buffer\n         *\n         * @param {Object} segmentObj\n         * @param {SourceBuffer} destinationBuffer native source buffer to append data to\n         * @private\n         */\n      }, {\n        key: 'concatAndAppendSegments_',\n        value: function concatAndAppendSegments_(segmentObj, destinationBuffer) {\n          var offset = 0;\n          var tempBuffer = undefined;\n\n          if (segmentObj.bytes) {\n            tempBuffer = new Uint8Array(segmentObj.bytes);\n\n            // Combine the individual segments into one large typed-array\n            segmentObj.segments.forEach(function (segment) {\n              tempBuffer.set(segment, offset);\n              offset += segment.byteLength;\n            });\n\n            try {\n              destinationBuffer.appendBuffer(tempBuffer);\n            } catch (error) {\n              if (this.mediaSource_.player_) {\n                this.mediaSource_.player_.error({\n                  code: -3,\n                  type: 'APPEND_BUFFER_ERR'\n                });\n              }\n            }\n          }\n        }\n\n        /**\n         * Emulate the native mediasource function. abort any soureBuffer\n         * actions and throw out any un-appended data.\n         *\n         * @link https://developer.mozilla.org/en-US/docs/Web/API/SourceBuffer/abort\n         */\n      }, {\n        key: 'abort',\n        value: function abort() {\n          if (this.videoBuffer_) {\n            this.videoBuffer_.abort();\n          }\n          if (this.audioBuffer_) {\n            this.audioBuffer_.abort();\n          }\n          if (this.transmuxer_) {\n            this.transmuxer_.postMessage({ action: 'reset' });\n          }\n          this.pendingBuffers_.length = 0;\n          this.bufferUpdating_ = false;\n        }\n      }]);\n\n      return VirtualSourceBuffer;\n    })(_videoJs2['default'].EventTarget);\n\n    exports['default'] = VirtualSourceBuffer;\n    module.exports = exports['default'];\n  }).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./add-text-track-data\":86,\"./codec-utils\":87,\"./create-text-tracks-if-necessary\":88,\"./remove-cues-from-track\":93,\"./transmuxer-worker\":94,\"webworkify\":97}],97:[function(require,module,exports){\n  var bundleFn = arguments[3];\n  var sources = arguments[4];\n  var cache = arguments[5];\n\n  var stringify = JSON.stringify;\n\n  module.exports = function (fn) {\n    var keys = [];\n    var wkey;\n    var cacheKeys = Object.keys(cache);\n\n    for (var i = 0, l = cacheKeys.length; i < l; i++) {\n      var key = cacheKeys[i];\n      if (cache[key].exports === fn) {\n        wkey = key;\n        break;\n      }\n    }\n\n    if (!wkey) {\n      wkey = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);\n      var wcache = {};\n      for (var i = 0, l = cacheKeys.length; i < l; i++) {\n        var key = cacheKeys[i];\n        wcache[key] = key;\n      }\n      sources[wkey] = [\n        Function(['require','module','exports'], '(' + fn + ')(self)'),\n        wcache\n      ];\n    }\n    var skey = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);\n\n    var scache = {}; scache[wkey] = wkey;\n    sources[skey] = [\n      Function(['require'],'require(' + stringify(wkey) + ')(self)'),\n      scache\n    ];\n\n    var src = '(' + bundleFn + ')({'\n        + Object.keys(sources).map(function (key) {\n          return stringify(key) + ':['\n            + sources[key][0]\n            + ',' + stringify(sources[key][1]) + ']'\n            ;\n        }).join(',')\n        + '},{},[' + stringify(skey) + '])'\n      ;\n\n    var URL = window.URL || window.webkitURL || window.mozURL || window.msURL;\n\n    return new Worker(URL.createObjectURL(\n      new Blob([src], { type: 'text/javascript' })\n    ));\n  };\n\n},{}],98:[function(require,module,exports){\n  (function (global){\n    /**\n     * @file videojs-contrib-hls.js\n     *\n     * The main file for the HLS project.\n     * License: https://github.com/videojs/videojs-contrib-hls/blob/master/LICENSE\n     */\n    'use strict';\n\n    var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n    var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n    function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n    function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n    function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n    var _globalDocument = require('global/document');\n\n    var _globalDocument2 = _interopRequireDefault(_globalDocument);\n\n    var _playlistLoader = require('./playlist-loader');\n\n    var _playlistLoader2 = _interopRequireDefault(_playlistLoader);\n\n    var _playlist = require('./playlist');\n\n    var _playlist2 = _interopRequireDefault(_playlist);\n\n    var _xhr = require('./xhr');\n\n    var _xhr2 = _interopRequireDefault(_xhr);\n\n    var _aesDecrypter = require('aes-decrypter');\n\n    var _binUtils = require('./bin-utils');\n\n    var _binUtils2 = _interopRequireDefault(_binUtils);\n\n    var _videojsContribMediaSources = require('videojs-contrib-media-sources');\n\n    var _m3u8Parser = require('m3u8-parser');\n\n    var _m3u8Parser2 = _interopRequireDefault(_m3u8Parser);\n\n    var _videoJs = (typeof window !== \"undefined\" ? window['videojs'] : typeof global !== \"undefined\" ? global['videojs'] : null);\n\n    var _videoJs2 = _interopRequireDefault(_videoJs);\n\n    var _masterPlaylistController = require('./master-playlist-controller');\n\n    var _config = require('./config');\n\n    var _config2 = _interopRequireDefault(_config);\n\n    var _renditionMixin = require('./rendition-mixin');\n\n    var _renditionMixin2 = _interopRequireDefault(_renditionMixin);\n\n    var _globalWindow = require('global/window');\n\n    var _globalWindow2 = _interopRequireDefault(_globalWindow);\n\n    var _playbackWatcher = require('./playback-watcher');\n\n    var _playbackWatcher2 = _interopRequireDefault(_playbackWatcher);\n\n    var _reloadSourceOnError = require('./reload-source-on-error');\n\n    var _reloadSourceOnError2 = _interopRequireDefault(_reloadSourceOnError);\n\n    var Hls = {\n      PlaylistLoader: _playlistLoader2['default'],\n      Playlist: _playlist2['default'],\n      Decrypter: _aesDecrypter.Decrypter,\n      AsyncStream: _aesDecrypter.AsyncStream,\n      decrypt: _aesDecrypter.decrypt,\n      utils: _binUtils2['default'],\n      xhr: (0, _xhr2['default'])()\n    };\n\n    Object.defineProperty(Hls, 'GOAL_BUFFER_LENGTH', {\n      get: function get() {\n        _videoJs2['default'].log.warn('using Hls.GOAL_BUFFER_LENGTH is UNSAFE be sure ' + 'you know what you are doing');\n        return _config2['default'].GOAL_BUFFER_LENGTH;\n      },\n      set: function set(v) {\n        _videoJs2['default'].log.warn('using Hls.GOAL_BUFFER_LENGTH is UNSAFE be sure ' + 'you know what you are doing');\n        if (typeof v !== 'number' || v <= 0) {\n          _videoJs2['default'].log.warn('value passed to Hls.GOAL_BUFFER_LENGTH ' + 'must be a number and greater than 0');\n          return;\n        }\n        _config2['default'].GOAL_BUFFER_LENGTH = v;\n      }\n    });\n\n// A fudge factor to apply to advertised playlist bitrates to account for\n// temporary flucations in client bandwidth\n    var BANDWIDTH_VARIANCE = 1.2;\n\n    /**\n     * Returns the CSS value for the specified property on an element\n     * using `getComputedStyle`. Firefox has a long-standing issue where\n     * getComputedStyle() may return null when running in an iframe with\n     * `display: none`.\n     *\n     * @see https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n     * @param {HTMLElement} el the htmlelement to work on\n     * @param {string} the proprety to get the style for\n     */\n    var safeGetComputedStyle = function safeGetComputedStyle(el, property) {\n      var result = undefined;\n\n      if (!el) {\n        return '';\n      }\n\n      result = _globalWindow2['default'].getComputedStyle(el);\n      if (!result) {\n        return '';\n      }\n\n      return result[property];\n    };\n\n    /**\n     * Chooses the appropriate media playlist based on the current\n     * bandwidth estimate and the player size.\n     *\n     * @return {Playlist} the highest bitrate playlist less than the currently detected\n     * bandwidth, accounting for some amount of bandwidth variance\n     */\n    Hls.STANDARD_PLAYLIST_SELECTOR = function () {\n      var effectiveBitrate = undefined;\n      var sortedPlaylists = this.playlists.master.playlists.slice();\n      var bandwidthPlaylists = [];\n      var now = +new Date();\n      var i = undefined;\n      var variant = undefined;\n      var bandwidthBestVariant = undefined;\n      var resolutionPlusOne = undefined;\n      var resolutionPlusOneAttribute = undefined;\n      var resolutionBestVariant = undefined;\n      var width = undefined;\n      var height = undefined;\n\n      sortedPlaylists.sort(Hls.comparePlaylistBandwidth);\n\n      // filter out any playlists that have been excluded due to\n      // incompatible configurations or playback errors\n      sortedPlaylists = sortedPlaylists.filter(function (localVariant) {\n        if (typeof localVariant.excludeUntil !== 'undefined') {\n          return now >= localVariant.excludeUntil;\n        }\n        return true;\n      });\n\n      // filter out any variant that has greater effective bitrate\n      // than the current estimated bandwidth\n      i = sortedPlaylists.length;\n      while (i--) {\n        variant = sortedPlaylists[i];\n\n        // ignore playlists without bandwidth information\n        if (!variant.attributes || !variant.attributes.BANDWIDTH) {\n          continue;\n        }\n\n        effectiveBitrate = variant.attributes.BANDWIDTH * BANDWIDTH_VARIANCE;\n\n        if (effectiveBitrate < this.systemBandwidth) {\n          bandwidthPlaylists.push(variant);\n\n          // since the playlists are sorted in ascending order by\n          // bandwidth, the first viable variant is the best\n          if (!bandwidthBestVariant) {\n            bandwidthBestVariant = variant;\n          }\n        }\n      }\n\n      i = bandwidthPlaylists.length;\n\n      // sort variants by resolution\n      bandwidthPlaylists.sort(Hls.comparePlaylistResolution);\n\n      // forget our old variant from above,\n      // or we might choose that in high-bandwidth scenarios\n      // (this could be the lowest bitrate rendition as  we go through all of them above)\n      variant = null;\n\n      width = parseInt(safeGetComputedStyle(this.tech_.el(), 'width'), 10);\n      height = parseInt(safeGetComputedStyle(this.tech_.el(), 'height'), 10);\n\n      // iterate through the bandwidth-filtered playlists and find\n      // best rendition by player dimension\n      while (i--) {\n        variant = bandwidthPlaylists[i];\n\n        // ignore playlists without resolution information\n        if (!variant.attributes || !variant.attributes.RESOLUTION || !variant.attributes.RESOLUTION.width || !variant.attributes.RESOLUTION.height) {\n          continue;\n        }\n\n        // since the playlists are sorted, the first variant that has\n        // dimensions less than or equal to the player size is the best\n        var variantResolution = variant.attributes.RESOLUTION;\n\n        if (variantResolution.width === width && variantResolution.height === height) {\n          // if we have the exact resolution as the player use it\n          resolutionPlusOne = null;\n          resolutionBestVariant = variant;\n          break;\n        } else if (variantResolution.width < width && variantResolution.height < height) {\n          // if both dimensions are less than the player use the\n          // previous (next-largest) variant\n          break;\n        } else if (!resolutionPlusOne || variantResolution.width < resolutionPlusOneAttribute.width && variantResolution.height < resolutionPlusOneAttribute.height) {\n          // If we still haven't found a good match keep a\n          // reference to the previous variant for the next loop\n          // iteration\n\n          // By only saving variants if they are smaller than the\n          // previously saved variant, we ensure that we also pick\n          // the highest bandwidth variant that is just-larger-than\n          // the video player\n          resolutionPlusOne = variant;\n          resolutionPlusOneAttribute = resolutionPlusOne.attributes.RESOLUTION;\n        }\n      }\n\n      // fallback chain of variants\n      return resolutionPlusOne || resolutionBestVariant || bandwidthBestVariant || sortedPlaylists[0];\n    };\n\n// HLS is a source handler, not a tech. Make sure attempts to use it\n// as one do not cause exceptions.\n    Hls.canPlaySource = function () {\n      return _videoJs2['default'].log.warn('HLS is no longer a tech. Please remove it from ' + 'your player\\'s techOrder.');\n    };\n\n    /**\n     * Whether the browser has built-in HLS support.\n     */\n    Hls.supportsNativeHls = (function () {\n      var video = _globalDocument2['default'].createElement('video');\n\n      // native HLS is definitely not supported if HTML5 video isn't\n      if (!_videoJs2['default'].getComponent('Html5').isSupported()) {\n        return false;\n      }\n\n      // HLS manifests can go by many mime-types\n      var canPlay = [\n        // Apple santioned\n        'application/vnd.apple.mpegurl',\n        // Apple sanctioned for backwards compatibility\n        'audio/mpegurl',\n        // Very common\n        'audio/x-mpegurl',\n        // Very common\n        'application/x-mpegurl',\n        // Included for completeness\n        'video/x-mpegurl', 'video/mpegurl', 'application/mpegurl'];\n\n      return canPlay.some(function (canItPlay) {\n        return (/maybe|probably/i.test(video.canPlayType(canItPlay))\n        );\n      });\n    })();\n\n    /**\n     * HLS is a source handler, not a tech. Make sure attempts to use it\n     * as one do not cause exceptions.\n     */\n    Hls.isSupported = function () {\n      return _videoJs2['default'].log.warn('HLS is no longer a tech. Please remove it from ' + 'your player\\'s techOrder.');\n    };\n\n    var USER_AGENT = _globalWindow2['default'].navigator && _globalWindow2['default'].navigator.userAgent || '';\n\n    /**\n     * Determines whether the browser supports a change in the audio configuration\n     * during playback. Currently only Firefox 48 and below do not support this.\n     * window.isSecureContext is a propterty that was added to window in firefox 49,\n     * so we can use it to detect Firefox 49+.\n     *\n     * @return {Boolean} Whether the browser supports audio config change during playback\n     */\n    Hls.supportsAudioInfoChange_ = function () {\n      if (_videoJs2['default'].browser.IS_FIREFOX) {\n        var firefoxVersionMap = /Firefox\\/([\\d.]+)/i.exec(USER_AGENT);\n        var version = parseInt(firefoxVersionMap[1], 10);\n\n        return version >= 49;\n      }\n      return true;\n    };\n\n    var Component = _videoJs2['default'].getComponent('Component');\n\n    /**\n     * The Hls Handler object, where we orchestrate all of the parts\n     * of HLS to interact with video.js\n     *\n     * @class HlsHandler\n     * @extends videojs.Component\n     * @param {Object} source the soruce object\n     * @param {Tech} tech the parent tech object\n     * @param {Object} options optional and required options\n     */\n\n    var HlsHandler = (function (_Component) {\n      _inherits(HlsHandler, _Component);\n\n      function HlsHandler(source, tech, options) {\n        var _this = this;\n\n        _classCallCheck(this, HlsHandler);\n\n        _get(Object.getPrototypeOf(HlsHandler.prototype), 'constructor', this).call(this, tech);\n\n        // tech.player() is deprecated but setup a reference to HLS for\n        // backwards-compatibility\n        if (tech.options_ && tech.options_.playerId) {\n          var _player = (0, _videoJs2['default'])(tech.options_.playerId);\n\n          if (!_player.hasOwnProperty('hls')) {\n            Object.defineProperty(_player, 'hls', {\n              get: function get() {\n                _videoJs2['default'].log.warn('player.hls is deprecated. Use player.tech_.hls instead.');\n                return _this;\n              }\n            });\n          }\n        }\n\n        this.tech_ = tech;\n        this.source_ = source;\n        this.stats = {};\n\n        // handle global & Source Handler level options\n        this.options_ = _videoJs2['default'].mergeOptions(_videoJs2['default'].options.hls || {}, options.hls);\n        this.setOptions_();\n\n        // listen for fullscreenchange events for this player so that we\n        // can adjust our quality selection quickly\n        this.on(_globalDocument2['default'], ['fullscreenchange', 'webkitfullscreenchange', 'mozfullscreenchange', 'MSFullscreenChange'], function (event) {\n          var fullscreenElement = _globalDocument2['default'].fullscreenElement || _globalDocument2['default'].webkitFullscreenElement || _globalDocument2['default'].mozFullScreenElement || _globalDocument2['default'].msFullscreenElement;\n\n          if (fullscreenElement && fullscreenElement.contains(_this.tech_.el())) {\n            _this.masterPlaylistController_.fastQualityChange_();\n          }\n        });\n\n        this.on(this.tech_, 'seeking', function () {\n          this.setCurrentTime(this.tech_.currentTime());\n        });\n        this.on(this.tech_, 'error', function () {\n          if (this.masterPlaylistController_) {\n            this.masterPlaylistController_.pauseLoading();\n          }\n        });\n\n        this.audioTrackChange_ = function () {\n          _this.masterPlaylistController_.setupAudio();\n        };\n\n        this.on(this.tech_, 'play', this.play);\n      }\n\n      /**\n       * The Source Handler object, which informs video.js what additional\n       * MIME types are supported and sets up playback. It is registered\n       * automatically to the appropriate tech based on the capabilities of\n       * the browser it is running in. It is not necessary to use or modify\n       * this object in normal usage.\n       */\n\n      _createClass(HlsHandler, [{\n        key: 'setOptions_',\n        value: function setOptions_() {\n          var _this2 = this;\n\n          // defaults\n          this.options_.withCredentials = this.options_.withCredentials || false;\n\n          // start playlist selection at a reasonable bandwidth for\n          // broadband internet\n          // 0.5 MB/s\n          if (typeof this.options_.bandwidth !== 'number') {\n            this.options_.bandwidth = 4194304;\n          }\n\n          // grab options passed to player.src\n          ['withCredentials', 'bandwidth'].forEach(function (option) {\n            if (typeof _this2.source_[option] !== 'undefined') {\n              _this2.options_[option] = _this2.source_[option];\n            }\n          });\n\n          this.bandwidth = this.options_.bandwidth;\n        }\n\n        /**\n         * called when player.src gets called, handle a new source\n         *\n         * @param {Object} src the source object to handle\n         */\n      }, {\n        key: 'src',\n        value: function src(_src) {\n          var _this3 = this;\n\n          // do nothing if the src is falsey\n          if (!_src) {\n            return;\n          }\n          this.setOptions_();\n          // add master playlist controller options\n          this.options_.url = this.source_.src;\n          this.options_.tech = this.tech_;\n          this.options_.externHls = Hls;\n          this.masterPlaylistController_ = new _masterPlaylistController.MasterPlaylistController(this.options_);\n          this.playbackWatcher_ = new _playbackWatcher2['default'](_videoJs2['default'].mergeOptions(this.options_, {\n            seekable: function seekable() {\n              return _this3.seekable();\n            }\n          }));\n\n          // `this` in selectPlaylist should be the HlsHandler for backwards\n          // compatibility with < v2\n          this.masterPlaylistController_.selectPlaylist = this.selectPlaylist ? this.selectPlaylist.bind(this) : Hls.STANDARD_PLAYLIST_SELECTOR.bind(this);\n\n          // re-expose some internal objects for backwards compatibility with < v2\n          this.playlists = this.masterPlaylistController_.masterPlaylistLoader_;\n          this.mediaSource = this.masterPlaylistController_.mediaSource;\n\n          // Proxy assignment of some properties to the master playlist\n          // controller. Using a custom property for backwards compatibility\n          // with < v2\n          Object.defineProperties(this, {\n            selectPlaylist: {\n              get: function get() {\n                return this.masterPlaylistController_.selectPlaylist;\n              },\n              set: function set(selectPlaylist) {\n                this.masterPlaylistController_.selectPlaylist = selectPlaylist.bind(this);\n              }\n            },\n            throughput: {\n              get: function get() {\n                return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate;\n              },\n              set: function set(throughput) {\n                this.masterPlaylistController_.mainSegmentLoader_.throughput.rate = throughput;\n                // By setting `count` to 1 the throughput value becomes the starting value\n                // for the cumulative average\n                this.masterPlaylistController_.mainSegmentLoader_.throughput.count = 1;\n              }\n            },\n            bandwidth: {\n              get: function get() {\n                return this.masterPlaylistController_.mainSegmentLoader_.bandwidth;\n              },\n              set: function set(bandwidth) {\n                this.masterPlaylistController_.mainSegmentLoader_.bandwidth = bandwidth;\n                // setting the bandwidth manually resets the throughput counter\n                // `count` is set to zero that current value of `rate` isn't included\n                // in the cumulative average\n                this.masterPlaylistController_.mainSegmentLoader_.throughput = { rate: 0, count: 0 };\n              }\n            },\n            /**\n             * `systemBandwidth` is a combination of two serial processes bit-rates. The first\n             * is the network bitrate provided by `bandwidth` and the second is the bitrate of\n             * the entire process after that - decryption, transmuxing, and appending - provided\n             * by `throughput`.\n             *\n             * Since the two process are serial, the overall system bandwidth is given by:\n             *   sysBandwidth = 1 / (1 / bandwidth + 1 / throughput)\n             */\n            systemBandwidth: {\n              get: function get() {\n                var invBandwidth = 1 / (this.bandwidth || 1);\n                var invThroughput = undefined;\n\n                if (this.throughput > 0) {\n                  invThroughput = 1 / this.throughput;\n                } else {\n                  invThroughput = 0;\n                }\n\n                var systemBitrate = Math.floor(1 / (invBandwidth + invThroughput));\n\n                return systemBitrate;\n              },\n              set: function set() {\n                _videoJs2['default'].log.error('The \"systemBandwidth\" property is read-only');\n              }\n            }\n          });\n\n          Object.defineProperties(this.stats, {\n            bandwidth: {\n              get: function get() {\n                return _this3.bandwidth || 0;\n              },\n              enumerable: true\n            },\n            mediaRequests: {\n              get: function get() {\n                return _this3.masterPlaylistController_.mediaRequests_() || 0;\n              },\n              enumerable: true\n            },\n            mediaTransferDuration: {\n              get: function get() {\n                return _this3.masterPlaylistController_.mediaTransferDuration_() || 0;\n              },\n              enumerable: true\n            },\n            mediaBytesTransferred: {\n              get: function get() {\n                return _this3.masterPlaylistController_.mediaBytesTransferred_() || 0;\n              },\n              enumerable: true\n            }\n          });\n\n          this.tech_.one('canplay', this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_));\n\n          this.masterPlaylistController_.on('sourceopen', function () {\n            _this3.tech_.audioTracks().addEventListener('change', _this3.audioTrackChange_);\n          });\n\n          this.masterPlaylistController_.on('selectedinitialmedia', function () {\n            // Add the manual rendition mix-in to HlsHandler\n            (0, _renditionMixin2['default'])(_this3);\n          });\n\n          this.masterPlaylistController_.on('audioupdate', function () {\n            // clear current audioTracks\n            _this3.tech_.clearTracks('audio');\n            _this3.masterPlaylistController_.activeAudioGroup().forEach(function (audioTrack) {\n              _this3.tech_.audioTracks().addTrack(audioTrack);\n            });\n          });\n\n          // the bandwidth of the primary segment loader is our best\n          // estimate of overall bandwidth\n          this.on(this.masterPlaylistController_, 'progress', function () {\n            this.tech_.trigger('progress');\n          });\n\n          // do nothing if the tech has been disposed already\n          // this can occur if someone sets the src in player.ready(), for instance\n          if (!this.tech_.el()) {\n            return;\n          }\n\n          this.tech_.src(_videoJs2['default'].URL.createObjectURL(this.masterPlaylistController_.mediaSource));\n        }\n\n        /**\n         * a helper for grabbing the active audio group from MasterPlaylistController\n         *\n         * @private\n         */\n      }, {\n        key: 'activeAudioGroup_',\n        value: function activeAudioGroup_() {\n          return this.masterPlaylistController_.activeAudioGroup();\n        }\n\n        /**\n         * Begin playing the video.\n         */\n      }, {\n        key: 'play',\n        value: function play() {\n          this.masterPlaylistController_.play();\n        }\n\n        /**\n         * a wrapper around the function in MasterPlaylistController\n         */\n      }, {\n        key: 'setCurrentTime',\n        value: function setCurrentTime(currentTime) {\n          this.masterPlaylistController_.setCurrentTime(currentTime);\n        }\n\n        /**\n         * a wrapper around the function in MasterPlaylistController\n         */\n      }, {\n        key: 'duration',\n        value: function duration() {\n          return this.masterPlaylistController_.duration();\n        }\n\n        /**\n         * a wrapper around the function in MasterPlaylistController\n         */\n      }, {\n        key: 'seekable',\n        value: function seekable() {\n          return this.masterPlaylistController_.seekable();\n        }\n\n        /**\n         * Abort all outstanding work and cleanup.\n         */\n      }, {\n        key: 'dispose',\n        value: function dispose() {\n          if (this.playbackWatcher_) {\n            this.playbackWatcher_.dispose();\n          }\n          if (this.masterPlaylistController_) {\n            this.masterPlaylistController_.dispose();\n          }\n          this.tech_.audioTracks().removeEventListener('change', this.audioTrackChange_);\n          _get(Object.getPrototypeOf(HlsHandler.prototype), 'dispose', this).call(this);\n        }\n      }]);\n\n      return HlsHandler;\n    })(Component);\n\n    var HlsSourceHandler = function HlsSourceHandler(mode) {\n      return {\n        canHandleSource: function canHandleSource(srcObj) {\n          // this forces video.js to skip this tech/mode if its not the one we have been\n          // overriden to use, by returing that we cannot handle the source.\n          if (_videoJs2['default'].options.hls && _videoJs2['default'].options.hls.mode && _videoJs2['default'].options.hls.mode !== mode) {\n            return false;\n          }\n          return HlsSourceHandler.canPlayType(srcObj.type);\n        },\n        handleSource: function handleSource(source, tech, options) {\n          if (mode === 'flash') {\n            // We need to trigger this asynchronously to give others the chance\n            // to bind to the event when a source is set at player creation\n            tech.setTimeout(function () {\n              tech.trigger('loadstart');\n            }, 1);\n          }\n\n          var settings = _videoJs2['default'].mergeOptions(options, { hls: { mode: mode } });\n\n          tech.hls = new HlsHandler(source, tech, settings);\n\n          tech.hls.xhr = (0, _xhr2['default'])();\n          // Use a global `before` function if specified on videojs.Hls.xhr\n          // but still allow for a per-player override\n          if (_videoJs2['default'].Hls.xhr.beforeRequest) {\n            tech.hls.xhr.beforeRequest = _videoJs2['default'].Hls.xhr.beforeRequest;\n          }\n\n          tech.hls.src(source.src);\n          return tech.hls;\n        },\n        canPlayType: function canPlayType(type) {\n          if (HlsSourceHandler.canPlayType(type)) {\n            return 'maybe';\n          }\n          return '';\n        }\n      };\n    };\n\n    /**\n     * A comparator function to sort two playlist object by bandwidth.\n     *\n     * @param {Object} left a media playlist object\n     * @param {Object} right a media playlist object\n     * @return {Number} Greater than zero if the bandwidth attribute of\n     * left is greater than the corresponding attribute of right. Less\n     * than zero if the bandwidth of right is greater than left and\n     * exactly zero if the two are equal.\n     */\n    Hls.comparePlaylistBandwidth = function (left, right) {\n      var leftBandwidth = undefined;\n      var rightBandwidth = undefined;\n\n      if (left.attributes && left.attributes.BANDWIDTH) {\n        leftBandwidth = left.attributes.BANDWIDTH;\n      }\n      leftBandwidth = leftBandwidth || _globalWindow2['default'].Number.MAX_VALUE;\n      if (right.attributes && right.attributes.BANDWIDTH) {\n        rightBandwidth = right.attributes.BANDWIDTH;\n      }\n      rightBandwidth = rightBandwidth || _globalWindow2['default'].Number.MAX_VALUE;\n\n      return leftBandwidth - rightBandwidth;\n    };\n\n    /**\n     * A comparator function to sort two playlist object by resolution (width).\n     * @param {Object} left a media playlist object\n     * @param {Object} right a media playlist object\n     * @return {Number} Greater than zero if the resolution.width attribute of\n     * left is greater than the corresponding attribute of right. Less\n     * than zero if the resolution.width of right is greater than left and\n     * exactly zero if the two are equal.\n     */\n    Hls.comparePlaylistResolution = function (left, right) {\n      var leftWidth = undefined;\n      var rightWidth = undefined;\n\n      if (left.attributes && left.attributes.RESOLUTION && left.attributes.RESOLUTION.width) {\n        leftWidth = left.attributes.RESOLUTION.width;\n      }\n\n      leftWidth = leftWidth || _globalWindow2['default'].Number.MAX_VALUE;\n\n      if (right.attributes && right.attributes.RESOLUTION && right.attributes.RESOLUTION.width) {\n        rightWidth = right.attributes.RESOLUTION.width;\n      }\n\n      rightWidth = rightWidth || _globalWindow2['default'].Number.MAX_VALUE;\n\n      // NOTE - Fallback to bandwidth sort as appropriate in cases where multiple renditions\n      // have the same media dimensions/ resolution\n      if (leftWidth === rightWidth && left.attributes.BANDWIDTH && right.attributes.BANDWIDTH) {\n        return left.attributes.BANDWIDTH - right.attributes.BANDWIDTH;\n      }\n      return leftWidth - rightWidth;\n    };\n\n    HlsSourceHandler.canPlayType = function (type) {\n      var mpegurlRE = /^(audio|video|application)\\/(x-|vnd\\.apple\\.)?mpegurl/i;\n\n      // favor native HLS support if it's available\n      if (Hls.supportsNativeHls) {\n        return false;\n      }\n      return mpegurlRE.test(type);\n    };\n\n    if (typeof _videoJs2['default'].MediaSource === 'undefined' || typeof _videoJs2['default'].URL === 'undefined') {\n      _videoJs2['default'].MediaSource = _videojsContribMediaSources.MediaSource;\n      _videoJs2['default'].URL = _videojsContribMediaSources.URL;\n    }\n\n// register source handlers with the appropriate techs\n    if (_videojsContribMediaSources.MediaSource.supportsNativeMediaSources()) {\n      _videoJs2['default'].getComponent('Html5').registerSourceHandler(HlsSourceHandler('html5'));\n    }\n    if (_globalWindow2['default'].Uint8Array) {\n      _videoJs2['default'].getComponent('Flash').registerSourceHandler(HlsSourceHandler('flash'));\n    }\n\n    _videoJs2['default'].HlsHandler = HlsHandler;\n    _videoJs2['default'].HlsSourceHandler = HlsSourceHandler;\n    _videoJs2['default'].Hls = Hls;\n    _videoJs2['default'].m3u8 = _m3u8Parser2['default'];\n    _videoJs2['default'].registerComponent('Hls', Hls);\n    _videoJs2['default'].options.hls = _videoJs2['default'].options.hls || {};\n    _videoJs2['default'].plugin('reloadSourceOnError', _reloadSourceOnError2['default']);\n\n    module.exports = {\n      Hls: Hls,\n      HlsHandler: HlsHandler,\n      HlsSourceHandler: HlsSourceHandler\n    };\n  }).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./bin-utils\":2,\"./config\":3,\"./master-playlist-controller\":4,\"./playback-watcher\":5,\"./playlist\":7,\"./playlist-loader\":6,\"./reload-source-on-error\":9,\"./rendition-mixin\":10,\"./xhr\":15,\"aes-decrypter\":19,\"global/document\":25,\"global/window\":26,\"m3u8-parser\":63,\"videojs-contrib-media-sources\":95}]},{},[98])(98)\n});\n\n(function () {\n  'use strict';\n\n  angular\n    .module('istream')\n    .controller('VideoController', VideoController);\n\n  /** @ngInject */\n  function VideoController($scope, $state, $localStorage, $sessionStorage, $stateParams, $timeout,\n                           toastr, $log, MainService, $sce, _, VideoHandler) {\n\n    var vm = this;\n    vm.appLink = false;\n    var newItem = $localStorage.data;\n    vm.catColor = $localStorage.color;\n    vm.catGroups = $localStorage.cat;\n    var hls;\n    vm.playMe = function () {\n      vm.PlayingData = newItem;\n      if (Hls.isSupported()) {\n        var video = document.getElementById('video');\n        hls = new Hls();\n        hls.loadSource(newItem.stream);\n        hls.attachMedia(video);\n        hls.on(Hls.Events.MANIFEST_PARSED, function () {\n          video.play();\n        });\n      }\n    };\n    vm.playMe();\n    vm.playOther = function (item) {\n      vm.PlayingData = item;\n      if (hls) {\n        var video = document.getElementById('video');\n        hls.loadSource(item.stream);\n        hls.attachMedia(video);\n        hls.on(Hls.Events.MANIFEST_PARSED, function () {\n          video.play();\n        });\n      }\n    };\n\n    vm.appLinkOn = function () {\n      vm.appLink = true;\n    };\n    vm.appLinkOff = function () {\n      vm.appLink = false;\n    };\n\n    vm.secondsToTime = function (secs) {\n      var hours = Math.floor(secs / (60 * 60));\n      var divisor_for_minutes = secs % (60 * 60);\n      var minutes = Math.floor(divisor_for_minutes / 60);\n      var divisor_for_seconds = divisor_for_minutes % 60;\n      var seconds = Math.ceil(divisor_for_seconds);\n      if (hours < 10) hours = '0' + hours;\n      if (minutes < 10)  minutes = '0' + minutes;\n      if (seconds < 10)  seconds = '0' + seconds;\n      var obj = hours + ':' + minutes + ':' + seconds;\n      return obj;\n    };\n  }\n})();\n\n\n(function () {\n  'use strict';\n\n  angular\n    .module('istream')\n    .controller('MainController', MainController);\n\n  /** @ngInject */\n  function MainController($scope, $localStorage, $sessionStorage,  $state, $stateParams, $timeout, toastr, $log, MainService, $sce, _, VideoHandler) {\n    var vm = this;\n    vm.count = 2;\n    vm.banner = 'test';\n    vm.videoPlayer = false;\n    vm.videoAll = false;\n    vm.colors = ['#058DC7', '#50B432', '#ED561B', '#DDDF00', '#24CBE5', '#64E572', '#FF9655', '#FFF263', '#6AF9C4'];\n\n    vm.getVideos = function () {\n      vm.catGroups = [];\n      MainService.getVideosList({}, function (response) {\n        var allCats = response;\n        var i = 0;\n        vm.dataList = response;\n        vm.category = _.groupBy(vm.dataList.videos, 'category');\n        _.each(vm.category , function (group, key) {\n          vm.catGroups.push({\n            category: key,\n            items: group,\n            color : vm.colors[i]\n          });\n          i++;\n        });\n      }, function (err) {\n        console.log(err);\n        $scope.error = true;\n      });\n    };\n\n\n\n    vm.getVideos();\n\n    vm.playMe = function (item, key, cat) {\n      $localStorage.data = item;\n      $localStorage.color = key;\n      $localStorage.cat = cat;\n      $state.go('video');\n    };\n\n    vm.viewAll = function (cat, key) {\n      $localStorage.cat = cat;\n      $localStorage.color = key;\n      $state.go('category');\n    };\n\n    vm.secondsToTime = function (secs) {\n      var hours = Math.floor(secs / (60 * 60));\n      var divisor_for_minutes = secs % (60 * 60);\n      var minutes = Math.floor(divisor_for_minutes / 60);\n      var divisor_for_seconds = divisor_for_minutes % 60;\n      var seconds = Math.ceil(divisor_for_seconds);\n      if (hours < 10) hours = '0' + hours;\n      if (minutes < 10)  minutes = '0' + minutes;\n      if (seconds < 10)  seconds = '0' + seconds;\n      var obj = hours + ':' + minutes + ':' + seconds;\n      return obj;\n    };\n  }\n})();\n\n\n(function () {\n  'use strict';\n\n  angular\n    .module('istream')\n    .controller('CategoryController', CategoryController);\n\n  /** @ngInject */\n  function CategoryController($scope, $state, $localStorage, $sessionStorage, $stateParams, $timeout,\n                           toastr, $log, MainService, $sce, _, VideoHandler) {\n\n    var vm = this;\n    vm.catGroups = $localStorage.cat;\n    vm.playMe = function (item, key) {\n      $localStorage.data = item;\n      $localStorage.color = key;\n      //console.log(key)\n      $state.go('video');\n    };\n\n    vm.resetStorage = function(){\n      //$localStorage.$reset();\n      $state.go('category');\n    };\n\n    vm.secondsToTime = function (secs) {\n      var hours = Math.floor(secs / (60 * 60));\n      var divisor_for_minutes = secs % (60 * 60);\n      var minutes = Math.floor(divisor_for_minutes / 60);\n      var divisor_for_seconds = divisor_for_minutes % 60;\n      var seconds = Math.ceil(divisor_for_seconds);\n      if (hours < 10) hours = '0' + hours;\n      if (minutes < 10)  minutes = '0' + minutes;\n      if (seconds < 10)  seconds = '0' + seconds;\n      var obj = hours + ':' + minutes + ':' + seconds;\n      return obj;\n    };\n  }\n})();\n\n\n'use strict';\n\n/**\n * @ngdoc function\n * @name ly.services:Message\n * @description\n * # Message Resource Api service\n * Message Resource for connecting Message api\n */\n\nangular\n  .module('istream')\n  .factory('VideoHandler', VideoHandler);\nfunction VideoHandler() {\n  var factory = {};\n  factory.getVideo = function (item) {\n    return item;\n  };\n  return factory;\n}\n\n'use strict';\n\n/**\n * @ngdoc function\n * @name ly.services:Message\n * @description\n * # Message Resource Api service\n * Message Resource for connecting Message api\n */\n\nangular\n    .module('istream')\n    .factory('MainService', MainService);\n\nfunction MainService($q, $resource, API) {\n    var url = API;\n    return $resource(\"\",{},\n      {\n            getVideosList: {\n                method: 'GET',\n                url: url + 'videos',\n                isArray: false\n            }\n        }\n    );\n}\n\n(function() {\n  'use strict';\n\n  angular\n    .module('istream')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log) {\n\n    $log.debug('runBlock end');\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('istream')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider) {\n    $urlRouterProvider.otherwise('/home');\n    $stateProvider\n      .state('home', {\n        url: '/home',\n        templateUrl: 'app/main/main.html',\n        controller: 'MainController',\n        controllerAs: 'vm'\n      })\n      .state('video', {\n        url: '/video',\n        templateUrl: 'app/main/videoPlayer.html',\n        controller: 'VideoController',\n        controllerAs: 'vm'\n      })\n      .state('category', {\n        url: '/category',\n        templateUrl: 'app/main/category.html',\n        controller: 'CategoryController',\n        controllerAs: 'vm'\n      })\n  }\n})();\n\n/* global malarkey:false, moment:false */\n(function () {\n  'use strict';\n\n  angular\n    .module('istream')\n    .constant('malarkey', malarkey)\n    .constant('moment', moment)\n    .constant('API', \"http://dev-video.47billion.com/rest/o/v1/\")\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('istream')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider, toastrConfig) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n\n    // Set options third-party lib\n    toastrConfig.allowHtml = true;\n    toastrConfig.timeOut = 3000;\n    toastrConfig.positionClass = 'toast-top-right';\n    toastrConfig.preventDuplicates = true;\n    toastrConfig.progressBar = true;\n  }\n\n})();\n\nangular.module(\"istream\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/main/category.html\",\"<div id=container class=container><div><acme-navbar creation-date=main.creationDate></acme-navbar></div><!--videos cat--><div class=\\\"panel panel-default\\\" style=\\\"margin-top: 51px\\\"><div class=\\\"panel-heading text-uppercase\\\" style=\\\"background: {{vm.catGroups.color}}\\\">{{vm.catGroups.category}} ( {{vm.catGroups.items.length}} )</div><div class=panel-body><div class=col-xs-6 style=\\\"padding: 0\\\" ng-repeat=\\\"row in vm.catGroups.items\\\"><div class=thumbnail><a ng-click=\\\"vm.playMe(row, vm.catGroups.color)\\\"><img ng-src={{row.thumbnail}}></a><div class=caption><h5>{{row.title}}</h5><!--<p><span class=\\\"label label-default\\\" ng-repeat=\\\"row1 in row.tags\\\">{{row1}}</span></p>--> <span class=duration>{{vm.secondsToTime(row.duration)}}</span></div></div></div></div></div></div>\");\n$templateCache.put(\"app/main/main.html\",\"<div id=container class=container style=\\\"min-height: 680px\\\"><div><acme-navbar creation-date=main.creationDate></acme-navbar></div><div class=\\\"jumbotron text-center\\\" style=\\\"background-image: url({{vm.dataList.banner.iUrl}})\\\" ng-if=\\\"!vm.videoPlayer && !vm.videoAll\\\"><!--<h1></h1>--><!--<p class=\\\"lead\\\">{{vm.dataList.banner.title}}</p>--><!--<p class=\\\"animated infinite\\\" ng-class=\\\"main.classAnimation\\\">--><!--<button type=\\\"button\\\" class=\\\"btn btn-sm btn-success\\\" ng-click=\\\"main.showToastr()\\\">Play Now</button>--><!--</p>--></div><!--videos--><div><div class=\\\"panel panel-default\\\" ng-if=!vm.videoAll ng-repeat=\\\"cat in vm.catGroups\\\" id={{cat.category}}><div class=\\\"panel-heading text-uppercase\\\" style=\\\"background: {{cat.color}}\\\"><span class=\\\"pull-right view-all\\\" ng-click=vm.viewAll(cat)><span class=\\\"glyphicon glyphicon-menu-right\\\"></span> </span>{{cat.category}} [ {{cat.items.length}} ]</div><div class=panel-body><div class=col-xs-6 style=\\\"padding: 0\\\" ng-repeat=\\\"row in cat.items | limitTo:vm.count\\\"><!--<div class=\\\"col-xs-6\\\" style=\\\"padding: 0;\\\" ng-repeat=\\\"row in cat.items\\\">--><div class=thumbnail><!--<a ng-click=\\\"vm.playMe(row)\\\" ui-sref=\\\"video({videoData: row})\\\"><img ng-src=\\\"{{row.thumbnail}}\\\"></a>--> <a ng-click=\\\"vm.playMe(row, cat.color, cat)\\\"><img ng-src={{row.thumbnail}}> <span class=\\\"glyphicon glyphicon glyphicon-play-circle play-icon\\\"></span></a><div class=caption><h5>{{row.title}}</h5><!--<p><span class=\\\"label label-default\\\" ng-repeat=\\\"row1 in row.tags\\\">{{row1}}</span> </p>--> <span class=duration>{{vm.secondsToTime(row.duration)}}</span></div></div></div></div></div></div></div>\");\n$templateCache.put(\"app/main/videoPlayer.html\",\"<style>.container {\\n    position: relative;\\n  }\\n\\n  .thumbnail .caption h5 {\\n    color: #efde3e;\\n    line-height: 30px;\\n    font-size: 16px;\\n  }\\n\\n  .category .thumbnail .caption h5 {\\n    padding: 0px !important;\\n    font-size: 12px;\\n    color: #dadada;\\n    font-weight: 400;\\n    line-height: 14px;\\n    margin: 0px !important;\\n  }\\n\\n  .watch-later-popup {\\n    background: rgba(0, 0, 0, 0.9);\\n    height: 100%;\\n    max-height: 680px;\\n    z-index: 1;\\n  }\\n\\n  .watch-later-popup .close-popup {\\n    margin: 60px 0 0 0;\\n    color: #c00;\\n  }</style><div id=container class=container style=\\\"min-height: 680px\\\"><div><acme-navbar creation-date=main.creationDate></acme-navbar></div><!--watch later--><nav class=\\\"watch-later-popup navbar navbar-static-top\\\" ng-if=vm.appLink><div class=col-xs-12><div class=\\\"close-popup pull-right\\\" ng-click=vm.appLinkOff()><span class=\\\"glyphicon glyphicon-remove\\\"></span></div><div class=text-center style=\\\"margin-top: 200px\\\"><img src=assets/images/Google-Play-button.png style=\\\"width: 60%\\\"><br><br><br><img src=assets/images/App-Store-Button.png style=\\\"width: 60%\\\"></div></div></nav><!--player--><div class=row><div class=col-xs-12 style=\\\"margin-top: 51px\\\"><div class=thumbnail style=\\\"border: none !important\\\"><div style=\\\"background: #000\\\"><video width=100% controls id=video></video></div><div class=caption style=\\\"background: #111; padding: 15px !important\\\"><h5><span class=\\\"pull-left category\\\" style=\\\"background: {{vm.catColor}}\\\">{{vm.PlayingData.category}}</span>{{vm.PlayingData.title}}</h5><p><span class=\\\"label label-default\\\" ng-repeat=\\\"row1 in vm.PlayingData.tags\\\">{{row1}}</span></p><p class=duration>{{vm.secondsToTime(vm.PlayingData.duration)}}</p><p class=watch-later ng-click=vm.appLinkOn()><span class=\\\"glyphicon glyphicon-plus\\\"></span> Watch Later</p></div></div></div></div><!--videos cat--><div class=\\\"panel panel-default category\\\"><div class=\\\"panel-heading text-uppercase\\\" style=\\\"background: {{vm.catGroups.color}}\\\">{{vm.catGroups.category}} ( {{vm.catGroups.items.length}} )</div><div class=panel-body><div class=col-xs-6 style=\\\"padding: 0\\\" ng-repeat=\\\"row in vm.catGroups.items\\\"><div class=thumbnail><a ng-click=\\\"vm.playOther(row, vm.catGroups.color)\\\"><img ng-src={{row.thumbnail}}></a><div class=caption><h5>{{row.title}}</h5><span class=duration>{{vm.secondsToTime(row.duration)}}</span></div></div></div></div></div></div>\");\n$templateCache.put(\"app/components/navbar/navbar.html\",\"<nav class=\\\"navbar navbar-static-top navbar-inverse\\\"><div class=container-fluid><div class=navbar-header style=\\\"width: 100%\\\"><a class=navbar-brand href=/ ng-if=vm.home><span class=\\\"glyphicon glyphicon-menu-hamburger\\\"></span> </a><a class=navbar-brand href=/#/home ng-if=vm.videoPlayerCategory><span class=\\\"glyphicon glyphicon-chevron-left\\\"></span> </a><a class=navbar-brand href=/ ng-if=vm.videoPlayer><span class=\\\"glyphicon glyphicon-chevron-left\\\"></span></a></div><!--<div class=\\\"collapse navbar-collapse\\\" id=\\\"bs-example-navbar-collapse-6\\\">--><!--<ul class=\\\"nav navbar-nav\\\">--><!--<li class=\\\"active\\\"><a ng-href=\\\"#\\\">Home</a></li>--><!--<li><a ng-href=\\\"#\\\">About</a></li>--><!--<li><a ng-href=\\\"#\\\">Contact</a></li>--><!--</ul>--><!--</div>--></div></nav>\");}]);",null],"sourceRoot":"/source/"}